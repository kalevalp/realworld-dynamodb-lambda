Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
........
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (28.35 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
...........................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 176
WARNING:
  You have 176 resources in your service.
  CloudFormation has a hard limit of 200 resources in a service.
  For advice on avoiding this limit, check out this link: http://bit.ly/2IiYB38.
api keys:
  None
endpoints:
  POST - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  1524
**** Call ## 1 ## Duration:  192
**** Call ## 2 ## Duration:  462
    Create
**** Call ## 3 ## Duration:  1279
      ✓ should create article (1281ms)
**** Call ## 4 ## Duration:  158
      ✓ should create article with tags (159ms)
**** Call ## 5 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 6 ## Duration:  166 (ERR)
**** Call ## 7 ## Duration:  168 (ERR)
**** Call ## 8 ## Duration:  130 (ERR)
**** Call ## 9 ## Duration:  130 (ERR)
      ✓ should enforce required fields (595ms)
    Get
**** Call ## 10 ## Duration:  1211
      ✓ should get article by slug (1211ms)
**** Call ## 11 ## Duration:  169
      ✓ should get article with tags by slug (171ms)
**** Call ## 12 ## Duration:  102 (ERR)
      ✓ should disallow unknown slug (103ms)
    Update
**** Call ## 13 ## Duration:  1612
**** Call ## 14 ## Duration:  192
**** Call ## 15 ## Duration:  188
      ✓ should update article (1997ms)
**** Call ## 16 ## Duration:  111 (ERR)
      ✓ should disallow missing mutation (112ms)
**** Call ## 17 ## Duration:  109 (ERR)
      ✓ should disallow empty mutation (109ms)
**** Call ## 18 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated update (83ms)
**** Call ## 19 ## Duration:  150 (ERR)
      ✓ should disallow updating non-existent article (151ms)
**** Call ## 20 ## Duration:  130 (ERR)
      ✓ should disallow non-author from updating (131ms)
    Favorite
**** Call ## 21 ## Duration:  1270
**** Call ## 22 ## Duration:  198
      ✓ should favorite article (1468ms)
**** Call ## 23 ## Duration:  104 (ERR)
      ✓ should disallow favoriting by unauthenticated user (105ms)
**** Call ## 24 ## Duration:  146 (ERR)
      ✓ should disallow favoriting unknown article (146ms)
**** Call ## 25 ## Duration:  1206
      ✓ should unfavorite article (1207ms)
    Delete
**** Call ## 26 ## Duration:  1363
**** Call ## 27 ## Duration:  101 (ERR)
      ✓ should delete article (1465ms)
**** Call ## 28 ## Duration:  79 (ERR)
      ✓ should disallow deleting by unauthenticated user (79ms)
**** Call ## 29 ## Duration:  145 (ERR)
      ✓ should disallow deleting unknown article (145ms)
**** Call ## 30 ## Duration:  135 (ERR)
      ✓ should disallow deleting article by non-author (136ms)
    List
**** Call ## 31 ## Duration:  184
**** Call ## 32 ## Duration:  186
**** Call ## 33 ## Duration:  165
**** Call ## 34 ## Duration:  183
**** Call ## 35 ## Duration:  163
**** Call ## 36 ## Duration:  156
**** Call ## 37 ## Duration:  150
**** Call ## 38 ## Duration:  143
**** Call ## 39 ## Duration:  160
**** Call ## 40 ## Duration:  157
**** Call ## 41 ## Duration:  152
**** Call ## 42 ## Duration:  229
**** Call ## 43 ## Duration:  174
**** Call ## 44 ## Duration:  152
**** Call ## 45 ## Duration:  137
**** Call ## 46 ## Duration:  135
**** Call ## 47 ## Duration:  180
**** Call ## 48 ## Duration:  143
**** Call ## 49 ## Duration:  198
**** Call ## 50 ## Duration:  155
**** Call ## 51 ## Duration:  1491
      ✓ should list articles (1491ms)
**** Call ## 52 ## Duration:  157
**** Call ## 53 ## Duration:  291
      ✓ should list articles with tag (449ms)
**** Call ## 54 ## Duration:  339
      ✓ should list articles by author (339ms)
**** Call ## 55 ## Duration:  139
      ✓ should list articles favorited by user (139ms)
**** Call ## 56 ## Duration:  207
**** Call ## 57 ## Duration:  194
      ✓ should list articles by limit/offset (403ms)
**** Call ## 58 ## Duration:  589
      ✓ should list articles when authenticated (589ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  117 (ERR)
**** Call ## 61 ## Duration:  127 (ERR)
**** Call ## 60 ## Duration:  932 (ERR)
**** Call ## 62 ## Duration:  1289
**** Call ## 63 ## Duration:  1416
**** Call ## 64 ## Duration:  373
**** Call ## 65 ## Duration:  231
**** Call ## 66 ## Duration:  545
      ✓ should get feed (3856ms)
**** Call ## 67 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated feed (84ms)
    Tags
**** Call ## 68 ## Duration:  1178
      ✓ should get tags (1178ms)

  Comment
**** Call ## 69 ## Duration:  287
**** Call ## 70 ## Duration:  195
**** Call ## 71 ## Duration:  199
    Create
**** Call ## 72 ## Duration:  1113
**** Call ## 73 ## Duration:  195
**** Call ## 74 ## Duration:  182
**** Call ## 75 ## Duration:  160
**** Call ## 76 ## Duration:  203
**** Call ## 77 ## Duration:  166
**** Call ## 78 ## Duration:  251
**** Call ## 79 ## Duration:  176
**** Call ## 80 ## Duration:  162
**** Call ## 81 ## Duration:  182
      ✓ should create comment (2793ms)
**** Call ## 82 ## Duration:  118 (ERR)
      ✓ should disallow unauthenticated user (118ms)
**** Call ## 83 ## Duration:  96 (ERR)
      ✓ should enforce comment body (96ms)
**** Call ## 84 ## Duration:  114 (ERR)
      ✓ should disallow non-existent article (114ms)
    Get
**** Call ## 85 ## Duration:  1251
      ✓ should get all comments for article (1251ms)
    Delete
**** Call ## 86 ## Duration:  1309
      ✓ should delete comment (1310ms)
**** Call ## 87 ## Duration:  123 (ERR)
      ✓ only comment author should be able to delete comment (123ms)
**** Call ## 88 ## Duration:  119 (ERR)
      ✓ should disallow unauthenticated user (119ms)
**** Call ## 89 ## Duration:  118 (ERR)
      ✓ should disallow deleting unknown comment (118ms)

  User
    Create
**** Call ## 90 ## Duration:  260
      ✓ should create user (260ms)
**** Call ## 91 ## Duration:  112 (ERR)
      ✓ should disallow same username (112ms)
**** Call ## 92 ## Duration:  125 (ERR)
      ✓ should disallow same email (125ms)
**** Call ## 93 ## Duration:  115 (ERR)
**** Call ## 94 ## Duration:  85 (ERR)
**** Call ## 95 ## Duration:  87 (ERR)
**** Call ## 96 ## Duration:  79 (ERR)
      ✓ should enforce required fields (368ms)
    Login
**** Call ## 97 ## Duration:  1284
      ✓ should login (1284ms)
**** Call ## 98 ## Duration:  104 (ERR)
      ✓ should disallow unknown email (105ms)
**** Call ## 99 ## Duration:  140 (ERR)
      ✓ should disallow wrong password (141ms)
**** Call ## 100 ## Duration:  114 (ERR)
**** Call ## 101 ## Duration:  120 (ERR)
**** Call ## 102 ## Duration:  87 (ERR)
      ✓ should enforce required fields (322ms)
    Get
**** Call ## 103 ## Duration:  1240
      ✓ should get current user (1241ms)
**** Call ## 104 ## Duration:  123 (ERR)
**** Call ## 105 ## Duration:  84 (ERR)
**** Call ## 106 ## Duration:  119 (ERR)
**** Call ## 107 ## Duration:  114 (ERR)
      ✓ should disallow bad tokens (442ms)
    Profile
**** Call ## 108 ## Duration:  1197
      ✓ should get profile (1197ms)
**** Call ## 109 ## Duration:  97 (ERR)
      ✓ should disallow unknown username (97ms)
**** Call ## 110 ## Duration:  179
**** Call ## 111 ## Duration:  181
**** Call ## 112 ## Duration:  177
**** Call ## 113 ## Duration:  147
**** Call ## 114 ## Duration:  131
**** Call ## 115 ## Duration:  209
**** Call ## 116 ## Duration:  230
**** Call ## 117 ## Duration:  1257
**** Call ## 118 ## Duration:  200
**** Call ## 119 ## Duration:  219
      ✓ should follow/unfollow user (2930ms)
**** Call ## 120 ## Duration:  117 (ERR)
      ✓ should disallow following with bad token (117ms)
    Update
**** Call ## 121 ## Duration:  1159
**** Call ## 122 ## Duration:  200
**** Call ## 123 ## Duration:  129
**** Call ## 124 ## Duration:  142
      ✓ should update user (1631ms)
**** Call ## 125 ## Duration:  112 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (212ms)
**** Call ## 127 ## Duration:  220
**** Call ## 128 ## Duration:  104 (ERR)
      ✓ should disallow reusing email (325ms)

  Util
    Ping
**** Call ## 129 ## Duration:  962
      ✓ should ping (962ms)


  58 passing (44s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  229
**** Call ## 1 ## Duration:  169
**** Call ## 2 ## Duration:  168
    Create
**** Call ## 3 ## Duration:  233
      ✓ should create article (235ms)
**** Call ## 4 ## Duration:  154
      ✓ should create article with tags (155ms)
**** Call ## 5 ## Duration:  115 (ERR)
      ✓ should disallow unauthenticated user (116ms)
**** Call ## 6 ## Duration:  186 (ERR)
**** Call ## 7 ## Duration:  175 (ERR)
**** Call ## 8 ## Duration:  137 (ERR)
**** Call ## 9 ## Duration:  166 (ERR)
      ✓ should enforce required fields (664ms)
    Get
**** Call ## 10 ## Duration:  228
      ✓ should get article by slug (229ms)
**** Call ## 11 ## Duration:  149
      ✓ should get article with tags by slug (149ms)
**** Call ## 12 ## Duration:  99 (ERR)
      ✓ should disallow unknown slug (99ms)
    Update
**** Call ## 13 ## Duration:  281
**** Call ## 14 ## Duration:  214
**** Call ## 15 ## Duration:  199
      ✓ should update article (696ms)
**** Call ## 16 ## Duration:  89 (ERR)
      ✓ should disallow missing mutation (89ms)
**** Call ## 17 ## Duration:  108 (ERR)
      ✓ should disallow empty mutation (108ms)
**** Call ## 18 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated update (81ms)
**** Call ## 19 ## Duration:  135 (ERR)
      ✓ should disallow updating non-existent article (136ms)
**** Call ## 20 ## Duration:  183 (ERR)
      ✓ should disallow non-author from updating (183ms)
    Favorite
**** Call ## 21 ## Duration:  345
**** Call ## 22 ## Duration:  237
      ✓ should favorite article (582ms)
**** Call ## 23 ## Duration:  104 (ERR)
      ✓ should disallow favoriting by unauthenticated user (104ms)
**** Call ## 24 ## Duration:  145 (ERR)
      ✓ should disallow favoriting unknown article (146ms)
**** Call ## 25 ## Duration:  304
      ✓ should unfavorite article (304ms)
    Delete
**** Call ## 26 ## Duration:  273
**** Call ## 27 ## Duration:  148 (ERR)
      ✓ should delete article (422ms)
**** Call ## 28 ## Duration:  113 (ERR)
      ✓ should disallow deleting by unauthenticated user (113ms)
**** Call ## 29 ## Duration:  152 (ERR)
      ✓ should disallow deleting unknown article (153ms)
**** Call ## 30 ## Duration:  165 (ERR)
      ✓ should disallow deleting article by non-author (165ms)
    List
**** Call ## 31 ## Duration:  233
**** Call ## 32 ## Duration:  208
**** Call ## 33 ## Duration:  179
**** Call ## 34 ## Duration:  156
**** Call ## 35 ## Duration:  149
**** Call ## 36 ## Duration:  151
**** Call ## 37 ## Duration:  206
**** Call ## 38 ## Duration:  175
**** Call ## 39 ## Duration:  163
**** Call ## 40 ## Duration:  173
**** Call ## 41 ## Duration:  139
**** Call ## 42 ## Duration:  166
**** Call ## 43 ## Duration:  172
**** Call ## 44 ## Duration:  199
**** Call ## 45 ## Duration:  132
**** Call ## 46 ## Duration:  128
**** Call ## 47 ## Duration:  131
**** Call ## 48 ## Duration:  130
**** Call ## 49 ## Duration:  152
**** Call ## 50 ## Duration:  139
**** Call ## 51 ## Duration:  683
      ✓ should list articles (683ms)
**** Call ## 52 ## Duration:  172
**** Call ## 53 ## Duration:  367
      ✓ should list articles with tag (539ms)
**** Call ## 54 ## Duration:  355
      ✓ should list articles by author (355ms)
**** Call ## 55 ## Duration:  102
      ✓ should list articles favorited by user (103ms)
**** Call ## 56 ## Duration:  189
**** Call ## 57 ## Duration:  209
      ✓ should list articles by limit/offset (398ms)
**** Call ## 58 ## Duration:  613
      ✓ should list articles when authenticated (614ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  88 (ERR)
**** Call ## 60 ## Duration:  89 (ERR)
**** Call ## 59 ## Duration:  132 (ERR)
**** Call ## 62 ## Duration:  210
**** Call ## 63 ## Duration:  274
**** Call ## 64 ## Duration:  377
**** Call ## 65 ## Duration:  229
**** Call ## 66 ## Duration:  560
      ✓ should get feed (1654ms)
**** Call ## 67 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated feed (86ms)
    Tags
**** Call ## 68 ## Duration:  198
      ✓ should get tags (198ms)

  Comment
**** Call ## 69 ## Duration:  215
**** Call ## 70 ## Duration:  158
**** Call ## 71 ## Duration:  178
    Create
**** Call ## 72 ## Duration:  246
**** Call ## 73 ## Duration:  174
**** Call ## 74 ## Duration:  201
**** Call ## 75 ## Duration:  178
**** Call ## 76 ## Duration:  211
**** Call ## 77 ## Duration:  222
**** Call ## 78 ## Duration:  203
**** Call ## 79 ## Duration:  181
**** Call ## 80 ## Duration:  219
**** Call ## 81 ## Duration:  201
      ✓ should create comment (2041ms)
**** Call ## 82 ## Duration:  89 (ERR)
      ✓ should disallow unauthenticated user (90ms)
**** Call ## 83 ## Duration:  100 (ERR)
      ✓ should enforce comment body (100ms)
**** Call ## 84 ## Duration:  129 (ERR)
      ✓ should disallow non-existent article (130ms)
    Get
**** Call ## 85 ## Duration:  276
      ✓ should get all comments for article (277ms)
    Delete
**** Call ## 86 ## Duration:  171
      ✓ should delete comment (171ms)
**** Call ## 87 ## Duration:  151 (ERR)
      ✓ only comment author should be able to delete comment (151ms)
**** Call ## 88 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 89 ## Duration:  113 (ERR)
      ✓ should disallow deleting unknown comment (113ms)

  User
    Create
**** Call ## 90 ## Duration:  284
      ✓ should create user (284ms)
**** Call ## 91 ## Duration:  105 (ERR)
      ✓ should disallow same username (105ms)
**** Call ## 92 ## Duration:  118 (ERR)
      ✓ should disallow same email (118ms)
**** Call ## 93 ## Duration:  121 (ERR)
**** Call ## 94 ## Duration:  113 (ERR)
**** Call ## 95 ## Duration:  80 (ERR)
**** Call ## 96 ## Duration:  979 (ERR)
      ✓ should enforce required fields (1296ms)
    Login
**** Call ## 97 ## Duration:  211
      ✓ should login (211ms)
**** Call ## 98 ## Duration:  143 (ERR)
      ✓ should disallow unknown email (143ms)
**** Call ## 99 ## Duration:  104 (ERR)
      ✓ should disallow wrong password (104ms)
**** Call ## 100 ## Duration:  86 (ERR)
**** Call ## 101 ## Duration:  114 (ERR)
**** Call ## 102 ## Duration:  91 (ERR)
      ✓ should enforce required fields (293ms)
    Get
**** Call ## 103 ## Duration:  152
      ✓ should get current user (152ms)
**** Call ## 104 ## Duration:  138 (ERR)
**** Call ## 105 ## Duration:  111 (ERR)
**** Call ## 106 ## Duration:  79 (ERR)
**** Call ## 107 ## Duration:  113 (ERR)
      ✓ should disallow bad tokens (443ms)
    Profile
**** Call ## 108 ## Duration:  194
      ✓ should get profile (196ms)
**** Call ## 109 ## Duration:  101 (ERR)
      ✓ should disallow unknown username (101ms)
**** Call ## 110 ## Duration:  180
**** Call ## 111 ## Duration:  287
**** Call ## 112 ## Duration:  231
**** Call ## 113 ## Duration:  156
**** Call ## 114 ## Duration:  242
**** Call ## 115 ## Duration:  212
**** Call ## 116 ## Duration:  190
**** Call ## 117 ## Duration:  295
**** Call ## 118 ## Duration:  179
**** Call ## 119 ## Duration:  180
      ✓ should follow/unfollow user (2156ms)
**** Call ## 120 ## Duration:  85 (ERR)
      ✓ should disallow following with bad token (85ms)
    Update
**** Call ## 121 ## Duration:  219
**** Call ## 122 ## Duration:  120
**** Call ## 123 ## Duration:  151
**** Call ## 124 ## Duration:  143
      ✓ should update user (634ms)
**** Call ## 125 ## Duration:  84 (ERR)
**** Call ## 126 ## Duration:  119 (ERR)
      ✓ should disallow missing token/email in update (203ms)
**** Call ## 127 ## Duration:  151
**** Call ## 128 ## Duration:  122 (ERR)
      ✓ should disallow reusing email (273ms)

  Util
    Ping
**** Call ## 129 ## Duration:  126
      ✓ should ping (126ms)


  58 passing (24s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  216
**** Call ## 1 ## Duration:  197
**** Call ## 2 ## Duration:  163
    Create
**** Call ## 3 ## Duration:  215
      ✓ should create article (217ms)
**** Call ## 4 ## Duration:  136
      ✓ should create article with tags (138ms)
**** Call ## 5 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 6 ## Duration:  138 (ERR)
**** Call ## 7 ## Duration:  112 (ERR)
**** Call ## 8 ## Duration:  150 (ERR)
**** Call ## 9 ## Duration:  182 (ERR)
      ✓ should enforce required fields (584ms)
    Get
**** Call ## 10 ## Duration:  177
      ✓ should get article by slug (177ms)
**** Call ## 11 ## Duration:  166
      ✓ should get article with tags by slug (167ms)
**** Call ## 12 ## Duration:  111 (ERR)
      ✓ should disallow unknown slug (111ms)
    Update
**** Call ## 13 ## Duration:  216
**** Call ## 14 ## Duration:  209
**** Call ## 15 ## Duration:  226
      ✓ should update article (652ms)
**** Call ## 16 ## Duration:  110 (ERR)
      ✓ should disallow missing mutation (111ms)
**** Call ## 17 ## Duration:  86 (ERR)
      ✓ should disallow empty mutation (87ms)
**** Call ## 18 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated update (83ms)
**** Call ## 19 ## Duration:  177 (ERR)
      ✓ should disallow updating non-existent article (178ms)
**** Call ## 20 ## Duration:  132 (ERR)
      ✓ should disallow non-author from updating (132ms)
    Favorite
**** Call ## 21 ## Duration:  229
**** Call ## 22 ## Duration:  186
      ✓ should favorite article (416ms)
**** Call ## 23 ## Duration:  80 (ERR)
      ✓ should disallow favoriting by unauthenticated user (81ms)
**** Call ## 24 ## Duration:  162 (ERR)
      ✓ should disallow favoriting unknown article (162ms)
**** Call ## 25 ## Duration:  204
      ✓ should unfavorite article (204ms)
    Delete
**** Call ## 26 ## Duration:  253
**** Call ## 27 ## Duration:  105 (ERR)
      ✓ should delete article (358ms)
**** Call ## 28 ## Duration:  120 (ERR)
      ✓ should disallow deleting by unauthenticated user (122ms)
**** Call ## 29 ## Duration:  134 (ERR)
      ✓ should disallow deleting unknown article (135ms)
**** Call ## 30 ## Duration:  169 (ERR)
      ✓ should disallow deleting article by non-author (170ms)
    List
**** Call ## 31 ## Duration:  143
**** Call ## 32 ## Duration:  188
**** Call ## 33 ## Duration:  203
**** Call ## 34 ## Duration:  175
**** Call ## 35 ## Duration:  168
**** Call ## 36 ## Duration:  195
**** Call ## 37 ## Duration:  158
**** Call ## 38 ## Duration:  150
**** Call ## 39 ## Duration:  167
**** Call ## 40 ## Duration:  134
**** Call ## 41 ## Duration:  168
**** Call ## 42 ## Duration:  226
**** Call ## 43 ## Duration:  171
**** Call ## 44 ## Duration:  184
**** Call ## 45 ## Duration:  171
**** Call ## 46 ## Duration:  136
**** Call ## 47 ## Duration:  167
**** Call ## 48 ## Duration:  165
**** Call ## 49 ## Duration:  152
**** Call ## 50 ## Duration:  177
**** Call ## 51 ## Duration:  772
      ✓ should list articles (772ms)
**** Call ## 52 ## Duration:  187
**** Call ## 53 ## Duration:  433
      ✓ should list articles with tag (620ms)
**** Call ## 54 ## Duration:  408
      ✓ should list articles by author (409ms)
**** Call ## 55 ## Duration:  96
      ✓ should list articles favorited by user (97ms)
**** Call ## 56 ## Duration:  175
**** Call ## 57 ## Duration:  154
      ✓ should list articles by limit/offset (329ms)
**** Call ## 58 ## Duration:  594
      ✓ should list articles when authenticated (594ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  96 (ERR)
**** Call ## 61 ## Duration:  97 (ERR)
**** Call ## 59 ## Duration:  111 (ERR)
**** Call ## 62 ## Duration:  181
**** Call ## 63 ## Duration:  242
**** Call ## 64 ## Duration:  396
**** Call ## 65 ## Duration:  175
**** Call ## 66 ## Duration:  596
      ✓ should get feed (1595ms)
**** Call ## 67 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated feed (81ms)
    Tags
**** Call ## 68 ## Duration:  136
      ✓ should get tags (136ms)

  Comment
**** Call ## 69 ## Duration:  188
**** Call ## 70 ## Duration:  261
**** Call ## 71 ## Duration:  142
    Create
**** Call ## 72 ## Duration:  174
**** Call ## 73 ## Duration:  171
**** Call ## 74 ## Duration:  173
**** Call ## 75 ## Duration:  212
**** Call ## 76 ## Duration:  236
**** Call ## 77 ## Duration:  132
**** Call ## 78 ## Duration:  154
**** Call ## 79 ## Duration:  195
**** Call ## 80 ## Duration:  157
**** Call ## 81 ## Duration:  155
      ✓ should create comment (1762ms)
**** Call ## 82 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 83 ## Duration:  127 (ERR)
      ✓ should enforce comment body (127ms)
**** Call ## 84 ## Duration:  121 (ERR)
      ✓ should disallow non-existent article (121ms)
    Get
**** Call ## 85 ## Duration:  253
      ✓ should get all comments for article (254ms)
    Delete
**** Call ## 86 ## Duration:  203
      ✓ should delete comment (203ms)
**** Call ## 87 ## Duration:  177 (ERR)
      ✓ only comment author should be able to delete comment (177ms)
**** Call ## 88 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated user (79ms)
**** Call ## 89 ## Duration:  123 (ERR)
      ✓ should disallow deleting unknown comment (123ms)

  User
    Create
**** Call ## 90 ## Duration:  233
      ✓ should create user (233ms)
**** Call ## 91 ## Duration:  101 (ERR)
      ✓ should disallow same username (101ms)
**** Call ## 92 ## Duration:  153 (ERR)
      ✓ should disallow same email (153ms)
**** Call ## 93 ## Duration:  82 (ERR)
**** Call ## 94 ## Duration:  82 (ERR)
**** Call ## 95 ## Duration:  80 (ERR)
**** Call ## 96 ## Duration:  110 (ERR)
      ✓ should enforce required fields (356ms)
    Login
**** Call ## 97 ## Duration:  178
      ✓ should login (179ms)
**** Call ## 98 ## Duration:  96 (ERR)
      ✓ should disallow unknown email (97ms)
**** Call ## 99 ## Duration:  142 (ERR)
      ✓ should disallow wrong password (144ms)
**** Call ## 100 ## Duration:  81 (ERR)
**** Call ## 101 ## Duration:  79 (ERR)
**** Call ## 102 ## Duration:  77 (ERR)
      ✓ should enforce required fields (238ms)
    Get
**** Call ## 103 ## Duration:  182
      ✓ should get current user (182ms)
**** Call ## 104 ## Duration:  108 (ERR)
**** Call ## 105 ## Duration:  87 (ERR)
**** Call ## 106 ## Duration:  83 (ERR)
**** Call ## 107 ## Duration:  90 (ERR)
      ✓ should disallow bad tokens (370ms)
    Profile
**** Call ## 108 ## Duration:  142
      ✓ should get profile (142ms)
**** Call ## 109 ## Duration:  98 (ERR)
      ✓ should disallow unknown username (99ms)
**** Call ## 110 ## Duration:  301
**** Call ## 111 ## Duration:  218
**** Call ## 112 ## Duration:  225
**** Call ## 113 ## Duration:  149
**** Call ## 114 ## Duration:  133
**** Call ## 115 ## Duration:  188
**** Call ## 116 ## Duration:  181
**** Call ## 117 ## Duration:  220
**** Call ## 118 ## Duration:  186
**** Call ## 119 ## Duration:  185
      ✓ should follow/unfollow user (1991ms)
**** Call ## 120 ## Duration:  79 (ERR)
      ✓ should disallow following with bad token (80ms)
    Update
**** Call ## 121 ## Duration:  219
**** Call ## 122 ## Duration:  118
**** Call ## 123 ## Duration:  121
**** Call ## 124 ## Duration:  141
      ✓ should update user (601ms)
**** Call ## 125 ## Duration:  78 (ERR)
**** Call ## 126 ## Duration:  130 (ERR)
      ✓ should disallow missing token/email in update (210ms)
**** Call ## 127 ## Duration:  273
**** Call ## 128 ## Duration:  79 (ERR)
      ✓ should disallow reusing email (353ms)

  Util
    Ping
**** Call ## 129 ## Duration:  28
      ✓ should ping


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  172
**** Call ## 1 ## Duration:  123
**** Call ## 2 ## Duration:  151
    Create
**** Call ## 3 ## Duration:  82
      ✓ should create article (84ms)
**** Call ## 4 ## Duration:  86
      ✓ should create article with tags (88ms)
**** Call ## 5 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  96 (ERR)
**** Call ## 7 ## Duration:  60 (ERR)
**** Call ## 8 ## Duration:  67 (ERR)
**** Call ## 9 ## Duration:  57 (ERR)
      ✓ should enforce required fields (280ms)
    Get
**** Call ## 10 ## Duration:  117
      ✓ should get article by slug (117ms)
**** Call ## 11 ## Duration:  96
      ✓ should get article with tags by slug (97ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  176
**** Call ## 14 ## Duration:  216
**** Call ## 15 ## Duration:  158
      ✓ should update article (554ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  49 (ERR)
      ✓ should disallow empty mutation (50ms)
**** Call ## 18 ## Duration:  887 (ERR)
      ✓ should disallow unauthenticated update (887ms)
**** Call ## 19 ## Duration:  184 (ERR)
      ✓ should disallow updating non-existent article (184ms)
**** Call ## 20 ## Duration:  77 (ERR)
      ✓ should disallow non-author from updating (78ms)
    Favorite
**** Call ## 21 ## Duration:  158
**** Call ## 22 ## Duration:  123
      ✓ should favorite article (283ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  84 (ERR)
      ✓ should disallow favoriting unknown article (84ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (137ms)
    Delete
**** Call ## 26 ## Duration:  143
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (190ms)
**** Call ## 28 ## Duration:  27 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  75 (ERR)
      ✓ should disallow deleting unknown article (76ms)
**** Call ## 30 ## Duration:  89 (ERR)
      ✓ should disallow deleting article by non-author (89ms)
    List
**** Call ## 31 ## Duration:  91
**** Call ## 32 ## Duration:  155
**** Call ## 33 ## Duration:  102
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  77
**** Call ## 36 ## Duration:  90
**** Call ## 37 ## Duration:  89
**** Call ## 38 ## Duration:  80
**** Call ## 39 ## Duration:  85
**** Call ## 40 ## Duration:  91
**** Call ## 41 ## Duration:  95
**** Call ## 42 ## Duration:  88
**** Call ## 43 ## Duration:  94
**** Call ## 44 ## Duration:  100
**** Call ## 45 ## Duration:  84
**** Call ## 46 ## Duration:  79
**** Call ## 47 ## Duration:  68
**** Call ## 48 ## Duration:  75
**** Call ## 49 ## Duration:  71
**** Call ## 50 ## Duration:  115
**** Call ## 51 ## Duration:  558
      ✓ should list articles (558ms)
**** Call ## 52 ## Duration:  128
**** Call ## 53 ## Duration:  420
      ✓ should list articles with tag (548ms)
**** Call ## 54 ## Duration:  206
      ✓ should list articles by author (207ms)
**** Call ## 55 ## Duration:  39
      ✓ should list articles favorited by user (39ms)
**** Call ## 56 ## Duration:  103
**** Call ## 57 ## Duration:  129
      ✓ should list articles by limit/offset (232ms)
**** Call ## 58 ## Duration:  502
      ✓ should list articles when authenticated (503ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  30 (ERR)
**** Call ## 59 ## Duration:  31 (ERR)
**** Call ## 61 ## Duration:  48 (ERR)
**** Call ## 62 ## Duration:  103
**** Call ## 63 ## Duration:  141
**** Call ## 64 ## Duration:  253
**** Call ## 65 ## Duration:  135
**** Call ## 66 ## Duration:  496
      ✓ should get feed (1130ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  65
      ✓ should get tags (65ms)

  Comment
**** Call ## 69 ## Duration:  114
**** Call ## 70 ## Duration:  108
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  107
**** Call ## 73 ## Duration:  90
**** Call ## 74 ## Duration:  107
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  100
**** Call ## 77 ## Duration:  113
**** Call ## 78 ## Duration:  92
**** Call ## 79 ## Duration:  89
**** Call ## 80 ## Duration:  82
**** Call ## 81 ## Duration:  95
      ✓ should create comment (979ms)
**** Call ## 82 ## Duration:  55 (ERR)
      ✓ should disallow unauthenticated user (55ms)
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  49 (ERR)
      ✓ should disallow non-existent article (50ms)
    Get
**** Call ## 85 ## Duration:  237
      ✓ should get all comments for article (237ms)
    Delete
**** Call ## 86 ## Duration:  116
      ✓ should delete comment (116ms)
**** Call ## 87 ## Duration:  56 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  77 (ERR)
      ✓ should disallow deleting unknown comment (77ms)

  User
    Create
**** Call ## 90 ## Duration:  136
      ✓ should create user (136ms)
**** Call ## 91 ## Duration:  70 (ERR)
      ✓ should disallow same username (70ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  31 (ERR)
**** Call ## 94 ## Duration:  48 (ERR)
**** Call ## 95 ## Duration:  905 (ERR)
**** Call ## 96 ## Duration:  31 (ERR)
      ✓ should enforce required fields (1015ms)
    Login
**** Call ## 97 ## Duration:  78
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  65 (ERR)
      ✓ should disallow unknown email (65ms)
**** Call ## 99 ## Duration:  70 (ERR)
      ✓ should disallow wrong password (70ms)
**** Call ## 100 ## Duration:  36 (ERR)
**** Call ## 101 ## Duration:  37 (ERR)
**** Call ## 102 ## Duration:  48 (ERR)
      ✓ should enforce required fields (121ms)
    Get
**** Call ## 103 ## Duration:  71
      ✓ should get current user (72ms)
**** Call ## 104 ## Duration:  49 (ERR)
**** Call ## 105 ## Duration:  26 (ERR)
**** Call ## 106 ## Duration:  40 (ERR)
**** Call ## 107 ## Duration:  50 (ERR)
      ✓ should disallow bad tokens (168ms)
    Profile
**** Call ## 108 ## Duration:  672
      ✓ should get profile (673ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  246
**** Call ## 111 ## Duration:  105
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  97
**** Call ## 114 ## Duration:  73
**** Call ## 115 ## Duration:  138
**** Call ## 116 ## Duration:  87
**** Call ## 117 ## Duration:  130
**** Call ## 118 ## Duration:  129
**** Call ## 119 ## Duration:  117
      ✓ should follow/unfollow user (1232ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  91
**** Call ## 123 ## Duration:  72
**** Call ## 124 ## Duration:  57
      ✓ should update user (311ms)
**** Call ## 125 ## Duration:  27 (ERR)
**** Call ## 126 ## Duration:  66 (ERR)
      ✓ should disallow missing token/email in update (95ms)
**** Call ## 127 ## Duration:  116
**** Call ## 128 ## Duration:  56 (ERR)
      ✓ should disallow reusing email (174ms)

  Util
    Ping
**** Call ## 129 ## Duration:  68
      ✓ should ping (69ms)


  58 passing (16s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  229
**** Call ## 1 ## Duration:  143
**** Call ## 2 ## Duration:  116
    Create
**** Call ## 3 ## Duration:  80
      ✓ should create article (82ms)
**** Call ## 4 ## Duration:  74
      ✓ should create article with tags (75ms)
**** Call ## 5 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  234 (ERR)
**** Call ## 7 ## Duration:  82 (ERR)
**** Call ## 8 ## Duration:  79 (ERR)
**** Call ## 9 ## Duration:  53 (ERR)
      ✓ should enforce required fields (451ms)
    Get
**** Call ## 10 ## Duration:  85
      ✓ should get article by slug (85ms)
**** Call ## 11 ## Duration:  72
      ✓ should get article with tags by slug (72ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  220
**** Call ## 14 ## Duration:  183
**** Call ## 15 ## Duration:  158
      ✓ should update article (564ms)
**** Call ## 16 ## Duration:  26 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  26 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  33 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  80 (ERR)
      ✓ should disallow updating non-existent article (80ms)
**** Call ## 20 ## Duration:  139 (ERR)
      ✓ should disallow non-author from updating (141ms)
    Favorite
**** Call ## 21 ## Duration:  122
**** Call ## 22 ## Duration:  97
      ✓ should favorite article (221ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  61 (ERR)
      ✓ should disallow favoriting unknown article (62ms)
**** Call ## 25 ## Duration:  127
      ✓ should unfavorite article (128ms)
    Delete
**** Call ## 26 ## Duration:  156
**** Call ## 27 ## Duration:  34 (ERR)
      ✓ should delete article (190ms)
**** Call ## 28 ## Duration:  26 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  80 (ERR)
      ✓ should disallow deleting unknown article (81ms)
**** Call ## 30 ## Duration:  109 (ERR)
      ✓ should disallow deleting article by non-author (110ms)
    List
**** Call ## 31 ## Duration:  82
**** Call ## 32 ## Duration:  96
**** Call ## 33 ## Duration:  99
**** Call ## 34 ## Duration:  129
**** Call ## 35 ## Duration:  93
**** Call ## 36 ## Duration:  94
**** Call ## 37 ## Duration:  97
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  77
**** Call ## 40 ## Duration:  99
**** Call ## 41 ## Duration:  102
**** Call ## 42 ## Duration:  101
**** Call ## 43 ## Duration:  76
**** Call ## 44 ## Duration:  71
**** Call ## 45 ## Duration:  95
**** Call ## 46 ## Duration:  89
**** Call ## 47 ## Duration:  75
**** Call ## 48 ## Duration:  68
**** Call ## 49 ## Duration:  93
**** Call ## 50 ## Duration:  92
**** Call ## 51 ## Duration:  481
      ✓ should list articles (482ms)
**** Call ## 52 ## Duration:  177
**** Call ## 53 ## Duration:  412
      ✓ should list articles with tag (589ms)
**** Call ## 54 ## Duration:  228
      ✓ should list articles by author (228ms)
**** Call ## 55 ## Duration:  67
      ✓ should list articles favorited by user (67ms)
**** Call ## 56 ## Duration:  83
**** Call ## 57 ## Duration:  74
      ✓ should list articles by limit/offset (158ms)
**** Call ## 58 ## Duration:  418
      ✓ should list articles when authenticated (418ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 61 ## Duration:  33 (ERR)
**** Call ## 59 ## Duration:  34 (ERR)
**** Call ## 62 ## Duration:  94
**** Call ## 63 ## Duration:  123
**** Call ## 64 ## Duration:  248
**** Call ## 65 ## Duration:  118
**** Call ## 66 ## Duration:  401
      ✓ should get feed (987ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  77
      ✓ should get tags (77ms)

  Comment
**** Call ## 69 ## Duration:  160
**** Call ## 70 ## Duration:  120
**** Call ## 71 ## Duration:  87
    Create
**** Call ## 72 ## Duration:  119
**** Call ## 73 ## Duration:  121
**** Call ## 74 ## Duration:  120
**** Call ## 75 ## Duration:  109
**** Call ## 76 ## Duration:  172
**** Call ## 77 ## Duration:  164
**** Call ## 78 ## Duration:  118
**** Call ## 79 ## Duration:  149
**** Call ## 80 ## Duration:  95
**** Call ## 81 ## Duration:  101
      ✓ should create comment (1269ms)
**** Call ## 82 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  121 (ERR)
      ✓ should enforce comment body (121ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  264
      ✓ should get all comments for article (265ms)
    Delete
**** Call ## 86 ## Duration:  149
      ✓ should delete comment (149ms)
**** Call ## 87 ## Duration:  94 (ERR)
      ✓ only comment author should be able to delete comment (95ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  143 (ERR)
      ✓ should disallow deleting unknown comment (143ms)

  User
    Create
**** Call ## 90 ## Duration:  154
      ✓ should create user (154ms)
**** Call ## 91 ## Duration:  57 (ERR)
      ✓ should disallow same username (57ms)
**** Call ## 92 ## Duration:  271 (ERR)
      ✓ should disallow same email (272ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  47 (ERR)
**** Call ## 95 ## Duration:  35 (ERR)
**** Call ## 96 ## Duration:  32 (ERR)
      ✓ should enforce required fields (138ms)
    Login
**** Call ## 97 ## Duration:  87
      ✓ should login (87ms)
**** Call ## 98 ## Duration:  49 (ERR)
      ✓ should disallow unknown email (49ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  57 (ERR)
**** Call ## 102 ## Duration:  27 (ERR)
      ✓ should enforce required fields (108ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  48 (ERR)
**** Call ## 106 ## Duration:  24 (ERR)
**** Call ## 107 ## Duration:  27 (ERR)
      ✓ should disallow bad tokens (124ms)
    Profile
**** Call ## 108 ## Duration:  73
      ✓ should get profile (73ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  134
**** Call ## 111 ## Duration:  100
**** Call ## 112 ## Duration:  109
**** Call ## 113 ## Duration:  80
**** Call ## 114 ## Duration:  68
**** Call ## 115 ## Duration:  199
**** Call ## 116 ## Duration:  138
**** Call ## 117 ## Duration:  136
**** Call ## 118 ## Duration:  134
**** Call ## 119 ## Duration:  110
      ✓ should follow/unfollow user (1214ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  85
**** Call ## 122 ## Duration:  71
**** Call ## 123 ## Duration:  55
**** Call ## 124 ## Duration:  58
      ✓ should update user (271ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  130 (ERR)
      ✓ should disallow missing token/email in update (154ms)
**** Call ## 127 ## Duration:  146
**** Call ## 128 ## Duration:  87 (ERR)
      ✓ should disallow reusing email (233ms)

  Util
    Ping
**** Call ## 129 ## Duration:  27
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  310
**** Call ## 1 ## Duration:  169
**** Call ## 2 ## Duration:  137
    Create
**** Call ## 3 ## Duration:  168
      ✓ should create article (170ms)
**** Call ## 4 ## Duration:  141
      ✓ should create article with tags (144ms)
**** Call ## 5 ## Duration:  62 (ERR)
      ✓ should disallow unauthenticated user (62ms)
**** Call ## 6 ## Duration:  86 (ERR)
**** Call ## 7 ## Duration:  99 (ERR)
**** Call ## 8 ## Duration:  115 (ERR)
**** Call ## 9 ## Duration:  96 (ERR)
      ✓ should enforce required fields (397ms)
    Get
**** Call ## 10 ## Duration:  118
      ✓ should get article by slug (118ms)
**** Call ## 11 ## Duration:  106
      ✓ should get article with tags by slug (106ms)
**** Call ## 12 ## Duration:  75 (ERR)
      ✓ should disallow unknown slug (75ms)
    Update
**** Call ## 13 ## Duration:  174
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  151
      ✓ should update article (474ms)
**** Call ## 16 ## Duration:  61 (ERR)
      ✓ should disallow missing mutation (61ms)
**** Call ## 17 ## Duration:  60 (ERR)
      ✓ should disallow empty mutation (60ms)
**** Call ## 18 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated update (58ms)
**** Call ## 19 ## Duration:  103 (ERR)
      ✓ should disallow updating non-existent article (104ms)
**** Call ## 20 ## Duration:  116 (ERR)
      ✓ should disallow non-author from updating (116ms)
    Favorite
**** Call ## 21 ## Duration:  199
**** Call ## 22 ## Duration:  204
      ✓ should favorite article (403ms)
**** Call ## 23 ## Duration:  62 (ERR)
      ✓ should disallow favoriting by unauthenticated user (62ms)
**** Call ## 24 ## Duration:  103 (ERR)
      ✓ should disallow favoriting unknown article (103ms)
**** Call ## 25 ## Duration:  200
      ✓ should unfavorite article (200ms)
    Delete
**** Call ## 26 ## Duration:  156
**** Call ## 27 ## Duration:  69 (ERR)
      ✓ should delete article (225ms)
**** Call ## 28 ## Duration:  67 (ERR)
      ✓ should disallow deleting by unauthenticated user (68ms)
**** Call ## 29 ## Duration:  98 (ERR)
      ✓ should disallow deleting unknown article (100ms)
**** Call ## 30 ## Duration:  127 (ERR)
      ✓ should disallow deleting article by non-author (127ms)
    List
**** Call ## 31 ## Duration:  187
**** Call ## 32 ## Duration:  133
**** Call ## 33 ## Duration:  133
**** Call ## 34 ## Duration:  130
**** Call ## 35 ## Duration:  163
**** Call ## 36 ## Duration:  142
**** Call ## 37 ## Duration:  189
**** Call ## 38 ## Duration:  178
**** Call ## 39 ## Duration:  119
**** Call ## 40 ## Duration:  122
**** Call ## 41 ## Duration:  134
**** Call ## 42 ## Duration:  98
**** Call ## 43 ## Duration:  109
**** Call ## 44 ## Duration:  100
**** Call ## 45 ## Duration:  115
**** Call ## 46 ## Duration:  129
**** Call ## 47 ## Duration:  117
**** Call ## 48 ## Duration:  110
**** Call ## 49 ## Duration:  143
**** Call ## 50 ## Duration:  105
**** Call ## 51 ## Duration:  532
      ✓ should list articles (532ms)
**** Call ## 52 ## Duration:  186
**** Call ## 53 ## Duration:  463
      ✓ should list articles with tag (650ms)
**** Call ## 54 ## Duration:  257
      ✓ should list articles by author (257ms)
**** Call ## 55 ## Duration:  82
      ✓ should list articles favorited by user (82ms)
**** Call ## 56 ## Duration:  132
**** Call ## 57 ## Duration:  129
      ✓ should list articles by limit/offset (261ms)
**** Call ## 58 ## Duration:  557
      ✓ should list articles when authenticated (557ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  63 (ERR)
**** Call ## 61 ## Duration:  70 (ERR)
**** Call ## 59 ## Duration:  71 (ERR)
**** Call ## 62 ## Duration:  133
**** Call ## 63 ## Duration:  183
**** Call ## 64 ## Duration:  287
**** Call ## 65 ## Duration:  200
**** Call ## 66 ## Duration:  448
      ✓ should get feed (1257ms)
**** Call ## 67 ## Duration:  63 (ERR)
      ✓ should disallow unauthenticated feed (63ms)
    Tags
**** Call ## 68 ## Duration:  122
      ✓ should get tags (123ms)

  Comment
**** Call ## 69 ## Duration:  152
**** Call ## 70 ## Duration:  148
**** Call ## 71 ## Duration:  151
    Create
**** Call ## 72 ## Duration:  151
**** Call ## 73 ## Duration:  164
**** Call ## 74 ## Duration:  165
**** Call ## 75 ## Duration:  157
**** Call ## 76 ## Duration:  135
**** Call ## 77 ## Duration:  134
**** Call ## 78 ## Duration:  139
**** Call ## 79 ## Duration:  188
**** Call ## 80 ## Duration:  153
**** Call ## 81 ## Duration:  127
      ✓ should create comment (1513ms)
**** Call ## 82 ## Duration:  64 (ERR)
      ✓ should disallow unauthenticated user (66ms)
**** Call ## 83 ## Duration:  107 (ERR)
      ✓ should enforce comment body (108ms)
**** Call ## 84 ## Duration:  96 (ERR)
      ✓ should disallow non-existent article (96ms)
    Get
**** Call ## 85 ## Duration:  250
      ✓ should get all comments for article (250ms)
    Delete
**** Call ## 86 ## Duration:  151
      ✓ should delete comment (151ms)
**** Call ## 87 ## Duration:  102 (ERR)
      ✓ only comment author should be able to delete comment (103ms)
**** Call ## 88 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated user (60ms)
**** Call ## 89 ## Duration:  123 (ERR)
      ✓ should disallow deleting unknown comment (124ms)

  User
    Create
**** Call ## 90 ## Duration:  157
      ✓ should create user (158ms)
**** Call ## 91 ## Duration:  82 (ERR)
      ✓ should disallow same username (83ms)
**** Call ## 92 ## Duration:  92 (ERR)
      ✓ should disallow same email (93ms)
**** Call ## 93 ## Duration:  58 (ERR)
**** Call ## 94 ## Duration:  64 (ERR)
**** Call ## 95 ## Duration:  61 (ERR)
**** Call ## 96 ## Duration:  59 (ERR)
      ✓ should enforce required fields (244ms)
    Login
**** Call ## 97 ## Duration:  121
      ✓ should login (121ms)
**** Call ## 98 ## Duration:  78 (ERR)
      ✓ should disallow unknown email (78ms)
**** Call ## 99 ## Duration:  87 (ERR)
      ✓ should disallow wrong password (88ms)
**** Call ## 100 ## Duration:  60 (ERR)
**** Call ## 101 ## Duration:  55 (ERR)
**** Call ## 102 ## Duration:  59 (ERR)
      ✓ should enforce required fields (174ms)
    Get
**** Call ## 103 ## Duration:  148
      ✓ should get current user (150ms)
**** Call ## 104 ## Duration:  62 (ERR)
**** Call ## 105 ## Duration:  60 (ERR)
**** Call ## 106 ## Duration:  65 (ERR)
**** Call ## 107 ## Duration:  71 (ERR)
      ✓ should disallow bad tokens (259ms)
    Profile
**** Call ## 108 ## Duration:  106
      ✓ should get profile (106ms)
**** Call ## 109 ## Duration:  104 (ERR)
      ✓ should disallow unknown username (105ms)
**** Call ## 110 ## Duration:  161
**** Call ## 111 ## Duration:  514
**** Call ## 112 ## Duration:  155
**** Call ## 113 ## Duration:  113
**** Call ## 114 ## Duration:  128
**** Call ## 115 ## Duration:  163
**** Call ## 116 ## Duration:  150
**** Call ## 117 ## Duration:  178
**** Call ## 118 ## Duration:  169
**** Call ## 119 ## Duration:  176
      ✓ should follow/unfollow user (1909ms)
**** Call ## 120 ## Duration:  56 (ERR)
      ✓ should disallow following with bad token (57ms)
    Update
**** Call ## 121 ## Duration:  145
**** Call ## 122 ## Duration:  154
**** Call ## 123 ## Duration:  103
**** Call ## 124 ## Duration:  89
      ✓ should update user (492ms)
**** Call ## 125 ## Duration:  62 (ERR)
**** Call ## 126 ## Duration:  78 (ERR)
      ✓ should disallow missing token/email in update (140ms)
**** Call ## 127 ## Duration:  125
**** Call ## 128 ## Duration:  92 (ERR)
      ✓ should disallow reusing email (219ms)

  Util
    Ping
**** Call ## 129 ## Duration:  88
      ✓ should ping (89ms)


  58 passing (18s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  198
**** Call ## 1 ## Duration:  137
**** Call ## 2 ## Duration:  272
    Create
**** Call ## 3 ## Duration:  138
      ✓ should create article (140ms)
**** Call ## 4 ## Duration:  119
      ✓ should create article with tags (122ms)
**** Call ## 5 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated user (61ms)
**** Call ## 6 ## Duration:  92 (ERR)
**** Call ## 7 ## Duration:  84 (ERR)
**** Call ## 8 ## Duration:  105 (ERR)
**** Call ## 9 ## Duration:  96 (ERR)
      ✓ should enforce required fields (379ms)
    Get
**** Call ## 10 ## Duration:  132
      ✓ should get article by slug (132ms)
**** Call ## 11 ## Duration:  125
      ✓ should get article with tags by slug (125ms)
**** Call ## 12 ## Duration:  78 (ERR)
      ✓ should disallow unknown slug (79ms)
    Update
**** Call ## 13 ## Duration:  179
**** Call ## 14 ## Duration:  163
**** Call ## 15 ## Duration:  201
      ✓ should update article (546ms)
**** Call ## 16 ## Duration:  77 (ERR)
      ✓ should disallow missing mutation (77ms)
**** Call ## 17 ## Duration:  60 (ERR)
      ✓ should disallow empty mutation (60ms)
**** Call ## 18 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated update (61ms)
**** Call ## 19 ## Duration:  94 (ERR)
      ✓ should disallow updating non-existent article (94ms)
**** Call ## 20 ## Duration:  100 (ERR)
      ✓ should disallow non-author from updating (101ms)
    Favorite
**** Call ## 21 ## Duration:  165
**** Call ## 22 ## Duration:  146
      ✓ should favorite article (311ms)
**** Call ## 23 ## Duration:  62 (ERR)
      ✓ should disallow favoriting by unauthenticated user (62ms)
**** Call ## 24 ## Duration:  113 (ERR)
      ✓ should disallow favoriting unknown article (114ms)
**** Call ## 25 ## Duration:  156
      ✓ should unfavorite article (156ms)
    Delete
**** Call ## 26 ## Duration:  148
**** Call ## 27 ## Duration:  75 (ERR)
      ✓ should delete article (224ms)
**** Call ## 28 ## Duration:  61 (ERR)
      ✓ should disallow deleting by unauthenticated user (62ms)
**** Call ## 29 ## Duration:  115 (ERR)
      ✓ should disallow deleting unknown article (115ms)
**** Call ## 30 ## Duration:  130 (ERR)
      ✓ should disallow deleting article by non-author (131ms)
    List
**** Call ## 31 ## Duration:  134
**** Call ## 32 ## Duration:  108
**** Call ## 33 ## Duration:  124
**** Call ## 34 ## Duration:  145
**** Call ## 35 ## Duration:  142
**** Call ## 36 ## Duration:  250
**** Call ## 37 ## Duration:  117
**** Call ## 38 ## Duration:  135
**** Call ## 39 ## Duration:  121
**** Call ## 40 ## Duration:  120
**** Call ## 41 ## Duration:  116
**** Call ## 42 ## Duration:  117
**** Call ## 43 ## Duration:  122
**** Call ## 44 ## Duration:  126
**** Call ## 45 ## Duration:  107
**** Call ## 46 ## Duration:  133
**** Call ## 47 ## Duration:  134
**** Call ## 48 ## Duration:  124
**** Call ## 49 ## Duration:  108
**** Call ## 50 ## Duration:  178
**** Call ## 51 ## Duration:  680
      ✓ should list articles (680ms)
**** Call ## 52 ## Duration:  247
**** Call ## 53 ## Duration:  434
      ✓ should list articles with tag (681ms)
**** Call ## 54 ## Duration:  283
      ✓ should list articles by author (283ms)
**** Call ## 55 ## Duration:  84
      ✓ should list articles favorited by user (85ms)
**** Call ## 56 ## Duration:  122
**** Call ## 57 ## Duration:  189
      ✓ should list articles by limit/offset (313ms)
**** Call ## 58 ## Duration:  690
      ✓ should list articles when authenticated (690ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  59 (ERR)
**** Call ## 61 ## Duration:  62 (ERR)
**** Call ## 59 ## Duration:  62 (ERR)
**** Call ## 62 ## Duration:  122
**** Call ## 63 ## Duration:  164
**** Call ## 64 ## Duration:  340
**** Call ## 65 ## Duration:  202
**** Call ## 66 ## Duration:  453
      ✓ should get feed (1285ms)
**** Call ## 67 ## Duration:  57 (ERR)
      ✓ should disallow unauthenticated feed (57ms)
    Tags
**** Call ## 68 ## Duration:  148
      ✓ should get tags (149ms)

  Comment
**** Call ## 69 ## Duration:  152
**** Call ## 70 ## Duration:  133
**** Call ## 71 ## Duration:  241
    Create
**** Call ## 72 ## Duration:  180
**** Call ## 73 ## Duration:  127
**** Call ## 74 ## Duration:  128
**** Call ## 75 ## Duration:  141
**** Call ## 76 ## Duration:  140
**** Call ## 77 ## Duration:  230
**** Call ## 78 ## Duration:  130
**** Call ## 79 ## Duration:  141
**** Call ## 80 ## Duration:  132
**** Call ## 81 ## Duration:  126
      ✓ should create comment (1478ms)
**** Call ## 82 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated user (60ms)
**** Call ## 83 ## Duration:  82 (ERR)
      ✓ should enforce comment body (82ms)
**** Call ## 84 ## Duration:  81 (ERR)
      ✓ should disallow non-existent article (82ms)
    Get
**** Call ## 85 ## Duration:  217
      ✓ should get all comments for article (217ms)
    Delete
**** Call ## 86 ## Duration:  132
      ✓ should delete comment (132ms)
**** Call ## 87 ## Duration:  91 (ERR)
      ✓ only comment author should be able to delete comment (92ms)
**** Call ## 88 ## Duration:  97 (ERR)
      ✓ should disallow unauthenticated user (99ms)
**** Call ## 89 ## Duration:  94 (ERR)
      ✓ should disallow deleting unknown comment (95ms)

  User
    Create
**** Call ## 90 ## Duration:  170
      ✓ should create user (171ms)
**** Call ## 91 ## Duration:  78 (ERR)
      ✓ should disallow same username (78ms)
**** Call ## 92 ## Duration:  97 (ERR)
      ✓ should disallow same email (98ms)
**** Call ## 93 ## Duration:  61 (ERR)
**** Call ## 94 ## Duration:  56 (ERR)
**** Call ## 95 ## Duration:  61 (ERR)
**** Call ## 96 ## Duration:  57 (ERR)
      ✓ should enforce required fields (237ms)
    Login
**** Call ## 97 ## Duration:  108
      ✓ should login (109ms)
**** Call ## 98 ## Duration:  76 (ERR)
      ✓ should disallow unknown email (76ms)
**** Call ## 99 ## Duration:  88 (ERR)
      ✓ should disallow wrong password (89ms)
**** Call ## 100 ## Duration:  57 (ERR)
**** Call ## 101 ## Duration:  58 (ERR)
**** Call ## 102 ## Duration:  58 (ERR)
      ✓ should enforce required fields (174ms)
    Get
**** Call ## 103 ## Duration:  79
      ✓ should get current user (79ms)
**** Call ## 104 ## Duration:  56 (ERR)
**** Call ## 105 ## Duration:  197 (ERR)
**** Call ## 106 ## Duration:  57 (ERR)
**** Call ## 107 ## Duration:  65 (ERR)
      ✓ should disallow bad tokens (376ms)
    Profile
**** Call ## 108 ## Duration:  223
      ✓ should get profile (224ms)
**** Call ## 109 ## Duration:  82 (ERR)
      ✓ should disallow unknown username (82ms)
**** Call ## 110 ## Duration:  161
**** Call ## 111 ## Duration:  160
**** Call ## 112 ## Duration:  161
**** Call ## 113 ## Duration:  108
**** Call ## 114 ## Duration:  89
**** Call ## 115 ## Duration:  148
**** Call ## 116 ## Duration:  159
**** Call ## 117 ## Duration:  177
**** Call ## 118 ## Duration:  156
**** Call ## 119 ## Duration:  175
      ✓ should follow/unfollow user (1497ms)
**** Call ## 120 ## Duration:  59 (ERR)
      ✓ should disallow following with bad token (59ms)
    Update
**** Call ## 121 ## Duration:  195
**** Call ## 122 ## Duration:  106
**** Call ## 123 ## Duration:  123
**** Call ## 124 ## Duration:  101
      ✓ should update user (525ms)
**** Call ## 125 ## Duration:  64 (ERR)
**** Call ## 126 ## Duration:  82 (ERR)
      ✓ should disallow missing token/email in update (147ms)
**** Call ## 127 ## Duration:  193
**** Call ## 128 ## Duration:  98 (ERR)
      ✓ should disallow reusing email (291ms)

  Util
    Ping
**** Call ## 129 ## Duration:  59
      ✓ should ping (60ms)


  58 passing (18s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  235
**** Call ## 1 ## Duration:  143
**** Call ## 2 ## Duration:  126
    Create
**** Call ## 3 ## Duration:  122
      ✓ should create article (124ms)
**** Call ## 4 ## Duration:  123
      ✓ should create article with tags (126ms)
**** Call ## 5 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated user (62ms)
**** Call ## 6 ## Duration:  86 (ERR)
**** Call ## 7 ## Duration:  99 (ERR)
**** Call ## 8 ## Duration:  120 (ERR)
**** Call ## 9 ## Duration:  92 (ERR)
      ✓ should enforce required fields (399ms)
    Get
**** Call ## 10 ## Duration:  136
      ✓ should get article by slug (137ms)
**** Call ## 11 ## Duration:  116
      ✓ should get article with tags by slug (116ms)
**** Call ## 12 ## Duration:  73 (ERR)
      ✓ should disallow unknown slug (73ms)
    Update
**** Call ## 13 ## Duration:  277
**** Call ## 14 ## Duration:  184
**** Call ## 15 ## Duration:  178
      ✓ should update article (640ms)
**** Call ## 16 ## Duration:  59 (ERR)
      ✓ should disallow missing mutation (59ms)
**** Call ## 17 ## Duration:  57 (ERR)
      ✓ should disallow empty mutation (57ms)
**** Call ## 18 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated update (58ms)
**** Call ## 19 ## Duration:  107 (ERR)
      ✓ should disallow updating non-existent article (108ms)
**** Call ## 20 ## Duration:  100 (ERR)
      ✓ should disallow non-author from updating (100ms)
    Favorite
**** Call ## 21 ## Duration:  161
**** Call ## 22 ## Duration:  138
      ✓ should favorite article (300ms)
**** Call ## 23 ## Duration:  61 (ERR)
      ✓ should disallow favoriting by unauthenticated user (62ms)
**** Call ## 24 ## Duration:  112 (ERR)
      ✓ should disallow favoriting unknown article (112ms)
**** Call ## 25 ## Duration:  168
      ✓ should unfavorite article (168ms)
    Delete
**** Call ## 26 ## Duration:  137
**** Call ## 27 ## Duration:  84 (ERR)
      ✓ should delete article (221ms)
**** Call ## 28 ## Duration:  62 (ERR)
      ✓ should disallow deleting by unauthenticated user (62ms)
**** Call ## 29 ## Duration:  105 (ERR)
      ✓ should disallow deleting unknown article (106ms)
**** Call ## 30 ## Duration:  104 (ERR)
      ✓ should disallow deleting article by non-author (104ms)
    List
**** Call ## 31 ## Duration:  108
**** Call ## 32 ## Duration:  126
**** Call ## 33 ## Duration:  132
**** Call ## 34 ## Duration:  108
**** Call ## 35 ## Duration:  242
**** Call ## 36 ## Duration:  117
**** Call ## 37 ## Duration:  131
**** Call ## 38 ## Duration:  109
**** Call ## 39 ## Duration:  139
**** Call ## 40 ## Duration:  105
**** Call ## 41 ## Duration:  114
**** Call ## 42 ## Duration:  105
**** Call ## 43 ## Duration:  112
**** Call ## 44 ## Duration:  112
**** Call ## 45 ## Duration:  96
**** Call ## 46 ## Duration:  94
**** Call ## 47 ## Duration:  126
**** Call ## 48 ## Duration:  126
**** Call ## 49 ## Duration:  96
**** Call ## 50 ## Duration:  118
**** Call ## 51 ## Duration:  496
      ✓ should list articles (496ms)
**** Call ## 52 ## Duration:  238
**** Call ## 53 ## Duration:  478
      ✓ should list articles with tag (717ms)
**** Call ## 54 ## Duration:  221
      ✓ should list articles by author (221ms)
**** Call ## 55 ## Duration:  79
      ✓ should list articles favorited by user (79ms)
**** Call ## 56 ## Duration:  140
**** Call ## 57 ## Duration:  217
      ✓ should list articles by limit/offset (359ms)
**** Call ## 58 ## Duration:  512
      ✓ should list articles when authenticated (512ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  60 (ERR)
**** Call ## 60 ## Duration:  61 (ERR)
**** Call ## 61 ## Duration:  61 (ERR)
**** Call ## 62 ## Duration:  121
**** Call ## 63 ## Duration:  170
**** Call ## 64 ## Duration:  343
**** Call ## 65 ## Duration:  179
**** Call ## 66 ## Duration:  531
      ✓ should get feed (1349ms)
**** Call ## 67 ## Duration:  62 (ERR)
      ✓ should disallow unauthenticated feed (62ms)
    Tags
**** Call ## 68 ## Duration:  136
      ✓ should get tags (136ms)

  Comment
**** Call ## 69 ## Duration:  178
**** Call ## 70 ## Duration:  159
**** Call ## 71 ## Duration:  106
    Create
**** Call ## 72 ## Duration:  152
**** Call ## 73 ## Duration:  141
**** Call ## 74 ## Duration:  136
**** Call ## 75 ## Duration:  137
**** Call ## 76 ## Duration:  247
**** Call ## 77 ## Duration:  131
**** Call ## 78 ## Duration:  189
**** Call ## 79 ## Duration:  151
**** Call ## 80 ## Duration:  159
**** Call ## 81 ## Duration:  234
      ✓ should create comment (1684ms)
**** Call ## 82 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 83 ## Duration:  123 (ERR)
      ✓ should enforce comment body (123ms)
**** Call ## 84 ## Duration:  83 (ERR)
      ✓ should disallow non-existent article (84ms)
    Get
**** Call ## 85 ## Duration:  239
      ✓ should get all comments for article (240ms)
    Delete
**** Call ## 86 ## Duration:  152
      ✓ should delete comment (152ms)
**** Call ## 87 ## Duration:  165 (ERR)
      ✓ only comment author should be able to delete comment (165ms)
**** Call ## 88 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated user (63ms)
**** Call ## 89 ## Duration:  92 (ERR)
      ✓ should disallow deleting unknown comment (92ms)

  User
    Create
**** Call ## 90 ## Duration:  156
      ✓ should create user (158ms)
**** Call ## 91 ## Duration:  79 (ERR)
      ✓ should disallow same username (79ms)
**** Call ## 92 ## Duration:  99 (ERR)
      ✓ should disallow same email (100ms)
**** Call ## 93 ## Duration:  62 (ERR)
**** Call ## 94 ## Duration:  58 (ERR)
**** Call ## 95 ## Duration:  66 (ERR)
**** Call ## 96 ## Duration:  59 (ERR)
      ✓ should enforce required fields (246ms)
    Login
**** Call ## 97 ## Duration:  111
      ✓ should login (111ms)
**** Call ## 98 ## Duration:  87 (ERR)
      ✓ should disallow unknown email (87ms)
**** Call ## 99 ## Duration:  87 (ERR)
      ✓ should disallow wrong password (88ms)
**** Call ## 100 ## Duration:  59 (ERR)
**** Call ## 101 ## Duration:  59 (ERR)
**** Call ## 102 ## Duration:  60 (ERR)
      ✓ should enforce required fields (179ms)
    Get
**** Call ## 103 ## Duration:  92
      ✓ should get current user (93ms)
**** Call ## 104 ## Duration:  59 (ERR)
**** Call ## 105 ## Duration:  86 (ERR)
**** Call ## 106 ## Duration:  61 (ERR)
**** Call ## 107 ## Duration:  57 (ERR)
      ✓ should disallow bad tokens (263ms)
    Profile
**** Call ## 108 ## Duration:  108
      ✓ should get profile (108ms)
**** Call ## 109 ## Duration:  97 (ERR)
      ✓ should disallow unknown username (98ms)
**** Call ## 110 ## Duration:  140
**** Call ## 111 ## Duration:  157
**** Call ## 112 ## Duration:  167
**** Call ## 113 ## Duration:  136
**** Call ## 114 ## Duration:  110
**** Call ## 115 ## Duration:  145
**** Call ## 116 ## Duration:  141
**** Call ## 117 ## Duration:  146
**** Call ## 118 ## Duration:  153
**** Call ## 119 ## Duration:  139
      ✓ should follow/unfollow user (1434ms)
**** Call ## 120 ## Duration:  59 (ERR)
      ✓ should disallow following with bad token (59ms)
    Update
**** Call ## 121 ## Duration:  199
**** Call ## 122 ## Duration:  91
**** Call ## 123 ## Duration:  85
**** Call ## 124 ## Duration:  99
      ✓ should update user (475ms)
**** Call ## 125 ## Duration:  62 (ERR)
**** Call ## 126 ## Duration:  81 (ERR)
      ✓ should disallow missing token/email in update (143ms)
**** Call ## 127 ## Duration:  146
**** Call ## 128 ## Duration:  90 (ERR)
      ✓ should disallow reusing email (236ms)

  Util
    Ping
**** Call ## 129 ## Duration:  87
      ✓ should ping (87ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  258
**** Call ## 1 ## Duration:  145
**** Call ## 2 ## Duration:  205
    Create
**** Call ## 3 ## Duration:  125
      ✓ should create article (128ms)
**** Call ## 4 ## Duration:  131
      ✓ should create article with tags (132ms)
**** Call ## 5 ## Duration:  57 (ERR)
      ✓ should disallow unauthenticated user (58ms)
**** Call ## 6 ## Duration:  101 (ERR)
**** Call ## 7 ## Duration:  103 (ERR)
**** Call ## 8 ## Duration:  108 (ERR)
**** Call ## 9 ## Duration:  122 (ERR)
      ✓ should enforce required fields (436ms)
    Get
**** Call ## 10 ## Duration:  119
      ✓ should get article by slug (119ms)
**** Call ## 11 ## Duration:  113
      ✓ should get article with tags by slug (113ms)
**** Call ## 12 ## Duration:  84 (ERR)
      ✓ should disallow unknown slug (85ms)
    Update
**** Call ## 13 ## Duration:  178
**** Call ## 14 ## Duration:  181
**** Call ## 15 ## Duration:  210
      ✓ should update article (572ms)
**** Call ## 16 ## Duration:  60 (ERR)
      ✓ should disallow missing mutation (61ms)
**** Call ## 17 ## Duration:  61 (ERR)
      ✓ should disallow empty mutation (61ms)
**** Call ## 18 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated update (59ms)
**** Call ## 19 ## Duration:  95 (ERR)
      ✓ should disallow updating non-existent article (96ms)
**** Call ## 20 ## Duration:  99 (ERR)
      ✓ should disallow non-author from updating (100ms)
    Favorite
**** Call ## 21 ## Duration:  163
**** Call ## 22 ## Duration:  154
      ✓ should favorite article (319ms)
**** Call ## 23 ## Duration:  66 (ERR)
      ✓ should disallow favoriting by unauthenticated user (67ms)
**** Call ## 24 ## Duration:  101 (ERR)
      ✓ should disallow favoriting unknown article (101ms)
**** Call ## 25 ## Duration:  191
      ✓ should unfavorite article (191ms)
    Delete
**** Call ## 26 ## Duration:  154
**** Call ## 27 ## Duration:  93 (ERR)
      ✓ should delete article (247ms)
**** Call ## 28 ## Duration:  63 (ERR)
      ✓ should disallow deleting by unauthenticated user (63ms)
**** Call ## 29 ## Duration:  103 (ERR)
      ✓ should disallow deleting unknown article (104ms)
**** Call ## 30 ## Duration:  105 (ERR)
      ✓ should disallow deleting article by non-author (105ms)
    List
**** Call ## 31 ## Duration:  146
**** Call ## 32 ## Duration:  130
**** Call ## 33 ## Duration:  104
**** Call ## 34 ## Duration:  124
**** Call ## 35 ## Duration:  120
**** Call ## 36 ## Duration:  106
**** Call ## 37 ## Duration:  115
**** Call ## 38 ## Duration:  127
**** Call ## 39 ## Duration:  105
**** Call ## 40 ## Duration:  101
**** Call ## 41 ## Duration:  118
**** Call ## 42 ## Duration:  105
**** Call ## 43 ## Duration:  97
**** Call ## 44 ## Duration:  97
**** Call ## 45 ## Duration:  106
**** Call ## 46 ## Duration:  106
**** Call ## 47 ## Duration:  158
**** Call ## 48 ## Duration:  118
**** Call ## 49 ## Duration:  96
**** Call ## 50 ## Duration:  121
**** Call ## 51 ## Duration:  565
      ✓ should list articles (566ms)
**** Call ## 52 ## Duration:  322
**** Call ## 53 ## Duration:  508
      ✓ should list articles with tag (830ms)
**** Call ## 54 ## Duration:  227
      ✓ should list articles by author (227ms)
**** Call ## 55 ## Duration:  93
      ✓ should list articles favorited by user (94ms)
**** Call ## 56 ## Duration:  168
**** Call ## 57 ## Duration:  120
      ✓ should list articles by limit/offset (289ms)
**** Call ## 58 ## Duration:  642
      ✓ should list articles when authenticated (642ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  59 (ERR)
**** Call ## 60 ## Duration:  63 (ERR)
**** Call ## 61 ## Duration:  68 (ERR)
**** Call ## 62 ## Duration:  117
**** Call ## 63 ## Duration:  165
**** Call ## 64 ## Duration:  298
**** Call ## 65 ## Duration:  152
**** Call ## 66 ## Duration:  451
      ✓ should get feed (1185ms)
**** Call ## 67 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated feed (59ms)
    Tags
**** Call ## 68 ## Duration:  129
      ✓ should get tags (129ms)

  Comment
**** Call ## 69 ## Duration:  159
**** Call ## 70 ## Duration:  153
**** Call ## 71 ## Duration:  128
    Create
**** Call ## 72 ## Duration:  207
**** Call ## 73 ## Duration:  141
**** Call ## 74 ## Duration:  133
**** Call ## 75 ## Duration:  133
**** Call ## 76 ## Duration:  131
**** Call ## 77 ## Duration:  145
**** Call ## 78 ## Duration:  118
**** Call ## 79 ## Duration:  118
**** Call ## 80 ## Duration:  162
**** Call ## 81 ## Duration:  119
      ✓ should create comment (1411ms)
**** Call ## 82 ## Duration:  131 (ERR)
      ✓ should disallow unauthenticated user (131ms)
**** Call ## 83 ## Duration:  81 (ERR)
      ✓ should enforce comment body (81ms)
**** Call ## 84 ## Duration:  90 (ERR)
      ✓ should disallow non-existent article (90ms)
    Get
**** Call ## 85 ## Duration:  218
      ✓ should get all comments for article (218ms)
    Delete
**** Call ## 86 ## Duration:  138
      ✓ should delete comment (138ms)
**** Call ## 87 ## Duration:  99 (ERR)
      ✓ only comment author should be able to delete comment (101ms)
**** Call ## 88 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated user (58ms)
**** Call ## 89 ## Duration:  134 (ERR)
      ✓ should disallow deleting unknown comment (136ms)

  User
    Create
**** Call ## 90 ## Duration:  157
      ✓ should create user (158ms)
**** Call ## 91 ## Duration:  87 (ERR)
      ✓ should disallow same username (87ms)
**** Call ## 92 ## Duration:  96 (ERR)
      ✓ should disallow same email (96ms)
**** Call ## 93 ## Duration:  58 (ERR)
**** Call ## 94 ## Duration:  61 (ERR)
**** Call ## 95 ## Duration:  58 (ERR)
**** Call ## 96 ## Duration:  61 (ERR)
      ✓ should enforce required fields (242ms)
    Login
**** Call ## 97 ## Duration:  114
      ✓ should login (115ms)
**** Call ## 98 ## Duration:  93 (ERR)
      ✓ should disallow unknown email (93ms)
**** Call ## 99 ## Duration:  81 (ERR)
      ✓ should disallow wrong password (82ms)
**** Call ## 100 ## Duration:  57 (ERR)
**** Call ## 101 ## Duration:  60 (ERR)
**** Call ## 102 ## Duration:  66 (ERR)
      ✓ should enforce required fields (184ms)
    Get
**** Call ## 103 ## Duration:  88
      ✓ should get current user (90ms)
**** Call ## 104 ## Duration:  61 (ERR)
**** Call ## 105 ## Duration:  71 (ERR)
**** Call ## 106 ## Duration:  60 (ERR)
**** Call ## 107 ## Duration:  114 (ERR)
      ✓ should disallow bad tokens (308ms)
    Profile
**** Call ## 108 ## Duration:  111
      ✓ should get profile (111ms)
**** Call ## 109 ## Duration:  76 (ERR)
      ✓ should disallow unknown username (77ms)
**** Call ## 110 ## Duration:  140
**** Call ## 111 ## Duration:  165
**** Call ## 112 ## Duration:  153
**** Call ## 113 ## Duration:  126
**** Call ## 114 ## Duration:  97
**** Call ## 115 ## Duration:  121
**** Call ## 116 ## Duration:  182
**** Call ## 117 ## Duration:  153
**** Call ## 118 ## Duration:  160
**** Call ## 119 ## Duration:  161
      ✓ should follow/unfollow user (1461ms)
**** Call ## 120 ## Duration:  61 (ERR)
      ✓ should disallow following with bad token (61ms)
    Update
**** Call ## 121 ## Duration:  117
**** Call ## 122 ## Duration:  95
**** Call ## 123 ## Duration:  104
**** Call ## 124 ## Duration:  83
      ✓ should update user (400ms)
**** Call ## 125 ## Duration:  59 (ERR)
**** Call ## 126 ## Duration:  76 (ERR)
      ✓ should disallow missing token/email in update (135ms)
**** Call ## 127 ## Duration:  188
**** Call ## 128 ## Duration:  106 (ERR)
      ✓ should disallow reusing email (295ms)

  Util
    Ping
**** Call ## 129 ## Duration:  67
      ✓ should ping (67ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  202
**** Call ## 1 ## Duration:  252
**** Call ## 2 ## Duration:  143
    Create
**** Call ## 3 ## Duration:  119
      ✓ should create article (121ms)
**** Call ## 4 ## Duration:  135
      ✓ should create article with tags (137ms)
**** Call ## 5 ## Duration:  62 (ERR)
      ✓ should disallow unauthenticated user (63ms)
**** Call ## 6 ## Duration:  103 (ERR)
**** Call ## 7 ## Duration:  92 (ERR)
**** Call ## 8 ## Duration:  92 (ERR)
**** Call ## 9 ## Duration:  96 (ERR)
      ✓ should enforce required fields (386ms)
    Get
**** Call ## 10 ## Duration:  114
      ✓ should get article by slug (114ms)
**** Call ## 11 ## Duration:  121
      ✓ should get article with tags by slug (121ms)
**** Call ## 12 ## Duration:  72 (ERR)
      ✓ should disallow unknown slug (73ms)
    Update
**** Call ## 13 ## Duration:  402
**** Call ## 14 ## Duration:  182
**** Call ## 15 ## Duration:  266
      ✓ should update article (851ms)
**** Call ## 16 ## Duration:  69 (ERR)
      ✓ should disallow missing mutation (70ms)
**** Call ## 17 ## Duration:  58 (ERR)
      ✓ should disallow empty mutation (58ms)
**** Call ## 18 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated update (60ms)
**** Call ## 19 ## Duration:  100 (ERR)
      ✓ should disallow updating non-existent article (100ms)
**** Call ## 20 ## Duration:  103 (ERR)
      ✓ should disallow non-author from updating (104ms)
    Favorite
**** Call ## 21 ## Duration:  165
**** Call ## 22 ## Duration:  191
      ✓ should favorite article (357ms)
**** Call ## 23 ## Duration:  59 (ERR)
      ✓ should disallow favoriting by unauthenticated user (60ms)
**** Call ## 24 ## Duration:  119 (ERR)
      ✓ should disallow favoriting unknown article (121ms)
**** Call ## 25 ## Duration:  164
      ✓ should unfavorite article (165ms)
    Delete
**** Call ## 26 ## Duration:  134
**** Call ## 27 ## Duration:  150 (ERR)
      ✓ should delete article (284ms)
**** Call ## 28 ## Duration:  61 (ERR)
      ✓ should disallow deleting by unauthenticated user (61ms)
**** Call ## 29 ## Duration:  107 (ERR)
      ✓ should disallow deleting unknown article (107ms)
**** Call ## 30 ## Duration:  139 (ERR)
      ✓ should disallow deleting article by non-author (139ms)
    List
**** Call ## 31 ## Duration:  137
**** Call ## 32 ## Duration:  150
**** Call ## 33 ## Duration:  129
**** Call ## 34 ## Duration:  117
**** Call ## 35 ## Duration:  127
**** Call ## 36 ## Duration:  125
**** Call ## 37 ## Duration:  113
**** Call ## 38 ## Duration:  125
**** Call ## 39 ## Duration:  112
**** Call ## 40 ## Duration:  121
**** Call ## 41 ## Duration:  122
**** Call ## 42 ## Duration:  121
**** Call ## 43 ## Duration:  106
**** Call ## 44 ## Duration:  110
**** Call ## 45 ## Duration:  118
**** Call ## 46 ## Duration:  112
**** Call ## 47 ## Duration:  96
**** Call ## 48 ## Duration:  90
**** Call ## 49 ## Duration:  111
**** Call ## 50 ## Duration:  96
**** Call ## 51 ## Duration:  609
      ✓ should list articles (609ms)
**** Call ## 52 ## Duration:  293
**** Call ## 53 ## Duration:  470
      ✓ should list articles with tag (765ms)
**** Call ## 54 ## Duration:  249
      ✓ should list articles by author (250ms)
**** Call ## 55 ## Duration:  106
      ✓ should list articles favorited by user (106ms)
**** Call ## 56 ## Duration:  126
**** Call ## 57 ## Duration:  121
      ✓ should list articles by limit/offset (249ms)
**** Call ## 58 ## Duration:  1369
      ✓ should list articles when authenticated (1369ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  60 (ERR)
**** Call ## 61 ## Duration:  61 (ERR)
**** Call ## 60 ## Duration:  62 (ERR)
**** Call ## 62 ## Duration:  114
**** Call ## 63 ## Duration:  147
**** Call ## 64 ## Duration:  1292
**** Call ## 65 ## Duration:  165
**** Call ## 66 ## Duration:  464
      ✓ should get feed (2185ms)
**** Call ## 67 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated feed (59ms)
    Tags
**** Call ## 68 ## Duration:  223
      ✓ should get tags (224ms)

  Comment
**** Call ## 69 ## Duration:  144
**** Call ## 70 ## Duration:  130
**** Call ## 71 ## Duration:  146
    Create
**** Call ## 72 ## Duration:  145
**** Call ## 73 ## Duration:  206
**** Call ## 74 ## Duration:  138
**** Call ## 75 ## Duration:  338
**** Call ## 76 ## Duration:  136
**** Call ## 77 ## Duration:  120
**** Call ## 78 ## Duration:  113
**** Call ## 79 ## Duration:  120
**** Call ## 80 ## Duration:  110
**** Call ## 81 ## Duration:  116
      ✓ should create comment (1548ms)
**** Call ## 82 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 83 ## Duration:  99 (ERR)
      ✓ should enforce comment body (99ms)
**** Call ## 84 ## Duration:  87 (ERR)
      ✓ should disallow non-existent article (88ms)
    Get
**** Call ## 85 ## Duration:  242
      ✓ should get all comments for article (243ms)
    Delete
**** Call ## 86 ## Duration:  194
      ✓ should delete comment (194ms)
**** Call ## 87 ## Duration:  96 (ERR)
      ✓ only comment author should be able to delete comment (96ms)
**** Call ## 88 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated user (62ms)
**** Call ## 89 ## Duration:  93 (ERR)
      ✓ should disallow deleting unknown comment (93ms)

  User
    Create
**** Call ## 90 ## Duration:  147
      ✓ should create user (147ms)
**** Call ## 91 ## Duration:  80 (ERR)
      ✓ should disallow same username (81ms)
**** Call ## 92 ## Duration:  81 (ERR)
      ✓ should disallow same email (81ms)
**** Call ## 93 ## Duration:  67 (ERR)
**** Call ## 94 ## Duration:  60 (ERR)
**** Call ## 95 ## Duration:  89 (ERR)
**** Call ## 96 ## Duration:  57 (ERR)
      ✓ should enforce required fields (273ms)
    Login
**** Call ## 97 ## Duration:  106
      ✓ should login (106ms)
**** Call ## 98 ## Duration:  82 (ERR)
      ✓ should disallow unknown email (82ms)
**** Call ## 99 ## Duration:  76 (ERR)
      ✓ should disallow wrong password (76ms)
**** Call ## 100 ## Duration:  61 (ERR)
**** Call ## 101 ## Duration:  58 (ERR)
**** Call ## 102 ## Duration:  69 (ERR)
      ✓ should enforce required fields (189ms)
    Get
**** Call ## 103 ## Duration:  99
      ✓ should get current user (100ms)
**** Call ## 104 ## Duration:  60 (ERR)
**** Call ## 105 ## Duration:  73 (ERR)
**** Call ## 106 ## Duration:  61 (ERR)
**** Call ## 107 ## Duration:  65 (ERR)
      ✓ should disallow bad tokens (260ms)
    Profile
**** Call ## 108 ## Duration:  99
      ✓ should get profile (99ms)
**** Call ## 109 ## Duration:  78 (ERR)
      ✓ should disallow unknown username (79ms)
**** Call ## 110 ## Duration:  143
**** Call ## 111 ## Duration:  159
**** Call ## 112 ## Duration:  150
**** Call ## 113 ## Duration:  144
**** Call ## 114 ## Duration:  100
**** Call ## 115 ## Duration:  117
**** Call ## 116 ## Duration:  160
**** Call ## 117 ## Duration:  150
**** Call ## 118 ## Duration:  153
**** Call ## 119 ## Duration:  168
      ✓ should follow/unfollow user (1445ms)
**** Call ## 120 ## Duration:  57 (ERR)
      ✓ should disallow following with bad token (57ms)
    Update
**** Call ## 121 ## Duration:  131
**** Call ## 122 ## Duration:  114
**** Call ## 123 ## Duration:  93
**** Call ## 124 ## Duration:  96
      ✓ should update user (435ms)
**** Call ## 125 ## Duration:  61 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (161ms)
**** Call ## 127 ## Duration:  131
**** Call ## 128 ## Duration:  93 (ERR)
      ✓ should disallow reusing email (224ms)

  Util
    Ping
**** Call ## 129 ## Duration:  61
      ✓ should ping (61ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  190
**** Call ## 1 ## Duration:  155
**** Call ## 2 ## Duration:  165
    Create
**** Call ## 3 ## Duration:  130
      ✓ should create article (132ms)
**** Call ## 4 ## Duration:  149
      ✓ should create article with tags (151ms)
**** Call ## 5 ## Duration:  72 (ERR)
      ✓ should disallow unauthenticated user (73ms)
**** Call ## 6 ## Duration:  95 (ERR)
**** Call ## 7 ## Duration:  94 (ERR)
**** Call ## 8 ## Duration:  88 (ERR)
**** Call ## 9 ## Duration:  170 (ERR)
      ✓ should enforce required fields (448ms)
    Get
**** Call ## 10 ## Duration:  161
      ✓ should get article by slug (162ms)
**** Call ## 11 ## Duration:  112
      ✓ should get article with tags by slug (112ms)
**** Call ## 12 ## Duration:  112 (ERR)
      ✓ should disallow unknown slug (112ms)
    Update
**** Call ## 13 ## Duration:  189
**** Call ## 14 ## Duration:  179
**** Call ## 15 ## Duration:  199
      ✓ should update article (570ms)
**** Call ## 16 ## Duration:  59 (ERR)
      ✓ should disallow missing mutation (59ms)
**** Call ## 17 ## Duration:  61 (ERR)
      ✓ should disallow empty mutation (62ms)
**** Call ## 18 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated update (81ms)
**** Call ## 19 ## Duration:  105 (ERR)
      ✓ should disallow updating non-existent article (105ms)
**** Call ## 20 ## Duration:  113 (ERR)
      ✓ should disallow non-author from updating (113ms)
    Favorite
**** Call ## 21 ## Duration:  303
**** Call ## 22 ## Duration:  133
      ✓ should favorite article (437ms)
**** Call ## 23 ## Duration:  62 (ERR)
      ✓ should disallow favoriting by unauthenticated user (62ms)
**** Call ## 24 ## Duration:  105 (ERR)
      ✓ should disallow favoriting unknown article (106ms)
**** Call ## 25 ## Duration:  224
      ✓ should unfavorite article (224ms)
    Delete
**** Call ## 26 ## Duration:  135
**** Call ## 27 ## Duration:  74 (ERR)
      ✓ should delete article (209ms)
**** Call ## 28 ## Duration:  60 (ERR)
      ✓ should disallow deleting by unauthenticated user (60ms)
**** Call ## 29 ## Duration:  104 (ERR)
      ✓ should disallow deleting unknown article (104ms)
**** Call ## 30 ## Duration:  95 (ERR)
      ✓ should disallow deleting article by non-author (95ms)
    List
**** Call ## 31 ## Duration:  118
**** Call ## 32 ## Duration:  109
**** Call ## 33 ## Duration:  118
**** Call ## 34 ## Duration:  131
**** Call ## 35 ## Duration:  115
**** Call ## 36 ## Duration:  114
**** Call ## 37 ## Duration:  129
**** Call ## 38 ## Duration:  125
**** Call ## 39 ## Duration:  120
**** Call ## 40 ## Duration:  136
**** Call ## 41 ## Duration:  121
**** Call ## 42 ## Duration:  119
**** Call ## 43 ## Duration:  119
**** Call ## 44 ## Duration:  106
**** Call ## 45 ## Duration:  118
**** Call ## 46 ## Duration:  110
**** Call ## 47 ## Duration:  110
**** Call ## 48 ## Duration:  107
**** Call ## 49 ## Duration:  111
**** Call ## 50 ## Duration:  94
**** Call ## 51 ## Duration:  536
      ✓ should list articles (536ms)
**** Call ## 52 ## Duration:  286
**** Call ## 53 ## Duration:  406
      ✓ should list articles with tag (692ms)
**** Call ## 54 ## Duration:  322
      ✓ should list articles by author (322ms)
**** Call ## 55 ## Duration:  113
      ✓ should list articles favorited by user (114ms)
**** Call ## 56 ## Duration:  132
**** Call ## 57 ## Duration:  154
      ✓ should list articles by limit/offset (286ms)
**** Call ## 58 ## Duration:  474
      ✓ should list articles when authenticated (474ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  61 (ERR)
**** Call ## 59 ## Duration:  62 (ERR)
**** Call ## 60 ## Duration:  88 (ERR)
**** Call ## 62 ## Duration:  125
**** Call ## 63 ## Duration:  174
**** Call ## 64 ## Duration:  417
**** Call ## 65 ## Duration:  155
**** Call ## 66 ## Duration:  415
      ✓ should get feed (1288ms)
**** Call ## 67 ## Duration:  56 (ERR)
      ✓ should disallow unauthenticated feed (56ms)
    Tags
**** Call ## 68 ## Duration:  139
      ✓ should get tags (139ms)

  Comment
**** Call ## 69 ## Duration:  215
**** Call ## 70 ## Duration:  141
**** Call ## 71 ## Duration:  142
    Create
**** Call ## 72 ## Duration:  151
**** Call ## 73 ## Duration:  140
**** Call ## 74 ## Duration:  131
**** Call ## 75 ## Duration:  157
**** Call ## 76 ## Duration:  147
**** Call ## 77 ## Duration:  118
**** Call ## 78 ## Duration:  139
**** Call ## 79 ## Duration:  123
**** Call ## 80 ## Duration:  122
**** Call ## 81 ## Duration:  157
      ✓ should create comment (1385ms)
**** Call ## 82 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated user (61ms)
**** Call ## 83 ## Duration:  68 (ERR)
      ✓ should enforce comment body (69ms)
**** Call ## 84 ## Duration:  91 (ERR)
      ✓ should disallow non-existent article (91ms)
    Get
**** Call ## 85 ## Duration:  239
      ✓ should get all comments for article (239ms)
    Delete
**** Call ## 86 ## Duration:  283
      ✓ should delete comment (283ms)
**** Call ## 87 ## Duration:  102 (ERR)
      ✓ only comment author should be able to delete comment (102ms)
**** Call ## 88 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated user (61ms)
**** Call ## 89 ## Duration:  94 (ERR)
      ✓ should disallow deleting unknown comment (94ms)

  User
    Create
**** Call ## 90 ## Duration:  148
      ✓ should create user (148ms)
**** Call ## 91 ## Duration:  81 (ERR)
      ✓ should disallow same username (81ms)
**** Call ## 92 ## Duration:  91 (ERR)
      ✓ should disallow same email (92ms)
**** Call ## 93 ## Duration:  62 (ERR)
**** Call ## 94 ## Duration:  70 (ERR)
**** Call ## 95 ## Duration:  59 (ERR)
**** Call ## 96 ## Duration:  62 (ERR)
      ✓ should enforce required fields (253ms)
    Login
**** Call ## 97 ## Duration:  136
      ✓ should login (137ms)
**** Call ## 98 ## Duration:  79 (ERR)
      ✓ should disallow unknown email (80ms)
**** Call ## 99 ## Duration:  80 (ERR)
      ✓ should disallow wrong password (80ms)
**** Call ## 100 ## Duration:  58 (ERR)
**** Call ## 101 ## Duration:  59 (ERR)
**** Call ## 102 ## Duration:  79 (ERR)
      ✓ should enforce required fields (196ms)
    Get
**** Call ## 103 ## Duration:  134
      ✓ should get current user (134ms)
**** Call ## 104 ## Duration:  57 (ERR)
**** Call ## 105 ## Duration:  59 (ERR)
**** Call ## 106 ## Duration:  62 (ERR)
**** Call ## 107 ## Duration:  61 (ERR)
      ✓ should disallow bad tokens (239ms)
    Profile
**** Call ## 108 ## Duration:  101
      ✓ should get profile (101ms)
**** Call ## 109 ## Duration:  79 (ERR)
      ✓ should disallow unknown username (79ms)
**** Call ## 110 ## Duration:  180
**** Call ## 111 ## Duration:  166
**** Call ## 112 ## Duration:  147
**** Call ## 113 ## Duration:  129
**** Call ## 114 ## Duration:  96
**** Call ## 115 ## Duration:  131
**** Call ## 116 ## Duration:  153
**** Call ## 117 ## Duration:  184
**** Call ## 118 ## Duration:  165
**** Call ## 119 ## Duration:  162
      ✓ should follow/unfollow user (1514ms)
**** Call ## 120 ## Duration:  59 (ERR)
      ✓ should disallow following with bad token (60ms)
    Update
**** Call ## 121 ## Duration:  132
**** Call ## 122 ## Duration:  111
**** Call ## 123 ## Duration:  102
**** Call ## 124 ## Duration:  112
      ✓ should update user (457ms)
**** Call ## 125 ## Duration:  62 (ERR)
**** Call ## 126 ## Duration:  81 (ERR)
      ✓ should disallow missing token/email in update (144ms)
**** Call ## 127 ## Duration:  150
**** Call ## 128 ## Duration:  103 (ERR)
      ✓ should disallow reusing email (253ms)

  Util
    Ping
**** Call ## 129 ## Duration:  190
      ✓ should ping (191ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  229
**** Call ## 1 ## Duration:  325
**** Call ## 2 ## Duration:  147
    Create
**** Call ## 3 ## Duration:  117
      ✓ should create article (119ms)
**** Call ## 4 ## Duration:  135
      ✓ should create article with tags (136ms)
**** Call ## 5 ## Duration:  63 (ERR)
      ✓ should disallow unauthenticated user (63ms)
**** Call ## 6 ## Duration:  91 (ERR)
**** Call ## 7 ## Duration:  92 (ERR)
**** Call ## 8 ## Duration:  87 (ERR)
**** Call ## 9 ## Duration:  87 (ERR)
      ✓ should enforce required fields (360ms)
    Get
**** Call ## 10 ## Duration:  117
      ✓ should get article by slug (118ms)
**** Call ## 11 ## Duration:  167
      ✓ should get article with tags by slug (167ms)
**** Call ## 12 ## Duration:  75 (ERR)
      ✓ should disallow unknown slug (75ms)
    Update
**** Call ## 13 ## Duration:  162
**** Call ## 14 ## Duration:  221
**** Call ## 15 ## Duration:  206
      ✓ should update article (591ms)
**** Call ## 16 ## Duration:  60 (ERR)
      ✓ should disallow missing mutation (61ms)
**** Call ## 17 ## Duration:  59 (ERR)
      ✓ should disallow empty mutation (59ms)
**** Call ## 18 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated update (58ms)
**** Call ## 19 ## Duration:  120 (ERR)
      ✓ should disallow updating non-existent article (120ms)
**** Call ## 20 ## Duration:  146 (ERR)
      ✓ should disallow non-author from updating (148ms)
    Favorite
**** Call ## 21 ## Duration:  316
**** Call ## 22 ## Duration:  144
      ✓ should favorite article (462ms)
**** Call ## 23 ## Duration:  119 (ERR)
      ✓ should disallow favoriting by unauthenticated user (119ms)
**** Call ## 24 ## Duration:  101 (ERR)
      ✓ should disallow favoriting unknown article (101ms)
**** Call ## 25 ## Duration:  147
      ✓ should unfavorite article (147ms)
    Delete
**** Call ## 26 ## Duration:  175
**** Call ## 27 ## Duration:  92 (ERR)
      ✓ should delete article (267ms)
**** Call ## 28 ## Duration:  57 (ERR)
      ✓ should disallow deleting by unauthenticated user (57ms)
**** Call ## 29 ## Duration:  135 (ERR)
      ✓ should disallow deleting unknown article (136ms)
**** Call ## 30 ## Duration:  102 (ERR)
      ✓ should disallow deleting article by non-author (102ms)
    List
**** Call ## 31 ## Duration:  123
**** Call ## 32 ## Duration:  122
**** Call ## 33 ## Duration:  119
**** Call ## 34 ## Duration:  125
**** Call ## 35 ## Duration:  123
**** Call ## 36 ## Duration:  130
**** Call ## 37 ## Duration:  127
**** Call ## 38 ## Duration:  110
**** Call ## 39 ## Duration:  131
**** Call ## 40 ## Duration:  147
**** Call ## 41 ## Duration:  117
**** Call ## 42 ## Duration:  110
**** Call ## 43 ## Duration:  109
**** Call ## 44 ## Duration:  122
**** Call ## 45 ## Duration:  144
**** Call ## 46 ## Duration:  135
**** Call ## 47 ## Duration:  119
**** Call ## 48 ## Duration:  109
**** Call ## 49 ## Duration:  128
**** Call ## 50 ## Duration:  112
**** Call ## 51 ## Duration:  441
      ✓ should list articles (441ms)
**** Call ## 52 ## Duration:  338
**** Call ## 53 ## Duration:  437
      ✓ should list articles with tag (775ms)
**** Call ## 54 ## Duration:  295
      ✓ should list articles by author (295ms)
**** Call ## 55 ## Duration:  119
      ✓ should list articles favorited by user (119ms)
**** Call ## 56 ## Duration:  185
**** Call ## 57 ## Duration:  216
      ✓ should list articles by limit/offset (402ms)
**** Call ## 58 ## Duration:  447
      ✓ should list articles when authenticated (448ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  63 (ERR)
**** Call ## 59 ## Duration:  67 (ERR)
**** Call ## 61 ## Duration:  67 (ERR)
**** Call ## 62 ## Duration:  139
**** Call ## 63 ## Duration:  156
**** Call ## 64 ## Duration:  344
**** Call ## 65 ## Duration:  133
**** Call ## 66 ## Duration:  515
      ✓ should get feed (1291ms)
**** Call ## 67 ## Duration:  67 (ERR)
      ✓ should disallow unauthenticated feed (68ms)
    Tags
**** Call ## 68 ## Duration:  156
      ✓ should get tags (156ms)

  Comment
**** Call ## 69 ## Duration:  180
**** Call ## 70 ## Duration:  152
**** Call ## 71 ## Duration:  127
    Create
**** Call ## 72 ## Duration:  148
**** Call ## 73 ## Duration:  125
**** Call ## 74 ## Duration:  132
**** Call ## 75 ## Duration:  147
**** Call ## 76 ## Duration:  127
**** Call ## 77 ## Duration:  128
**** Call ## 78 ## Duration:  119
**** Call ## 79 ## Duration:  121
**** Call ## 80 ## Duration:  122
**** Call ## 81 ## Duration:  103
      ✓ should create comment (1274ms)
**** Call ## 82 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 83 ## Duration:  81 (ERR)
      ✓ should enforce comment body (82ms)
**** Call ## 84 ## Duration:  92 (ERR)
      ✓ should disallow non-existent article (92ms)
    Get
**** Call ## 85 ## Duration:  243
      ✓ should get all comments for article (243ms)
    Delete
**** Call ## 86 ## Duration:  137
      ✓ should delete comment (137ms)
**** Call ## 87 ## Duration:  118 (ERR)
      ✓ only comment author should be able to delete comment (119ms)
**** Call ## 88 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 89 ## Duration:  99 (ERR)
      ✓ should disallow deleting unknown comment (99ms)

  User
    Create
**** Call ## 90 ## Duration:  146
      ✓ should create user (146ms)
**** Call ## 91 ## Duration:  73 (ERR)
      ✓ should disallow same username (74ms)
**** Call ## 92 ## Duration:  89 (ERR)
      ✓ should disallow same email (90ms)
**** Call ## 93 ## Duration:  56 (ERR)
**** Call ## 94 ## Duration:  58 (ERR)
**** Call ## 95 ## Duration:  58 (ERR)
**** Call ## 96 ## Duration:  57 (ERR)
      ✓ should enforce required fields (231ms)
    Login
**** Call ## 97 ## Duration:  106
      ✓ should login (106ms)
**** Call ## 98 ## Duration:  79 (ERR)
      ✓ should disallow unknown email (79ms)
**** Call ## 99 ## Duration:  129 (ERR)
      ✓ should disallow wrong password (129ms)
**** Call ## 100 ## Duration:  67 (ERR)
**** Call ## 101 ## Duration:  80 (ERR)
**** Call ## 102 ## Duration:  60 (ERR)
      ✓ should enforce required fields (208ms)
    Get
**** Call ## 103 ## Duration:  102
      ✓ should get current user (102ms)
**** Call ## 104 ## Duration:  61 (ERR)
**** Call ## 105 ## Duration:  56 (ERR)
**** Call ## 106 ## Duration:  59 (ERR)
**** Call ## 107 ## Duration:  146 (ERR)
      ✓ should disallow bad tokens (323ms)
    Profile
**** Call ## 108 ## Duration:  111
      ✓ should get profile (111ms)
**** Call ## 109 ## Duration:  96 (ERR)
      ✓ should disallow unknown username (96ms)
**** Call ## 110 ## Duration:  142
**** Call ## 111 ## Duration:  176
**** Call ## 112 ## Duration:  148
**** Call ## 113 ## Duration:  114
**** Call ## 114 ## Duration:  113
**** Call ## 115 ## Duration:  146
**** Call ## 116 ## Duration:  209
**** Call ## 117 ## Duration:  164
**** Call ## 118 ## Duration:  148
**** Call ## 119 ## Duration:  152
      ✓ should follow/unfollow user (1513ms)
**** Call ## 120 ## Duration:  57 (ERR)
      ✓ should disallow following with bad token (58ms)
    Update
**** Call ## 121 ## Duration:  141
**** Call ## 122 ## Duration:  82
**** Call ## 123 ## Duration:  95
**** Call ## 124 ## Duration:  118
      ✓ should update user (437ms)
**** Call ## 125 ## Duration:  86 (ERR)
**** Call ## 126 ## Duration:  77 (ERR)
      ✓ should disallow missing token/email in update (165ms)
**** Call ## 127 ## Duration:  134
**** Call ## 128 ## Duration:  101 (ERR)
      ✓ should disallow reusing email (237ms)

  Util
    Ping
**** Call ## 129 ## Duration:  61
      ✓ should ping (61ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  188
**** Call ## 1 ## Duration:  193
**** Call ## 2 ## Duration:  134
    Create
**** Call ## 3 ## Duration:  117
      ✓ should create article (121ms)
**** Call ## 4 ## Duration:  112
      ✓ should create article with tags (114ms)
**** Call ## 5 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated user (58ms)
**** Call ## 6 ## Duration:  101 (ERR)
**** Call ## 7 ## Duration:  87 (ERR)
**** Call ## 8 ## Duration:  97 (ERR)
**** Call ## 9 ## Duration:  91 (ERR)
      ✓ should enforce required fields (379ms)
    Get
**** Call ## 10 ## Duration:  138
      ✓ should get article by slug (138ms)
**** Call ## 11 ## Duration:  147
      ✓ should get article with tags by slug (148ms)
**** Call ## 12 ## Duration:  81 (ERR)
      ✓ should disallow unknown slug (81ms)
    Update
**** Call ## 13 ## Duration:  213
**** Call ## 14 ## Duration:  148
**** Call ## 15 ## Duration:  200
      ✓ should update article (562ms)
**** Call ## 16 ## Duration:  61 (ERR)
      ✓ should disallow missing mutation (62ms)
**** Call ## 17 ## Duration:  61 (ERR)
      ✓ should disallow empty mutation (61ms)
**** Call ## 18 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated update (62ms)
**** Call ## 19 ## Duration:  99 (ERR)
      ✓ should disallow updating non-existent article (99ms)
**** Call ## 20 ## Duration:  123 (ERR)
      ✓ should disallow non-author from updating (124ms)
    Favorite
**** Call ## 21 ## Duration:  185
**** Call ## 22 ## Duration:  155
      ✓ should favorite article (340ms)
**** Call ## 23 ## Duration:  59 (ERR)
      ✓ should disallow favoriting by unauthenticated user (59ms)
**** Call ## 24 ## Duration:  100 (ERR)
      ✓ should disallow favoriting unknown article (101ms)
**** Call ## 25 ## Duration:  166
      ✓ should unfavorite article (166ms)
    Delete
**** Call ## 26 ## Duration:  141
**** Call ## 27 ## Duration:  84 (ERR)
      ✓ should delete article (225ms)
**** Call ## 28 ## Duration:  62 (ERR)
      ✓ should disallow deleting by unauthenticated user (63ms)
**** Call ## 29 ## Duration:  106 (ERR)
      ✓ should disallow deleting unknown article (106ms)
**** Call ## 30 ## Duration:  110 (ERR)
      ✓ should disallow deleting article by non-author (111ms)
    List
**** Call ## 31 ## Duration:  143
**** Call ## 32 ## Duration:  107
**** Call ## 33 ## Duration:  142
**** Call ## 34 ## Duration:  115
**** Call ## 35 ## Duration:  184
**** Call ## 36 ## Duration:  114
**** Call ## 37 ## Duration:  121
**** Call ## 38 ## Duration:  117
**** Call ## 39 ## Duration:  108
**** Call ## 40 ## Duration:  120
**** Call ## 41 ## Duration:  145
**** Call ## 42 ## Duration:  105
**** Call ## 43 ## Duration:  115
**** Call ## 44 ## Duration:  135
**** Call ## 45 ## Duration:  101
**** Call ## 46 ## Duration:  100
**** Call ## 47 ## Duration:  104
**** Call ## 48 ## Duration:  112
**** Call ## 49 ## Duration:  101
**** Call ## 50 ## Duration:  103
**** Call ## 51 ## Duration:  479
      ✓ should list articles (481ms)
**** Call ## 52 ## Duration:  291
**** Call ## 53 ## Duration:  492
      ✓ should list articles with tag (783ms)
**** Call ## 54 ## Duration:  305
      ✓ should list articles by author (306ms)
**** Call ## 55 ## Duration:  112
      ✓ should list articles favorited by user (112ms)
**** Call ## 56 ## Duration:  195
**** Call ## 57 ## Duration:  132
      ✓ should list articles by limit/offset (329ms)
**** Call ## 58 ## Duration:  530
      ✓ should list articles when authenticated (530ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  62 (ERR)
**** Call ## 60 ## Duration:  68 (ERR)
**** Call ## 59 ## Duration:  69 (ERR)
**** Call ## 62 ## Duration:  114
**** Call ## 63 ## Duration:  187
**** Call ## 64 ## Duration:  318
**** Call ## 65 ## Duration:  162
**** Call ## 66 ## Duration:  416
      ✓ should get feed (1201ms)
**** Call ## 67 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated feed (61ms)
    Tags
**** Call ## 68 ## Duration:  197
      ✓ should get tags (197ms)

  Comment
**** Call ## 69 ## Duration:  142
**** Call ## 70 ## Duration:  152
**** Call ## 71 ## Duration:  141
    Create
**** Call ## 72 ## Duration:  138
**** Call ## 73 ## Duration:  157
**** Call ## 74 ## Duration:  127
**** Call ## 75 ## Duration:  137
**** Call ## 76 ## Duration:  157
**** Call ## 77 ## Duration:  120
**** Call ## 78 ## Duration:  137
**** Call ## 79 ## Duration:  115
**** Call ## 80 ## Duration:  118
**** Call ## 81 ## Duration:  126
      ✓ should create comment (1336ms)
**** Call ## 82 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated user (61ms)
**** Call ## 83 ## Duration:  79 (ERR)
      ✓ should enforce comment body (80ms)
**** Call ## 84 ## Duration:  80 (ERR)
      ✓ should disallow non-existent article (81ms)
    Get
**** Call ## 85 ## Duration:  236
      ✓ should get all comments for article (236ms)
    Delete
**** Call ## 86 ## Duration:  143
      ✓ should delete comment (143ms)
**** Call ## 87 ## Duration:  87 (ERR)
      ✓ only comment author should be able to delete comment (88ms)
**** Call ## 88 ## Duration:  64 (ERR)
      ✓ should disallow unauthenticated user (64ms)
**** Call ## 89 ## Duration:  123 (ERR)
      ✓ should disallow deleting unknown comment (125ms)

  User
    Create
**** Call ## 90 ## Duration:  165
      ✓ should create user (166ms)
**** Call ## 91 ## Duration:  100 (ERR)
      ✓ should disallow same username (100ms)
**** Call ## 92 ## Duration:  106 (ERR)
      ✓ should disallow same email (106ms)
**** Call ## 93 ## Duration:  61 (ERR)
**** Call ## 94 ## Duration:  65 (ERR)
**** Call ## 95 ## Duration:  57 (ERR)
**** Call ## 96 ## Duration:  58 (ERR)
      ✓ should enforce required fields (243ms)
    Login
**** Call ## 97 ## Duration:  112
      ✓ should login (113ms)
**** Call ## 98 ## Duration:  79 (ERR)
      ✓ should disallow unknown email (79ms)
**** Call ## 99 ## Duration:  79 (ERR)
      ✓ should disallow wrong password (79ms)
**** Call ## 100 ## Duration:  65 (ERR)
**** Call ## 101 ## Duration:  60 (ERR)
**** Call ## 102 ## Duration:  61 (ERR)
      ✓ should enforce required fields (189ms)
    Get
**** Call ## 103 ## Duration:  105
      ✓ should get current user (105ms)
**** Call ## 104 ## Duration:  59 (ERR)
**** Call ## 105 ## Duration:  58 (ERR)
**** Call ## 106 ## Duration:  60 (ERR)
**** Call ## 107 ## Duration:  59 (ERR)
      ✓ should disallow bad tokens (236ms)
    Profile
**** Call ## 108 ## Duration:  104
      ✓ should get profile (105ms)
**** Call ## 109 ## Duration:  75 (ERR)
      ✓ should disallow unknown username (77ms)
**** Call ## 110 ## Duration:  163
**** Call ## 111 ## Duration:  163
**** Call ## 112 ## Duration:  170
**** Call ## 113 ## Duration:  128
**** Call ## 114 ## Duration:  111
**** Call ## 115 ## Duration:  161
**** Call ## 116 ## Duration:  181
**** Call ## 117 ## Duration:  183
**** Call ## 118 ## Duration:  170
**** Call ## 119 ## Duration:  166
      ✓ should follow/unfollow user (1597ms)
**** Call ## 120 ## Duration:  58 (ERR)
      ✓ should disallow following with bad token (59ms)
    Update
**** Call ## 121 ## Duration:  138
**** Call ## 122 ## Duration:  132
**** Call ## 123 ## Duration:  114
**** Call ## 124 ## Duration:  85
      ✓ should update user (469ms)
**** Call ## 125 ## Duration:  56 (ERR)
**** Call ## 126 ## Duration:  71 (ERR)
      ✓ should disallow missing token/email in update (128ms)
**** Call ## 127 ## Duration:  138
**** Call ## 128 ## Duration:  93 (ERR)
      ✓ should disallow reusing email (232ms)

  Util
    Ping
**** Call ## 129 ## Duration:  60
      ✓ should ping (60ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  208
**** Call ## 1 ## Duration:  178
**** Call ## 2 ## Duration:  144
    Create
**** Call ## 3 ## Duration:  124
      ✓ should create article (126ms)
**** Call ## 4 ## Duration:  144
      ✓ should create article with tags (146ms)
**** Call ## 5 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated user (60ms)
**** Call ## 6 ## Duration:  85 (ERR)
**** Call ## 7 ## Duration:  91 (ERR)
**** Call ## 8 ## Duration:  96 (ERR)
**** Call ## 9 ## Duration:  199 (ERR)
      ✓ should enforce required fields (471ms)
    Get
**** Call ## 10 ## Duration:  138
      ✓ should get article by slug (138ms)
**** Call ## 11 ## Duration:  122
      ✓ should get article with tags by slug (122ms)
**** Call ## 12 ## Duration:  80 (ERR)
      ✓ should disallow unknown slug (80ms)
    Update
**** Call ## 13 ## Duration:  203
**** Call ## 14 ## Duration:  163
**** Call ## 15 ## Duration:  163
      ✓ should update article (530ms)
**** Call ## 16 ## Duration:  58 (ERR)
      ✓ should disallow missing mutation (59ms)
**** Call ## 17 ## Duration:  61 (ERR)
      ✓ should disallow empty mutation (61ms)
**** Call ## 18 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated update (60ms)
**** Call ## 19 ## Duration:  123 (ERR)
      ✓ should disallow updating non-existent article (124ms)
**** Call ## 20 ## Duration:  103 (ERR)
      ✓ should disallow non-author from updating (103ms)
    Favorite
**** Call ## 21 ## Duration:  156
**** Call ## 22 ## Duration:  152
      ✓ should favorite article (309ms)
**** Call ## 23 ## Duration:  62 (ERR)
      ✓ should disallow favoriting by unauthenticated user (62ms)
**** Call ## 24 ## Duration:  138 (ERR)
      ✓ should disallow favoriting unknown article (138ms)
**** Call ## 25 ## Duration:  160
      ✓ should unfavorite article (160ms)
    Delete
**** Call ## 26 ## Duration:  136
**** Call ## 27 ## Duration:  72 (ERR)
      ✓ should delete article (209ms)
**** Call ## 28 ## Duration:  58 (ERR)
      ✓ should disallow deleting by unauthenticated user (58ms)
**** Call ## 29 ## Duration:  173 (ERR)
      ✓ should disallow deleting unknown article (174ms)
**** Call ## 30 ## Duration:  96 (ERR)
      ✓ should disallow deleting article by non-author (97ms)
    List
**** Call ## 31 ## Duration:  122
**** Call ## 32 ## Duration:  122
**** Call ## 33 ## Duration:  182
**** Call ## 34 ## Duration:  118
**** Call ## 35 ## Duration:  99
**** Call ## 36 ## Duration:  112
**** Call ## 37 ## Duration:  126
**** Call ## 38 ## Duration:  137
**** Call ## 39 ## Duration:  130
**** Call ## 40 ## Duration:  123
**** Call ## 41 ## Duration:  128
**** Call ## 42 ## Duration:  110
**** Call ## 43 ## Duration:  113
**** Call ## 44 ## Duration:  108
**** Call ## 45 ## Duration:  104
**** Call ## 46 ## Duration:  92
**** Call ## 47 ## Duration:  103
**** Call ## 48 ## Duration:  131
**** Call ## 49 ## Duration:  98
**** Call ## 50 ## Duration:  120
**** Call ## 51 ## Duration:  444
      ✓ should list articles (444ms)
**** Call ## 52 ## Duration:  280
**** Call ## 53 ## Duration:  431
      ✓ should list articles with tag (713ms)
**** Call ## 54 ## Duration:  276
      ✓ should list articles by author (277ms)
**** Call ## 55 ## Duration:  113
      ✓ should list articles favorited by user (113ms)
**** Call ## 56 ## Duration:  116
**** Call ## 57 ## Duration:  250
      ✓ should list articles by limit/offset (366ms)
**** Call ## 58 ## Duration:  446
      ✓ should list articles when authenticated (447ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  61 (ERR)
**** Call ## 59 ## Duration:  62 (ERR)
**** Call ## 60 ## Duration:  63 (ERR)
**** Call ## 62 ## Duration:  121
**** Call ## 63 ## Duration:  205
**** Call ## 64 ## Duration:  448
**** Call ## 65 ## Duration:  188
**** Call ## 66 ## Duration:  465
      ✓ should get feed (1430ms)
**** Call ## 67 ## Duration:  62 (ERR)
      ✓ should disallow unauthenticated feed (62ms)
    Tags
**** Call ## 68 ## Duration:  145
      ✓ should get tags (145ms)

  Comment
**** Call ## 69 ## Duration:  144
**** Call ## 70 ## Duration:  159
**** Call ## 71 ## Duration:  109
    Create
**** Call ## 72 ## Duration:  129
**** Call ## 73 ## Duration:  144
**** Call ## 74 ## Duration:  120
**** Call ## 75 ## Duration:  125
**** Call ## 76 ## Duration:  135
**** Call ## 77 ## Duration:  136
**** Call ## 78 ## Duration:  137
**** Call ## 79 ## Duration:  121
**** Call ## 80 ## Duration:  143
**** Call ## 81 ## Duration:  127
      ✓ should create comment (1320ms)
**** Call ## 82 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated user (61ms)
**** Call ## 83 ## Duration:  70 (ERR)
      ✓ should enforce comment body (70ms)
**** Call ## 84 ## Duration:  91 (ERR)
      ✓ should disallow non-existent article (91ms)
    Get
**** Call ## 85 ## Duration:  237
      ✓ should get all comments for article (237ms)
    Delete
**** Call ## 86 ## Duration:  141
      ✓ should delete comment (141ms)
**** Call ## 87 ## Duration:  93 (ERR)
      ✓ only comment author should be able to delete comment (93ms)
**** Call ## 88 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated user (60ms)
**** Call ## 89 ## Duration:  93 (ERR)
      ✓ should disallow deleting unknown comment (93ms)

  User
    Create
**** Call ## 90 ## Duration:  189
      ✓ should create user (189ms)
**** Call ## 91 ## Duration:  74 (ERR)
      ✓ should disallow same username (75ms)
**** Call ## 92 ## Duration:  82 (ERR)
      ✓ should disallow same email (83ms)
**** Call ## 93 ## Duration:  61 (ERR)
**** Call ## 94 ## Duration:  58 (ERR)
**** Call ## 95 ## Duration:  58 (ERR)
**** Call ## 96 ## Duration:  80 (ERR)
      ✓ should enforce required fields (259ms)
    Login
**** Call ## 97 ## Duration:  121
      ✓ should login (122ms)
**** Call ## 98 ## Duration:  78 (ERR)
      ✓ should disallow unknown email (78ms)
**** Call ## 99 ## Duration:  77 (ERR)
      ✓ should disallow wrong password (77ms)
**** Call ## 100 ## Duration:  59 (ERR)
**** Call ## 101 ## Duration:  60 (ERR)
**** Call ## 102 ## Duration:  56 (ERR)
      ✓ should enforce required fields (176ms)
    Get
**** Call ## 103 ## Duration:  84
      ✓ should get current user (84ms)
**** Call ## 104 ## Duration:  64 (ERR)
**** Call ## 105 ## Duration:  59 (ERR)
**** Call ## 106 ## Duration:  60 (ERR)
**** Call ## 107 ## Duration:  58 (ERR)
      ✓ should disallow bad tokens (242ms)
    Profile
**** Call ## 108 ## Duration:  109
      ✓ should get profile (109ms)
**** Call ## 109 ## Duration:  97 (ERR)
      ✓ should disallow unknown username (97ms)
**** Call ## 110 ## Duration:  129
**** Call ## 111 ## Duration:  174
**** Call ## 112 ## Duration:  143
**** Call ## 113 ## Duration:  116
**** Call ## 114 ## Duration:  87
**** Call ## 115 ## Duration:  126
**** Call ## 116 ## Duration:  140
**** Call ## 117 ## Duration:  174
**** Call ## 118 ## Duration:  170
**** Call ## 119 ## Duration:  138
      ✓ should follow/unfollow user (1399ms)
**** Call ## 120 ## Duration:  59 (ERR)
      ✓ should disallow following with bad token (59ms)
    Update
**** Call ## 121 ## Duration:  120
**** Call ## 122 ## Duration:  88
**** Call ## 123 ## Duration:  92
**** Call ## 124 ## Duration:  92
      ✓ should update user (392ms)
**** Call ## 125 ## Duration:  60 (ERR)
**** Call ## 126 ## Duration:  80 (ERR)
      ✓ should disallow missing token/email in update (140ms)
**** Call ## 127 ## Duration:  140
**** Call ## 128 ## Duration:  89 (ERR)
      ✓ should disallow reusing email (230ms)

  Util
    Ping
**** Call ## 129 ## Duration:  61
      ✓ should ping (64ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  172
**** Call ## 1 ## Duration:  136
**** Call ## 2 ## Duration:  119
    Create
**** Call ## 3 ## Duration:  119
      ✓ should create article (122ms)
**** Call ## 4 ## Duration:  182
      ✓ should create article with tags (184ms)
**** Call ## 5 ## Duration:  62 (ERR)
      ✓ should disallow unauthenticated user (62ms)
**** Call ## 6 ## Duration:  109 (ERR)
**** Call ## 7 ## Duration:  99 (ERR)
**** Call ## 8 ## Duration:  91 (ERR)
**** Call ## 9 ## Duration:  86 (ERR)
      ✓ should enforce required fields (387ms)
    Get
**** Call ## 10 ## Duration:  121
      ✓ should get article by slug (121ms)
**** Call ## 11 ## Duration:  133
      ✓ should get article with tags by slug (134ms)
**** Call ## 12 ## Duration:  99 (ERR)
      ✓ should disallow unknown slug (99ms)
    Update
**** Call ## 13 ## Duration:  191
**** Call ## 14 ## Duration:  205
**** Call ## 15 ## Duration:  181
      ✓ should update article (579ms)
**** Call ## 16 ## Duration:  62 (ERR)
      ✓ should disallow missing mutation (62ms)
**** Call ## 17 ## Duration:  59 (ERR)
      ✓ should disallow empty mutation (61ms)
**** Call ## 18 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated update (59ms)
**** Call ## 19 ## Duration:  100 (ERR)
      ✓ should disallow updating non-existent article (100ms)
**** Call ## 20 ## Duration:  84 (ERR)
      ✓ should disallow non-author from updating (85ms)
    Favorite
**** Call ## 21 ## Duration:  185
**** Call ## 22 ## Duration:  137
      ✓ should favorite article (322ms)
**** Call ## 23 ## Duration:  58 (ERR)
      ✓ should disallow favoriting by unauthenticated user (58ms)
**** Call ## 24 ## Duration:  114 (ERR)
      ✓ should disallow favoriting unknown article (115ms)
**** Call ## 25 ## Duration:  223
      ✓ should unfavorite article (224ms)
    Delete
**** Call ## 26 ## Duration:  135
**** Call ## 27 ## Duration:  70 (ERR)
      ✓ should delete article (205ms)
**** Call ## 28 ## Duration:  58 (ERR)
      ✓ should disallow deleting by unauthenticated user (60ms)
**** Call ## 29 ## Duration:  102 (ERR)
      ✓ should disallow deleting unknown article (102ms)
**** Call ## 30 ## Duration:  99 (ERR)
      ✓ should disallow deleting article by non-author (100ms)
    List
**** Call ## 31 ## Duration:  117
**** Call ## 32 ## Duration:  131
**** Call ## 33 ## Duration:  121
**** Call ## 34 ## Duration:  167
**** Call ## 35 ## Duration:  147
**** Call ## 36 ## Duration:  106
**** Call ## 37 ## Duration:  116
**** Call ## 38 ## Duration:  121
**** Call ## 39 ## Duration:  149
**** Call ## 40 ## Duration:  149
**** Call ## 41 ## Duration:  125
**** Call ## 42 ## Duration:  118
**** Call ## 43 ## Duration:  126
**** Call ## 44 ## Duration:  130
**** Call ## 45 ## Duration:  145
**** Call ## 46 ## Duration:  123
**** Call ## 47 ## Duration:  119
**** Call ## 48 ## Duration:  107
**** Call ## 49 ## Duration:  109
**** Call ## 50 ## Duration:  108
**** Call ## 51 ## Duration:  498
      ✓ should list articles (499ms)
**** Call ## 52 ## Duration:  368
**** Call ## 53 ## Duration:  418
      ✓ should list articles with tag (786ms)
**** Call ## 54 ## Duration:  332
      ✓ should list articles by author (332ms)
**** Call ## 55 ## Duration:  113
      ✓ should list articles favorited by user (114ms)
**** Call ## 56 ## Duration:  131
**** Call ## 57 ## Duration:  203
      ✓ should list articles by limit/offset (334ms)
**** Call ## 58 ## Duration:  517
      ✓ should list articles when authenticated (517ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  58 (ERR)
**** Call ## 61 ## Duration:  60 (ERR)
**** Call ## 59 ## Duration:  69 (ERR)
**** Call ## 62 ## Duration:  115
**** Call ## 63 ## Duration:  167
**** Call ## 64 ## Duration:  338
**** Call ## 65 ## Duration:  155
**** Call ## 66 ## Duration:  379
      ✓ should get feed (1157ms)
**** Call ## 67 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated feed (60ms)
    Tags
**** Call ## 68 ## Duration:  237
      ✓ should get tags (239ms)

  Comment
**** Call ## 69 ## Duration:  143
**** Call ## 70 ## Duration:  128
**** Call ## 71 ## Duration:  129
    Create
**** Call ## 72 ## Duration:  133
**** Call ## 73 ## Duration:  123
**** Call ## 74 ## Duration:  128
**** Call ## 75 ## Duration:  131
**** Call ## 76 ## Duration:  143
**** Call ## 77 ## Duration:  112
**** Call ## 78 ## Duration:  128
**** Call ## 79 ## Duration:  140
**** Call ## 80 ## Duration:  181
**** Call ## 81 ## Duration:  108
      ✓ should create comment (1328ms)
**** Call ## 82 ## Duration:  93 (ERR)
      ✓ should disallow unauthenticated user (94ms)
**** Call ## 83 ## Duration:  72 (ERR)
      ✓ should enforce comment body (72ms)
**** Call ## 84 ## Duration:  88 (ERR)
      ✓ should disallow non-existent article (88ms)
    Get
**** Call ## 85 ## Duration:  237
      ✓ should get all comments for article (237ms)
    Delete
**** Call ## 86 ## Duration:  144
      ✓ should delete comment (145ms)
**** Call ## 87 ## Duration:  88 (ERR)
      ✓ only comment author should be able to delete comment (89ms)
**** Call ## 88 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated user (58ms)
**** Call ## 89 ## Duration:  87 (ERR)
      ✓ should disallow deleting unknown comment (87ms)

  User
    Create
**** Call ## 90 ## Duration:  157
      ✓ should create user (157ms)
**** Call ## 91 ## Duration:  82 (ERR)
      ✓ should disallow same username (84ms)
**** Call ## 92 ## Duration:  98 (ERR)
      ✓ should disallow same email (99ms)
**** Call ## 93 ## Duration:  63 (ERR)
**** Call ## 94 ## Duration:  56 (ERR)
**** Call ## 95 ## Duration:  59 (ERR)
**** Call ## 96 ## Duration:  61 (ERR)
      ✓ should enforce required fields (242ms)
    Login
**** Call ## 97 ## Duration:  106
      ✓ should login (106ms)
**** Call ## 98 ## Duration:  81 (ERR)
      ✓ should disallow unknown email (82ms)
**** Call ## 99 ## Duration:  81 (ERR)
      ✓ should disallow wrong password (81ms)
**** Call ## 100 ## Duration:  62 (ERR)
**** Call ## 101 ## Duration:  59 (ERR)
**** Call ## 102 ## Duration:  59 (ERR)
      ✓ should enforce required fields (181ms)
    Get
**** Call ## 103 ## Duration:  78
      ✓ should get current user (79ms)
**** Call ## 104 ## Duration:  66 (ERR)
**** Call ## 105 ## Duration:  59 (ERR)
**** Call ## 106 ## Duration:  57 (ERR)
**** Call ## 107 ## Duration:  61 (ERR)
      ✓ should disallow bad tokens (244ms)
    Profile
**** Call ## 108 ## Duration:  126
      ✓ should get profile (126ms)
**** Call ## 109 ## Duration:  82 (ERR)
      ✓ should disallow unknown username (83ms)
**** Call ## 110 ## Duration:  140
**** Call ## 111 ## Duration:  158
**** Call ## 112 ## Duration:  156
**** Call ## 113 ## Duration:  120
**** Call ## 114 ## Duration:  94
**** Call ## 115 ## Duration:  224
**** Call ## 116 ## Duration:  161
**** Call ## 117 ## Duration:  171
**** Call ## 118 ## Duration:  204
**** Call ## 119 ## Duration:  148
      ✓ should follow/unfollow user (1580ms)
**** Call ## 120 ## Duration:  59 (ERR)
      ✓ should disallow following with bad token (59ms)
    Update
**** Call ## 121 ## Duration:  120
**** Call ## 122 ## Duration:  94
**** Call ## 123 ## Duration:  84
**** Call ## 124 ## Duration:  86
      ✓ should update user (384ms)
**** Call ## 125 ## Duration:  73 (ERR)
**** Call ## 126 ## Duration:  79 (ERR)
      ✓ should disallow missing token/email in update (152ms)
**** Call ## 127 ## Duration:  164
**** Call ## 128 ## Duration:  116 (ERR)
      ✓ should disallow reusing email (282ms)

  Util
    Ping
**** Call ## 129 ## Duration:  59
      ✓ should ping (61ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  306
**** Call ## 1 ## Duration:  129
**** Call ## 2 ## Duration:  149
    Create
**** Call ## 3 ## Duration:  158
      ✓ should create article (161ms)
**** Call ## 4 ## Duration:  116
      ✓ should create article with tags (118ms)
**** Call ## 5 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated user (61ms)
**** Call ## 6 ## Duration:  91 (ERR)
**** Call ## 7 ## Duration:  88 (ERR)
**** Call ## 8 ## Duration:  90 (ERR)
**** Call ## 9 ## Duration:  95 (ERR)
      ✓ should enforce required fields (365ms)
    Get
**** Call ## 10 ## Duration:  116
      ✓ should get article by slug (117ms)
**** Call ## 11 ## Duration:  115
      ✓ should get article with tags by slug (115ms)
**** Call ## 12 ## Duration:  91 (ERR)
      ✓ should disallow unknown slug (92ms)
    Update
**** Call ## 13 ## Duration:  193
**** Call ## 14 ## Duration:  197
**** Call ## 15 ## Duration:  182
      ✓ should update article (573ms)
**** Call ## 16 ## Duration:  61 (ERR)
      ✓ should disallow missing mutation (61ms)
**** Call ## 17 ## Duration:  59 (ERR)
      ✓ should disallow empty mutation (60ms)
**** Call ## 18 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated update (82ms)
**** Call ## 19 ## Duration:  93 (ERR)
      ✓ should disallow updating non-existent article (93ms)
**** Call ## 20 ## Duration:  93 (ERR)
      ✓ should disallow non-author from updating (93ms)
    Favorite
**** Call ## 21 ## Duration:  187
**** Call ## 22 ## Duration:  141
      ✓ should favorite article (328ms)
**** Call ## 23 ## Duration:  59 (ERR)
      ✓ should disallow favoriting by unauthenticated user (59ms)
**** Call ## 24 ## Duration:  94 (ERR)
      ✓ should disallow favoriting unknown article (94ms)
**** Call ## 25 ## Duration:  158
      ✓ should unfavorite article (158ms)
    Delete
**** Call ## 26 ## Duration:  156
**** Call ## 27 ## Duration:  80 (ERR)
      ✓ should delete article (237ms)
**** Call ## 28 ## Duration:  81 (ERR)
      ✓ should disallow deleting by unauthenticated user (81ms)
**** Call ## 29 ## Duration:  89 (ERR)
      ✓ should disallow deleting unknown article (89ms)
**** Call ## 30 ## Duration:  104 (ERR)
      ✓ should disallow deleting article by non-author (104ms)
    List
**** Call ## 31 ## Duration:  145
**** Call ## 32 ## Duration:  115
**** Call ## 33 ## Duration:  116
**** Call ## 34 ## Duration:  112
**** Call ## 35 ## Duration:  122
**** Call ## 36 ## Duration:  116
**** Call ## 37 ## Duration:  103
**** Call ## 38 ## Duration:  102
**** Call ## 39 ## Duration:  115
**** Call ## 40 ## Duration:  110
**** Call ## 41 ## Duration:  112
**** Call ## 42 ## Duration:  100
**** Call ## 43 ## Duration:  111
**** Call ## 44 ## Duration:  110
**** Call ## 45 ## Duration:  102
**** Call ## 46 ## Duration:  103
**** Call ## 47 ## Duration:  111
**** Call ## 48 ## Duration:  106
**** Call ## 49 ## Duration:  108
**** Call ## 50 ## Duration:  109
**** Call ## 51 ## Duration:  417
      ✓ should list articles (417ms)
**** Call ## 52 ## Duration:  344
**** Call ## 53 ## Duration:  488
      ✓ should list articles with tag (833ms)
**** Call ## 54 ## Duration:  294
      ✓ should list articles by author (294ms)
**** Call ## 55 ## Duration:  120
      ✓ should list articles favorited by user (120ms)
**** Call ## 56 ## Duration:  124
**** Call ## 57 ## Duration:  132
      ✓ should list articles by limit/offset (256ms)
**** Call ## 58 ## Duration:  502
      ✓ should list articles when authenticated (502ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  58 (ERR)
**** Call ## 60 ## Duration:  61 (ERR)
**** Call ## 59 ## Duration:  70 (ERR)
**** Call ## 62 ## Duration:  122
**** Call ## 63 ## Duration:  160
**** Call ## 64 ## Duration:  321
**** Call ## 65 ## Duration:  197
**** Call ## 66 ## Duration:  472
      ✓ should get feed (1274ms)
**** Call ## 67 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated feed (59ms)
    Tags
**** Call ## 68 ## Duration:  173
      ✓ should get tags (173ms)

  Comment
**** Call ## 69 ## Duration:  149
**** Call ## 70 ## Duration:  151
**** Call ## 71 ## Duration:  111
    Create
**** Call ## 72 ## Duration:  127
**** Call ## 73 ## Duration:  139
**** Call ## 74 ## Duration:  139
**** Call ## 75 ## Duration:  161
**** Call ## 76 ## Duration:  195
**** Call ## 77 ## Duration:  131
**** Call ## 78 ## Duration:  135
**** Call ## 79 ## Duration:  117
**** Call ## 80 ## Duration:  121
**** Call ## 81 ## Duration:  123
      ✓ should create comment (1392ms)
**** Call ## 82 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 83 ## Duration:  68 (ERR)
      ✓ should enforce comment body (68ms)
**** Call ## 84 ## Duration:  93 (ERR)
      ✓ should disallow non-existent article (94ms)
    Get
**** Call ## 85 ## Duration:  260
      ✓ should get all comments for article (260ms)
    Delete
**** Call ## 86 ## Duration:  155
      ✓ should delete comment (155ms)
**** Call ## 87 ## Duration:  121 (ERR)
      ✓ only comment author should be able to delete comment (121ms)
**** Call ## 88 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated user (60ms)
**** Call ## 89 ## Duration:  96 (ERR)
      ✓ should disallow deleting unknown comment (97ms)

  User
    Create
**** Call ## 90 ## Duration:  145
      ✓ should create user (145ms)
**** Call ## 91 ## Duration:  96 (ERR)
      ✓ should disallow same username (97ms)
**** Call ## 92 ## Duration:  91 (ERR)
      ✓ should disallow same email (91ms)
**** Call ## 93 ## Duration:  71 (ERR)
**** Call ## 94 ## Duration:  92 (ERR)
**** Call ## 95 ## Duration:  73 (ERR)
**** Call ## 96 ## Duration:  57 (ERR)
      ✓ should enforce required fields (296ms)
    Login
**** Call ## 97 ## Duration:  106
      ✓ should login (106ms)
**** Call ## 98 ## Duration:  77 (ERR)
      ✓ should disallow unknown email (77ms)
**** Call ## 99 ## Duration:  78 (ERR)
      ✓ should disallow wrong password (78ms)
**** Call ## 100 ## Duration:  60 (ERR)
**** Call ## 101 ## Duration:  58 (ERR)
**** Call ## 102 ## Duration:  58 (ERR)
      ✓ should enforce required fields (177ms)
    Get
**** Call ## 103 ## Duration:  106
      ✓ should get current user (106ms)
**** Call ## 104 ## Duration:  91 (ERR)
**** Call ## 105 ## Duration:  56 (ERR)
**** Call ## 106 ## Duration:  59 (ERR)
**** Call ## 107 ## Duration:  60 (ERR)
      ✓ should disallow bad tokens (268ms)
    Profile
**** Call ## 108 ## Duration:  109
      ✓ should get profile (109ms)
**** Call ## 109 ## Duration:  139 (ERR)
      ✓ should disallow unknown username (139ms)
**** Call ## 110 ## Duration:  131
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  132
**** Call ## 113 ## Duration:  122
**** Call ## 114 ## Duration:  86
**** Call ## 115 ## Duration:  132
**** Call ## 116 ## Duration:  153
**** Call ## 117 ## Duration:  154
**** Call ## 118 ## Duration:  126
**** Call ## 119 ## Duration:  162
      ✓ should follow/unfollow user (1334ms)
**** Call ## 120 ## Duration:  58 (ERR)
      ✓ should disallow following with bad token (58ms)
    Update
**** Call ## 121 ## Duration:  154
**** Call ## 122 ## Duration:  97
**** Call ## 123 ## Duration:  96
**** Call ## 124 ## Duration:  92
      ✓ should update user (440ms)
**** Call ## 125 ## Duration:  55 (ERR)
**** Call ## 126 ## Duration:  77 (ERR)
      ✓ should disallow missing token/email in update (132ms)
**** Call ## 127 ## Duration:  127
**** Call ## 128 ## Duration:  93 (ERR)
      ✓ should disallow reusing email (220ms)

  Util
    Ping
**** Call ## 129 ## Duration:  63
      ✓ should ping (63ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  188
**** Call ## 1 ## Duration:  142
**** Call ## 2 ## Duration:  126
    Create
**** Call ## 3 ## Duration:  118
      ✓ should create article (121ms)
**** Call ## 4 ## Duration:  112
      ✓ should create article with tags (114ms)
**** Call ## 5 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 6 ## Duration:  88 (ERR)
**** Call ## 7 ## Duration:  100 (ERR)
**** Call ## 8 ## Duration:  94 (ERR)
**** Call ## 9 ## Duration:  96 (ERR)
      ✓ should enforce required fields (378ms)
    Get
**** Call ## 10 ## Duration:  134
      ✓ should get article by slug (134ms)
**** Call ## 11 ## Duration:  104
      ✓ should get article with tags by slug (104ms)
**** Call ## 12 ## Duration:  74 (ERR)
      ✓ should disallow unknown slug (74ms)
    Update
**** Call ## 13 ## Duration:  164
**** Call ## 14 ## Duration:  170
**** Call ## 15 ## Duration:  170
      ✓ should update article (506ms)
**** Call ## 16 ## Duration:  59 (ERR)
      ✓ should disallow missing mutation (59ms)
**** Call ## 17 ## Duration:  59 (ERR)
      ✓ should disallow empty mutation (59ms)
**** Call ## 18 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated update (60ms)
**** Call ## 19 ## Duration:  98 (ERR)
      ✓ should disallow updating non-existent article (98ms)
**** Call ## 20 ## Duration:  114 (ERR)
      ✓ should disallow non-author from updating (114ms)
    Favorite
**** Call ## 21 ## Duration:  160
**** Call ## 22 ## Duration:  134
      ✓ should favorite article (294ms)
**** Call ## 23 ## Duration:  61 (ERR)
      ✓ should disallow favoriting by unauthenticated user (61ms)
**** Call ## 24 ## Duration:  103 (ERR)
      ✓ should disallow favoriting unknown article (103ms)
**** Call ## 25 ## Duration:  153
      ✓ should unfavorite article (153ms)
    Delete
**** Call ## 26 ## Duration:  153
**** Call ## 27 ## Duration:  77 (ERR)
      ✓ should delete article (232ms)
**** Call ## 28 ## Duration:  62 (ERR)
      ✓ should disallow deleting by unauthenticated user (62ms)
**** Call ## 29 ## Duration:  152 (ERR)
      ✓ should disallow deleting unknown article (152ms)
**** Call ## 30 ## Duration:  126 (ERR)
      ✓ should disallow deleting article by non-author (126ms)
    List
**** Call ## 31 ## Duration:  127
**** Call ## 32 ## Duration:  121
**** Call ## 33 ## Duration:  119
**** Call ## 34 ## Duration:  116
**** Call ## 35 ## Duration:  120
**** Call ## 36 ## Duration:  114
**** Call ## 37 ## Duration:  116
**** Call ## 38 ## Duration:  111
**** Call ## 39 ## Duration:  114
**** Call ## 40 ## Duration:  100
**** Call ## 41 ## Duration:  110
**** Call ## 42 ## Duration:  101
**** Call ## 43 ## Duration:  158
**** Call ## 44 ## Duration:  118
**** Call ## 45 ## Duration:  141
**** Call ## 46 ## Duration:  120
**** Call ## 47 ## Duration:  93
**** Call ## 48 ## Duration:  176
**** Call ## 49 ## Duration:  115
**** Call ## 50 ## Duration:  219
**** Call ## 51 ## Duration:  440
      ✓ should list articles (440ms)
**** Call ## 52 ## Duration:  386
**** Call ## 53 ## Duration:  440
      ✓ should list articles with tag (826ms)
**** Call ## 54 ## Duration:  256
      ✓ should list articles by author (256ms)
**** Call ## 55 ## Duration:  129
      ✓ should list articles favorited by user (129ms)
**** Call ## 56 ## Duration:  130
**** Call ## 57 ## Duration:  145
      ✓ should list articles by limit/offset (275ms)
**** Call ## 58 ## Duration:  667
      ✓ should list articles when authenticated (668ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  62 (ERR)
**** Call ## 60 ## Duration:  64 (ERR)
**** Call ## 59 ## Duration:  67 (ERR)
**** Call ## 62 ## Duration:  146
**** Call ## 63 ## Duration:  155
**** Call ## 64 ## Duration:  368
**** Call ## 65 ## Duration:  151
**** Call ## 66 ## Duration:  445
      ✓ should get feed (1266ms)
**** Call ## 67 ## Duration:  57 (ERR)
      ✓ should disallow unauthenticated feed (59ms)
    Tags
**** Call ## 68 ## Duration:  215
      ✓ should get tags (215ms)

  Comment
**** Call ## 69 ## Duration:  142
**** Call ## 70 ## Duration:  142
**** Call ## 71 ## Duration:  131
    Create
**** Call ## 72 ## Duration:  141
**** Call ## 73 ## Duration:  148
**** Call ## 74 ## Duration:  124
**** Call ## 75 ## Duration:  128
**** Call ## 76 ## Duration:  149
**** Call ## 77 ## Duration:  152
**** Call ## 78 ## Duration:  146
**** Call ## 79 ## Duration:  152
**** Call ## 80 ## Duration:  124
**** Call ## 81 ## Duration:  148
      ✓ should create comment (1414ms)
**** Call ## 82 ## Duration:  64 (ERR)
      ✓ should disallow unauthenticated user (66ms)
**** Call ## 83 ## Duration:  70 (ERR)
      ✓ should enforce comment body (71ms)
**** Call ## 84 ## Duration:  97 (ERR)
      ✓ should disallow non-existent article (98ms)
    Get
**** Call ## 85 ## Duration:  234
      ✓ should get all comments for article (234ms)
    Delete
**** Call ## 86 ## Duration:  146
      ✓ should delete comment (146ms)
**** Call ## 87 ## Duration:  99 (ERR)
      ✓ only comment author should be able to delete comment (99ms)
**** Call ## 88 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated user (62ms)
**** Call ## 89 ## Duration:  101 (ERR)
      ✓ should disallow deleting unknown comment (101ms)

  User
    Create
**** Call ## 90 ## Duration:  164
      ✓ should create user (164ms)
**** Call ## 91 ## Duration:  83 (ERR)
      ✓ should disallow same username (85ms)
**** Call ## 92 ## Duration:  113 (ERR)
      ✓ should disallow same email (113ms)
**** Call ## 93 ## Duration:  60 (ERR)
**** Call ## 94 ## Duration:  83 (ERR)
**** Call ## 95 ## Duration:  90 (ERR)
**** Call ## 96 ## Duration:  60 (ERR)
      ✓ should enforce required fields (297ms)
    Login
**** Call ## 97 ## Duration:  105
      ✓ should login (105ms)
**** Call ## 98 ## Duration:  87 (ERR)
      ✓ should disallow unknown email (87ms)
**** Call ## 99 ## Duration:  83 (ERR)
      ✓ should disallow wrong password (83ms)
**** Call ## 100 ## Duration:  64 (ERR)
**** Call ## 101 ## Duration:  59 (ERR)
**** Call ## 102 ## Duration:  59 (ERR)
      ✓ should enforce required fields (184ms)
    Get
**** Call ## 103 ## Duration:  75
      ✓ should get current user (75ms)
**** Call ## 104 ## Duration:  58 (ERR)
**** Call ## 105 ## Duration:  136 (ERR)
**** Call ## 106 ## Duration:  59 (ERR)
**** Call ## 107 ## Duration:  63 (ERR)
      ✓ should disallow bad tokens (317ms)
    Profile
**** Call ## 108 ## Duration:  105
      ✓ should get profile (105ms)
**** Call ## 109 ## Duration:  82 (ERR)
      ✓ should disallow unknown username (82ms)
**** Call ## 110 ## Duration:  175
**** Call ## 111 ## Duration:  206
**** Call ## 112 ## Duration:  219
**** Call ## 113 ## Duration:  110
**** Call ## 114 ## Duration:  99
**** Call ## 115 ## Duration:  147
**** Call ## 116 ## Duration:  147
**** Call ## 117 ## Duration:  177
**** Call ## 118 ## Duration:  149
**** Call ## 119 ## Duration:  169
      ✓ should follow/unfollow user (1601ms)
**** Call ## 120 ## Duration:  57 (ERR)
      ✓ should disallow following with bad token (57ms)
    Update
**** Call ## 121 ## Duration:  119
**** Call ## 122 ## Duration:  99
**** Call ## 123 ## Duration:  97
**** Call ## 124 ## Duration:  99
      ✓ should update user (414ms)
**** Call ## 125 ## Duration:  63 (ERR)
**** Call ## 126 ## Duration:  68 (ERR)
      ✓ should disallow missing token/email in update (132ms)
**** Call ## 127 ## Duration:  137
**** Call ## 128 ## Duration:  81 (ERR)
      ✓ should disallow reusing email (220ms)

  Util
    Ping
**** Call ## 129 ## Duration:  60
      ✓ should ping (61ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  279
**** Call ## 1 ## Duration:  242
**** Call ## 2 ## Duration:  190
    Create
**** Call ## 3 ## Duration:  134
      ✓ should create article (137ms)
**** Call ## 4 ## Duration:  211
      ✓ should create article with tags (214ms)
**** Call ## 5 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 6 ## Duration:  140 (ERR)
**** Call ## 7 ## Duration:  119 (ERR)
**** Call ## 8 ## Duration:  151 (ERR)
**** Call ## 9 ## Duration:  146 (ERR)
      ✓ should enforce required fields (557ms)
    Get
**** Call ## 10 ## Duration:  148
      ✓ should get article by slug (149ms)
**** Call ## 11 ## Duration:  168
      ✓ should get article with tags by slug (168ms)
**** Call ## 12 ## Duration:  100 (ERR)
      ✓ should disallow unknown slug (100ms)
    Update
**** Call ## 13 ## Duration:  180
**** Call ## 14 ## Duration:  184
**** Call ## 15 ## Duration:  163
      ✓ should update article (528ms)
**** Call ## 16 ## Duration:  148 (ERR)
      ✓ should disallow missing mutation (148ms)
**** Call ## 17 ## Duration:  85 (ERR)
      ✓ should disallow empty mutation (85ms)
**** Call ## 18 ## Duration:  170 (ERR)
      ✓ should disallow unauthenticated update (170ms)
**** Call ## 19 ## Duration:  112 (ERR)
      ✓ should disallow updating non-existent article (113ms)
**** Call ## 20 ## Duration:  131 (ERR)
      ✓ should disallow non-author from updating (131ms)
    Favorite
**** Call ## 21 ## Duration:  210
**** Call ## 22 ## Duration:  162
      ✓ should favorite article (372ms)
**** Call ## 23 ## Duration:  82 (ERR)
      ✓ should disallow favoriting by unauthenticated user (83ms)
**** Call ## 24 ## Duration:  132 (ERR)
      ✓ should disallow favoriting unknown article (132ms)
**** Call ## 25 ## Duration:  232
      ✓ should unfavorite article (232ms)
    Delete
**** Call ## 26 ## Duration:  154
**** Call ## 27 ## Duration:  184 (ERR)
      ✓ should delete article (338ms)
**** Call ## 28 ## Duration:  82 (ERR)
      ✓ should disallow deleting by unauthenticated user (82ms)
**** Call ## 29 ## Duration:  155 (ERR)
      ✓ should disallow deleting unknown article (155ms)
**** Call ## 30 ## Duration:  149 (ERR)
      ✓ should disallow deleting article by non-author (150ms)
    List
**** Call ## 31 ## Duration:  171
**** Call ## 32 ## Duration:  141
**** Call ## 33 ## Duration:  134
**** Call ## 34 ## Duration:  183
**** Call ## 35 ## Duration:  143
**** Call ## 36 ## Duration:  130
**** Call ## 37 ## Duration:  157
**** Call ## 38 ## Duration:  145
**** Call ## 39 ## Duration:  176
**** Call ## 40 ## Duration:  131
**** Call ## 41 ## Duration:  150
**** Call ## 42 ## Duration:  175
**** Call ## 43 ## Duration:  135
**** Call ## 44 ## Duration:  131
**** Call ## 45 ## Duration:  133
**** Call ## 46 ## Duration:  144
**** Call ## 47 ## Duration:  141
**** Call ## 48 ## Duration:  136
**** Call ## 49 ## Duration:  154
**** Call ## 50 ## Duration:  131
**** Call ## 51 ## Duration:  563
      ✓ should list articles (563ms)
**** Call ## 52 ## Duration:  474
**** Call ## 53 ## Duration:  500
      ✓ should list articles with tag (974ms)
**** Call ## 54 ## Duration:  300
      ✓ should list articles by author (300ms)
**** Call ## 55 ## Duration:  140
      ✓ should list articles favorited by user (140ms)
**** Call ## 56 ## Duration:  175
**** Call ## 57 ## Duration:  195
      ✓ should list articles by limit/offset (370ms)
**** Call ## 58 ## Duration:  1481
      ✓ should list articles when authenticated (1482ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  83 (ERR)
**** Call ## 60 ## Duration:  90 (ERR)
**** Call ## 61 ## Duration:  115 (ERR)
**** Call ## 62 ## Duration:  142
**** Call ## 63 ## Duration:  214
**** Call ## 64 ## Duration:  433
**** Call ## 65 ## Duration:  186
**** Call ## 66 ## Duration:  510
      ✓ should get feed (1489ms)
**** Call ## 67 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated feed (82ms)
    Tags
**** Call ## 68 ## Duration:  231
      ✓ should get tags (231ms)

  Comment
**** Call ## 69 ## Duration:  195
**** Call ## 70 ## Duration:  166
**** Call ## 71 ## Duration:  141
    Create
**** Call ## 72 ## Duration:  160
**** Call ## 73 ## Duration:  162
**** Call ## 74 ## Duration:  204
**** Call ## 75 ## Duration:  179
**** Call ## 76 ## Duration:  163
**** Call ## 77 ## Duration:  171
**** Call ## 78 ## Duration:  156
**** Call ## 79 ## Duration:  198
**** Call ## 80 ## Duration:  156
**** Call ## 81 ## Duration:  174
      ✓ should create comment (1728ms)
**** Call ## 82 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 83 ## Duration:  126 (ERR)
      ✓ should enforce comment body (126ms)
**** Call ## 84 ## Duration:  140 (ERR)
      ✓ should disallow non-existent article (141ms)
    Get
**** Call ## 85 ## Duration:  265
      ✓ should get all comments for article (265ms)
    Delete
**** Call ## 86 ## Duration:  156
      ✓ should delete comment (157ms)
**** Call ## 87 ## Duration:  114 (ERR)
      ✓ only comment author should be able to delete comment (114ms)
**** Call ## 88 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated user (88ms)
**** Call ## 89 ## Duration:  126 (ERR)
      ✓ should disallow deleting unknown comment (126ms)

  User
    Create
**** Call ## 90 ## Duration:  189
      ✓ should create user (190ms)
**** Call ## 91 ## Duration:  128 (ERR)
      ✓ should disallow same username (128ms)
**** Call ## 92 ## Duration:  105 (ERR)
      ✓ should disallow same email (106ms)
**** Call ## 93 ## Duration:  120 (ERR)
**** Call ## 94 ## Duration:  83 (ERR)
**** Call ## 95 ## Duration:  84 (ERR)
**** Call ## 96 ## Duration:  111 (ERR)
      ✓ should enforce required fields (399ms)
    Login
**** Call ## 97 ## Duration:  142
      ✓ should login (142ms)
**** Call ## 98 ## Duration:  101 (ERR)
      ✓ should disallow unknown email (101ms)
**** Call ## 99 ## Duration:  135 (ERR)
      ✓ should disallow wrong password (135ms)
**** Call ## 100 ## Duration:  78 (ERR)
**** Call ## 101 ## Duration:  85 (ERR)
**** Call ## 102 ## Duration:  126 (ERR)
      ✓ should enforce required fields (290ms)
    Get
**** Call ## 103 ## Duration:  150
      ✓ should get current user (152ms)
**** Call ## 104 ## Duration:  83 (ERR)
**** Call ## 105 ## Duration:  79 (ERR)
**** Call ## 106 ## Duration:  84 (ERR)
**** Call ## 107 ## Duration:  81 (ERR)
      ✓ should disallow bad tokens (331ms)
    Profile
**** Call ## 108 ## Duration:  126
      ✓ should get profile (126ms)
**** Call ## 109 ## Duration:  103 (ERR)
      ✓ should disallow unknown username (104ms)
**** Call ## 110 ## Duration:  147
**** Call ## 111 ## Duration:  168
**** Call ## 112 ## Duration:  194
**** Call ## 113 ## Duration:  184
**** Call ## 114 ## Duration:  164
**** Call ## 115 ## Duration:  229
**** Call ## 116 ## Duration:  237
**** Call ## 117 ## Duration:  169
**** Call ## 118 ## Duration:  164
**** Call ## 119 ## Duration:  164
      ✓ should follow/unfollow user (1826ms)
**** Call ## 120 ## Duration:  81 (ERR)
      ✓ should disallow following with bad token (81ms)
    Update
**** Call ## 121 ## Duration:  140
**** Call ## 122 ## Duration:  120
**** Call ## 123 ## Duration:  111
**** Call ## 124 ## Duration:  159
      ✓ should update user (532ms)
**** Call ## 125 ## Duration:  116 (ERR)
**** Call ## 126 ## Duration:  105 (ERR)
      ✓ should disallow missing token/email in update (222ms)
**** Call ## 127 ## Duration:  163
**** Call ## 128 ## Duration:  126 (ERR)
      ✓ should disallow reusing email (290ms)

  Util
    Ping
**** Call ## 129 ## Duration:  82
      ✓ should ping (83ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  220
**** Call ## 1 ## Duration:  165
**** Call ## 2 ## Duration:  157
    Create
**** Call ## 3 ## Duration:  153
      ✓ should create article (155ms)
**** Call ## 4 ## Duration:  183
      ✓ should create article with tags (184ms)
**** Call ## 5 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 6 ## Duration:  137 (ERR)
**** Call ## 7 ## Duration:  117 (ERR)
**** Call ## 8 ## Duration:  111 (ERR)
**** Call ## 9 ## Duration:  103 (ERR)
      ✓ should enforce required fields (468ms)
    Get
**** Call ## 10 ## Duration:  154
      ✓ should get article by slug (154ms)
**** Call ## 11 ## Duration:  142
      ✓ should get article with tags by slug (142ms)
**** Call ## 12 ## Duration:  95 (ERR)
      ✓ should disallow unknown slug (96ms)
    Update
**** Call ## 13 ## Duration:  236
**** Call ## 14 ## Duration:  179
**** Call ## 15 ## Duration:  204
      ✓ should update article (621ms)
**** Call ## 16 ## Duration:  120 (ERR)
      ✓ should disallow missing mutation (121ms)
**** Call ## 17 ## Duration:  112 (ERR)
      ✓ should disallow empty mutation (112ms)
**** Call ## 18 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated update (84ms)
**** Call ## 19 ## Duration:  118 (ERR)
      ✓ should disallow updating non-existent article (118ms)
**** Call ## 20 ## Duration:  127 (ERR)
      ✓ should disallow non-author from updating (127ms)
    Favorite
**** Call ## 21 ## Duration:  205
**** Call ## 22 ## Duration:  154
      ✓ should favorite article (359ms)
**** Call ## 23 ## Duration:  97 (ERR)
      ✓ should disallow favoriting by unauthenticated user (97ms)
**** Call ## 24 ## Duration:  137 (ERR)
      ✓ should disallow favoriting unknown article (137ms)
**** Call ## 25 ## Duration:  218
      ✓ should unfavorite article (218ms)
    Delete
**** Call ## 26 ## Duration:  152
**** Call ## 27 ## Duration:  107 (ERR)
      ✓ should delete article (261ms)
**** Call ## 28 ## Duration:  111 (ERR)
      ✓ should disallow deleting by unauthenticated user (111ms)
**** Call ## 29 ## Duration:  125 (ERR)
      ✓ should disallow deleting unknown article (125ms)
**** Call ## 30 ## Duration:  126 (ERR)
      ✓ should disallow deleting article by non-author (126ms)
    List
**** Call ## 31 ## Duration:  147
**** Call ## 32 ## Duration:  171
**** Call ## 33 ## Duration:  121
**** Call ## 34 ## Duration:  128
**** Call ## 35 ## Duration:  173
**** Call ## 36 ## Duration:  134
**** Call ## 37 ## Duration:  121
**** Call ## 38 ## Duration:  121
**** Call ## 39 ## Duration:  163
**** Call ## 40 ## Duration:  166
**** Call ## 41 ## Duration:  152
**** Call ## 42 ## Duration:  137
**** Call ## 43 ## Duration:  167
**** Call ## 44 ## Duration:  122
**** Call ## 45 ## Duration:  128
**** Call ## 46 ## Duration:  165
**** Call ## 47 ## Duration:  173
**** Call ## 48 ## Duration:  129
**** Call ## 49 ## Duration:  161
**** Call ## 50 ## Duration:  143
**** Call ## 51 ## Duration:  491
      ✓ should list articles (491ms)
**** Call ## 52 ## Duration:  756
**** Call ## 53 ## Duration:  438
      ✓ should list articles with tag (1195ms)
**** Call ## 54 ## Duration:  495
      ✓ should list articles by author (495ms)
**** Call ## 55 ## Duration:  150
      ✓ should list articles favorited by user (150ms)
**** Call ## 56 ## Duration:  189
**** Call ## 57 ## Duration:  179
      ✓ should list articles by limit/offset (369ms)
**** Call ## 58 ## Duration:  543
      ✓ should list articles when authenticated (543ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  83 (ERR)
**** Call ## 59 ## Duration:  84 (ERR)
**** Call ## 60 ## Duration:  112 (ERR)
**** Call ## 62 ## Duration:  170
**** Call ## 63 ## Duration:  172
**** Call ## 64 ## Duration:  320
**** Call ## 65 ## Duration:  213
**** Call ## 66 ## Duration:  464
      ✓ should get feed (1346ms)
**** Call ## 67 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated feed (87ms)
    Tags
**** Call ## 68 ## Duration:  237
      ✓ should get tags (237ms)

  Comment
**** Call ## 69 ## Duration:  159
**** Call ## 70 ## Duration:  182
**** Call ## 71 ## Duration:  142
    Create
**** Call ## 72 ## Duration:  171
**** Call ## 73 ## Duration:  161
**** Call ## 74 ## Duration:  155
**** Call ## 75 ## Duration:  157
**** Call ## 76 ## Duration:  194
**** Call ## 77 ## Duration:  143
**** Call ## 78 ## Duration:  159
**** Call ## 79 ## Duration:  148
**** Call ## 80 ## Duration:  141
**** Call ## 81 ## Duration:  147
      ✓ should create comment (1577ms)
**** Call ## 82 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 83 ## Duration:  106 (ERR)
      ✓ should enforce comment body (107ms)
**** Call ## 84 ## Duration:  101 (ERR)
      ✓ should disallow non-existent article (102ms)
    Get
**** Call ## 85 ## Duration:  332
      ✓ should get all comments for article (332ms)
    Delete
**** Call ## 86 ## Duration:  152
      ✓ should delete comment (152ms)
**** Call ## 87 ## Duration:  112 (ERR)
      ✓ only comment author should be able to delete comment (113ms)
**** Call ## 88 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 89 ## Duration:  120 (ERR)
      ✓ should disallow deleting unknown comment (120ms)

  User
    Create
**** Call ## 90 ## Duration:  211
      ✓ should create user (212ms)
**** Call ## 91 ## Duration:  94 (ERR)
      ✓ should disallow same username (95ms)
**** Call ## 92 ## Duration:  107 (ERR)
      ✓ should disallow same email (108ms)
**** Call ## 93 ## Duration:  83 (ERR)
**** Call ## 94 ## Duration:  81 (ERR)
**** Call ## 95 ## Duration:  79 (ERR)
**** Call ## 96 ## Duration:  81 (ERR)
      ✓ should enforce required fields (325ms)
    Login
**** Call ## 97 ## Duration:  127
      ✓ should login (127ms)
**** Call ## 98 ## Duration:  111 (ERR)
      ✓ should disallow unknown email (111ms)
**** Call ## 99 ## Duration:  101 (ERR)
      ✓ should disallow wrong password (102ms)
**** Call ## 100 ## Duration:  79 (ERR)
**** Call ## 101 ## Duration:  88 (ERR)
**** Call ## 102 ## Duration:  109 (ERR)
      ✓ should enforce required fields (279ms)
    Get
**** Call ## 103 ## Duration:  99
      ✓ should get current user (99ms)
**** Call ## 104 ## Duration:  109 (ERR)
**** Call ## 105 ## Duration:  107 (ERR)
**** Call ## 106 ## Duration:  83 (ERR)
**** Call ## 107 ## Duration:  93 (ERR)
      ✓ should disallow bad tokens (393ms)
    Profile
**** Call ## 108 ## Duration:  119
      ✓ should get profile (119ms)
**** Call ## 109 ## Duration:  98 (ERR)
      ✓ should disallow unknown username (98ms)
**** Call ## 110 ## Duration:  172
**** Call ## 111 ## Duration:  175
**** Call ## 112 ## Duration:  163
**** Call ## 113 ## Duration:  141
**** Call ## 114 ## Duration:  168
**** Call ## 115 ## Duration:  152
**** Call ## 116 ## Duration:  185
**** Call ## 117 ## Duration:  193
**** Call ## 118 ## Duration:  150
**** Call ## 119 ## Duration:  178
      ✓ should follow/unfollow user (1678ms)
**** Call ## 120 ## Duration:  79 (ERR)
      ✓ should disallow following with bad token (80ms)
    Update
**** Call ## 121 ## Duration:  124
**** Call ## 122 ## Duration:  169
**** Call ## 123 ## Duration:  116
**** Call ## 124 ## Duration:  107
      ✓ should update user (517ms)
**** Call ## 125 ## Duration:  87 (ERR)
**** Call ## 126 ## Duration:  96 (ERR)
      ✓ should disallow missing token/email in update (184ms)
**** Call ## 127 ## Duration:  166
**** Call ## 128 ## Duration:  125 (ERR)
      ✓ should disallow reusing email (294ms)

  Util
    Ping
**** Call ## 129 ## Duration:  84
      ✓ should ping (85ms)


  58 passing (20s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  260
**** Call ## 1 ## Duration:  172
**** Call ## 2 ## Duration:  194
    Create
**** Call ## 3 ## Duration:  133
      ✓ should create article (135ms)
**** Call ## 4 ## Duration:  140
      ✓ should create article with tags (141ms)
**** Call ## 5 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated user (89ms)
**** Call ## 6 ## Duration:  122 (ERR)
**** Call ## 7 ## Duration:  116 (ERR)
**** Call ## 8 ## Duration:  116 (ERR)
**** Call ## 9 ## Duration:  122 (ERR)
      ✓ should enforce required fields (478ms)
    Get
**** Call ## 10 ## Duration:  172
      ✓ should get article by slug (173ms)
**** Call ## 11 ## Duration:  177
      ✓ should get article with tags by slug (177ms)
**** Call ## 12 ## Duration:  94 (ERR)
      ✓ should disallow unknown slug (95ms)
    Update
**** Call ## 13 ## Duration:  204
**** Call ## 14 ## Duration:  233
**** Call ## 15 ## Duration:  180
      ✓ should update article (621ms)
**** Call ## 16 ## Duration:  115 (ERR)
      ✓ should disallow missing mutation (115ms)
**** Call ## 17 ## Duration:  113 (ERR)
      ✓ should disallow empty mutation (113ms)
**** Call ## 18 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated update (79ms)
**** Call ## 19 ## Duration:  162 (ERR)
      ✓ should disallow updating non-existent article (162ms)
**** Call ## 20 ## Duration:  113 (ERR)
      ✓ should disallow non-author from updating (114ms)
    Favorite
**** Call ## 21 ## Duration:  260
**** Call ## 22 ## Duration:  236
      ✓ should favorite article (497ms)
**** Call ## 23 ## Duration:  113 (ERR)
      ✓ should disallow favoriting by unauthenticated user (115ms)
**** Call ## 24 ## Duration:  125 (ERR)
      ✓ should disallow favoriting unknown article (126ms)
**** Call ## 25 ## Duration:  191
      ✓ should unfavorite article (191ms)
    Delete
**** Call ## 26 ## Duration:  159
**** Call ## 27 ## Duration:  134 (ERR)
      ✓ should delete article (295ms)
**** Call ## 28 ## Duration:  84 (ERR)
      ✓ should disallow deleting by unauthenticated user (84ms)
**** Call ## 29 ## Duration:  143 (ERR)
      ✓ should disallow deleting unknown article (143ms)
**** Call ## 30 ## Duration:  116 (ERR)
      ✓ should disallow deleting article by non-author (117ms)
    List
**** Call ## 31 ## Duration:  161
**** Call ## 32 ## Duration:  155
**** Call ## 33 ## Duration:  140
**** Call ## 34 ## Duration:  205
**** Call ## 35 ## Duration:  177
**** Call ## 36 ## Duration:  125
**** Call ## 37 ## Duration:  125
**** Call ## 38 ## Duration:  134
**** Call ## 39 ## Duration:  158
**** Call ## 40 ## Duration:  126
**** Call ## 41 ## Duration:  146
**** Call ## 42 ## Duration:  166
**** Call ## 43 ## Duration:  177
**** Call ## 44 ## Duration:  128
**** Call ## 45 ## Duration:  165
**** Call ## 46 ## Duration:  169
**** Call ## 47 ## Duration:  129
**** Call ## 48 ## Duration:  236
**** Call ## 49 ## Duration:  158
**** Call ## 50 ## Duration:  134
**** Call ## 51 ## Duration:  1423
      ✓ should list articles (1423ms)
**** Call ## 52 ## Duration:  531
**** Call ## 53 ## Duration:  403
      ✓ should list articles with tag (935ms)
**** Call ## 54 ## Duration:  354
      ✓ should list articles by author (354ms)
**** Call ## 55 ## Duration:  208
      ✓ should list articles favorited by user (208ms)
**** Call ## 56 ## Duration:  161
**** Call ## 57 ## Duration:  226
      ✓ should list articles by limit/offset (388ms)
**** Call ## 58 ## Duration:  468
      ✓ should list articles when authenticated (468ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  80 (ERR)
**** Call ## 59 ## Duration:  84 (ERR)
**** Call ## 61 ## Duration:  95 (ERR)
**** Call ## 62 ## Duration:  239
**** Call ## 63 ## Duration:  206
**** Call ## 64 ## Duration:  356
**** Call ## 65 ## Duration:  180
**** Call ## 66 ## Duration:  422
      ✓ should get feed (1405ms)
**** Call ## 67 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated feed (86ms)
    Tags
**** Call ## 68 ## Duration:  277
      ✓ should get tags (277ms)

  Comment
**** Call ## 69 ## Duration:  169
**** Call ## 70 ## Duration:  146
**** Call ## 71 ## Duration:  135
    Create
**** Call ## 72 ## Duration:  242
**** Call ## 73 ## Duration:  140
**** Call ## 74 ## Duration:  156
**** Call ## 75 ## Duration:  161
**** Call ## 76 ## Duration:  162
**** Call ## 77 ## Duration:  188
**** Call ## 78 ## Duration:  193
**** Call ## 79 ## Duration:  142
**** Call ## 80 ## Duration:  148
**** Call ## 81 ## Duration:  151
      ✓ should create comment (1686ms)
**** Call ## 82 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 83 ## Duration:  123 (ERR)
      ✓ should enforce comment body (123ms)
**** Call ## 84 ## Duration:  108 (ERR)
      ✓ should disallow non-existent article (108ms)
    Get
**** Call ## 85 ## Duration:  294
      ✓ should get all comments for article (294ms)
    Delete
**** Call ## 86 ## Duration:  171
      ✓ should delete comment (171ms)
**** Call ## 87 ## Duration:  139 (ERR)
      ✓ only comment author should be able to delete comment (139ms)
**** Call ## 88 ## Duration:  112 (ERR)
      ✓ should disallow unauthenticated user (113ms)
**** Call ## 89 ## Duration:  109 (ERR)
      ✓ should disallow deleting unknown comment (110ms)

  User
    Create
**** Call ## 90 ## Duration:  177
      ✓ should create user (179ms)
**** Call ## 91 ## Duration:  119 (ERR)
      ✓ should disallow same username (119ms)
**** Call ## 92 ## Duration:  106 (ERR)
      ✓ should disallow same email (108ms)
**** Call ## 93 ## Duration:  79 (ERR)
**** Call ## 94 ## Duration:  90 (ERR)
**** Call ## 95 ## Duration:  78 (ERR)
**** Call ## 96 ## Duration:  90 (ERR)
      ✓ should enforce required fields (338ms)
    Login
**** Call ## 97 ## Duration:  126
      ✓ should login (127ms)
**** Call ## 98 ## Duration:  123 (ERR)
      ✓ should disallow unknown email (123ms)
**** Call ## 99 ## Duration:  104 (ERR)
      ✓ should disallow wrong password (104ms)
**** Call ## 100 ## Duration:  87 (ERR)
**** Call ## 101 ## Duration:  107 (ERR)
**** Call ## 102 ## Duration:  86 (ERR)
      ✓ should enforce required fields (280ms)
    Get
**** Call ## 103 ## Duration:  116
      ✓ should get current user (117ms)
**** Call ## 104 ## Duration:  82 (ERR)
**** Call ## 105 ## Duration:  82 (ERR)
**** Call ## 106 ## Duration:  88 (ERR)
**** Call ## 107 ## Duration:  86 (ERR)
      ✓ should disallow bad tokens (340ms)
    Profile
**** Call ## 108 ## Duration:  145
      ✓ should get profile (145ms)
**** Call ## 109 ## Duration:  126 (ERR)
      ✓ should disallow unknown username (126ms)
**** Call ## 110 ## Duration:  172
**** Call ## 111 ## Duration:  168
**** Call ## 112 ## Duration:  167
**** Call ## 113 ## Duration:  140
**** Call ## 114 ## Duration:  117
**** Call ## 115 ## Duration:  164
**** Call ## 116 ## Duration:  151
**** Call ## 117 ## Duration:  212
**** Call ## 118 ## Duration:  207
**** Call ## 119 ## Duration:  156
      ✓ should follow/unfollow user (1655ms)
**** Call ## 120 ## Duration:  81 (ERR)
      ✓ should disallow following with bad token (81ms)
    Update
**** Call ## 121 ## Duration:  157
**** Call ## 122 ## Duration:  123
**** Call ## 123 ## Duration:  120
**** Call ## 124 ## Duration:  149
      ✓ should update user (549ms)
**** Call ## 125 ## Duration:  81 (ERR)
**** Call ## 126 ## Duration:  96 (ERR)
      ✓ should disallow missing token/email in update (178ms)
**** Call ## 127 ## Duration:  186
**** Call ## 128 ## Duration:  121 (ERR)
      ✓ should disallow reusing email (309ms)

  Util
    Ping
**** Call ## 129 ## Duration:  83
      ✓ should ping (84ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  327
**** Call ## 1 ## Duration:  201
**** Call ## 2 ## Duration:  193
    Create
**** Call ## 3 ## Duration:  139
      ✓ should create article (141ms)
**** Call ## 4 ## Duration:  146
      ✓ should create article with tags (148ms)
**** Call ## 5 ## Duration:  113 (ERR)
      ✓ should disallow unauthenticated user (113ms)
**** Call ## 6 ## Duration:  127 (ERR)
**** Call ## 7 ## Duration:  126 (ERR)
**** Call ## 8 ## Duration:  123 (ERR)
**** Call ## 9 ## Duration:  142 (ERR)
      ✓ should enforce required fields (520ms)
    Get
**** Call ## 10 ## Duration:  142
      ✓ should get article by slug (142ms)
**** Call ## 11 ## Duration:  135
      ✓ should get article with tags by slug (136ms)
**** Call ## 12 ## Duration:  129 (ERR)
      ✓ should disallow unknown slug (129ms)
    Update
**** Call ## 13 ## Duration:  237
**** Call ## 14 ## Duration:  181
**** Call ## 15 ## Duration:  187
      ✓ should update article (607ms)
**** Call ## 16 ## Duration:  82 (ERR)
      ✓ should disallow missing mutation (82ms)
**** Call ## 17 ## Duration:  89 (ERR)
      ✓ should disallow empty mutation (90ms)
**** Call ## 18 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated update (81ms)
**** Call ## 19 ## Duration:  197 (ERR)
      ✓ should disallow updating non-existent article (198ms)
**** Call ## 20 ## Duration:  142 (ERR)
      ✓ should disallow non-author from updating (143ms)
    Favorite
**** Call ## 21 ## Duration:  229
**** Call ## 22 ## Duration:  152
      ✓ should favorite article (381ms)
**** Call ## 23 ## Duration:  88 (ERR)
      ✓ should disallow favoriting by unauthenticated user (88ms)
**** Call ## 24 ## Duration:  170 (ERR)
      ✓ should disallow favoriting unknown article (170ms)
**** Call ## 25 ## Duration:  191
      ✓ should unfavorite article (191ms)
    Delete
**** Call ## 26 ## Duration:  247
**** Call ## 27 ## Duration:  105 (ERR)
      ✓ should delete article (352ms)
**** Call ## 28 ## Duration:  82 (ERR)
      ✓ should disallow deleting by unauthenticated user (83ms)
**** Call ## 29 ## Duration:  138 (ERR)
      ✓ should disallow deleting unknown article (138ms)
**** Call ## 30 ## Duration:  134 (ERR)
      ✓ should disallow deleting article by non-author (135ms)
    List
**** Call ## 31 ## Duration:  245
**** Call ## 32 ## Duration:  139
**** Call ## 33 ## Duration:  142
**** Call ## 34 ## Duration:  152
**** Call ## 35 ## Duration:  125
**** Call ## 36 ## Duration:  136
**** Call ## 37 ## Duration:  153
**** Call ## 38 ## Duration:  138
**** Call ## 39 ## Duration:  156
**** Call ## 40 ## Duration:  164
**** Call ## 41 ## Duration:  133
**** Call ## 42 ## Duration:  134
**** Call ## 43 ## Duration:  130
**** Call ## 44 ## Duration:  129
**** Call ## 45 ## Duration:  203
**** Call ## 46 ## Duration:  137
**** Call ## 47 ## Duration:  142
**** Call ## 48 ## Duration:  142
**** Call ## 49 ## Duration:  128
**** Call ## 50 ## Duration:  178
**** Call ## 51 ## Duration:  615
      ✓ should list articles (615ms)
**** Call ## 52 ## Duration:  509
**** Call ## 53 ## Duration:  421
      ✓ should list articles with tag (930ms)
**** Call ## 54 ## Duration:  349
      ✓ should list articles by author (349ms)
**** Call ## 55 ## Duration:  164
      ✓ should list articles favorited by user (166ms)
**** Call ## 56 ## Duration:  159
**** Call ## 57 ## Duration:  151
      ✓ should list articles by limit/offset (310ms)
**** Call ## 58 ## Duration:  521
      ✓ should list articles when authenticated (521ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  83 (ERR)
**** Call ## 61 ## Duration:  86 (ERR)
**** Call ## 59 ## Duration:  93 (ERR)
**** Call ## 62 ## Duration:  210
**** Call ## 63 ## Duration:  184
**** Call ## 64 ## Duration:  419
**** Call ## 65 ## Duration:  165
**** Call ## 66 ## Duration:  528
      ✓ should get feed (1509ms)
**** Call ## 67 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated feed (90ms)
    Tags
**** Call ## 68 ## Duration:  286
      ✓ should get tags (286ms)

  Comment
**** Call ## 69 ## Duration:  157
**** Call ## 70 ## Duration:  163
**** Call ## 71 ## Duration:  185
    Create
**** Call ## 72 ## Duration:  163
**** Call ## 73 ## Duration:  167
**** Call ## 74 ## Duration:  146
**** Call ## 75 ## Duration:  152
**** Call ## 76 ## Duration:  172
**** Call ## 77 ## Duration:  141
**** Call ## 78 ## Duration:  176
**** Call ## 79 ## Duration:  158
**** Call ## 80 ## Duration:  195
**** Call ## 81 ## Duration:  150
      ✓ should create comment (1622ms)
**** Call ## 82 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 83 ## Duration:  103 (ERR)
      ✓ should enforce comment body (103ms)
**** Call ## 84 ## Duration:  124 (ERR)
      ✓ should disallow non-existent article (125ms)
    Get
**** Call ## 85 ## Duration:  347
      ✓ should get all comments for article (349ms)
    Delete
**** Call ## 86 ## Duration:  160
      ✓ should delete comment (160ms)
**** Call ## 87 ## Duration:  144 (ERR)
      ✓ only comment author should be able to delete comment (144ms)
**** Call ## 88 ## Duration:  108 (ERR)
      ✓ should disallow unauthenticated user (108ms)
**** Call ## 89 ## Duration:  144 (ERR)
      ✓ should disallow deleting unknown comment (144ms)

  User
    Create
**** Call ## 90 ## Duration:  218
      ✓ should create user (219ms)
**** Call ## 91 ## Duration:  132 (ERR)
      ✓ should disallow same username (133ms)
**** Call ## 92 ## Duration:  119 (ERR)
      ✓ should disallow same email (119ms)
**** Call ## 93 ## Duration:  79 (ERR)
**** Call ## 94 ## Duration:  84 (ERR)
**** Call ## 95 ## Duration:  81 (ERR)
**** Call ## 96 ## Duration:  83 (ERR)
      ✓ should enforce required fields (328ms)
    Login
**** Call ## 97 ## Duration:  137
      ✓ should login (137ms)
**** Call ## 98 ## Duration:  94 (ERR)
      ✓ should disallow unknown email (96ms)
**** Call ## 99 ## Duration:  103 (ERR)
      ✓ should disallow wrong password (103ms)
**** Call ## 100 ## Duration:  87 (ERR)
**** Call ## 101 ## Duration:  87 (ERR)
**** Call ## 102 ## Duration:  82 (ERR)
      ✓ should enforce required fields (256ms)
    Get
**** Call ## 103 ## Duration:  102
      ✓ should get current user (102ms)
**** Call ## 104 ## Duration:  80 (ERR)
**** Call ## 105 ## Duration:  118 (ERR)
**** Call ## 106 ## Duration:  81 (ERR)
**** Call ## 107 ## Duration:  81 (ERR)
      ✓ should disallow bad tokens (362ms)
    Profile
**** Call ## 108 ## Duration:  139
      ✓ should get profile (139ms)
**** Call ## 109 ## Duration:  93 (ERR)
      ✓ should disallow unknown username (93ms)
**** Call ## 110 ## Duration:  153
**** Call ## 111 ## Duration:  169
**** Call ## 112 ## Duration:  154
**** Call ## 113 ## Duration:  170
**** Call ## 114 ## Duration:  149
**** Call ## 115 ## Duration:  173
**** Call ## 116 ## Duration:  188
**** Call ## 117 ## Duration:  213
**** Call ## 118 ## Duration:  175
**** Call ## 119 ## Duration:  189
      ✓ should follow/unfollow user (1735ms)
**** Call ## 120 ## Duration:  81 (ERR)
      ✓ should disallow following with bad token (81ms)
    Update
**** Call ## 121 ## Duration:  141
**** Call ## 122 ## Duration:  107
**** Call ## 123 ## Duration:  112
**** Call ## 124 ## Duration:  111
      ✓ should update user (472ms)
**** Call ## 125 ## Duration:  228 (ERR)
**** Call ## 126 ## Duration:  98 (ERR)
      ✓ should disallow missing token/email in update (326ms)
**** Call ## 127 ## Duration:  174
**** Call ## 128 ## Duration:  108 (ERR)
      ✓ should disallow reusing email (284ms)

  Util
    Ping
**** Call ## 129 ## Duration:  86
      ✓ should ping (86ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  207
**** Call ## 1 ## Duration:  207
**** Call ## 2 ## Duration:  149
    Create
**** Call ## 3 ## Duration:  155
      ✓ should create article (157ms)
**** Call ## 4 ## Duration:  163
      ✓ should create article with tags (165ms)
**** Call ## 5 ## Duration:  123 (ERR)
      ✓ should disallow unauthenticated user (124ms)
**** Call ## 6 ## Duration:  111 (ERR)
**** Call ## 7 ## Duration:  116 (ERR)
**** Call ## 8 ## Duration:  115 (ERR)
**** Call ## 9 ## Duration:  101 (ERR)
      ✓ should enforce required fields (444ms)
    Get
**** Call ## 10 ## Duration:  142
      ✓ should get article by slug (142ms)
**** Call ## 11 ## Duration:  145
      ✓ should get article with tags by slug (146ms)
**** Call ## 12 ## Duration:  105 (ERR)
      ✓ should disallow unknown slug (105ms)
    Update
**** Call ## 13 ## Duration:  179
**** Call ## 14 ## Duration:  193
**** Call ## 15 ## Duration:  166
      ✓ should update article (541ms)
**** Call ## 16 ## Duration:  87 (ERR)
      ✓ should disallow missing mutation (88ms)
**** Call ## 17 ## Duration:  85 (ERR)
      ✓ should disallow empty mutation (86ms)
**** Call ## 18 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated update (85ms)
**** Call ## 19 ## Duration:  184 (ERR)
      ✓ should disallow updating non-existent article (184ms)
**** Call ## 20 ## Duration:  108 (ERR)
      ✓ should disallow non-author from updating (108ms)
    Favorite
**** Call ## 21 ## Duration:  192
**** Call ## 22 ## Duration:  152
      ✓ should favorite article (344ms)
**** Call ## 23 ## Duration:  112 (ERR)
      ✓ should disallow favoriting by unauthenticated user (112ms)
**** Call ## 24 ## Duration:  151 (ERR)
      ✓ should disallow favoriting unknown article (152ms)
**** Call ## 25 ## Duration:  184
      ✓ should unfavorite article (184ms)
    Delete
**** Call ## 26 ## Duration:  314
**** Call ## 27 ## Duration:  139 (ERR)
      ✓ should delete article (453ms)
**** Call ## 28 ## Duration:  82 (ERR)
      ✓ should disallow deleting by unauthenticated user (82ms)
**** Call ## 29 ## Duration:  172 (ERR)
      ✓ should disallow deleting unknown article (173ms)
**** Call ## 30 ## Duration:  125 (ERR)
      ✓ should disallow deleting article by non-author (125ms)
    List
**** Call ## 31 ## Duration:  138
**** Call ## 32 ## Duration:  138
**** Call ## 33 ## Duration:  143
**** Call ## 34 ## Duration:  164
**** Call ## 35 ## Duration:  140
**** Call ## 36 ## Duration:  113
**** Call ## 37 ## Duration:  167
**** Call ## 38 ## Duration:  171
**** Call ## 39 ## Duration:  126
**** Call ## 40 ## Duration:  123
**** Call ## 41 ## Duration:  140
**** Call ## 42 ## Duration:  127
**** Call ## 43 ## Duration:  132
**** Call ## 44 ## Duration:  185
**** Call ## 45 ## Duration:  139
**** Call ## 46 ## Duration:  150
**** Call ## 47 ## Duration:  120
**** Call ## 48 ## Duration:  112
**** Call ## 49 ## Duration:  140
**** Call ## 50 ## Duration:  139
**** Call ## 51 ## Duration:  585
      ✓ should list articles (585ms)
**** Call ## 52 ## Duration:  523
**** Call ## 53 ## Duration:  503
      ✓ should list articles with tag (1027ms)
**** Call ## 54 ## Duration:  388
      ✓ should list articles by author (388ms)
**** Call ## 55 ## Duration:  183
      ✓ should list articles favorited by user (183ms)
**** Call ## 56 ## Duration:  153
**** Call ## 57 ## Duration:  366
      ✓ should list articles by limit/offset (519ms)
**** Call ## 58 ## Duration:  506
      ✓ should list articles when authenticated (506ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  84 (ERR)
**** Call ## 60 ## Duration:  85 (ERR)
**** Call ## 61 ## Duration:  111 (ERR)
**** Call ## 62 ## Duration:  133
**** Call ## 63 ## Duration:  166
**** Call ## 64 ## Duration:  377
**** Call ## 65 ## Duration:  198
**** Call ## 66 ## Duration:  593
      ✓ should get feed (1469ms)
**** Call ## 67 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated feed (81ms)
    Tags
**** Call ## 68 ## Duration:  242
      ✓ should get tags (242ms)

  Comment
**** Call ## 69 ## Duration:  200
**** Call ## 70 ## Duration:  172
**** Call ## 71 ## Duration:  146
    Create
**** Call ## 72 ## Duration:  185
**** Call ## 73 ## Duration:  175
**** Call ## 74 ## Duration:  146
**** Call ## 75 ## Duration:  287
**** Call ## 76 ## Duration:  155
**** Call ## 77 ## Duration:  1148
**** Call ## 78 ## Duration:  161
**** Call ## 79 ## Duration:  182
**** Call ## 80 ## Duration:  133
**** Call ## 81 ## Duration:  186
      ✓ should create comment (2759ms)
**** Call ## 82 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 83 ## Duration:  97 (ERR)
      ✓ should enforce comment body (99ms)
**** Call ## 84 ## Duration:  144 (ERR)
      ✓ should disallow non-existent article (144ms)
    Get
**** Call ## 85 ## Duration:  250
      ✓ should get all comments for article (250ms)
    Delete
**** Call ## 86 ## Duration:  168
      ✓ should delete comment (168ms)
**** Call ## 87 ## Duration:  116 (ERR)
      ✓ only comment author should be able to delete comment (118ms)
**** Call ## 88 ## Duration:  112 (ERR)
      ✓ should disallow unauthenticated user (114ms)
**** Call ## 89 ## Duration:  106 (ERR)
      ✓ should disallow deleting unknown comment (106ms)

  User
    Create
**** Call ## 90 ## Duration:  202
      ✓ should create user (202ms)
**** Call ## 91 ## Duration:  103 (ERR)
      ✓ should disallow same username (104ms)
**** Call ## 92 ## Duration:  124 (ERR)
      ✓ should disallow same email (124ms)
**** Call ## 93 ## Duration:  113 (ERR)
**** Call ## 94 ## Duration:  183 (ERR)
**** Call ## 95 ## Duration:  122 (ERR)
**** Call ## 96 ## Duration:  110 (ERR)
      ✓ should enforce required fields (531ms)
    Login
**** Call ## 97 ## Duration:  130
      ✓ should login (130ms)
**** Call ## 98 ## Duration:  137 (ERR)
      ✓ should disallow unknown email (137ms)
**** Call ## 99 ## Duration:  140 (ERR)
      ✓ should disallow wrong password (141ms)
**** Call ## 100 ## Duration:  127 (ERR)
**** Call ## 101 ## Duration:  289 (ERR)
**** Call ## 102 ## Duration:  155 (ERR)
      ✓ should enforce required fields (571ms)
    Get
**** Call ## 103 ## Duration:  342
      ✓ should get current user (342ms)
**** Call ## 104 ## Duration:  84 (ERR)
**** Call ## 105 ## Duration:  85 (ERR)
**** Call ## 106 ## Duration:  103 (ERR)
**** Call ## 107 ## Duration:  81 (ERR)
      ✓ should disallow bad tokens (353ms)
    Profile
**** Call ## 108 ## Duration:  146
      ✓ should get profile (147ms)
**** Call ## 109 ## Duration:  99 (ERR)
      ✓ should disallow unknown username (100ms)
**** Call ## 110 ## Duration:  196
**** Call ## 111 ## Duration:  168
**** Call ## 112 ## Duration:  166
**** Call ## 113 ## Duration:  188
**** Call ## 114 ## Duration:  144
**** Call ## 115 ## Duration:  248
**** Call ## 116 ## Duration:  190
**** Call ## 117 ## Duration:  182
**** Call ## 118 ## Duration:  226
**** Call ## 119 ## Duration:  177
      ✓ should follow/unfollow user (1888ms)
**** Call ## 120 ## Duration:  109 (ERR)
      ✓ should disallow following with bad token (109ms)
    Update
**** Call ## 121 ## Duration:  177
**** Call ## 122 ## Duration:  127
**** Call ## 123 ## Duration:  133
**** Call ## 124 ## Duration:  120
      ✓ should update user (557ms)
**** Call ## 125 ## Duration:  89 (ERR)
**** Call ## 126 ## Duration:  103 (ERR)
      ✓ should disallow missing token/email in update (193ms)
**** Call ## 127 ## Duration:  188
**** Call ## 128 ## Duration:  108 (ERR)
      ✓ should disallow reusing email (296ms)

  Util
    Ping
**** Call ## 129 ## Duration:  252
      ✓ should ping (252ms)


  58 passing (23s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  218
**** Call ## 1 ## Duration:  158
**** Call ## 2 ## Duration:  198
    Create
**** Call ## 3 ## Duration:  150
      ✓ should create article (152ms)
**** Call ## 4 ## Duration:  139
      ✓ should create article with tags (141ms)
**** Call ## 5 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 6 ## Duration:  128 (ERR)
**** Call ## 7 ## Duration:  120 (ERR)
**** Call ## 8 ## Duration:  117 (ERR)
**** Call ## 9 ## Duration:  140 (ERR)
      ✓ should enforce required fields (507ms)
    Get
**** Call ## 10 ## Duration:  171
      ✓ should get article by slug (171ms)
**** Call ## 11 ## Duration:  160
      ✓ should get article with tags by slug (160ms)
**** Call ## 12 ## Duration:  99 (ERR)
      ✓ should disallow unknown slug (100ms)
    Update
**** Call ## 13 ## Duration:  270
**** Call ## 14 ## Duration:  188
**** Call ## 15 ## Duration:  165
      ✓ should update article (626ms)
**** Call ## 16 ## Duration:  82 (ERR)
      ✓ should disallow missing mutation (82ms)
**** Call ## 17 ## Duration:  77 (ERR)
      ✓ should disallow empty mutation (77ms)
**** Call ## 18 ## Duration:  89 (ERR)
      ✓ should disallow unauthenticated update (90ms)
**** Call ## 19 ## Duration:  107 (ERR)
      ✓ should disallow updating non-existent article (108ms)
**** Call ## 20 ## Duration:  113 (ERR)
      ✓ should disallow non-author from updating (114ms)
    Favorite
**** Call ## 21 ## Duration:  206
**** Call ## 22 ## Duration:  192
      ✓ should favorite article (399ms)
**** Call ## 23 ## Duration:  83 (ERR)
      ✓ should disallow favoriting by unauthenticated user (83ms)
**** Call ## 24 ## Duration:  125 (ERR)
      ✓ should disallow favoriting unknown article (126ms)
**** Call ## 25 ## Duration:  180
      ✓ should unfavorite article (180ms)
    Delete
**** Call ## 26 ## Duration:  209
**** Call ## 27 ## Duration:  101 (ERR)
      ✓ should delete article (310ms)
**** Call ## 28 ## Duration:  83 (ERR)
      ✓ should disallow deleting by unauthenticated user (84ms)
**** Call ## 29 ## Duration:  118 (ERR)
      ✓ should disallow deleting unknown article (118ms)
**** Call ## 30 ## Duration:  141 (ERR)
      ✓ should disallow deleting article by non-author (143ms)
    List
**** Call ## 31 ## Duration:  147
**** Call ## 32 ## Duration:  237
**** Call ## 33 ## Duration:  146
**** Call ## 34 ## Duration:  131
**** Call ## 35 ## Duration:  126
**** Call ## 36 ## Duration:  130
**** Call ## 37 ## Duration:  153
**** Call ## 38 ## Duration:  138
**** Call ## 39 ## Duration:  175
**** Call ## 40 ## Duration:  229
**** Call ## 41 ## Duration:  165
**** Call ## 42 ## Duration:  199
**** Call ## 43 ## Duration:  165
**** Call ## 44 ## Duration:  187
**** Call ## 45 ## Duration:  160
**** Call ## 46 ## Duration:  130
**** Call ## 47 ## Duration:  152
**** Call ## 48 ## Duration:  156
**** Call ## 49 ## Duration:  203
**** Call ## 50 ## Duration:  157
**** Call ## 51 ## Duration:  531
      ✓ should list articles (531ms)
**** Call ## 52 ## Duration:  614
**** Call ## 53 ## Duration:  536
      ✓ should list articles with tag (1150ms)
**** Call ## 54 ## Duration:  393
      ✓ should list articles by author (393ms)
**** Call ## 55 ## Duration:  158
      ✓ should list articles favorited by user (158ms)
**** Call ## 56 ## Duration:  194
**** Call ## 57 ## Duration:  188
      ✓ should list articles by limit/offset (382ms)
**** Call ## 58 ## Duration:  563
      ✓ should list articles when authenticated (564ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  84 (ERR)
**** Call ## 59 ## Duration:  91 (ERR)
**** Call ## 60 ## Duration:  117 (ERR)
**** Call ## 62 ## Duration:  183
**** Call ## 63 ## Duration:  209
**** Call ## 64 ## Duration:  409
**** Call ## 65 ## Duration:  168
**** Call ## 66 ## Duration:  516
      ✓ should get feed (1490ms)
**** Call ## 67 ## Duration:  110 (ERR)
      ✓ should disallow unauthenticated feed (110ms)
    Tags
**** Call ## 68 ## Duration:  278
      ✓ should get tags (278ms)

  Comment
**** Call ## 69 ## Duration:  197
**** Call ## 70 ## Duration:  162
**** Call ## 71 ## Duration:  143
    Create
**** Call ## 72 ## Duration:  243
**** Call ## 73 ## Duration:  272
**** Call ## 74 ## Duration:  179
**** Call ## 75 ## Duration:  177
**** Call ## 76 ## Duration:  158
**** Call ## 77 ## Duration:  166
**** Call ## 78 ## Duration:  146
**** Call ## 79 ## Duration:  172
**** Call ## 80 ## Duration:  259
**** Call ## 81 ## Duration:  147
      ✓ should create comment (1920ms)
**** Call ## 82 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 83 ## Duration:  109 (ERR)
      ✓ should enforce comment body (109ms)
**** Call ## 84 ## Duration:  122 (ERR)
      ✓ should disallow non-existent article (122ms)
    Get
**** Call ## 85 ## Duration:  268
      ✓ should get all comments for article (268ms)
    Delete
**** Call ## 86 ## Duration:  183
      ✓ should delete comment (183ms)
**** Call ## 87 ## Duration:  148 (ERR)
      ✓ only comment author should be able to delete comment (149ms)
**** Call ## 88 ## Duration:  89 (ERR)
      ✓ should disallow unauthenticated user (90ms)
**** Call ## 89 ## Duration:  161 (ERR)
      ✓ should disallow deleting unknown comment (162ms)

  User
    Create
**** Call ## 90 ## Duration:  156
      ✓ should create user (157ms)
**** Call ## 91 ## Duration:  100 (ERR)
      ✓ should disallow same username (100ms)
**** Call ## 92 ## Duration:  108 (ERR)
      ✓ should disallow same email (108ms)
**** Call ## 93 ## Duration:  82 (ERR)
**** Call ## 94 ## Duration:  85 (ERR)
**** Call ## 95 ## Duration:  85 (ERR)
**** Call ## 96 ## Duration:  83 (ERR)
      ✓ should enforce required fields (335ms)
    Login
**** Call ## 97 ## Duration:  140
      ✓ should login (140ms)
**** Call ## 98 ## Duration:  135 (ERR)
      ✓ should disallow unknown email (135ms)
**** Call ## 99 ## Duration:  127 (ERR)
      ✓ should disallow wrong password (127ms)
**** Call ## 100 ## Duration:  78 (ERR)
**** Call ## 101 ## Duration:  108 (ERR)
**** Call ## 102 ## Duration:  94 (ERR)
      ✓ should enforce required fields (281ms)
    Get
**** Call ## 103 ## Duration:  112
      ✓ should get current user (112ms)
**** Call ## 104 ## Duration:  85 (ERR)
**** Call ## 105 ## Duration:  120 (ERR)
**** Call ## 106 ## Duration:  79 (ERR)
**** Call ## 107 ## Duration:  114 (ERR)
      ✓ should disallow bad tokens (399ms)
    Profile
**** Call ## 108 ## Duration:  121
      ✓ should get profile (121ms)
**** Call ## 109 ## Duration:  127 (ERR)
      ✓ should disallow unknown username (128ms)
**** Call ## 110 ## Duration:  150
**** Call ## 111 ## Duration:  213
**** Call ## 112 ## Duration:  165
**** Call ## 113 ## Duration:  168
**** Call ## 114 ## Duration:  147
**** Call ## 115 ## Duration:  151
**** Call ## 116 ## Duration:  281
**** Call ## 117 ## Duration:  157
**** Call ## 118 ## Duration:  149
**** Call ## 119 ## Duration:  148
      ✓ should follow/unfollow user (1734ms)
**** Call ## 120 ## Duration:  86 (ERR)
      ✓ should disallow following with bad token (86ms)
    Update
**** Call ## 121 ## Duration:  142
**** Call ## 122 ## Duration:  147
**** Call ## 123 ## Duration:  107
**** Call ## 124 ## Duration:  115
      ✓ should update user (511ms)
**** Call ## 125 ## Duration:  80 (ERR)
**** Call ## 126 ## Duration:  92 (ERR)
      ✓ should disallow missing token/email in update (172ms)
**** Call ## 127 ## Duration:  154
**** Call ## 128 ## Duration:  116 (ERR)
      ✓ should disallow reusing email (271ms)

  Util
    Ping
**** Call ## 129 ## Duration:  116
      ✓ should ping (118ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  205
**** Call ## 1 ## Duration:  188
**** Call ## 2 ## Duration:  200
    Create
**** Call ## 3 ## Duration:  143
      ✓ should create article (146ms)
**** Call ## 4 ## Duration:  153
      ✓ should create article with tags (155ms)
**** Call ## 5 ## Duration:  110 (ERR)
      ✓ should disallow unauthenticated user (111ms)
**** Call ## 6 ## Duration:  138 (ERR)
**** Call ## 7 ## Duration:  114 (ERR)
**** Call ## 8 ## Duration:  118 (ERR)
**** Call ## 9 ## Duration:  135 (ERR)
      ✓ should enforce required fields (506ms)
    Get
**** Call ## 10 ## Duration:  142
      ✓ should get article by slug (142ms)
**** Call ## 11 ## Duration:  139
      ✓ should get article with tags by slug (140ms)
**** Call ## 12 ## Duration:  129 (ERR)
      ✓ should disallow unknown slug (129ms)
    Update
**** Call ## 13 ## Duration:  218
**** Call ## 14 ## Duration:  190
**** Call ## 15 ## Duration:  172
      ✓ should update article (585ms)
**** Call ## 16 ## Duration:  81 (ERR)
      ✓ should disallow missing mutation (81ms)
**** Call ## 17 ## Duration:  110 (ERR)
      ✓ should disallow empty mutation (111ms)
**** Call ## 18 ## Duration:  77 (ERR)
      ✓ should disallow unauthenticated update (77ms)
**** Call ## 19 ## Duration:  111 (ERR)
      ✓ should disallow updating non-existent article (112ms)
**** Call ## 20 ## Duration:  130 (ERR)
      ✓ should disallow non-author from updating (130ms)
    Favorite
**** Call ## 21 ## Duration:  202
**** Call ## 22 ## Duration:  216
      ✓ should favorite article (418ms)
**** Call ## 23 ## Duration:  111 (ERR)
      ✓ should disallow favoriting by unauthenticated user (112ms)
**** Call ## 24 ## Duration:  154 (ERR)
      ✓ should disallow favoriting unknown article (154ms)
**** Call ## 25 ## Duration:  188
      ✓ should unfavorite article (188ms)
    Delete
**** Call ## 26 ## Duration:  204
**** Call ## 27 ## Duration:  108 (ERR)
      ✓ should delete article (313ms)
**** Call ## 28 ## Duration:  113 (ERR)
      ✓ should disallow deleting by unauthenticated user (113ms)
**** Call ## 29 ## Duration:  124 (ERR)
      ✓ should disallow deleting unknown article (124ms)
**** Call ## 30 ## Duration:  228 (ERR)
      ✓ should disallow deleting article by non-author (228ms)
    List
**** Call ## 31 ## Duration:  145
**** Call ## 32 ## Duration:  127
**** Call ## 33 ## Duration:  131
**** Call ## 34 ## Duration:  172
**** Call ## 35 ## Duration:  255
**** Call ## 36 ## Duration:  139
**** Call ## 37 ## Duration:  115
**** Call ## 38 ## Duration:  139
**** Call ## 39 ## Duration:  170
**** Call ## 40 ## Duration:  205
**** Call ## 41 ## Duration:  167
**** Call ## 42 ## Duration:  177
**** Call ## 43 ## Duration:  155
**** Call ## 44 ## Duration:  130
**** Call ## 45 ## Duration:  153
**** Call ## 46 ## Duration:  170
**** Call ## 47 ## Duration:  135
**** Call ## 48 ## Duration:  158
**** Call ## 49 ## Duration:  132
**** Call ## 50 ## Duration:  163
**** Call ## 51 ## Duration:  551
      ✓ should list articles (552ms)
**** Call ## 52 ## Duration:  466
**** Call ## 53 ## Duration:  450
      ✓ should list articles with tag (917ms)
**** Call ## 54 ## Duration:  299
      ✓ should list articles by author (300ms)
**** Call ## 55 ## Duration:  146
      ✓ should list articles favorited by user (147ms)
**** Call ## 56 ## Duration:  206
**** Call ## 57 ## Duration:  218
      ✓ should list articles by limit/offset (424ms)
**** Call ## 58 ## Duration:  525
      ✓ should list articles when authenticated (526ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  81 (ERR)
**** Call ## 60 ## Duration:  84 (ERR)
**** Call ## 61 ## Duration:  121 (ERR)
**** Call ## 62 ## Duration:  182
**** Call ## 63 ## Duration:  196
**** Call ## 64 ## Duration:  417
**** Call ## 65 ## Duration:  187
**** Call ## 66 ## Duration:  579
      ✓ should get feed (1563ms)
**** Call ## 67 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated feed (86ms)
    Tags
**** Call ## 68 ## Duration:  223
      ✓ should get tags (223ms)

  Comment
**** Call ## 69 ## Duration:  285
**** Call ## 70 ## Duration:  206
**** Call ## 71 ## Duration:  133
    Create
**** Call ## 72 ## Duration:  167
**** Call ## 73 ## Duration:  156
**** Call ## 74 ## Duration:  138
**** Call ## 75 ## Duration:  206
**** Call ## 76 ## Duration:  148
**** Call ## 77 ## Duration:  161
**** Call ## 78 ## Duration:  180
**** Call ## 79 ## Duration:  140
**** Call ## 80 ## Duration:  147
**** Call ## 81 ## Duration:  156
      ✓ should create comment (1601ms)
**** Call ## 82 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 83 ## Duration:  96 (ERR)
      ✓ should enforce comment body (96ms)
**** Call ## 84 ## Duration:  147 (ERR)
      ✓ should disallow non-existent article (147ms)
    Get
**** Call ## 85 ## Duration:  326
      ✓ should get all comments for article (326ms)
    Delete
**** Call ## 86 ## Duration:  327
      ✓ should delete comment (327ms)
**** Call ## 87 ## Duration:  112 (ERR)
      ✓ only comment author should be able to delete comment (114ms)
**** Call ## 88 ## Duration:  105 (ERR)
      ✓ should disallow unauthenticated user (105ms)
**** Call ## 89 ## Duration:  133 (ERR)
      ✓ should disallow deleting unknown comment (134ms)

  User
    Create
**** Call ## 90 ## Duration:  153
      ✓ should create user (153ms)
**** Call ## 91 ## Duration:  86 (ERR)
      ✓ should disallow same username (86ms)
**** Call ## 92 ## Duration:  109 (ERR)
      ✓ should disallow same email (109ms)
**** Call ## 93 ## Duration:  85 (ERR)
**** Call ## 94 ## Duration:  82 (ERR)
**** Call ## 95 ## Duration:  79 (ERR)
**** Call ## 96 ## Duration:  92 (ERR)
      ✓ should enforce required fields (340ms)
    Login
**** Call ## 97 ## Duration:  129
      ✓ should login (129ms)
**** Call ## 98 ## Duration:  129 (ERR)
      ✓ should disallow unknown email (129ms)
**** Call ## 99 ## Duration:  135 (ERR)
      ✓ should disallow wrong password (135ms)
**** Call ## 100 ## Duration:  111 (ERR)
**** Call ## 101 ## Duration:  80 (ERR)
**** Call ## 102 ## Duration:  109 (ERR)
      ✓ should enforce required fields (301ms)
    Get
**** Call ## 103 ## Duration:  141
      ✓ should get current user (141ms)
**** Call ## 104 ## Duration:  116 (ERR)
**** Call ## 105 ## Duration:  89 (ERR)
**** Call ## 106 ## Duration:  110 (ERR)
**** Call ## 107 ## Duration:  82 (ERR)
      ✓ should disallow bad tokens (399ms)
    Profile
**** Call ## 108 ## Duration:  185
      ✓ should get profile (185ms)
**** Call ## 109 ## Duration:  106 (ERR)
      ✓ should disallow unknown username (106ms)
**** Call ## 110 ## Duration:  171
**** Call ## 111 ## Duration:  185
**** Call ## 112 ## Duration:  174
**** Call ## 113 ## Duration:  184
**** Call ## 114 ## Duration:  117
**** Call ## 115 ## Duration:  191
**** Call ## 116 ## Duration:  204
**** Call ## 117 ## Duration:  178
**** Call ## 118 ## Duration:  191
**** Call ## 119 ## Duration:  175
      ✓ should follow/unfollow user (1771ms)
**** Call ## 120 ## Duration:  79 (ERR)
      ✓ should disallow following with bad token (80ms)
    Update
**** Call ## 121 ## Duration:  155
**** Call ## 122 ## Duration:  148
**** Call ## 123 ## Duration:  132
**** Call ## 124 ## Duration:  121
      ✓ should update user (557ms)
**** Call ## 125 ## Duration:  86 (ERR)
**** Call ## 126 ## Duration:  93 (ERR)
      ✓ should disallow missing token/email in update (180ms)
**** Call ## 127 ## Duration:  198
**** Call ## 128 ## Duration:  119 (ERR)
      ✓ should disallow reusing email (317ms)

  Util
    Ping
**** Call ## 129 ## Duration:  81
      ✓ should ping (82ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://eerps80rpl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  218
**** Call ## 1 ## Duration:  161
**** Call ## 2 ## Duration:  158
    Create
**** Call ## 3 ## Duration:  140
      ✓ should create article (142ms)
**** Call ## 4 ## Duration:  146
      ✓ should create article with tags (149ms)
**** Call ## 5 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 6 ## Duration:  148 (ERR)
**** Call ## 7 ## Duration:  252 (ERR)
**** Call ## 8 ## Duration:  119 (ERR)
**** Call ## 9 ## Duration:  115 (ERR)
      ✓ should enforce required fields (634ms)
    Get
**** Call ## 10 ## Duration:  148
      ✓ should get article by slug (149ms)
**** Call ## 11 ## Duration:  154
      ✓ should get article with tags by slug (154ms)
**** Call ## 12 ## Duration:  96 (ERR)
      ✓ should disallow unknown slug (97ms)
    Update
**** Call ## 13 ## Duration:  219
**** Call ## 14 ## Duration:  187
**** Call ## 15 ## Duration:  280
      ✓ should update article (688ms)
**** Call ## 16 ## Duration:  86 (ERR)
      ✓ should disallow missing mutation (87ms)
**** Call ## 17 ## Duration:  81 (ERR)
      ✓ should disallow empty mutation (82ms)
**** Call ## 18 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated update (84ms)
**** Call ## 19 ## Duration:  158 (ERR)
      ✓ should disallow updating non-existent article (159ms)
**** Call ## 20 ## Duration:  119 (ERR)
      ✓ should disallow non-author from updating (119ms)
    Favorite
**** Call ## 21 ## Duration:  194
**** Call ## 22 ## Duration:  292
      ✓ should favorite article (486ms)
**** Call ## 23 ## Duration:  78 (ERR)
      ✓ should disallow favoriting by unauthenticated user (79ms)
**** Call ## 24 ## Duration:  125 (ERR)
      ✓ should disallow favoriting unknown article (125ms)
**** Call ## 25 ## Duration:  200
      ✓ should unfavorite article (200ms)
    Delete
**** Call ## 26 ## Duration:  204
**** Call ## 27 ## Duration:  134 (ERR)
      ✓ should delete article (339ms)
**** Call ## 28 ## Duration:  90 (ERR)
      ✓ should disallow deleting by unauthenticated user (91ms)
**** Call ## 29 ## Duration:  131 (ERR)
      ✓ should disallow deleting unknown article (131ms)
**** Call ## 30 ## Duration:  120 (ERR)
      ✓ should disallow deleting article by non-author (120ms)
    List
**** Call ## 31 ## Duration:  132
**** Call ## 32 ## Duration:  141
**** Call ## 33 ## Duration:  137
**** Call ## 34 ## Duration:  117
**** Call ## 35 ## Duration:  151
**** Call ## 36 ## Duration:  160
**** Call ## 37 ## Duration:  120
**** Call ## 38 ## Duration:  136
**** Call ## 39 ## Duration:  125
**** Call ## 40 ## Duration:  192
**** Call ## 41 ## Duration:  129
**** Call ## 42 ## Duration:  131
**** Call ## 43 ## Duration:  155
**** Call ## 44 ## Duration:  143
**** Call ## 45 ## Duration:  139
**** Call ## 46 ## Duration:  137
**** Call ## 47 ## Duration:  195
**** Call ## 48 ## Duration:  185
**** Call ## 49 ## Duration:  121
**** Call ## 50 ## Duration:  121
**** Call ## 51 ## Duration:  442
      ✓ should list articles (442ms)
**** Call ## 52 ## Duration:  751
**** Call ## 53 ## Duration:  416
      ✓ should list articles with tag (1167ms)
**** Call ## 54 ## Duration:  389
      ✓ should list articles by author (389ms)
**** Call ## 55 ## Duration:  243
      ✓ should list articles favorited by user (243ms)
**** Call ## 56 ## Duration:  206
**** Call ## 57 ## Duration:  156
      ✓ should list articles by limit/offset (363ms)
**** Call ## 58 ## Duration:  565
      ✓ should list articles when authenticated (565ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  81 (ERR)
**** Call ## 59 ## Duration:  113 (ERR)
**** Call ## 61 ## Duration:  126 (ERR)
**** Call ## 62 ## Duration:  195
**** Call ## 63 ## Duration:  204
**** Call ## 64 ## Duration:  572
**** Call ## 65 ## Duration:  203
**** Call ## 66 ## Duration:  450
      ✓ should get feed (1628ms)
**** Call ## 67 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated feed (84ms)
    Tags
**** Call ## 68 ## Duration:  287
      ✓ should get tags (287ms)

  Comment
**** Call ## 69 ## Duration:  154
**** Call ## 70 ## Duration:  157
**** Call ## 71 ## Duration:  156
    Create
**** Call ## 72 ## Duration:  177
**** Call ## 73 ## Duration:  195
**** Call ## 74 ## Duration:  246
**** Call ## 75 ## Duration:  149
**** Call ## 76 ## Duration:  185
**** Call ## 77 ## Duration:  189
**** Call ## 78 ## Duration:  197
**** Call ## 79 ## Duration:  147
**** Call ## 80 ## Duration:  145
**** Call ## 81 ## Duration:  164
      ✓ should create comment (1795ms)
**** Call ## 82 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (79ms)
**** Call ## 83 ## Duration:  136 (ERR)
      ✓ should enforce comment body (137ms)
**** Call ## 84 ## Duration:  118 (ERR)
      ✓ should disallow non-existent article (119ms)
    Get
**** Call ## 85 ## Duration:  283
      ✓ should get all comments for article (283ms)
    Delete
**** Call ## 86 ## Duration:  161
      ✓ should delete comment (161ms)
**** Call ## 87 ## Duration:  119 (ERR)
      ✓ only comment author should be able to delete comment (120ms)
**** Call ## 88 ## Duration:  111 (ERR)
      ✓ should disallow unauthenticated user (111ms)
**** Call ## 89 ## Duration:  117 (ERR)
      ✓ should disallow deleting unknown comment (118ms)

  User
    Create
**** Call ## 90 ## Duration:  162
      ✓ should create user (163ms)
**** Call ## 91 ## Duration:  97 (ERR)
      ✓ should disallow same username (98ms)
**** Call ## 92 ## Duration:  128 (ERR)
      ✓ should disallow same email (129ms)
**** Call ## 93 ## Duration:  81 (ERR)
**** Call ## 94 ## Duration:  85 (ERR)
**** Call ## 95 ## Duration:  110 (ERR)
**** Call ## 96 ## Duration:  81 (ERR)
      ✓ should enforce required fields (358ms)
    Login
**** Call ## 97 ## Duration:  165
      ✓ should login (165ms)
**** Call ## 98 ## Duration:  102 (ERR)
      ✓ should disallow unknown email (102ms)
**** Call ## 99 ## Duration:  111 (ERR)
      ✓ should disallow wrong password (111ms)
**** Call ## 100 ## Duration:  116 (ERR)
**** Call ## 101 ## Duration:  82 (ERR)
**** Call ## 102 ## Duration:  115 (ERR)
      ✓ should enforce required fields (314ms)
    Get
**** Call ## 103 ## Duration:  116
      ✓ should get current user (116ms)
**** Call ## 104 ## Duration:  82 (ERR)
**** Call ## 105 ## Duration:  112 (ERR)
**** Call ## 106 ## Duration:  85 (ERR)
**** Call ## 107 ## Duration:  89 (ERR)
      ✓ should disallow bad tokens (369ms)
    Profile
**** Call ## 108 ## Duration:  136
      ✓ should get profile (137ms)
**** Call ## 109 ## Duration:  104 (ERR)
      ✓ should disallow unknown username (104ms)
**** Call ## 110 ## Duration:  199
**** Call ## 111 ## Duration:  186
**** Call ## 112 ## Duration:  205
**** Call ## 113 ## Duration:  272
**** Call ## 114 ## Duration:  120
**** Call ## 115 ## Duration:  170
**** Call ## 116 ## Duration:  248
**** Call ## 117 ## Duration:  176
**** Call ## 118 ## Duration:  187
**** Call ## 119 ## Duration:  153
      ✓ should follow/unfollow user (1919ms)
**** Call ## 120 ## Duration:  115 (ERR)
      ✓ should disallow following with bad token (116ms)
    Update
**** Call ## 121 ## Duration:  147
**** Call ## 122 ## Duration:  126
**** Call ## 123 ## Duration:  126
**** Call ## 124 ## Duration:  106
      ✓ should update user (506ms)
**** Call ## 125 ## Duration:  81 (ERR)
**** Call ## 126 ## Duration:  102 (ERR)
      ✓ should disallow missing token/email in update (184ms)
**** Call ## 127 ## Duration:  138
**** Call ## 128 ## Duration:  112 (ERR)
      ✓ should disallow reusing email (252ms)

  Util
    Ping
**** Call ## 129 ## Duration:  97
      ✓ should ping (97ms)


  58 passing (21s)

results20200518151038/rec-res-9-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
....................................................................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
