Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
.....
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (23.62 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
.................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (23.62 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (23.62 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  988
**** Call ## 1 ## Duration:  130
**** Call ## 2 ## Duration:  128
    Create
**** Call ## 3 ## Duration:  828
      ✓ should create article (830ms)
**** Call ## 4 ## Duration:  115
      ✓ should create article with tags (117ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  719 (ERR)
**** Call ## 7 ## Duration:  76 (ERR)
**** Call ## 8 ## Duration:  67 (ERR)
**** Call ## 9 ## Duration:  74 (ERR)
      ✓ should enforce required fields (938ms)
    Get
**** Call ## 10 ## Duration:  810
      ✓ should get article by slug (810ms)
**** Call ## 11 ## Duration:  102
      ✓ should get article with tags by slug (102ms)
**** Call ## 12 ## Duration:  47 (ERR)
      ✓ should disallow unknown slug (48ms)
    Update
**** Call ## 13 ## Duration:  840
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  167
      ✓ should update article (1154ms)
**** Call ## 16 ## Duration:  27 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  617 (ERR)
      ✓ should disallow empty mutation (618ms)
**** Call ## 18 ## Duration:  64 (ERR)
      ✓ should disallow unauthenticated update (65ms)
**** Call ## 19 ## Duration:  309 (ERR)
      ✓ should disallow updating non-existent article (309ms)
**** Call ## 20 ## Duration:  74 (ERR)
      ✓ should disallow non-author from updating (74ms)
    Favorite
**** Call ## 21 ## Duration:  851
**** Call ## 22 ## Duration:  119
      ✓ should favorite article (971ms)
**** Call ## 23 ## Duration:  32 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  75 (ERR)
      ✓ should disallow favoriting unknown article (75ms)
**** Call ## 25 ## Duration:  844
      ✓ should unfavorite article (845ms)
    Delete
**** Call ## 26 ## Duration:  816
**** Call ## 27 ## Duration:  48 (ERR)
      ✓ should delete article (865ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  77 (ERR)
      ✓ should disallow deleting unknown article (77ms)
**** Call ## 30 ## Duration:  82 (ERR)
      ✓ should disallow deleting article by non-author (82ms)
    List
**** Call ## 31 ## Duration:  194
**** Call ## 32 ## Duration:  83
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  88
**** Call ## 35 ## Duration:  105
**** Call ## 36 ## Duration:  97
**** Call ## 37 ## Duration:  108
**** Call ## 38 ## Duration:  76
**** Call ## 39 ## Duration:  103
**** Call ## 40 ## Duration:  88
**** Call ## 41 ## Duration:  87
**** Call ## 42 ## Duration:  82
**** Call ## 43 ## Duration:  113
**** Call ## 44 ## Duration:  102
**** Call ## 45 ## Duration:  81
**** Call ## 46 ## Duration:  134
**** Call ## 47 ## Duration:  89
**** Call ## 48 ## Duration:  84
**** Call ## 49 ## Duration:  99
**** Call ## 50 ## Duration:  84
**** Call ## 51 ## Duration:  1249
      ✓ should list articles (1250ms)
**** Call ## 52 ## Duration:  88
**** Call ## 53 ## Duration:  176
      ✓ should list articles with tag (264ms)
**** Call ## 54 ## Duration:  287
      ✓ should list articles by author (287ms)
**** Call ## 55 ## Duration:  38
      ✓ should list articles favorited by user (38ms)
**** Call ## 56 ## Duration:  893
**** Call ## 57 ## Duration:  200
      ✓ should list articles by limit/offset (1093ms)
**** Call ## 58 ## Duration:  533
      ✓ should list articles when authenticated (534ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  564 (ERR)
**** Call ## 62 ## Duration:  838
**** Call ## 63 ## Duration:  888
**** Call ## 64 ## Duration:  349
**** Call ## 65 ## Duration:  125
**** Call ## 66 ## Duration:  562
      ✓ should get feed (2762ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  724
      ✓ should get tags (724ms)

  Comment
**** Call ## 69 ## Duration:  164
**** Call ## 70 ## Duration:  166
**** Call ## 71 ## Duration:  138
    Create
**** Call ## 72 ## Duration:  704
**** Call ## 73 ## Duration:  113
**** Call ## 74 ## Duration:  139
**** Call ## 75 ## Duration:  94
**** Call ## 76 ## Duration:  93
**** Call ## 77 ## Duration:  116
**** Call ## 78 ## Duration:  98
**** Call ## 79 ## Duration:  109
**** Call ## 80 ## Duration:  118
**** Call ## 81 ## Duration:  119
      ✓ should create comment (1705ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  689 (ERR)
      ✓ should enforce comment body (690ms)
**** Call ## 84 ## Duration:  75 (ERR)
      ✓ should disallow non-existent article (75ms)
    Get
**** Call ## 85 ## Duration:  978
      ✓ should get all comments for article (979ms)
    Delete
**** Call ## 86 ## Duration:  704
      ✓ should delete comment (704ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  618 (ERR)
      ✓ should disallow deleting unknown comment (619ms)

  User
    Create
**** Call ## 90 ## Duration:  144
      ✓ should create user (144ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  820 (ERR)
      ✓ should disallow same email (820ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (87ms)
    Login
**** Call ## 97 ## Duration:  816
      ✓ should login (816ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  809 (ERR)
      ✓ should disallow wrong password (809ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  17 (ERR)
**** Call ## 102 ## Duration:  24 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  826
      ✓ should get current user (826ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  545 (ERR)
**** Call ## 106 ## Duration:  55 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (643ms)
    Profile
**** Call ## 108 ## Duration:  838
      ✓ should get profile (838ms)
**** Call ## 109 ## Duration:  47 (ERR)
      ✓ should disallow unknown username (47ms)
**** Call ## 110 ## Duration:  189
**** Call ## 111 ## Duration:  184
**** Call ## 112 ## Duration:  160
**** Call ## 113 ## Duration:  94
**** Call ## 114 ## Duration:  70
**** Call ## 115 ## Duration:  129
**** Call ## 116 ## Duration:  116
**** Call ## 117 ## Duration:  912
**** Call ## 118 ## Duration:  137
**** Call ## 119 ## Duration:  143
      ✓ should follow/unfollow user (2135ms)
**** Call ## 120 ## Duration:  59 (ERR)
      ✓ should disallow following with bad token (60ms)
    Update
**** Call ## 121 ## Duration:  903
**** Call ## 122 ## Duration:  98
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  62
      ✓ should update user (1117ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  746 (ERR)
      ✓ should disallow missing token/email in update (767ms)
**** Call ## 127 ## Duration:  190
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (241ms)

  Util
    Ping
**** Call ## 129 ## Duration:  462
      ✓ should ping (462ms)


  58 passing (34s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  222
**** Call ## 1 ## Duration:  115
**** Call ## 2 ## Duration:  127
    Create
**** Call ## 3 ## Duration:  106
      ✓ should create article (108ms)
**** Call ## 4 ## Duration:  105
      ✓ should create article with tags (108ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  125 (ERR)
**** Call ## 7 ## Duration:  60 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  51 (ERR)
      ✓ should enforce required fields (299ms)
    Get
**** Call ## 10 ## Duration:  141
      ✓ should get article by slug (142ms)
**** Call ## 11 ## Duration:  93
      ✓ should get article with tags by slug (93ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  248
**** Call ## 14 ## Duration:  153
**** Call ## 15 ## Duration:  161
      ✓ should update article (565ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  65 (ERR)
      ✓ should disallow empty mutation (65ms)
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  80 (ERR)
      ✓ should disallow updating non-existent article (80ms)
**** Call ## 20 ## Duration:  75 (ERR)
      ✓ should disallow non-author from updating (75ms)
    Favorite
**** Call ## 21 ## Duration:  208
**** Call ## 22 ## Duration:  138
      ✓ should favorite article (346ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  74 (ERR)
      ✓ should disallow favoriting unknown article (75ms)
**** Call ## 25 ## Duration:  192
      ✓ should unfavorite article (192ms)
    Delete
**** Call ## 26 ## Duration:  167
**** Call ## 27 ## Duration:  91 (ERR)
      ✓ should delete article (259ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  78 (ERR)
      ✓ should disallow deleting unknown article (78ms)
**** Call ## 30 ## Duration:  75 (ERR)
      ✓ should disallow deleting article by non-author (75ms)
    List
**** Call ## 31 ## Duration:  122
**** Call ## 32 ## Duration:  107
**** Call ## 33 ## Duration:  91
**** Call ## 34 ## Duration:  93
**** Call ## 35 ## Duration:  95
**** Call ## 36 ## Duration:  72
**** Call ## 37 ## Duration:  97
**** Call ## 38 ## Duration:  97
**** Call ## 39 ## Duration:  81
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  85
**** Call ## 42 ## Duration:  62
**** Call ## 43 ## Duration:  73
**** Call ## 44 ## Duration:  82
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  80
**** Call ## 47 ## Duration:  77
**** Call ## 48 ## Duration:  155
**** Call ## 49 ## Duration:  88
**** Call ## 50 ## Duration:  78
**** Call ## 51 ## Duration:  881
      ✓ should list articles (881ms)
**** Call ## 52 ## Duration:  103
**** Call ## 53 ## Duration:  336
      ✓ should list articles with tag (440ms)
**** Call ## 54 ## Duration:  288
      ✓ should list articles by author (288ms)
**** Call ## 55 ## Duration:  39
      ✓ should list articles favorited by user (40ms)
**** Call ## 56 ## Duration:  232
**** Call ## 57 ## Duration:  166
      ✓ should list articles by limit/offset (399ms)
**** Call ## 58 ## Duration:  751
      ✓ should list articles when authenticated (751ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  50 (ERR)
**** Call ## 59 ## Duration:  51 (ERR)
**** Call ## 62 ## Duration:  145
**** Call ## 63 ## Duration:  148
**** Call ## 64 ## Duration:  323
**** Call ## 65 ## Duration:  125
**** Call ## 66 ## Duration:  596
      ✓ should get feed (1339ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  112
      ✓ should get tags (112ms)

  Comment
**** Call ## 69 ## Duration:  129
**** Call ## 70 ## Duration:  143
**** Call ## 71 ## Duration:  107
    Create
**** Call ## 72 ## Duration:  110
**** Call ## 73 ## Duration:  114
**** Call ## 74 ## Duration:  127
**** Call ## 75 ## Duration:  109
**** Call ## 76 ## Duration:  108
**** Call ## 77 ## Duration:  94
**** Call ## 78 ## Duration:  103
**** Call ## 79 ## Duration:  108
**** Call ## 80 ## Duration:  68
**** Call ## 81 ## Duration:  86
      ✓ should create comment (1029ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  82 (ERR)
      ✓ should enforce comment body (83ms)
**** Call ## 84 ## Duration:  69 (ERR)
      ✓ should disallow non-existent article (69ms)
    Get
**** Call ## 85 ## Duration:  317
      ✓ should get all comments for article (318ms)
    Delete
**** Call ## 86 ## Duration:  104
      ✓ should delete comment (104ms)
**** Call ## 87 ## Duration:  64 (ERR)
      ✓ only comment author should be able to delete comment (65ms)
**** Call ## 88 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  100 (ERR)
      ✓ should disallow deleting unknown comment (101ms)

  User
    Create
**** Call ## 90 ## Duration:  109
      ✓ should create user (110ms)
**** Call ## 91 ## Duration:  37 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  56 (ERR)
      ✓ should disallow same email (58ms)
**** Call ## 93 ## Duration:  27 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (91ms)
    Login
**** Call ## 97 ## Duration:  121
      ✓ should login (121ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  90 (ERR)
      ✓ should disallow wrong password (90ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  172
      ✓ should get current user (172ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  59 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (114ms)
    Profile
**** Call ## 108 ## Duration:  135
      ✓ should get profile (135ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  125
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  137
**** Call ## 113 ## Duration:  91
**** Call ## 114 ## Duration:  89
**** Call ## 115 ## Duration:  112
**** Call ## 116 ## Duration:  97
**** Call ## 117 ## Duration:  173
**** Call ## 118 ## Duration:  102
**** Call ## 119 ## Duration:  132
      ✓ should follow/unfollow user (1195ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  163
**** Call ## 122 ## Duration:  105
**** Call ## 123 ## Duration:  63
**** Call ## 124 ## Duration:  59
      ✓ should update user (390ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  94 (ERR)
      ✓ should disallow missing token/email in update (115ms)
**** Call ## 127 ## Duration:  110
**** Call ## 128 ## Duration:  62 (ERR)
      ✓ should disallow reusing email (172ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  233
**** Call ## 1 ## Duration:  139
**** Call ## 2 ## Duration:  106
    Create
**** Call ## 3 ## Duration:  104
      ✓ should create article (107ms)
**** Call ## 4 ## Duration:  94
      ✓ should create article with tags (96ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  86 (ERR)
**** Call ## 7 ## Duration:  73 (ERR)
**** Call ## 8 ## Duration:  74 (ERR)
**** Call ## 9 ## Duration:  76 (ERR)
      ✓ should enforce required fields (311ms)
    Get
**** Call ## 10 ## Duration:  103
      ✓ should get article by slug (105ms)
**** Call ## 11 ## Duration:  138
      ✓ should get article with tags by slug (138ms)
**** Call ## 12 ## Duration:  34 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  220
**** Call ## 14 ## Duration:  121
**** Call ## 15 ## Duration:  148
      ✓ should update article (490ms)
**** Call ## 16 ## Duration:  18 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  61 (ERR)
      ✓ should disallow empty mutation (61ms)
**** Call ## 18 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  68 (ERR)
      ✓ should disallow updating non-existent article (69ms)
**** Call ## 20 ## Duration:  81 (ERR)
      ✓ should disallow non-author from updating (81ms)
    Favorite
**** Call ## 21 ## Duration:  182
**** Call ## 22 ## Duration:  102
      ✓ should favorite article (284ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  177
      ✓ should unfavorite article (177ms)
    Delete
**** Call ## 26 ## Duration:  167
**** Call ## 27 ## Duration:  36 (ERR)
      ✓ should delete article (203ms)
**** Call ## 28 ## Duration:  17 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (70ms)
    List
**** Call ## 31 ## Duration:  105
**** Call ## 32 ## Duration:  102
**** Call ## 33 ## Duration:  151
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  111
**** Call ## 36 ## Duration:  77
**** Call ## 37 ## Duration:  78
**** Call ## 38 ## Duration:  90
**** Call ## 39 ## Duration:  125
**** Call ## 40 ## Duration:  101
**** Call ## 41 ## Duration:  70
**** Call ## 42 ## Duration:  101
**** Call ## 43 ## Duration:  110
**** Call ## 44 ## Duration:  126
**** Call ## 45 ## Duration:  111
**** Call ## 46 ## Duration:  92
**** Call ## 47 ## Duration:  104
**** Call ## 48 ## Duration:  82
**** Call ## 49 ## Duration:  94
**** Call ## 50 ## Duration:  71
**** Call ## 51 ## Duration:  888
      ✓ should list articles (889ms)
**** Call ## 52 ## Duration:  119
**** Call ## 53 ## Duration:  447
      ✓ should list articles with tag (566ms)
**** Call ## 54 ## Duration:  282
      ✓ should list articles by author (282ms)
**** Call ## 55 ## Duration:  39
      ✓ should list articles favorited by user (39ms)
**** Call ## 56 ## Duration:  251
**** Call ## 57 ## Duration:  161
      ✓ should list articles by limit/offset (412ms)
**** Call ## 58 ## Duration:  809
      ✓ should list articles when authenticated (810ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  49 (ERR)
**** Call ## 62 ## Duration:  154
**** Call ## 63 ## Duration:  156
**** Call ## 64 ## Duration:  346
**** Call ## 65 ## Duration:  124
**** Call ## 66 ## Duration:  631
      ✓ should get feed (1411ms)
**** Call ## 67 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  104
      ✓ should get tags (104ms)

  Comment
**** Call ## 69 ## Duration:  118
**** Call ## 70 ## Duration:  160
**** Call ## 71 ## Duration:  107
    Create
**** Call ## 72 ## Duration:  163
**** Call ## 73 ## Duration:  97
**** Call ## 74 ## Duration:  116
**** Call ## 75 ## Duration:  100
**** Call ## 76 ## Duration:  125
**** Call ## 77 ## Duration:  97
**** Call ## 78 ## Duration:  84
**** Call ## 79 ## Duration:  105
**** Call ## 80 ## Duration:  73
**** Call ## 81 ## Duration:  87
      ✓ should create comment (1050ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  83 (ERR)
      ✓ should enforce comment body (83ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  301
      ✓ should get all comments for article (301ms)
    Delete
**** Call ## 86 ## Duration:  151
      ✓ should delete comment (151ms)
**** Call ## 87 ## Duration:  85 (ERR)
      ✓ only comment author should be able to delete comment (86ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  85 (ERR)
      ✓ should disallow deleting unknown comment (85ms)

  User
    Create
**** Call ## 90 ## Duration:  119
      ✓ should create user (119ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  35 (ERR)
      ✓ should disallow same email
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  607 (ERR)
      ✓ should enforce required fields (672ms)
    Login
**** Call ## 97 ## Duration:  123
      ✓ should login (123ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  102 (ERR)
      ✓ should disallow wrong password (103ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  17 (ERR)
      ✓ should enforce required fields (57ms)
    Get
**** Call ## 103 ## Duration:  98
      ✓ should get current user (98ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  52 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (122ms)
    Profile
**** Call ## 108 ## Duration:  125
      ✓ should get profile (125ms)
**** Call ## 109 ## Duration:  27 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  330
**** Call ## 111 ## Duration:  127
**** Call ## 112 ## Duration:  100
**** Call ## 113 ## Duration:  81
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  119
**** Call ## 116 ## Duration:  87
**** Call ## 117 ## Duration:  179
**** Call ## 118 ## Duration:  95
**** Call ## 119 ## Duration:  122
      ✓ should follow/unfollow user (1305ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  137
**** Call ## 122 ## Duration:  42
**** Call ## 123 ## Duration:  60
**** Call ## 124 ## Duration:  60
      ✓ should update user (301ms)
**** Call ## 125 ## Duration:  26 (ERR)
**** Call ## 126 ## Duration:  86 (ERR)
      ✓ should disallow missing token/email in update (114ms)
**** Call ## 127 ## Duration:  100
**** Call ## 128 ## Duration:  69 (ERR)
      ✓ should disallow reusing email (169ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  250
**** Call ## 1 ## Duration:  127
**** Call ## 2 ## Duration:  114
    Create
**** Call ## 3 ## Duration:  104
      ✓ should create article (107ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (85ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  70 (ERR)
**** Call ## 7 ## Duration:  59 (ERR)
**** Call ## 8 ## Duration:  76 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (266ms)
    Get
**** Call ## 10 ## Duration:  96
      ✓ should get article by slug (96ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (90ms)
**** Call ## 12 ## Duration:  31 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  159
**** Call ## 14 ## Duration:  148
**** Call ## 15 ## Duration:  135
      ✓ should update article (445ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  52 (ERR)
      ✓ should disallow non-author from updating (53ms)
    Favorite
**** Call ## 21 ## Duration:  149
**** Call ## 22 ## Duration:  118
      ✓ should favorite article (268ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  74 (ERR)
      ✓ should disallow favoriting unknown article (74ms)
**** Call ## 25 ## Duration:  138
      ✓ should unfavorite article (140ms)
    Delete
**** Call ## 26 ## Duration:  99
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (134ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown article (73ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  102
**** Call ## 32 ## Duration:  99
**** Call ## 33 ## Duration:  98
**** Call ## 34 ## Duration:  101
**** Call ## 35 ## Duration:  102
**** Call ## 36 ## Duration:  131
**** Call ## 37 ## Duration:  84
**** Call ## 38 ## Duration:  80
**** Call ## 39 ## Duration:  101
**** Call ## 40 ## Duration:  103
**** Call ## 41 ## Duration:  83
**** Call ## 42 ## Duration:  119
**** Call ## 43 ## Duration:  65
**** Call ## 44 ## Duration:  72
**** Call ## 45 ## Duration:  67
**** Call ## 46 ## Duration:  84
**** Call ## 47 ## Duration:  64
**** Call ## 48 ## Duration:  74
**** Call ## 49 ## Duration:  73
**** Call ## 50 ## Duration:  64
**** Call ## 51 ## Duration:  808
      ✓ should list articles (809ms)
**** Call ## 52 ## Duration:  164
**** Call ## 53 ## Duration:  594
      ✓ should list articles with tag (759ms)
**** Call ## 54 ## Duration:  291
      ✓ should list articles by author (291ms)
**** Call ## 55 ## Duration:  40
      ✓ should list articles favorited by user (40ms)
**** Call ## 56 ## Duration:  240
**** Call ## 57 ## Duration:  184
      ✓ should list articles by limit/offset (424ms)
**** Call ## 58 ## Duration:  840
      ✓ should list articles when authenticated (840ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  36 (ERR)
**** Call ## 59 ## Duration:  64 (ERR)
**** Call ## 62 ## Duration:  99
**** Call ## 63 ## Duration:  138
**** Call ## 64 ## Duration:  322
**** Call ## 65 ## Duration:  133
**** Call ## 66 ## Duration:  647
      ✓ should get feed (1340ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  68
      ✓ should get tags (68ms)

  Comment
**** Call ## 69 ## Duration:  177
**** Call ## 70 ## Duration:  139
**** Call ## 71 ## Duration:  75
    Create
**** Call ## 72 ## Duration:  160
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  100
**** Call ## 75 ## Duration:  102
**** Call ## 76 ## Duration:  94
**** Call ## 77 ## Duration:  93
**** Call ## 78 ## Duration:  110
**** Call ## 79 ## Duration:  100
**** Call ## 80 ## Duration:  104
**** Call ## 81 ## Duration:  98
      ✓ should create comment (1070ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  310
      ✓ should get all comments for article (311ms)
    Delete
**** Call ## 86 ## Duration:  102
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  88 (ERR)
      ✓ only comment author should be able to delete comment (88ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  128 (ERR)
      ✓ should disallow deleting unknown comment (128ms)

  User
    Create
**** Call ## 90 ## Duration:  85
      ✓ should create user (85ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  54 (ERR)
      ✓ should disallow same email (55ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  17 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  75
      ✓ should login (75ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  54 (ERR)
      ✓ should disallow wrong password (55ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (89ms)
    Profile
**** Call ## 108 ## Duration:  74
      ✓ should get profile (75ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  121
**** Call ## 111 ## Duration:  143
**** Call ## 112 ## Duration:  153
**** Call ## 113 ## Duration:  102
**** Call ## 114 ## Duration:  66
**** Call ## 115 ## Duration:  113
**** Call ## 116 ## Duration:  110
**** Call ## 117 ## Duration:  127
**** Call ## 118 ## Duration:  136
**** Call ## 119 ## Duration:  112
      ✓ should follow/unfollow user (1183ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  40
**** Call ## 124 ## Duration:  67
      ✓ should update user (267ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  27 (ERR)
      ✓ should disallow missing token/email in update (47ms)
**** Call ## 127 ## Duration:  122
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (182ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  223
**** Call ## 1 ## Duration:  111
**** Call ## 2 ## Duration:  104
    Create
**** Call ## 3 ## Duration:  94
      ✓ should create article (98ms)
**** Call ## 4 ## Duration:  140
      ✓ should create article with tags (142ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  56 (ERR)
**** Call ## 7 ## Duration:  91 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  52 (ERR)
      ✓ should enforce required fields (256ms)
    Get
**** Call ## 10 ## Duration:  95
      ✓ should get article by slug (95ms)
**** Call ## 11 ## Duration:  81
      ✓ should get article with tags by slug (81ms)
**** Call ## 12 ## Duration:  38 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  192
**** Call ## 14 ## Duration:  161
**** Call ## 15 ## Duration:  175
      ✓ should update article (530ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  57 (ERR)
      ✓ should disallow updating non-existent article (57ms)
**** Call ## 20 ## Duration:  77 (ERR)
      ✓ should disallow non-author from updating (77ms)
    Favorite
**** Call ## 21 ## Duration:  143
**** Call ## 22 ## Duration:  98
      ✓ should favorite article (242ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  151
      ✓ should unfavorite article (151ms)
    Delete
**** Call ## 26 ## Duration:  124
**** Call ## 27 ## Duration:  44 (ERR)
      ✓ should delete article (168ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  75 (ERR)
      ✓ should disallow deleting unknown article (75ms)
**** Call ## 30 ## Duration:  73 (ERR)
      ✓ should disallow deleting article by non-author (74ms)
    List
**** Call ## 31 ## Duration:  113
**** Call ## 32 ## Duration:  81
**** Call ## 33 ## Duration:  82
**** Call ## 34 ## Duration:  83
**** Call ## 35 ## Duration:  61
**** Call ## 36 ## Duration:  72
**** Call ## 37 ## Duration:  83
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  110
**** Call ## 40 ## Duration:  101
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  120
**** Call ## 43 ## Duration:  95
**** Call ## 44 ## Duration:  71
**** Call ## 45 ## Duration:  67
**** Call ## 46 ## Duration:  56
**** Call ## 47 ## Duration:  58
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  69
**** Call ## 50 ## Duration:  116
**** Call ## 51 ## Duration:  1046
      ✓ should list articles (1046ms)
**** Call ## 52 ## Duration:  190
**** Call ## 53 ## Duration:  587
      ✓ should list articles with tag (777ms)
**** Call ## 54 ## Duration:  288
      ✓ should list articles by author (288ms)
**** Call ## 55 ## Duration:  47
      ✓ should list articles favorited by user (48ms)
**** Call ## 56 ## Duration:  205
**** Call ## 57 ## Duration:  160
      ✓ should list articles by limit/offset (365ms)
**** Call ## 58 ## Duration:  888
      ✓ should list articles when authenticated (888ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  92
**** Call ## 63 ## Duration:  110
**** Call ## 64 ## Duration:  331
**** Call ## 65 ## Duration:  104
**** Call ## 66 ## Duration:  609
      ✓ should get feed (1246ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  88
      ✓ should get tags (88ms)

  Comment
**** Call ## 69 ## Duration:  139
**** Call ## 70 ## Duration:  114
**** Call ## 71 ## Duration:  84
    Create
**** Call ## 72 ## Duration:  120
**** Call ## 73 ## Duration:  101
**** Call ## 74 ## Duration:  93
**** Call ## 75 ## Duration:  112
**** Call ## 76 ## Duration:  115
**** Call ## 77 ## Duration:  100
**** Call ## 78 ## Duration:  92
**** Call ## 79 ## Duration:  95
**** Call ## 80 ## Duration:  84
**** Call ## 81 ## Duration:  93
      ✓ should create comment (1006ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  53 (ERR)
      ✓ should disallow non-existent article (54ms)
    Get
**** Call ## 85 ## Duration:  284
      ✓ should get all comments for article (284ms)
    Delete
**** Call ## 86 ## Duration:  102
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  48 (ERR)
      ✓ only comment author should be able to delete comment (50ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  107 (ERR)
      ✓ should disallow deleting unknown comment (107ms)

  User
    Create
**** Call ## 90 ## Duration:  125
      ✓ should create user (125ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  56 (ERR)
      ✓ should disallow same email (56ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  68
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  25 (ERR)
      ✓ should enforce required fields (69ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (81ms)
    Profile
**** Call ## 108 ## Duration:  64
      ✓ should get profile (64ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  145
**** Call ## 111 ## Duration:  108
**** Call ## 112 ## Duration:  91
**** Call ## 113 ## Duration:  91
**** Call ## 114 ## Duration:  167
**** Call ## 115 ## Duration:  116
**** Call ## 116 ## Duration:  108
**** Call ## 117 ## Duration:  122
**** Call ## 118 ## Duration:  111
**** Call ## 119 ## Duration:  133
      ✓ should follow/unfollow user (1194ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  64
**** Call ## 124 ## Duration:  67
      ✓ should update user (287ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (76ms)
**** Call ## 127 ## Duration:  109
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (171ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  186
**** Call ## 1 ## Duration:  111
**** Call ## 2 ## Duration:  105
    Create
**** Call ## 3 ## Duration:  89
      ✓ should create article (92ms)
**** Call ## 4 ## Duration:  76
      ✓ should create article with tags (78ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  72 (ERR)
**** Call ## 7 ## Duration:  63 (ERR)
**** Call ## 8 ## Duration:  62 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (254ms)
    Get
**** Call ## 10 ## Duration:  91
      ✓ should get article by slug (92ms)
**** Call ## 11 ## Duration:  81
      ✓ should get article with tags by slug (81ms)
**** Call ## 12 ## Duration:  33 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  177
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  137
      ✓ should update article (452ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  68 (ERR)
      ✓ should disallow updating non-existent article (68ms)
**** Call ## 20 ## Duration:  59 (ERR)
      ✓ should disallow non-author from updating (60ms)
    Favorite
**** Call ## 21 ## Duration:  146
**** Call ## 22 ## Duration:  104
      ✓ should favorite article (250ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  113
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (151ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown article (73ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  91
**** Call ## 32 ## Duration:  84
**** Call ## 33 ## Duration:  75
**** Call ## 34 ## Duration:  109
**** Call ## 35 ## Duration:  233
**** Call ## 36 ## Duration:  84
**** Call ## 37 ## Duration:  77
**** Call ## 38 ## Duration:  88
**** Call ## 39 ## Duration:  61
**** Call ## 40 ## Duration:  92
**** Call ## 41 ## Duration:  77
**** Call ## 42 ## Duration:  78
**** Call ## 43 ## Duration:  69
**** Call ## 44 ## Duration:  79
**** Call ## 45 ## Duration:  60
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  77
**** Call ## 48 ## Duration:  58
**** Call ## 49 ## Duration:  70
**** Call ## 50 ## Duration:  75
**** Call ## 51 ## Duration:  793
      ✓ should list articles (793ms)
**** Call ## 52 ## Duration:  204
**** Call ## 53 ## Duration:  557
      ✓ should list articles with tag (761ms)
**** Call ## 54 ## Duration:  244
      ✓ should list articles by author (244ms)
**** Call ## 55 ## Duration:  58
      ✓ should list articles favorited by user (58ms)
**** Call ## 56 ## Duration:  165
**** Call ## 57 ## Duration:  159
      ✓ should list articles by limit/offset (324ms)
**** Call ## 58 ## Duration:  945
      ✓ should list articles when authenticated (945ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  87
**** Call ## 63 ## Duration:  131
**** Call ## 64 ## Duration:  384
**** Call ## 65 ## Duration:  129
**** Call ## 66 ## Duration:  577
      ✓ should get feed (1310ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  94
      ✓ should get tags (94ms)

  Comment
**** Call ## 69 ## Duration:  117
**** Call ## 70 ## Duration:  109
**** Call ## 71 ## Duration:  209
    Create
**** Call ## 72 ## Duration:  125
**** Call ## 73 ## Duration:  101
**** Call ## 74 ## Duration:  98
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  90
**** Call ## 77 ## Duration:  110
**** Call ## 78 ## Duration:  103
**** Call ## 79 ## Duration:  92
**** Call ## 80 ## Duration:  102
**** Call ## 81 ## Duration:  98
      ✓ should create comment (1022ms)
**** Call ## 82 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (79ms)
**** Call ## 83 ## Duration:  27 (ERR)
      ✓ should enforce comment body
**** Call ## 84 ## Duration:  67 (ERR)
      ✓ should disallow non-existent article (67ms)
    Get
**** Call ## 85 ## Duration:  303
      ✓ should get all comments for article (304ms)
    Delete
**** Call ## 86 ## Duration:  152
      ✓ should delete comment (152ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  93
      ✓ should create user (94ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  55 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (120ms)
    Login
**** Call ## 97 ## Duration:  81
      ✓ should login (81ms)
**** Call ## 98 ## Duration:  26 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (44ms)
**** Call ## 100 ## Duration:  17 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (57ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (77ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (70ms)
**** Call ## 109 ## Duration:  46 (ERR)
      ✓ should disallow unknown username (47ms)
**** Call ## 110 ## Duration:  89
**** Call ## 111 ## Duration:  114
**** Call ## 112 ## Duration:  188
**** Call ## 113 ## Duration:  85
**** Call ## 114 ## Duration:  43
**** Call ## 115 ## Duration:  122
**** Call ## 116 ## Duration:  92
**** Call ## 117 ## Duration:  158
**** Call ## 118 ## Duration:  107
**** Call ## 119 ## Duration:  129
      ✓ should follow/unfollow user (1127ms)
**** Call ## 120 ## Duration:  36 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  98
**** Call ## 122 ## Duration:  68
**** Call ## 123 ## Duration:  40
**** Call ## 124 ## Duration:  74
      ✓ should update user (282ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  33 (ERR)
      ✓ should disallow missing token/email in update (53ms)
**** Call ## 127 ## Duration:  104
**** Call ## 128 ## Duration:  57 (ERR)
      ✓ should disallow reusing email (162ms)

  Util
    Ping
**** Call ## 129 ## Duration:  33
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  162
**** Call ## 1 ## Duration:  105
**** Call ## 2 ## Duration:  84
    Create
**** Call ## 3 ## Duration:  107
      ✓ should create article (109ms)
**** Call ## 4 ## Duration:  96
      ✓ should create article with tags (98ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  67 (ERR)
**** Call ## 7 ## Duration:  54 (ERR)
**** Call ## 8 ## Duration:  67 (ERR)
**** Call ## 9 ## Duration:  77 (ERR)
      ✓ should enforce required fields (268ms)
    Get
**** Call ## 10 ## Duration:  87
      ✓ should get article by slug (89ms)
**** Call ## 11 ## Duration:  79
      ✓ should get article with tags by slug (80ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  203
**** Call ## 14 ## Duration:  124
**** Call ## 15 ## Duration:  147
      ✓ should update article (475ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  86 (ERR)
      ✓ should disallow updating non-existent article (87ms)
**** Call ## 20 ## Duration:  68 (ERR)
      ✓ should disallow non-author from updating (68ms)
    Favorite
**** Call ## 21 ## Duration:  131
**** Call ## 22 ## Duration:  119
      ✓ should favorite article (250ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  57 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  124
      ✓ should unfavorite article (124ms)
    Delete
**** Call ## 26 ## Duration:  125
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (167ms)
**** Call ## 28 ## Duration:  17 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown article (63ms)
**** Call ## 30 ## Duration:  52 (ERR)
      ✓ should disallow deleting article by non-author (52ms)
    List
**** Call ## 31 ## Duration:  114
**** Call ## 32 ## Duration:  93
**** Call ## 33 ## Duration:  86
**** Call ## 34 ## Duration:  99
**** Call ## 35 ## Duration:  72
**** Call ## 36 ## Duration:  77
**** Call ## 37 ## Duration:  81
**** Call ## 38 ## Duration:  99
**** Call ## 39 ## Duration:  84
**** Call ## 40 ## Duration:  88
**** Call ## 41 ## Duration:  89
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  83
**** Call ## 44 ## Duration:  94
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  95
**** Call ## 47 ## Duration:  57
**** Call ## 48 ## Duration:  84
**** Call ## 49 ## Duration:  76
**** Call ## 50 ## Duration:  93
**** Call ## 51 ## Duration:  880
      ✓ should list articles (880ms)
**** Call ## 52 ## Duration:  209
**** Call ## 53 ## Duration:  550
      ✓ should list articles with tag (759ms)
**** Call ## 54 ## Duration:  290
      ✓ should list articles by author (290ms)
**** Call ## 55 ## Duration:  50
      ✓ should list articles favorited by user (51ms)
**** Call ## 56 ## Duration:  168
**** Call ## 57 ## Duration:  146
      ✓ should list articles by limit/offset (314ms)
**** Call ## 58 ## Duration:  763
      ✓ should list articles when authenticated (763ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  225
**** Call ## 63 ## Duration:  118
**** Call ## 64 ## Duration:  324
**** Call ## 65 ## Duration:  128
**** Call ## 66 ## Duration:  616
      ✓ should get feed (1412ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  104
      ✓ should get tags (104ms)

  Comment
**** Call ## 69 ## Duration:  153
**** Call ## 70 ## Duration:  109
**** Call ## 71 ## Duration:  91
    Create
**** Call ## 72 ## Duration:  112
**** Call ## 73 ## Duration:  107
**** Call ## 74 ## Duration:  105
**** Call ## 75 ## Duration:  99
**** Call ## 76 ## Duration:  96
**** Call ## 77 ## Duration:  104
**** Call ## 78 ## Duration:  89
**** Call ## 79 ## Duration:  116
**** Call ## 80 ## Duration:  94
**** Call ## 81 ## Duration:  103
      ✓ should create comment (1027ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  268
      ✓ should get all comments for article (268ms)
    Delete
**** Call ## 86 ## Duration:  110
      ✓ should delete comment (110ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  56 (ERR)
      ✓ should disallow deleting unknown comment (56ms)

  User
    Create
**** Call ## 90 ## Duration:  119
      ✓ should create user (119ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  50 (ERR)
      ✓ should disallow same email (51ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  71
      ✓ should login (71ms)
**** Call ## 98 ## Duration:  30 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (50ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  32 (ERR)
      ✓ should enforce required fields (72ms)
    Get
**** Call ## 103 ## Duration:  43
      ✓ should get current user (43ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (87ms)
    Profile
**** Call ## 108 ## Duration:  62
      ✓ should get profile (62ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  123
**** Call ## 111 ## Duration:  168
**** Call ## 112 ## Duration:  125
**** Call ## 113 ## Duration:  88
**** Call ## 114 ## Duration:  61
**** Call ## 115 ## Duration:  136
**** Call ## 116 ## Duration:  97
**** Call ## 117 ## Duration:  112
**** Call ## 118 ## Duration:  124
**** Call ## 119 ## Duration:  127
      ✓ should follow/unfollow user (1163ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  59
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  46
      ✓ should update user (253ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  40 (ERR)
      ✓ should disallow missing token/email in update (61ms)
**** Call ## 127 ## Duration:  107
**** Call ## 128 ## Duration:  45 (ERR)
      ✓ should disallow reusing email (153ms)

  Util
    Ping
**** Call ## 129 ## Duration:  17
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  174
**** Call ## 1 ## Duration:  115
**** Call ## 2 ## Duration:  114
    Create
**** Call ## 3 ## Duration:  94
      ✓ should create article (96ms)
**** Call ## 4 ## Duration:  98
      ✓ should create article with tags (100ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  65 (ERR)
**** Call ## 7 ## Duration:  72 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (250ms)
    Get
**** Call ## 10 ## Duration:  94
      ✓ should get article by slug (94ms)
**** Call ## 11 ## Duration:  77
      ✓ should get article with tags by slug (77ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  157
**** Call ## 15 ## Duration:  156
      ✓ should update article (469ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  83 (ERR)
      ✓ should disallow updating non-existent article (83ms)
**** Call ## 20 ## Duration:  70 (ERR)
      ✓ should disallow non-author from updating (72ms)
    Favorite
**** Call ## 21 ## Duration:  161
**** Call ## 22 ## Duration:  96
      ✓ should favorite article (257ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  115
      ✓ should unfavorite article (115ms)
    Delete
**** Call ## 26 ## Duration:  113
**** Call ## 27 ## Duration:  33 (ERR)
      ✓ should delete article (146ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  62 (ERR)
      ✓ should disallow deleting article by non-author (63ms)
    List
**** Call ## 31 ## Duration:  84
**** Call ## 32 ## Duration:  81
**** Call ## 33 ## Duration:  80
**** Call ## 34 ## Duration:  77
**** Call ## 35 ## Duration:  68
**** Call ## 36 ## Duration:  85
**** Call ## 37 ## Duration:  80
**** Call ## 38 ## Duration:  66
**** Call ## 39 ## Duration:  118
**** Call ## 40 ## Duration:  80
**** Call ## 41 ## Duration:  60
**** Call ## 42 ## Duration:  54
**** Call ## 43 ## Duration:  73
**** Call ## 44 ## Duration:  64
**** Call ## 45 ## Duration:  76
**** Call ## 46 ## Duration:  92
**** Call ## 47 ## Duration:  69
**** Call ## 48 ## Duration:  53
**** Call ## 49 ## Duration:  76
**** Call ## 50 ## Duration:  64
**** Call ## 51 ## Duration:  871
      ✓ should list articles (871ms)
**** Call ## 52 ## Duration:  252
**** Call ## 53 ## Duration:  582
      ✓ should list articles with tag (834ms)
**** Call ## 54 ## Duration:  340
      ✓ should list articles by author (341ms)
**** Call ## 55 ## Duration:  54
      ✓ should list articles favorited by user (54ms)
**** Call ## 56 ## Duration:  131
**** Call ## 57 ## Duration:  140
      ✓ should list articles by limit/offset (271ms)
**** Call ## 58 ## Duration:  761
      ✓ should list articles when authenticated (761ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  80 (ERR)
**** Call ## 62 ## Duration:  91
**** Call ## 63 ## Duration:  146
**** Call ## 64 ## Duration:  244 (ERR)
      1) should get feed

  28 passing (8s)
  1 failing

  1) Article
       Feed
         should get feed:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:18:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:202:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T00_10_58_108Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  182
**** Call ## 1 ## Duration:  125
**** Call ## 2 ## Duration:  211
    Create
**** Call ## 3 ## Duration:  105
      ✓ should create article (107ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (81ms)
**** Call ## 5 ## Duration:  34 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  64 (ERR)
**** Call ## 7 ## Duration:  66 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  76 (ERR)
      ✓ should enforce required fields (268ms)
    Get
**** Call ## 10 ## Duration:  102
      ✓ should get article by slug (102ms)
**** Call ## 11 ## Duration:  105
      ✓ should get article with tags by slug (105ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  161
**** Call ## 14 ## Duration:  140
**** Call ## 15 ## Duration:  110
      ✓ should update article (415ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  35 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  61 (ERR)
      ✓ should disallow updating non-existent article (61ms)
**** Call ## 20 ## Duration:  68 (ERR)
      ✓ should disallow non-author from updating (69ms)
    Favorite
**** Call ## 21 ## Duration:  126
**** Call ## 22 ## Duration:  105
      ✓ should favorite article (231ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  88 (ERR)
      ✓ should disallow favoriting unknown article (88ms)
**** Call ## 25 ## Duration:  121
      ✓ should unfavorite article (121ms)
    Delete
**** Call ## 26 ## Duration:  137
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (180ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown article (60ms)
**** Call ## 30 ## Duration:  71 (ERR)
      ✓ should disallow deleting article by non-author (71ms)
    List
**** Call ## 31 ## Duration:  88
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  109
**** Call ## 34 ## Duration:  74
**** Call ## 35 ## Duration:  85
**** Call ## 36 ## Duration:  93
**** Call ## 37 ## Duration:  93
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  85
**** Call ## 40 ## Duration:  129
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  66
**** Call ## 43 ## Duration:  88
**** Call ## 44 ## Duration:  91
**** Call ## 45 ## Duration:  65
**** Call ## 46 ## Duration:  106
**** Call ## 47 ## Duration:  55
**** Call ## 48 ## Duration:  91
**** Call ## 49 ## Duration:  97
**** Call ## 50 ## Duration:  67
**** Call ## 51 ## Duration:  947
      ✓ should list articles (947ms)
**** Call ## 52 ## Duration:  270
**** Call ## 53 ## Duration:  560
      ✓ should list articles with tag (831ms)
**** Call ## 54 ## Duration:  325
      ✓ should list articles by author (325ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  188
**** Call ## 57 ## Duration:  183
      ✓ should list articles by limit/offset (372ms)
**** Call ## 58 ## Duration:  831
      ✓ should list articles when authenticated (832ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  71 (ERR)
**** Call ## 62 ## Duration:  180
**** Call ## 63 ## Duration:  124
**** Call ## 64 ## Duration:  374
**** Call ## 65 ## Duration:  125
**** Call ## 66 ## Duration:  587
      ✓ should get feed (1390ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  111
      ✓ should get tags (111ms)

  Comment
**** Call ## 69 ## Duration:  130
**** Call ## 70 ## Duration:  124
**** Call ## 71 ## Duration:  88
    Create
**** Call ## 72 ## Duration:  114
**** Call ## 73 ## Duration:  93
**** Call ## 74 ## Duration:  84
**** Call ## 75 ## Duration:  114
**** Call ## 76 ## Duration:  97
**** Call ## 77 ## Duration:  81
**** Call ## 78 ## Duration:  90
**** Call ## 79 ## Duration:  90
**** Call ## 80 ## Duration:  65
**** Call ## 81 ## Duration:  85
      ✓ should create comment (916ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  38 (ERR)
      ✓ should enforce comment body (39ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  291
      ✓ should get all comments for article (291ms)
    Delete
**** Call ## 86 ## Duration:  107
      ✓ should delete comment (108ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown comment (73ms)

  User
    Create
**** Call ## 90 ## Duration:  96
      ✓ should create user (96ms)
**** Call ## 91 ## Duration:  75 (ERR)
      ✓ should disallow same username (75ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  90
      ✓ should login (91ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  17 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  56
      ✓ should get current user (56ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  93
**** Call ## 111 ## Duration:  130
**** Call ## 112 ## Duration:  175
**** Call ## 113 ## Duration:  86
**** Call ## 114 ## Duration:  69
**** Call ## 115 ## Duration:  96
**** Call ## 116 ## Duration:  94
**** Call ## 117 ## Duration:  134
**** Call ## 118 ## Duration:  127
**** Call ## 119 ## Duration:  131
      ✓ should follow/unfollow user (1137ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  123
**** Call ## 122 ## Duration:  62
**** Call ## 123 ## Duration:  55
**** Call ## 124 ## Duration:  49
      ✓ should update user (290ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (69ms)
**** Call ## 127 ## Duration:  102
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (162ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  167
**** Call ## 1 ## Duration:  106
**** Call ## 2 ## Duration:  162
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (96ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (82ms)
**** Call ## 5 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  73 (ERR)
**** Call ## 7 ## Duration:  67 (ERR)
**** Call ## 8 ## Duration:  65 (ERR)
**** Call ## 9 ## Duration:  64 (ERR)
      ✓ should enforce required fields (271ms)
    Get
**** Call ## 10 ## Duration:  81
      ✓ should get article by slug (82ms)
**** Call ## 11 ## Duration:  135
      ✓ should get article with tags by slug (135ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  146
      ✓ should update article (448ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  60 (ERR)
      ✓ should disallow updating non-existent article (60ms)
**** Call ## 20 ## Duration:  55 (ERR)
      ✓ should disallow non-author from updating (55ms)
    Favorite
**** Call ## 21 ## Duration:  138
**** Call ## 22 ## Duration:  113
      ✓ should favorite article (251ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  71 (ERR)
      ✓ should disallow favoriting unknown article (71ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  111
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (151ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  59 (ERR)
      ✓ should disallow deleting article by non-author (59ms)
    List
**** Call ## 31 ## Duration:  100
**** Call ## 32 ## Duration:  115
**** Call ## 33 ## Duration:  80
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  68
**** Call ## 36 ## Duration:  81
**** Call ## 37 ## Duration:  88
**** Call ## 38 ## Duration:  76
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  55
**** Call ## 42 ## Duration:  71
**** Call ## 43 ## Duration:  85
**** Call ## 44 ## Duration:  60
**** Call ## 45 ## Duration:  139
**** Call ## 46 ## Duration:  80
**** Call ## 47 ## Duration:  76
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  79
**** Call ## 50 ## Duration:  85
**** Call ## 51 ## Duration:  875
      ✓ should list articles (875ms)
**** Call ## 52 ## Duration:  307
**** Call ## 53 ## Duration:  542
      ✓ should list articles with tag (849ms)
**** Call ## 54 ## Duration:  305
      ✓ should list articles by author (305ms)
**** Call ## 55 ## Duration:  78
      ✓ should list articles favorited by user (79ms)
**** Call ## 56 ## Duration:  136
**** Call ## 57 ## Duration:  162
      ✓ should list articles by limit/offset (299ms)
**** Call ## 58 ## Duration:  784
      ✓ should list articles when authenticated (784ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  74 (ERR)
**** Call ## 62 ## Duration:  96
**** Call ## 63 ## Duration:  141
**** Call ## 64 ## Duration:  481
**** Call ## 65 ## Duration:  108
**** Call ## 66 ## Duration:  588
      ✓ should get feed (1414ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  121
      ✓ should get tags (121ms)

  Comment
**** Call ## 69 ## Duration:  129
**** Call ## 70 ## Duration:  116
**** Call ## 71 ## Duration:  118
    Create
**** Call ## 72 ## Duration:  114
**** Call ## 73 ## Duration:  95
**** Call ## 74 ## Duration:  96
**** Call ## 75 ## Duration:  68
**** Call ## 76 ## Duration:  94
**** Call ## 77 ## Duration:  109
**** Call ## 78 ## Duration:  100
**** Call ## 79 ## Duration:  73
**** Call ## 80 ## Duration:  73
**** Call ## 81 ## Duration:  81
      ✓ should create comment (905ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  248
      ✓ should get all comments for article (248ms)
    Delete
**** Call ## 86 ## Duration:  113
      ✓ should delete comment (113ms)
**** Call ## 87 ## Duration:  88 (ERR)
      ✓ only comment author should be able to delete comment (89ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown comment (69ms)

  User
    Create
**** Call ## 90 ## Duration:  115
      ✓ should create user (115ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (77ms)
    Login
**** Call ## 97 ## Duration:  63
      ✓ should login (63ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  42 (ERR)
      ✓ should disallow wrong password (42ms)
**** Call ## 100 ## Duration:  17 (ERR)
**** Call ## 101 ## Duration:  41 (ERR)
**** Call ## 102 ## Duration:  17 (ERR)
      ✓ should enforce required fields (75ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  18 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (70ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  115
**** Call ## 111 ## Duration:  120
**** Call ## 112 ## Duration:  89
**** Call ## 113 ## Duration:  86
**** Call ## 114 ## Duration:  57
**** Call ## 115 ## Duration:  106
**** Call ## 116 ## Duration:  104
**** Call ## 117 ## Duration:  124
**** Call ## 118 ## Duration:  125
**** Call ## 119 ## Duration:  83
      ✓ should follow/unfollow user (1011ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  99
**** Call ## 122 ## Duration:  70
**** Call ## 123 ## Duration:  65
**** Call ## 124 ## Duration:  56
      ✓ should update user (290ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  56 (ERR)
      ✓ should disallow missing token/email in update (76ms)
**** Call ## 127 ## Duration:  101
**** Call ## 128 ## Duration:  55 (ERR)
      ✓ should disallow reusing email (158ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  162
**** Call ## 1 ## Duration:  107
**** Call ## 2 ## Duration:  99
    Create
**** Call ## 3 ## Duration:  90
      ✓ should create article (92ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (93ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  77 (ERR)
**** Call ## 7 ## Duration:  73 (ERR)
**** Call ## 8 ## Duration:  87 (ERR)
**** Call ## 9 ## Duration:  68 (ERR)
      ✓ should enforce required fields (307ms)
    Get
**** Call ## 10 ## Duration:  88
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  74
      ✓ should get article with tags by slug (74ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  166
**** Call ## 14 ## Duration:  173
**** Call ## 15 ## Duration:  151
      ✓ should update article (491ms)
**** Call ## 16 ## Duration:  25 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  76 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  61 (ERR)
      ✓ should disallow non-author from updating (61ms)
    Favorite
**** Call ## 21 ## Duration:  216
**** Call ## 22 ## Duration:  124
      ✓ should favorite article (340ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  69 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  126
      ✓ should unfavorite article (127ms)
    Delete
**** Call ## 26 ## Duration:  116
**** Call ## 27 ## Duration:  31 (ERR)
      ✓ should delete article (148ms)
**** Call ## 28 ## Duration:  25 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown article (60ms)
**** Call ## 30 ## Duration:  62 (ERR)
      ✓ should disallow deleting article by non-author (64ms)
    List
**** Call ## 31 ## Duration:  97
**** Call ## 32 ## Duration:  95
**** Call ## 33 ## Duration:  122
**** Call ## 34 ## Duration:  82
**** Call ## 35 ## Duration:  82
**** Call ## 36 ## Duration:  69
**** Call ## 37 ## Duration:  85
**** Call ## 38 ## Duration:  91
**** Call ## 39 ## Duration:  88
**** Call ## 40 ## Duration:  78
**** Call ## 41 ## Duration:  94
**** Call ## 42 ## Duration:  80
**** Call ## 43 ## Duration:  99
**** Call ## 44 ## Duration:  61
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  81
**** Call ## 47 ## Duration:  84
**** Call ## 48 ## Duration:  93
**** Call ## 49 ## Duration:  69
**** Call ## 50 ## Duration:  94
**** Call ## 51 ## Duration:  759
      ✓ should list articles (760ms)
**** Call ## 52 ## Duration:  275
**** Call ## 53 ## Duration:  567
      ✓ should list articles with tag (842ms)
**** Call ## 54 ## Duration:  228
      ✓ should list articles by author (228ms)
**** Call ## 55 ## Duration:  65
      ✓ should list articles favorited by user (65ms)
**** Call ## 56 ## Duration:  166
**** Call ## 57 ## Duration:  144
      ✓ should list articles by limit/offset (310ms)
**** Call ## 58 ## Duration:  707
      ✓ should list articles when authenticated (707ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 59 ## Duration:  40 (ERR)
**** Call ## 62 ## Duration:  76
**** Call ## 63 ## Duration:  142
**** Call ## 64 ## Duration:  356
**** Call ## 65 ## Duration:  122
**** Call ## 66 ## Duration:  576
      ✓ should get feed (1273ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  178
      ✓ should get tags (178ms)

  Comment
**** Call ## 69 ## Duration:  116
**** Call ## 70 ## Duration:  97
**** Call ## 71 ## Duration:  85
    Create
**** Call ## 72 ## Duration:  94
**** Call ## 73 ## Duration:  77
**** Call ## 74 ## Duration:  81
**** Call ## 75 ## Duration:  101
**** Call ## 76 ## Duration:  100
**** Call ## 77 ## Duration:  94
**** Call ## 78 ## Duration:  106
**** Call ## 79 ## Duration:  92
**** Call ## 80 ## Duration:  76
**** Call ## 81 ## Duration:  84
      ✓ should create comment (906ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  286
      ✓ should get all comments for article (286ms)
    Delete
**** Call ## 86 ## Duration:  94
      ✓ should delete comment (95ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  99
      ✓ should create user (99ms)
**** Call ## 91 ## Duration:  30 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  17 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (67ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  28 (ERR)
**** Call ## 102 ## Duration:  17 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  79 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (141ms)
    Profile
**** Call ## 108 ## Duration:  64
      ✓ should get profile (64ms)
**** Call ## 109 ## Duration:  27 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  144
**** Call ## 111 ## Duration:  128
**** Call ## 112 ## Duration:  92
**** Call ## 113 ## Duration:  85
**** Call ## 114 ## Duration:  65
**** Call ## 115 ## Duration:  84
**** Call ## 116 ## Duration:  109
**** Call ## 117 ## Duration:  143
**** Call ## 118 ## Duration:  112
**** Call ## 119 ## Duration:  119
      ✓ should follow/unfollow user (1084ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  87
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  67
**** Call ## 124 ## Duration:  51
      ✓ should update user (270ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  60 (ERR)
      ✓ should disallow missing token/email in update (83ms)
**** Call ## 127 ## Duration:  101
**** Call ## 128 ## Duration:  57 (ERR)
      ✓ should disallow reusing email (158ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  155
**** Call ## 1 ## Duration:  85
**** Call ## 2 ## Duration:  87
    Create
**** Call ## 3 ## Duration:  95
      ✓ should create article (99ms)
**** Call ## 4 ## Duration:  85
      ✓ should create article with tags (87ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  69 (ERR)
**** Call ## 7 ## Duration:  63 (ERR)
**** Call ## 8 ## Duration:  66 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (258ms)
    Get
**** Call ## 10 ## Duration:  99
      ✓ should get article by slug (99ms)
**** Call ## 11 ## Duration:  88
      ✓ should get article with tags by slug (89ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  155
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  181
      ✓ should update article (481ms)
**** Call ## 16 ## Duration:  27 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (74ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (62ms)
    Favorite
**** Call ## 21 ## Duration:  142
**** Call ## 22 ## Duration:  123
      ✓ should favorite article (266ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  133
      ✓ should unfavorite article (133ms)
    Delete
**** Call ## 26 ## Duration:  155
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (199ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  52 (ERR)
      ✓ should disallow deleting article by non-author (53ms)
    List
**** Call ## 31 ## Duration:  83
**** Call ## 32 ## Duration:  74
**** Call ## 33 ## Duration:  124
**** Call ## 34 ## Duration:  80
**** Call ## 35 ## Duration:  99
**** Call ## 36 ## Duration:  96
**** Call ## 37 ## Duration:  70
**** Call ## 38 ## Duration:  109
**** Call ## 39 ## Duration:  99
**** Call ## 40 ## Duration:  63
**** Call ## 41 ## Duration:  74
**** Call ## 42 ## Duration:  84
**** Call ## 43 ## Duration:  93
**** Call ## 44 ## Duration:  79
**** Call ## 45 ## Duration:  64
**** Call ## 46 ## Duration:  112
**** Call ## 47 ## Duration:  82
**** Call ## 48 ## Duration:  81
**** Call ## 49 ## Duration:  97
**** Call ## 50 ## Duration:  78
**** Call ## 51 ## Duration:  798
      ✓ should list articles (798ms)
**** Call ## 52 ## Duration:  379
**** Call ## 53 ## Duration:  601
      ✓ should list articles with tag (981ms)
**** Call ## 54 ## Duration:  250
      ✓ should list articles by author (251ms)
**** Call ## 55 ## Duration:  66
      ✓ should list articles favorited by user (66ms)
**** Call ## 56 ## Duration:  160
**** Call ## 57 ## Duration:  144
      ✓ should list articles by limit/offset (304ms)
**** Call ## 58 ## Duration:  773
      ✓ should list articles when authenticated (773ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  54 (ERR)
**** Call ## 62 ## Duration:  72
**** Call ## 63 ## Duration:  142
**** Call ## 64 ## Duration:  314
**** Call ## 65 ## Duration:  129
**** Call ## 66 ## Duration:  469
      ✓ should get feed (1128ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  127
      ✓ should get tags (127ms)

  Comment
**** Call ## 69 ## Duration:  115
**** Call ## 70 ## Duration:  132
**** Call ## 71 ## Duration:  95
    Create
**** Call ## 72 ## Duration:  138
**** Call ## 73 ## Duration:  86
**** Call ## 74 ## Duration:  80
**** Call ## 75 ## Duration:  95
**** Call ## 76 ## Duration:  79
**** Call ## 77 ## Duration:  95
**** Call ## 78 ## Duration:  89
**** Call ## 79 ## Duration:  109
**** Call ## 80 ## Duration:  83
**** Call ## 81 ## Duration:  90
      ✓ should create comment (946ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  76 (ERR)
      ✓ should disallow non-existent article (76ms)
    Get
**** Call ## 85 ## Duration:  286
      ✓ should get all comments for article (286ms)
    Delete
**** Call ## 86 ## Duration:  106
      ✓ should delete comment (106ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  54 (ERR)
      ✓ should disallow deleting unknown comment (55ms)

  User
    Create
**** Call ## 90 ## Duration:  123
      ✓ should create user (123ms)
**** Call ## 91 ## Duration:  27 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  54 (ERR)
      ✓ should disallow same email (54ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  70
      ✓ should login (70ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (76ms)
    Profile
**** Call ## 108 ## Duration:  71
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  150
**** Call ## 111 ## Duration:  155
**** Call ## 112 ## Duration:  130
**** Call ## 113 ## Duration:  88
**** Call ## 114 ## Duration:  47
**** Call ## 115 ## Duration:  99
**** Call ## 116 ## Duration:  134
**** Call ## 117 ## Duration:  141
**** Call ## 118 ## Duration:  124
**** Call ## 119 ## Duration:  109
      ✓ should follow/unfollow user (1178ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  71
**** Call ## 123 ## Duration:  45
**** Call ## 124 ## Duration:  72
      ✓ should update user (278ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  94
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (153ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  177
**** Call ## 1 ## Duration:  99
**** Call ## 2 ## Duration:  103
    Create
**** Call ## 3 ## Duration:  87
      ✓ should create article (89ms)
**** Call ## 4 ## Duration:  90
      ✓ should create article with tags (92ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  72 (ERR)
**** Call ## 7 ## Duration:  62 (ERR)
**** Call ## 8 ## Duration:  63 (ERR)
**** Call ## 9 ## Duration:  63 (ERR)
      ✓ should enforce required fields (262ms)
    Get
**** Call ## 10 ## Duration:  94
      ✓ should get article by slug (95ms)
**** Call ## 11 ## Duration:  118
      ✓ should get article with tags by slug (119ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  158
**** Call ## 14 ## Duration:  129
**** Call ## 15 ## Duration:  107
      ✓ should update article (395ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  50 (ERR)
      ✓ should disallow updating non-existent article (50ms)
**** Call ## 20 ## Duration:  61 (ERR)
      ✓ should disallow non-author from updating (62ms)
    Favorite
**** Call ## 21 ## Duration:  148
**** Call ## 22 ## Duration:  104
      ✓ should favorite article (252ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  150
      ✓ should unfavorite article (150ms)
    Delete
**** Call ## 26 ## Duration:  110
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (152ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  161 (ERR)
      ✓ should disallow deleting article by non-author (161ms)
    List
**** Call ## 31 ## Duration:  99
**** Call ## 32 ## Duration:  92
**** Call ## 33 ## Duration:  79
**** Call ## 34 ## Duration:  131
**** Call ## 35 ## Duration:  77
**** Call ## 36 ## Duration:  94
**** Call ## 37 ## Duration:  91
**** Call ## 38 ## Duration:  90
**** Call ## 39 ## Duration:  135
**** Call ## 40 ## Duration:  127
**** Call ## 41 ## Duration:  59
**** Call ## 42 ## Duration:  87
**** Call ## 43 ## Duration:  75
**** Call ## 44 ## Duration:  81
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  76
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  67
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  100
**** Call ## 51 ## Duration:  824
      ✓ should list articles (824ms)
**** Call ## 52 ## Duration:  338
**** Call ## 53 ## Duration:  527
      ✓ should list articles with tag (865ms)
**** Call ## 54 ## Duration:  304
      ✓ should list articles by author (304ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  133
**** Call ## 57 ## Duration:  271
      ✓ should list articles by limit/offset (404ms)
**** Call ## 58 ## Duration:  821
      ✓ should list articles when authenticated (821ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  63 (ERR)
**** Call ## 62 ## Duration:  73
**** Call ## 63 ## Duration:  122
**** Call ## 64 ## Duration:  380
**** Call ## 65 ## Duration:  152
**** Call ## 66 ## Duration:  610
      ✓ should get feed (1338ms)
**** Call ## 67 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  128
      ✓ should get tags (129ms)

  Comment
**** Call ## 69 ## Duration:  103
**** Call ## 70 ## Duration:  88
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  100
**** Call ## 73 ## Duration:  84
**** Call ## 74 ## Duration:  87
**** Call ## 75 ## Duration:  92
**** Call ## 76 ## Duration:  91
**** Call ## 77 ## Duration:  71
**** Call ## 78 ## Duration:  75
**** Call ## 79 ## Duration:  73
**** Call ## 80 ## Duration:  75
**** Call ## 81 ## Duration:  73
      ✓ should create comment (824ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  40 (ERR)
      ✓ should enforce comment body (42ms)
**** Call ## 84 ## Duration:  37 (ERR)
      ✓ should disallow non-existent article
    Get
**** Call ## 85 ## Duration:  260
      ✓ should get all comments for article (260ms)
    Delete
**** Call ## 86 ## Duration:  103
      ✓ should delete comment (103ms)
**** Call ## 87 ## Duration:  73 (ERR)
      ✓ only comment author should be able to delete comment (74ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown comment (69ms)

  User
    Create
**** Call ## 90 ## Duration:  113
      ✓ should create user (113ms)
**** Call ## 91 ## Duration:  33 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  70
      ✓ should login (70ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  17 (ERR)
**** Call ## 101 ## Duration:  17 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (55ms)
    Get
**** Call ## 103 ## Duration:  39
      ✓ should get current user (39ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  80
      ✓ should get profile (80ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  112
**** Call ## 111 ## Duration:  129
**** Call ## 112 ## Duration:  119
**** Call ## 113 ## Duration:  86
**** Call ## 114 ## Duration:  70
**** Call ## 115 ## Duration:  94
**** Call ## 116 ## Duration:  86
**** Call ## 117 ## Duration:  131
**** Call ## 118 ## Duration:  111
**** Call ## 119 ## Duration:  139
      ✓ should follow/unfollow user (1081ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  87
**** Call ## 122 ## Duration:  68
**** Call ## 123 ## Duration:  46
**** Call ## 124 ## Duration:  42
      ✓ should update user (243ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  236
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (296ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  236
**** Call ## 1 ## Duration:  110
**** Call ## 2 ## Duration:  158
    Create
**** Call ## 3 ## Duration:  73
      ✓ should create article (76ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (83ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  93 (ERR)
**** Call ## 7 ## Duration:  55 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  193 (ERR)
      ✓ should enforce required fields (402ms)
    Get
**** Call ## 10 ## Duration:  88
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  78
      ✓ should get article with tags by slug (78ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  177
**** Call ## 14 ## Duration:  202
**** Call ## 15 ## Duration:  127
      ✓ should update article (508ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  95 (ERR)
      ✓ should disallow updating non-existent article (96ms)
**** Call ## 20 ## Duration:  61 (ERR)
      ✓ should disallow non-author from updating (62ms)
    Favorite
**** Call ## 21 ## Duration:  146
**** Call ## 22 ## Duration:  103
      ✓ should favorite article (249ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  165
      ✓ should unfavorite article (166ms)
    Delete
**** Call ## 26 ## Duration:  97
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (132ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  82 (ERR)
      ✓ should disallow deleting article by non-author (82ms)
    List
**** Call ## 31 ## Duration:  69
**** Call ## 32 ## Duration:  93
**** Call ## 33 ## Duration:  74
**** Call ## 34 ## Duration:  78
**** Call ## 35 ## Duration:  71
**** Call ## 36 ## Duration:  72
**** Call ## 37 ## Duration:  75
**** Call ## 38 ## Duration:  88
**** Call ## 39 ## Duration:  66
**** Call ## 40 ## Duration:  60
**** Call ## 41 ## Duration:  80
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  63
**** Call ## 44 ## Duration:  60
**** Call ## 45 ## Duration:  60
**** Call ## 46 ## Duration:  79
**** Call ## 47 ## Duration:  117
**** Call ## 48 ## Duration:  71
**** Call ## 49 ## Duration:  64
**** Call ## 50 ## Duration:  77
**** Call ## 51 ## Duration:  768
      ✓ should list articles (768ms)
**** Call ## 52 ## Duration:  435
**** Call ## 53 ## Duration:  1483
      ✓ should list articles with tag (1918ms)
**** Call ## 54 ## Duration:  276
      ✓ should list articles by author (276ms)
**** Call ## 55 ## Duration:  65
      ✓ should list articles favorited by user (65ms)
**** Call ## 56 ## Duration:  150
**** Call ## 57 ## Duration:  156
      ✓ should list articles by limit/offset (307ms)
**** Call ## 58 ## Duration:  826
      ✓ should list articles when authenticated (827ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  86
**** Call ## 63 ## Duration:  110
**** Call ## 64 ## Duration:  368
**** Call ## 65 ## Duration:  127
**** Call ## 66 ## Duration:  493
      ✓ should get feed (1184ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  182
      ✓ should get tags (182ms)

  Comment
**** Call ## 69 ## Duration:  124
**** Call ## 70 ## Duration:  113
**** Call ## 71 ## Duration:  80
    Create
**** Call ## 72 ## Duration:  99
**** Call ## 73 ## Duration:  209
**** Call ## 74 ## Duration:  92
**** Call ## 75 ## Duration:  90
**** Call ## 76 ## Duration:  84
**** Call ## 77 ## Duration:  76
**** Call ## 78 ## Duration:  87
**** Call ## 79 ## Duration:  60
**** Call ## 80 ## Duration:  87
**** Call ## 81 ## Duration:  93
      ✓ should create comment (978ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  55 (ERR)
      ✓ should disallow non-existent article (56ms)
    Get
**** Call ## 85 ## Duration:  321
      ✓ should get all comments for article (321ms)
    Delete
**** Call ## 86 ## Duration:  104
      ✓ should delete comment (104ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (54ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (62ms)

  User
    Create
**** Call ## 90 ## Duration:  119
      ✓ should create user (119ms)
**** Call ## 91 ## Duration:  36 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  57 (ERR)
      ✓ should disallow same email (57ms)
**** Call ## 93 ## Duration:  31 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (92ms)
    Login
**** Call ## 97 ## Duration:  71
      ✓ should login (72ms)
**** Call ## 98 ## Duration:  27 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  24 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (66ms)
    Get
**** Call ## 103 ## Duration:  54
      ✓ should get current user (54ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  26 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (89ms)
    Profile
**** Call ## 108 ## Duration:  71
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (38ms)
**** Call ## 110 ## Duration:  110
**** Call ## 111 ## Duration:  119
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  77
**** Call ## 114 ## Duration:  55
**** Call ## 115 ## Duration:  112
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  148
**** Call ## 118 ## Duration:  101
**** Call ## 119 ## Duration:  116
      ✓ should follow/unfollow user (1055ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  59
**** Call ## 123 ## Duration:  49
**** Call ## 124 ## Duration:  71
      ✓ should update user (272ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (60ms)
**** Call ## 127 ## Duration:  106
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (165ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  156
**** Call ## 1 ## Duration:  112
**** Call ## 2 ## Duration:  110
    Create
**** Call ## 3 ## Duration:  84
      ✓ should create article (87ms)
**** Call ## 4 ## Duration:  83
      ✓ should create article with tags (85ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  74 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (258ms)
    Get
**** Call ## 10 ## Duration:  97
      ✓ should get article by slug (97ms)
**** Call ## 11 ## Duration:  85
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  34 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  169
**** Call ## 14 ## Duration:  180
**** Call ## 15 ## Duration:  154
      ✓ should update article (508ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  66 (ERR)
      ✓ should disallow updating non-existent article (66ms)
**** Call ## 20 ## Duration:  69 (ERR)
      ✓ should disallow non-author from updating (70ms)
    Favorite
**** Call ## 21 ## Duration:  144
**** Call ## 22 ## Duration:  95
      ✓ should favorite article (239ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  134
      ✓ should unfavorite article (134ms)
    Delete
**** Call ## 26 ## Duration:  135
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (174ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown article (73ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (63ms)
    List
**** Call ## 31 ## Duration:  81
**** Call ## 32 ## Duration:  77
**** Call ## 33 ## Duration:  84
**** Call ## 34 ## Duration:  94
**** Call ## 35 ## Duration:  73
**** Call ## 36 ## Duration:  88
**** Call ## 37 ## Duration:  83
**** Call ## 38 ## Duration:  74
**** Call ## 39 ## Duration:  64
**** Call ## 40 ## Duration:  71
**** Call ## 41 ## Duration:  69
**** Call ## 42 ## Duration:  105
**** Call ## 43 ## Duration:  61
**** Call ## 44 ## Duration:  61
**** Call ## 45 ## Duration:  76
**** Call ## 46 ## Duration:  79
**** Call ## 47 ## Duration:  69
**** Call ## 48 ## Duration:  62
**** Call ## 49 ## Duration:  56
**** Call ## 50 ## Duration:  121
**** Call ## 51 ## Duration:  676
      ✓ should list articles (676ms)
**** Call ## 52 ## Duration:  361
**** Call ## 53 ## Duration:  628
      ✓ should list articles with tag (990ms)
**** Call ## 54 ## Duration:  274
      ✓ should list articles by author (274ms)
**** Call ## 55 ## Duration:  82
      ✓ should list articles favorited by user (82ms)
**** Call ## 56 ## Duration:  173
**** Call ## 57 ## Duration:  191
      ✓ should list articles by limit/offset (365ms)
**** Call ## 58 ## Duration:  753
      ✓ should list articles when authenticated (753ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  83
**** Call ## 63 ## Duration:  133
**** Call ## 64 ## Duration:  347
**** Call ## 65 ## Duration:  119
**** Call ## 66 ## Duration:  588
      ✓ should get feed (1271ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  123
      ✓ should get tags (124ms)

  Comment
**** Call ## 69 ## Duration:  109
**** Call ## 70 ## Duration:  104
**** Call ## 71 ## Duration:  74
    Create
**** Call ## 72 ## Duration:  103
**** Call ## 73 ## Duration:  108
**** Call ## 74 ## Duration:  90
**** Call ## 75 ## Duration:  101
**** Call ## 76 ## Duration:  88
**** Call ## 77 ## Duration:  90
**** Call ## 78 ## Duration:  81
**** Call ## 79 ## Duration:  78
**** Call ## 80 ## Duration:  99
**** Call ## 81 ## Duration:  88
      ✓ should create comment (931ms)
**** Call ## 82 ## Duration:  39 (ERR)
      ✓ should disallow unauthenticated user (39ms)
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  300
      ✓ should get all comments for article (300ms)
    Delete
**** Call ## 86 ## Duration:  99
      ✓ should delete comment (99ms)
**** Call ## 87 ## Duration:  50 (ERR)
      ✓ only comment author should be able to delete comment (50ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  56 (ERR)
      ✓ should disallow deleting unknown comment (57ms)

  User
    Create
**** Call ## 90 ## Duration:  104
      ✓ should create user (104ms)
**** Call ## 91 ## Duration:  34 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  69
      ✓ should login (69ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  16 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (74ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  116
**** Call ## 111 ## Duration:  121
**** Call ## 112 ## Duration:  92
**** Call ## 113 ## Duration:  97
**** Call ## 114 ## Duration:  62
**** Call ## 115 ## Duration:  96
**** Call ## 116 ## Duration:  116
**** Call ## 117 ## Duration:  172
**** Call ## 118 ## Duration:  123
**** Call ## 119 ## Duration:  166
      ✓ should follow/unfollow user (1162ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  99
**** Call ## 122 ## Duration:  59
**** Call ## 123 ## Duration:  51
**** Call ## 124 ## Duration:  66
      ✓ should update user (276ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  69 (ERR)
      ✓ should disallow missing token/email in update (91ms)
**** Call ## 127 ## Duration:  104
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (167ms)

  Util
    Ping
**** Call ## 129 ## Duration:  29
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  172
**** Call ## 1 ## Duration:  104
**** Call ## 2 ## Duration:  104
    Create
**** Call ## 3 ## Duration:  97
      ✓ should create article (100ms)
**** Call ## 4 ## Duration:  119
      ✓ should create article with tags (121ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  67 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  72 (ERR)
**** Call ## 9 ## Duration:  72 (ERR)
      ✓ should enforce required fields (273ms)
    Get
**** Call ## 10 ## Duration:  79
      ✓ should get article by slug (79ms)
**** Call ## 11 ## Duration:  89
      ✓ should get article with tags by slug (89ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  152
**** Call ## 14 ## Duration:  123
**** Call ## 15 ## Duration:  144
      ✓ should update article (419ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  61 (ERR)
      ✓ should disallow updating non-existent article (61ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  138
**** Call ## 22 ## Duration:  112
      ✓ should favorite article (250ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  141
      ✓ should unfavorite article (141ms)
    Delete
**** Call ## 26 ## Duration:  107
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (146ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (70ms)
**** Call ## 30 ## Duration:  64 (ERR)
      ✓ should disallow deleting article by non-author (64ms)
    List
**** Call ## 31 ## Duration:  88
**** Call ## 32 ## Duration:  84
**** Call ## 33 ## Duration:  74
**** Call ## 34 ## Duration:  77
**** Call ## 35 ## Duration:  76
**** Call ## 36 ## Duration:  81
**** Call ## 37 ## Duration:  97
**** Call ## 38 ## Duration:  106
**** Call ## 39 ## Duration:  90
**** Call ## 40 ## Duration:  148
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  78
**** Call ## 43 ## Duration:  81
**** Call ## 44 ## Duration:  85
**** Call ## 45 ## Duration:  74
**** Call ## 46 ## Duration:  67
**** Call ## 47 ## Duration:  73
**** Call ## 48 ## Duration:  81
**** Call ## 49 ## Duration:  89
**** Call ## 50 ## Duration:  68
**** Call ## 51 ## Duration:  742
      ✓ should list articles (742ms)
**** Call ## 52 ## Duration:  396
**** Call ## 53 ## Duration:  503
      ✓ should list articles with tag (899ms)
**** Call ## 54 ## Duration:  302
      ✓ should list articles by author (303ms)
**** Call ## 55 ## Duration:  94
      ✓ should list articles favorited by user (94ms)
**** Call ## 56 ## Duration:  164
**** Call ## 57 ## Duration:  134
      ✓ should list articles by limit/offset (298ms)
**** Call ## 58 ## Duration:  726
      ✓ should list articles when authenticated (726ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  226
**** Call ## 63 ## Duration:  129
**** Call ## 64 ## Duration:  330
**** Call ## 65 ## Duration:  192
**** Call ## 66 ## Duration:  516
      ✓ should get feed (1394ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  150
      ✓ should get tags (150ms)

  Comment
**** Call ## 69 ## Duration:  107
**** Call ## 70 ## Duration:  112
**** Call ## 71 ## Duration:  92
    Create
**** Call ## 72 ## Duration:  100
**** Call ## 73 ## Duration:  80
**** Call ## 74 ## Duration:  86
**** Call ## 75 ## Duration:  72
**** Call ## 76 ## Duration:  80
**** Call ## 77 ## Duration:  94
**** Call ## 78 ## Duration:  115
**** Call ## 79 ## Duration:  82
**** Call ## 80 ## Duration:  97
**** Call ## 81 ## Duration:  83
      ✓ should create comment (890ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  51 (ERR)
      ✓ should enforce comment body (52ms)
**** Call ## 84 ## Duration:  55 (ERR)
      ✓ should disallow non-existent article (56ms)
    Get
**** Call ## 85 ## Duration:  311
      ✓ should get all comments for article (311ms)
    Delete
**** Call ## 86 ## Duration:  93
      ✓ should delete comment (93ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  93 (ERR)
      ✓ should disallow deleting unknown comment (94ms)

  User
    Create
**** Call ## 90 ## Duration:  121
      ✓ should create user (123ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  74 (ERR)
      ✓ should disallow same email (74ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  65
      ✓ should login (65ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (83ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  28 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  109
**** Call ## 111 ## Duration:  126
**** Call ## 112 ## Duration:  132
**** Call ## 113 ## Duration:  90
**** Call ## 114 ## Duration:  77
**** Call ## 115 ## Duration:  100
**** Call ## 116 ## Duration:  117
**** Call ## 117 ## Duration:  111
**** Call ## 118 ## Duration:  110
**** Call ## 119 ## Duration:  90
      ✓ should follow/unfollow user (1066ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  92
**** Call ## 122 ## Duration:  56
**** Call ## 123 ## Duration:  44
**** Call ## 124 ## Duration:  73
      ✓ should update user (266ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  27 (ERR)
      ✓ should disallow missing token/email in update (48ms)
**** Call ## 127 ## Duration:  116
**** Call ## 128 ## Duration:  53 (ERR)
      ✓ should disallow reusing email (169ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  177
**** Call ## 1 ## Duration:  123
**** Call ## 2 ## Duration:  109
    Create
**** Call ## 3 ## Duration:  98
      ✓ should create article (101ms)
**** Call ## 4 ## Duration:  93
      ✓ should create article with tags (95ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  59 (ERR)
**** Call ## 7 ## Duration:  52 (ERR)
**** Call ## 8 ## Duration:  67 (ERR)
**** Call ## 9 ## Duration:  61 (ERR)
      ✓ should enforce required fields (242ms)
    Get
**** Call ## 10 ## Duration:  134
      ✓ should get article by slug (134ms)
**** Call ## 11 ## Duration:  77
      ✓ should get article with tags by slug (77ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  160
**** Call ## 14 ## Duration:  176
**** Call ## 15 ## Duration:  157
      ✓ should update article (495ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  56 (ERR)
      ✓ should disallow updating non-existent article (56ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  135
**** Call ## 22 ## Duration:  114
      ✓ should favorite article (250ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  58 (ERR)
      ✓ should disallow favoriting unknown article (58ms)
**** Call ## 25 ## Duration:  163
      ✓ should unfavorite article (164ms)
    Delete
**** Call ## 26 ## Duration:  122
**** Call ## 27 ## Duration:  36 (ERR)
      ✓ should delete article (159ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  54 (ERR)
      ✓ should disallow deleting article by non-author (54ms)
    List
**** Call ## 31 ## Duration:  94
**** Call ## 32 ## Duration:  77
**** Call ## 33 ## Duration:  73
**** Call ## 34 ## Duration:  79
**** Call ## 35 ## Duration:  62
**** Call ## 36 ## Duration:  75
**** Call ## 37 ## Duration:  67
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  87
**** Call ## 40 ## Duration:  93
**** Call ## 41 ## Duration:  75
**** Call ## 42 ## Duration:  64
**** Call ## 43 ## Duration:  92
**** Call ## 44 ## Duration:  72
**** Call ## 45 ## Duration:  71
**** Call ## 46 ## Duration:  77
**** Call ## 47 ## Duration:  69
**** Call ## 48 ## Duration:  94
**** Call ## 49 ## Duration:  75
**** Call ## 50 ## Duration:  62
**** Call ## 51 ## Duration:  784
      ✓ should list articles (784ms)
**** Call ## 52 ## Duration:  450
**** Call ## 53 ## Duration:  566
      ✓ should list articles with tag (1018ms)
**** Call ## 54 ## Duration:  273
      ✓ should list articles by author (274ms)
**** Call ## 55 ## Duration:  93
      ✓ should list articles favorited by user (93ms)
**** Call ## 56 ## Duration:  150
**** Call ## 57 ## Duration:  150
      ✓ should list articles by limit/offset (300ms)
**** Call ## 58 ## Duration:  771
      ✓ should list articles when authenticated (771ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  138
**** Call ## 63 ## Duration:  144
**** Call ## 64 ## Duration:  337
**** Call ## 65 ## Duration:  157
**** Call ## 66 ## Duration:  553
      ✓ should get feed (1330ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  203
      ✓ should get tags (203ms)

  Comment
**** Call ## 69 ## Duration:  121
**** Call ## 70 ## Duration:  123
**** Call ## 71 ## Duration:  84
    Create
**** Call ## 72 ## Duration:  116
**** Call ## 73 ## Duration:  92
**** Call ## 74 ## Duration:  109
**** Call ## 75 ## Duration:  113
**** Call ## 76 ## Duration:  121
**** Call ## 77 ## Duration:  79
**** Call ## 78 ## Duration:  78
**** Call ## 79 ## Duration:  93
**** Call ## 80 ## Duration:  97
**** Call ## 81 ## Duration:  118
      ✓ should create comment (1018ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  126 (ERR)
      ✓ should enforce comment body (127ms)
**** Call ## 84 ## Duration:  57 (ERR)
      ✓ should disallow non-existent article (57ms)
    Get
**** Call ## 85 ## Duration:  302
      ✓ should get all comments for article (302ms)
    Delete
**** Call ## 86 ## Duration:  121
      ✓ should delete comment (121ms)
**** Call ## 87 ## Duration:  55 (ERR)
      ✓ only comment author should be able to delete comment (55ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  124
      ✓ should create user (124ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  62 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  68
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  51 (ERR)
      ✓ should enforce required fields (94ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  24 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  96
      ✓ should get profile (96ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  117
**** Call ## 111 ## Duration:  110
**** Call ## 112 ## Duration:  100
**** Call ## 113 ## Duration:  86
**** Call ## 114 ## Duration:  55
**** Call ## 115 ## Duration:  100
**** Call ## 116 ## Duration:  100
**** Call ## 117 ## Duration:  151
**** Call ## 118 ## Duration:  128
**** Call ## 119 ## Duration:  100
      ✓ should follow/unfollow user (1051ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  85
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  61
      ✓ should update user (263ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  89
**** Call ## 128 ## Duration:  57 (ERR)
      ✓ should disallow reusing email (147ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  149
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  94
    Create
**** Call ## 3 ## Duration:  99
      ✓ should create article (101ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (87ms)
**** Call ## 5 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  44 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  61 (ERR)
      ✓ should enforce required fields (236ms)
    Get
**** Call ## 10 ## Duration:  99
      ✓ should get article by slug (99ms)
**** Call ## 11 ## Duration:  99
      ✓ should get article with tags by slug (99ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  169
**** Call ## 14 ## Duration:  122
**** Call ## 15 ## Duration:  111
      ✓ should update article (405ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  66 (ERR)
      ✓ should disallow updating non-existent article (66ms)
**** Call ## 20 ## Duration:  61 (ERR)
      ✓ should disallow non-author from updating (61ms)
    Favorite
**** Call ## 21 ## Duration:  134
**** Call ## 22 ## Duration:  123
      ✓ should favorite article (258ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (72ms)
**** Call ## 25 ## Duration:  157
      ✓ should unfavorite article (157ms)
    Delete
**** Call ## 26 ## Duration:  263
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (303ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (67ms)
**** Call ## 30 ## Duration:  58 (ERR)
      ✓ should disallow deleting article by non-author (58ms)
    List
**** Call ## 31 ## Duration:  85
**** Call ## 32 ## Duration:  84
**** Call ## 33 ## Duration:  82
**** Call ## 34 ## Duration:  89
**** Call ## 35 ## Duration:  72
**** Call ## 36 ## Duration:  82
**** Call ## 37 ## Duration:  79
**** Call ## 38 ## Duration:  71
**** Call ## 39 ## Duration:  78
**** Call ## 40 ## Duration:  77
**** Call ## 41 ## Duration:  83
**** Call ## 42 ## Duration:  82
**** Call ## 43 ## Duration:  54
**** Call ## 44 ## Duration:  73
**** Call ## 45 ## Duration:  71
**** Call ## 46 ## Duration:  92
**** Call ## 47 ## Duration:  120
**** Call ## 48 ## Duration:  118
**** Call ## 49 ## Duration:  126
**** Call ## 50 ## Duration:  52
**** Call ## 51 ## Duration:  1007
      ✓ should list articles (1007ms)
**** Call ## 52 ## Duration:  466
**** Call ## 53 ## Duration:  644
      ✓ should list articles with tag (1110ms)
**** Call ## 54 ## Duration:  282
      ✓ should list articles by author (283ms)
**** Call ## 55 ## Duration:  100
      ✓ should list articles favorited by user (100ms)
**** Call ## 56 ## Duration:  175
**** Call ## 57 ## Duration:  196
      ✓ should list articles by limit/offset (371ms)
**** Call ## 58 ## Duration:  1379
      ✓ should list articles when authenticated (1379ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  67 (ERR)
**** Call ## 62 ## Duration:  87
**** Call ## 63 ## Duration:  160
**** Call ## 64 ## Duration:  354
**** Call ## 65 ## Duration:  129
**** Call ## 66 ## Duration:  535
      ✓ should get feed (1266ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  201
      ✓ should get tags (201ms)

  Comment
**** Call ## 69 ## Duration:  102
**** Call ## 70 ## Duration:  85
**** Call ## 71 ## Duration:  78
    Create
**** Call ## 72 ## Duration:  121
**** Call ## 73 ## Duration:  134
**** Call ## 74 ## Duration:  89
**** Call ## 75 ## Duration:  82
**** Call ## 76 ## Duration:  101
**** Call ## 77 ## Duration:  88
**** Call ## 78 ## Duration:  87
**** Call ## 79 ## Duration:  77
**** Call ## 80 ## Duration:  73
**** Call ## 81 ## Duration:  94
      ✓ should create comment (948ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  41 (ERR)
      ✓ should enforce comment body (41ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  284
      ✓ should get all comments for article (284ms)
    Delete
**** Call ## 86 ## Duration:  106
      ✓ should delete comment (106ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  150
      ✓ should create user (150ms)
**** Call ## 91 ## Duration:  25 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  77 (ERR)
      ✓ should disallow same email (78ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  78
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  34 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (79ms)
    Profile
**** Call ## 108 ## Duration:  66
      ✓ should get profile (66ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  152
**** Call ## 111 ## Duration:  117
**** Call ## 112 ## Duration:  119
**** Call ## 113 ## Duration:  74
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  96
**** Call ## 116 ## Duration:  110
**** Call ## 117 ## Duration:  153
**** Call ## 118 ## Duration:  107
**** Call ## 119 ## Duration:  109
      ✓ should follow/unfollow user (1098ms)
**** Call ## 120 ## Duration:  17 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  93
**** Call ## 122 ## Duration:  81
**** Call ## 123 ## Duration:  63
**** Call ## 124 ## Duration:  40
      ✓ should update user (277ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  39 (ERR)
      ✓ should disallow missing token/email in update (60ms)
**** Call ## 127 ## Duration:  188
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (239ms)

  Util
    Ping
**** Call ## 129 ## Duration:  26
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  168
**** Call ## 1 ## Duration:  93
**** Call ## 2 ## Duration:  98
    Create
**** Call ## 3 ## Duration:  124
      ✓ should create article (127ms)
**** Call ## 4 ## Duration:  74
      ✓ should create article with tags (76ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  79 (ERR)
**** Call ## 7 ## Duration:  60 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  64 (ERR)
      ✓ should enforce required fields (259ms)
    Get
**** Call ## 10 ## Duration:  87
      ✓ should get article by slug (87ms)
**** Call ## 11 ## Duration:  77
      ✓ should get article with tags by slug (77ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  158
**** Call ## 14 ## Duration:  151
**** Call ## 15 ## Duration:  136
      ✓ should update article (445ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  86 (ERR)
      ✓ should disallow updating non-existent article (86ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  158
**** Call ## 22 ## Duration:  93
      ✓ should favorite article (251ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  56 (ERR)
      ✓ should disallow favoriting unknown article (57ms)
**** Call ## 25 ## Duration:  127
      ✓ should unfavorite article (127ms)
    Delete
**** Call ## 26 ## Duration:  113
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (154ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  65 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  85
**** Call ## 32 ## Duration:  98
**** Call ## 33 ## Duration:  87
**** Call ## 34 ## Duration:  73
**** Call ## 35 ## Duration:  68
**** Call ## 36 ## Duration:  68
**** Call ## 37 ## Duration:  60
**** Call ## 38 ## Duration:  63
**** Call ## 39 ## Duration:  79
**** Call ## 40 ## Duration:  58
**** Call ## 41 ## Duration:  61
**** Call ## 42 ## Duration:  61
**** Call ## 43 ## Duration:  62
**** Call ## 44 ## Duration:  124
**** Call ## 45 ## Duration:  64
**** Call ## 46 ## Duration:  64
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  76
**** Call ## 49 ## Duration:  61
**** Call ## 50 ## Duration:  64
**** Call ## 51 ## Duration:  1104
      ✓ should list articles (1104ms)
**** Call ## 52 ## Duration:  544
**** Call ## 53 ## Duration:  652
      ✓ should list articles with tag (1196ms)
**** Call ## 54 ## Duration:  292
      ✓ should list articles by author (292ms)
**** Call ## 55 ## Duration:  125
      ✓ should list articles favorited by user (125ms)
**** Call ## 56 ## Duration:  257
**** Call ## 57 ## Duration:  166
      ✓ should list articles by limit/offset (423ms)
**** Call ## 58 ## Duration:  943
      ✓ should list articles when authenticated (944ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  81 (ERR)
**** Call ## 62 ## Duration:  87
**** Call ## 63 ## Duration:  106
**** Call ## 64 ## Duration:  398
**** Call ## 65 ## Duration:  102
**** Call ## 66 ## Duration:  594
      ✓ should get feed (1287ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  177
      ✓ should get tags (178ms)

  Comment
**** Call ## 69 ## Duration:  98
**** Call ## 70 ## Duration:  103
**** Call ## 71 ## Duration:  76
    Create
**** Call ## 72 ## Duration:  141
**** Call ## 73 ## Duration:  98
**** Call ## 74 ## Duration:  93
**** Call ## 75 ## Duration:  99
**** Call ## 76 ## Duration:  76
**** Call ## 77 ## Duration:  98
**** Call ## 78 ## Duration:  89
**** Call ## 79 ## Duration:  79
**** Call ## 80 ## Duration:  79
**** Call ## 81 ## Duration:  90
      ✓ should create comment (943ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  261
      ✓ should get all comments for article (262ms)
    Delete
**** Call ## 86 ## Duration:  102
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  118 (ERR)
      ✓ should disallow deleting unknown comment (118ms)

  User
    Create
**** Call ## 90 ## Duration:  117
      ✓ should create user (117ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (78ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (67ms)
**** Call ## 98 ## Duration:  62 (ERR)
      ✓ should disallow unknown email (63ms)
**** Call ## 99 ## Duration:  43 (ERR)
      ✓ should disallow wrong password (44ms)
**** Call ## 100 ## Duration:  27 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  24 (ERR)
      ✓ should enforce required fields (71ms)
    Get
**** Call ## 103 ## Duration:  41
      ✓ should get current user (41ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  62
      ✓ should get profile (62ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  88
**** Call ## 111 ## Duration:  96
**** Call ## 112 ## Duration:  98
**** Call ## 113 ## Duration:  80
**** Call ## 114 ## Duration:  56
**** Call ## 115 ## Duration:  168
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  124
**** Call ## 118 ## Duration:  103
**** Call ## 119 ## Duration:  95
      ✓ should follow/unfollow user (1017ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  73
**** Call ## 122 ## Duration:  60
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  58
      ✓ should update user (260ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  42 (ERR)
      ✓ should disallow missing token/email in update (64ms)
**** Call ## 127 ## Duration:  103
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (167ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  163
**** Call ## 1 ## Duration:  109
**** Call ## 2 ## Duration:  100
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (96ms)
**** Call ## 4 ## Duration:  87
      ✓ should create article with tags (89ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  89 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  74 (ERR)
      ✓ should enforce required fields (281ms)
    Get
**** Call ## 10 ## Duration:  107
      ✓ should get article by slug (107ms)
**** Call ## 11 ## Duration:  82
      ✓ should get article with tags by slug (83ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  145
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  147
      ✓ should update article (443ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  60 (ERR)
      ✓ should disallow updating non-existent article (60ms)
**** Call ## 20 ## Duration:  46 (ERR)
      ✓ should disallow non-author from updating (46ms)
    Favorite
**** Call ## 21 ## Duration:  124
**** Call ## 22 ## Duration:  89
      ✓ should favorite article (213ms)
**** Call ## 23 ## Duration:  18 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  60 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  133
      ✓ should unfavorite article (133ms)
    Delete
**** Call ## 26 ## Duration:  107
**** Call ## 27 ## Duration:  27 (ERR)
      ✓ should delete article (135ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  130 (ERR)
      ✓ should disallow deleting unknown article (130ms)
**** Call ## 30 ## Duration:  59 (ERR)
      ✓ should disallow deleting article by non-author (60ms)
    List
**** Call ## 31 ## Duration:  65
**** Call ## 32 ## Duration:  79
**** Call ## 33 ## Duration:  68
**** Call ## 34 ## Duration:  67
**** Call ## 35 ## Duration:  80
**** Call ## 36 ## Duration:  88
**** Call ## 37 ## Duration:  62
**** Call ## 38 ## Duration:  93
**** Call ## 39 ## Duration:  85
**** Call ## 40 ## Duration:  133
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  72
**** Call ## 44 ## Duration:  89
**** Call ## 45 ## Duration:  59
**** Call ## 46 ## Duration:  71
**** Call ## 47 ## Duration:  86
**** Call ## 48 ## Duration:  78
**** Call ## 49 ## Duration:  95
**** Call ## 50 ## Duration:  78
**** Call ## 51 ## Duration:  840
      ✓ should list articles (840ms)
**** Call ## 52 ## Duration:  532
**** Call ## 53 ## Duration:  617
      ✓ should list articles with tag (1150ms)
**** Call ## 54 ## Duration:  255
      ✓ should list articles by author (255ms)
**** Call ## 55 ## Duration:  77
      ✓ should list articles favorited by user (77ms)
**** Call ## 56 ## Duration:  139
**** Call ## 57 ## Duration:  154
      ✓ should list articles by limit/offset (295ms)
**** Call ## 58 ## Duration:  945
      ✓ should list articles when authenticated (945ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  30 (ERR)
**** Call ## 59 ## Duration:  53 (ERR)
**** Call ## 62 ## Duration:  154
**** Call ## 63 ## Duration:  129
**** Call ## 64 ## Duration:  386
**** Call ## 65 ## Duration:  130
**** Call ## 66 ## Duration:  559
      ✓ should get feed (1358ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  233
      ✓ should get tags (234ms)

  Comment
**** Call ## 69 ## Duration:  125
**** Call ## 70 ## Duration:  85
**** Call ## 71 ## Duration:  81
    Create
**** Call ## 72 ## Duration:  106
**** Call ## 73 ## Duration:  93
**** Call ## 74 ## Duration:  119
**** Call ## 75 ## Duration:  92
**** Call ## 76 ## Duration:  113
**** Call ## 77 ## Duration:  84
**** Call ## 78 ## Duration:  94
**** Call ## 79 ## Duration:  80
**** Call ## 80 ## Duration:  100
**** Call ## 81 ## Duration:  80
      ✓ should create comment (962ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  72 (ERR)
      ✓ should enforce comment body (73ms)
**** Call ## 84 ## Duration:  38 (ERR)
      ✓ should disallow non-existent article (38ms)
    Get
**** Call ## 85 ## Duration:  304
      ✓ should get all comments for article (305ms)
    Delete
**** Call ## 86 ## Duration:  110
      ✓ should delete comment (110ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  181
      ✓ should create user (182ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  69
      ✓ should login (69ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  38
      ✓ should get current user (38ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (77ms)
    Profile
**** Call ## 108 ## Duration:  67
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  34 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  162
**** Call ## 111 ## Duration:  118
**** Call ## 112 ## Duration:  109
**** Call ## 113 ## Duration:  107
**** Call ## 114 ## Duration:  66
**** Call ## 115 ## Duration:  104
**** Call ## 116 ## Duration:  104
**** Call ## 117 ## Duration:  116
**** Call ## 118 ## Duration:  201
**** Call ## 119 ## Duration:  124
      ✓ should follow/unfollow user (1215ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  83
**** Call ## 122 ## Duration:  53
**** Call ## 123 ## Duration:  55
**** Call ## 124 ## Duration:  60
      ✓ should update user (253ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (73ms)
**** Call ## 127 ## Duration:  96
**** Call ## 128 ## Duration:  52 (ERR)
      ✓ should disallow reusing email (148ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  168
**** Call ## 1 ## Duration:  102
**** Call ## 2 ## Duration:  91
    Create
**** Call ## 3 ## Duration:  100
      ✓ should create article (103ms)
**** Call ## 4 ## Duration:  98
      ✓ should create article with tags (100ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  46 (ERR)
**** Call ## 7 ## Duration:  45 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  75 (ERR)
      ✓ should enforce required fields (223ms)
    Get
**** Call ## 10 ## Duration:  101
      ✓ should get article by slug (102ms)
**** Call ## 11 ## Duration:  79
      ✓ should get article with tags by slug (79ms)
**** Call ## 12 ## Duration:  31 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  130
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  135
      ✓ should update article (414ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  51 (ERR)
      ✓ should disallow updating non-existent article (51ms)
**** Call ## 20 ## Duration:  60 (ERR)
      ✓ should disallow non-author from updating (60ms)
    Favorite
**** Call ## 21 ## Duration:  125
**** Call ## 22 ## Duration:  105
      ✓ should favorite article (230ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  62 (ERR)
      ✓ should disallow favoriting unknown article (62ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  109
**** Call ## 27 ## Duration:  29 (ERR)
      ✓ should delete article (138ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (70ms)
**** Call ## 30 ## Duration:  56 (ERR)
      ✓ should disallow deleting article by non-author (56ms)
    List
**** Call ## 31 ## Duration:  75
**** Call ## 32 ## Duration:  102
**** Call ## 33 ## Duration:  118
**** Call ## 34 ## Duration:  76
**** Call ## 35 ## Duration:  84
**** Call ## 36 ## Duration:  70
**** Call ## 37 ## Duration:  74
**** Call ## 38 ## Duration:  70
**** Call ## 39 ## Duration:  104
**** Call ## 40 ## Duration:  70
**** Call ## 41 ## Duration:  89
**** Call ## 42 ## Duration:  74
**** Call ## 43 ## Duration:  101
**** Call ## 44 ## Duration:  73
**** Call ## 45 ## Duration:  62
**** Call ## 46 ## Duration:  64
**** Call ## 47 ## Duration:  84
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  56
**** Call ## 50 ## Duration:  74
**** Call ## 51 ## Duration:  977
      ✓ should list articles (977ms)
**** Call ## 52 ## Duration:  527
**** Call ## 53 ## Duration:  606
      ✓ should list articles with tag (1133ms)
**** Call ## 54 ## Duration:  273
      ✓ should list articles by author (273ms)
**** Call ## 55 ## Duration:  128
      ✓ should list articles favorited by user (128ms)
**** Call ## 56 ## Duration:  149
**** Call ## 57 ## Duration:  146
      ✓ should list articles by limit/offset (296ms)
**** Call ## 58 ## Duration:  869
      ✓ should list articles when authenticated (869ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  51 (ERR)
**** Call ## 62 ## Duration:  135
**** Call ## 63 ## Duration:  116
**** Call ## 64 ## Duration:  341
**** Call ## 65 ## Duration:  116
**** Call ## 66 ## Duration:  541
      ✓ should get feed (1249ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  190
      ✓ should get tags (190ms)

  Comment
**** Call ## 69 ## Duration:  109
**** Call ## 70 ## Duration:  120
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  107
**** Call ## 73 ## Duration:  94
**** Call ## 74 ## Duration:  91
**** Call ## 75 ## Duration:  101
**** Call ## 76 ## Duration:  92
**** Call ## 77 ## Duration:  69
**** Call ## 78 ## Duration:  89
**** Call ## 79 ## Duration:  103
**** Call ## 80 ## Duration:  75
**** Call ## 81 ## Duration:  71
      ✓ should create comment (893ms)
**** Call ## 82 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  39 (ERR)
      ✓ should enforce comment body (39ms)
**** Call ## 84 ## Duration:  57 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  268
      ✓ should get all comments for article (268ms)
    Delete
**** Call ## 86 ## Duration:  97
      ✓ should delete comment (97ms)
**** Call ## 87 ## Duration:  55 (ERR)
      ✓ only comment author should be able to delete comment (55ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  111
      ✓ should create user (112ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  72
      ✓ should login (72ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  53
      ✓ should get current user (53ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (83ms)
    Profile
**** Call ## 108 ## Duration:  66
      ✓ should get profile (66ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  104
**** Call ## 111 ## Duration:  112
**** Call ## 112 ## Duration:  104
**** Call ## 113 ## Duration:  75
**** Call ## 114 ## Duration:  46
**** Call ## 115 ## Duration:  97
**** Call ## 116 ## Duration:  133
**** Call ## 117 ## Duration:  122
**** Call ## 118 ## Duration:  82
**** Call ## 119 ## Duration:  103
      ✓ should follow/unfollow user (979ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  99
**** Call ## 122 ## Duration:  70
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  85
      ✓ should update user (324ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  37 (ERR)
      ✓ should disallow missing token/email in update (60ms)
**** Call ## 127 ## Duration:  86
**** Call ## 128 ## Duration:  44 (ERR)
      ✓ should disallow reusing email (130ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  153
**** Call ## 1 ## Duration:  91
**** Call ## 2 ## Duration:  104
    Create
**** Call ## 3 ## Duration:  94
      ✓ should create article (96ms)
**** Call ## 4 ## Duration:  139
      ✓ should create article with tags (140ms)
**** Call ## 5 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  58 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (238ms)
    Get
**** Call ## 10 ## Duration:  131
      ✓ should get article by slug (131ms)
**** Call ## 11 ## Duration:  81
      ✓ should get article with tags by slug (81ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  171
**** Call ## 14 ## Duration:  154
**** Call ## 15 ## Duration:  175
      1) should update article

  7 passing (2s)
  1 failing

  1) Article
       Update
         should update article:

      AssertionError [ERR_ASSERTION]: 'Exercitation laboris sit do cillum eu est aliquip esse. Elit labore proident id commodo labore fugiat laboris aliqua occaecat t == 'Ullamco sint excepteur cillum deserunt sint magna officia ex Lorem aute eiusmod. Pariatur cillum irure reprehenderit tempor ea 
      + expected - actual

      -Exercitation laboris sit do cillum eu est aliquip esse. Elit labore proident id commodo labore fugiat laboris aliqua occaecat tempor consectetur adipisicing amet est enim sint labore fugiat proident. Elit ex laboris commodo eu dolor ullamco laboris veniam esse pariatur irure laborum laborum nulla labore commodo magna. Aliqua et qui nulla fugiat elit aliqua sit eu excepteur aute laboris Lorem eiusmod incididunt dolor dolore minim Lorem. Irure tempor pariatur tempor excepteur excepteur ut voluptate. Magna nisi excepteur adipisicing reprehenderit est anim reprehenderit.
      -Ad enim adipisicing in sint excepteur in labore pariatur est ullamco mollit. Aute quis id proident consequat exercitation esse consequat enim eiusmod officia sunt commodo labore. Aute quis cupidatat veniam mollit velit reprehenderit cupidatat enim sunt magna exercitation enim veniam. Excepteur sunt amet laborum elit ea aute nostrud aliqua cupidatat Lorem tempor labore commodo voluptate voluptate aliquip et duis velit. Fugiat quis aliquip nostrud irure Lorem occaecat consectetur sunt ullamco et adipisicing sint mollit. Enim tempor nisi irure labore aliqua pariatur in ut. Lorem minim sint aute tempor nulla dolore tempor. Ut non et velit excepteur elit ad exercitation Lorem ea adipisicing. Minim minim sint incididunt aute voluptate eiusmod culpa culpa aliquip. Elit cupidatat sunt id ut sit enim veniam. Exercitation incididunt aliqua cillum eiusmod tempor excepteur consectetur.
      -Qui reprehenderit labore ad non tempor aute ullamco dolore nisi nostrud pariatur excepteur mollit cillum veniam deserunt cillum dolor. Voluptate duis amet nostrud aliqua reprehenderit aliqua ad veniam. Velit labore adipisicing eu fugiat reprehenderit commodo officia sint consectetur pariatur amet deserunt ullamco in eu culpa. Nisi esse duis ut nostrud dolor in in ea qui cillum consectetur magna culpa.
      -Eu exercitation ut officia commodo adipisicing non ipsum. Anim enim sunt irure ullamco aute minim qui consequat excepteur sunt nostrud sint pariatur consequat veniam commodo sunt magna. Ullamco ullamco elit culpa eiusmod Lorem amet nulla ea magna. Aliquip tempor in ex culpa laboris anim ut amet nisi laborum magna esse eiusmod et in ut. Exercitation laboris est velit et aute labore tempor in id cillum dolor laborum dolore. Tempor minim nulla eu et in pariatur Lorem consequat ad ea et. Eiusmod eiusmod quis proident sunt velit nostrud tempor adipisicing dolore dolor aliquip veniam do commodo. Consectetur eu adipisicing esse velit et non ullamco veniam labore veniam sit sit quis dolore culpa velit. Et do cupidatat id culpa ea commodo ullamco ex Lorem magna non incididunt officia dolore. Esse labore quis voluptate ad sit anim anim. Cillum magna dolore sint laborum non irure dolore et ex elit. In culpa velit velit duis tempor magna qui dolor minim.
      -Lorem excepteur dolor voluptate minim sit consequat enim. Enim veniam commodo ea mollit do amet ullamco eu consequat anim eu commodo laboris sit quis Lorem consequat nulla officia. Cillum eiusmod exercitation et irure non sit ullamco non cillum laborum aliqua voluptate elit nulla veniam dolore officia dolore amet. Do eu nisi ullamco aliqua consectetur adipisicing consectetur.
      -Nulla anim laboris nulla sit amet cillum id Lorem qui incididunt esse magna velit dolor fugiat reprehenderit et laboris enim. Laboris qui minim dolor elit voluptate enim duis voluptate consequat anim incididunt in commodo occaecat do dolore pariatur id sunt. Ex qui enim consequat excepteur velit in ut nulla eiusmod Lorem. Amet veniam minim cillum enim culpa pariatur sit excepteur qui commodo eu voluptate ea. Adipisicing non cillum cupidatat deserunt esse ullamco eu aliqua voluptate do adipisicing id quis cillum eiusmod ullamco nulla. Excepteur eiusmod duis in voluptate dolore reprehenderit mollit sit.
      -Cillum fugiat proident ipsum laborum nostrud in id proident dolor enim enim nisi cupidatat voluptate ad laboris aute. Sunt velit in in magna ipsum cillum mollit aute excepteur enim. Irure aute proident cupidatat dolor labore magna exercitation magna velit aute. Non nulla enim aliqua enim occaecat dolor sunt.
      -Irure proident sunt laboris nisi enim ipsum sit incididunt qui. Irure culpa mollit nisi aliquip irure commodo excepteur culpa proident deserunt irure excepteur aliquip do. Est cillum reprehenderit deserunt exercitation dolor magna voluptate do culpa consequat ut enim eiusmod qui pariatur mollit quis. Excepteur velit pariatur ex enim deserunt in est deserunt commodo nulla adipisicing duis minim proident pariatur aliqua sunt non. Elit adipisicing voluptate aliqua mollit eiusmod deserunt dolor amet exercitation enim velit sint et. Elit laboris irure id est in minim fugiat cupidatat eu qui laborum dolor. Adipisicing eiusmod est nisi minim aute Lorem consectetur in nisi et id nulla amet cupidatat nostrud eu officia sint. Velit do laborum aliquip excepteur irure anim elit. Nulla minim quis do sint ullamco magna sunt culpa dolor. Ut laborum aute incididunt incididunt pariatur velit ullamco minim commodo reprehenderit consequat.
      -Tempor quis ut deserunt voluptate id id qui Lorem id irure. Aute aliqua adipisicing ex esse nisi pariatur ea nulla incididunt duis est. Anim minim voluptate dolore do velit ea dolore excepteur dolore exercitation ea qui pariatur dolore deserunt officia velit. Consectetur deserunt dolor id dolore enim et velit eiusmod veniam incididunt aliqua id laboris. Irure id magna nostrud est irure aliquip commodo nisi occaecat ipsum sunt voluptate veniam sunt anim. Eiusmod quis est consectetur do mollit excepteur aliqua consectetur sint adipisicing veniam est cillum ipsum sint nisi. Ut sit aliquip nostrud quis commodo nulla dolor qui est ipsum. Commodo adipisicing aliqua deserunt enim id in ullamco ea amet. Eu in ea et eiusmod cillum est adipisicing irure ut ea id sunt velit culpa est Lorem sit. Deserunt exercitation nisi deserunt officia ipsum adipisicing pariatur voluptate deserunt dolore nisi aliqua. Do est sit elit do reprehenderit laborum ea pariatur nisi qui mollit commodo officia non sunt culpa reprehenderit sunt amet.
      -Ea minim fugiat minim et irure occaecat in reprehenderit incididunt ut labore mollit velit tempor ipsum. Culpa dolor amet deserunt sunt adipisicing deserunt proident laboris incididunt culpa occaecat. Culpa minim culpa laborum dolor mollit aute magna tempor qui qui Lorem. Deserunt labore laboris veniam qui est do quis. Anim fugiat nulla laborum laborum non ad aliqua cupidatat cupidatat veniam voluptate do irure occaecat culpa sunt cupidatat. Non deserunt veniam reprehenderit nostrud cupidatat eiusmod occaecat do qui. Lorem voluptate pariatur id sunt deserunt Lorem et ea. Incididunt do aliqua ipsum nulla commodo sit aliqua aute adipisicing consequat dolore.
      -Ut do deserunt elit aute ullamco pariatur amet irure minim culpa eiusmod culpa do velit nisi laboris magna eiusmod. Mollit consequat fugiat minim mollit id irure ipsum aliquip eiusmod consectetur veniam. Veniam reprehenderit duis reprehenderit nulla voluptate cupidatat velit aute quis aliqua. Aute et nostrud sint deserunt excepteur esse ea.
      -Aute ea laborum commodo nulla deserunt non laborum aute sint nulla adipisicing culpa laborum ex non. Laboris ut ipsum nisi proident aliqua culpa incididunt laborum eu consectetur id id tempor amet cupidatat dolor do. Excepteur aute sit occaecat sint adipisicing est ea labore ullamco ea elit cillum laboris commodo Lorem aliquip culpa Lorem nostrud. Amet do qui qui aliqua proident laborum dolor. Culpa cupidatat sit consequat consequat ullamco ipsum adipisicing mollit reprehenderit. Deserunt culpa nostrud nostrud est proident aliquip sint eiusmod Lorem est culpa eiusmod cillum eu. Laboris quis dolor est ut nostrud in magna dolore duis consequat et proident minim elit nisi enim excepteur.
      +Ullamco sint excepteur cillum deserunt sint magna officia ex Lorem aute eiusmod. Pariatur cillum irure reprehenderit tempor ea nostrud et. Lorem proident duis cupidatat cupidatat in veniam amet qui nostrud nisi cupidatat mollit non sit ipsum voluptate. Deserunt velit proident excepteur exercitation enim nulla et reprehenderit pariatur velit esse minim. Culpa pariatur adipisicing amet velit labore nisi irure amet sit do reprehenderit sint. Officia est id ad elit et nulla excepteur. Nostrud ut occaecat id ut consectetur sunt minim ea occaecat irure veniam veniam fugiat aliquip occaecat consectetur nulla. Eu elit deserunt veniam consequat aliqua cupidatat et dolore reprehenderit. Aliqua mollit in aliqua dolore exercitation ad labore reprehenderit incididunt cupidatat sint mollit.
      +Lorem in magna consectetur ad dolor aliquip quis occaecat in. Laboris aute exercitation dolore proident officia aliquip reprehenderit fugiat sit non reprehenderit deserunt est minim ex anim nisi consectetur. Consectetur culpa enim Lorem cupidatat veniam voluptate labore laboris excepteur non veniam nostrud sunt irure ex fugiat enim est adipisicing. Sint cupidatat in aute excepteur aliqua ipsum minim nisi fugiat in dolore velit ullamco cupidatat magna adipisicing. Minim labore velit incididunt eiusmod veniam exercitation in nostrud eiusmod sunt laboris sint cillum.
      +Ut veniam excepteur elit id quis enim et sunt anim. Deserunt voluptate quis in excepteur magna est occaecat labore. Aute ad nulla anim aute incididunt proident consectetur labore magna velit exercitation non veniam proident deserunt nisi aute ut nostrud. Veniam Lorem qui enim mollit in ad cillum tempor dolor cillum qui consectetur adipisicing consequat ad ex reprehenderit dolor magna. Id eiusmod ipsum laboris labore minim pariatur est Lorem deserunt eiusmod nostrud id ea sint proident ullamco ex magna. Pariatur ut exercitation ea id adipisicing amet aute tempor sit eu labore culpa eu. Amet non sunt et nulla est tempor velit sit deserunt est.
      +Culpa est laboris Lorem voluptate non nostrud irure laborum nostrud aliquip exercitation. Sit minim anim ad fugiat quis elit eiusmod laborum labore non laboris esse laboris elit laboris aliquip eiusmod minim. Culpa tempor labore officia velit ea proident commodo ullamco consequat exercitation occaecat consectetur esse pariatur ad ipsum. Lorem excepteur cillum esse aliqua ea eiusmod culpa dolore amet commodo. Est esse magna minim est sunt aliquip pariatur veniam veniam qui. Ex voluptate in amet do do mollit non non aute fugiat ipsum nisi fugiat enim ipsum in tempor ut cupidatat. Eiusmod fugiat sit proident anim deserunt reprehenderit nisi aliquip adipisicing non do laborum tempor nostrud laboris aute minim. Dolor non nostrud exercitation ullamco occaecat tempor nisi qui et non consequat. In mollit eu aliquip anim do officia consectetur nostrud voluptate mollit sit et mollit consectetur dolore est. Reprehenderit reprehenderit commodo ea nulla pariatur dolor ad consectetur mollit.
      +Laborum proident laborum tempor voluptate labore anim enim quis est duis sint ex duis. Consequat dolore irure elit aliquip magna qui exercitation. Deserunt quis aliquip cupidatat ea laboris amet do culpa quis adipisicing excepteur eu ex. Ullamco incididunt dolore aute proident sunt Lorem exercitation veniam proident esse est reprehenderit pariatur velit exercitation commodo est velit.
      +Cupidatat veniam nulla voluptate officia duis elit dolore do ad. Occaecat sint eu consequat magna magna ad deserunt mollit labore magna ea ad officia. Laborum consequat id ea do Lorem quis veniam dolore elit aliquip dolore nostrud veniam do esse dolore. Anim proident do adipisicing do aliquip eu anim aute do. Et Lorem amet nostrud reprehenderit deserunt reprehenderit eiusmod nulla duis incididunt non irure nulla excepteur. Nisi qui fugiat aliqua do non commodo exercitation eiusmod aliqua fugiat ullamco nulla enim dolore fugiat eu irure. Id adipisicing velit nisi occaecat laborum qui enim exercitation. Exercitation mollit adipisicing veniam ea id aliquip veniam cillum ut incididunt Lorem do.
      +Quis labore nostrud ullamco cillum cillum aliquip officia dolor aliqua. Ea Lorem aliquip duis non pariatur velit nulla ex reprehenderit tempor irure nostrud velit ullamco ex deserunt laborum veniam. Ea consequat duis qui nostrud voluptate esse veniam reprehenderit minim ullamco. Dolor magna irure est sunt aute aliqua commodo eiusmod labore reprehenderit sit irure sit. Ex aute ullamco proident ut veniam est Lorem amet amet amet est minim reprehenderit nostrud sunt sit fugiat consequat nostrud. Proident proident nostrud dolor elit quis minim minim velit anim voluptate consectetur eu non officia culpa ex. Aliqua elit eiusmod magna eiusmod deserunt nulla incididunt proident dolor laboris nostrud consectetur. Ad excepteur cillum mollit duis quis amet ea in aliqua sit proident consectetur anim tempor qui. Mollit reprehenderit cillum fugiat velit sit velit cupidatat esse do. Do velit voluptate aliquip non eu est eiusmod enim adipisicing est nulla ex non elit ea ad.
      +Amet aute occaecat id nulla elit eu quis excepteur amet fugiat est in laborum exercitation quis ex consectetur qui. Aliqua et cillum occaecat veniam labore reprehenderit ullamco occaecat duis ex laboris nisi consectetur laboris incididunt occaecat ex. Officia esse esse sunt elit quis cillum velit non incididunt irure ut veniam ad laborum tempor irure deserunt amet laboris. Velit anim esse ea exercitation exercitation aute est aute dolor velit aliquip proident laborum id proident ipsum ad. Nulla aliqua ea ipsum adipisicing voluptate ad aute eiusmod.
      +Deserunt ex deserunt incididunt duis proident cillum voluptate reprehenderit veniam ad qui magna elit laborum esse. Tempor laboris occaecat aute deserunt proident tempor anim. Voluptate pariatur ad ad dolor proident dolor commodo non ullamco et sit exercitation elit laborum ullamco do veniam exercitation deserunt. Nostrud in incididunt aute aliquip proident magna sint tempor cupidatat amet. Proident laboris nostrud amet eiusmod enim eu consectetur aliqua nostrud irure commodo occaecat eu dolore non ut exercitation. Id est officia minim sit consequat eu culpa do reprehenderit quis ex duis. Veniam esse deserunt enim dolor consequat qui duis excepteur elit. Occaecat cupidatat incididunt tempor non ex aliquip dolore consectetur in Lorem Lorem est non mollit nisi tempor. Mollit labore officia id qui consectetur veniam quis deserunt enim aliquip deserunt ut. Lorem cupidatat in ea nostrud est esse ut voluptate enim duis ex ullamco.
      +Aliqua excepteur incididunt qui non sit aliquip labore aliquip fugiat incididunt. Ad tempor id nulla nulla reprehenderit ullamco pariatur consequat cillum reprehenderit laboris officia excepteur dolore pariatur magna consectetur cillum laborum. Proident laboris non non laboris deserunt enim aliquip sunt officia. In id sint id minim do voluptate in eu aliqua qui esse sint. Irure duis anim cillum voluptate aute enim ea. Commodo ea laborum consectetur amet deserunt laborum tempor occaecat irure fugiat enim proident ad aute pariatur id culpa adipisicing do. Cillum sit labore ad eiusmod velit aute nostrud anim et irure qui mollit dolor minim commodo. Amet qui nostrud minim sunt aliquip laboris culpa exercitation mollit elit ipsum ut. Est adipisicing tempor fugiat ipsum nisi do culpa duis nostrud incididunt. Exercitation minim velit aute anim ex cillum occaecat dolore nostrud dolore incididunt laborum consectetur deserunt mollit aliqua ad.
      +Labore veniam in do voluptate ipsum velit sunt anim reprehenderit dolor. Ut ut voluptate dolore nulla do dolore irure nulla ullamco. Minim aute est ea nulla exercitation consectetur anim dolor. Cillum nostrud culpa aute dolor laboris sunt cillum esse consequat nulla ullamco. Mollit aliqua ea irure enim duis nostrud consequat laborum sit nisi consequat id.
      +Dolore amet et nulla non tempor nostrud esse ad eiusmod laborum minim id amet. Est excepteur qui dolore irure velit officia nulla nisi ullamco eu exercitation non. Consequat labore sunt duis enim tempor magna proident non aliquip laborum labore culpa cupidatat. Consectetur est cillum qui sunt sit ullamco in. Exercitation proident ex tempor adipisicing veniam eu adipisicing est cupidatat esse occaecat laboris sit consequat et ut labore adipisicing. Enim magna ullamco consequat nostrud esse proident cupidatat ut excepteur quis ea ea excepteur reprehenderit cillum duis est. Consectetur laborum enim et ut et in laboris exercitation anim esse tempor.
      
      at Context.it (test/test.Article.js:194:14)
      at <anonymous>
      at process._tickCallback (internal/process/next_tick.js:188:7)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T00_28_49_490Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  225
**** Call ## 1 ## Duration:  96
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  98
      ✓ should create article (100ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (92ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  106 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  63 (ERR)
**** Call ## 9 ## Duration:  48 (ERR)
      ✓ should enforce required fields (282ms)
    Get
**** Call ## 10 ## Duration:  85
      ✓ should get article by slug (85ms)
**** Call ## 11 ## Duration:  76
      ✓ should get article with tags by slug (77ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  160
**** Call ## 14 ## Duration:  160
**** Call ## 15 ## Duration:  140
      ✓ should update article (461ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  68 (ERR)
      ✓ should disallow updating non-existent article (69ms)
**** Call ## 20 ## Duration:  73 (ERR)
      ✓ should disallow non-author from updating (73ms)
    Favorite
**** Call ## 21 ## Duration:  147
**** Call ## 22 ## Duration:  117
      ✓ should favorite article (264ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  171
      ✓ should unfavorite article (171ms)
    Delete
**** Call ## 26 ## Duration:  111
**** Call ## 27 ## Duration:  36 (ERR)
      ✓ should delete article (148ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  106
**** Call ## 32 ## Duration:  100
**** Call ## 33 ## Duration:  89
**** Call ## 34 ## Duration:  90
**** Call ## 35 ## Duration:  107
**** Call ## 36 ## Duration:  91
**** Call ## 37 ## Duration:  83
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  85
**** Call ## 41 ## Duration:  86
**** Call ## 42 ## Duration:  99
**** Call ## 43 ## Duration:  64
**** Call ## 44 ## Duration:  56
**** Call ## 45 ## Duration:  83
**** Call ## 46 ## Duration:  77
**** Call ## 47 ## Duration:  66
**** Call ## 48 ## Duration:  79
**** Call ## 49 ## Duration:  60
**** Call ## 50 ## Duration:  160
**** Call ## 51 ## Duration:  892
      ✓ should list articles (892ms)
**** Call ## 52 ## Duration:  506
**** Call ## 53 ## Duration:  542
      ✓ should list articles with tag (1048ms)
**** Call ## 54 ## Duration:  357
      ✓ should list articles by author (358ms)
**** Call ## 55 ## Duration:  114
      ✓ should list articles favorited by user (115ms)
**** Call ## 56 ## Duration:  167
**** Call ## 57 ## Duration:  151
      ✓ should list articles by limit/offset (319ms)
**** Call ## 58 ## Duration:  971
      ✓ should list articles when authenticated (972ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  143
**** Call ## 63 ## Duration:  138
**** Call ## 64 ## Duration:  372
**** Call ## 65 ## Duration:  100
**** Call ## 66 ## Duration:  541
      ✓ should get feed (1294ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  259
      ✓ should get tags (259ms)

  Comment
**** Call ## 69 ## Duration:  106
**** Call ## 70 ## Duration:  104
**** Call ## 71 ## Duration:  66
    Create
**** Call ## 72 ## Duration:  110
**** Call ## 73 ## Duration:  94
**** Call ## 74 ## Duration:  109
**** Call ## 75 ## Duration:  102
**** Call ## 76 ## Duration:  91
**** Call ## 77 ## Duration:  88
**** Call ## 78 ## Duration:  99
**** Call ## 79 ## Duration:  90
**** Call ## 80 ## Duration:  58
**** Call ## 81 ## Duration:  71
      ✓ should create comment (913ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  246
      ✓ should get all comments for article (246ms)
    Delete
**** Call ## 86 ## Duration:  102
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  68 (ERR)
      ✓ only comment author should be able to delete comment (68ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (67ms)

  User
    Create
**** Call ## 90 ## Duration:  90
      ✓ should create user (90ms)
**** Call ## 91 ## Duration:  24 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  53 (ERR)
      ✓ should disallow same email (53ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  61
      ✓ should login (61ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (57ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  26 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (70ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  102
**** Call ## 111 ## Duration:  145
**** Call ## 112 ## Duration:  102
**** Call ## 113 ## Duration:  94
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  92
**** Call ## 116 ## Duration:  106
**** Call ## 117 ## Duration:  153
**** Call ## 118 ## Duration:  113
**** Call ## 119 ## Duration:  216
      ✓ should follow/unfollow user (1188ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  78
**** Call ## 122 ## Duration:  49
**** Call ## 123 ## Duration:  67
**** Call ## 124 ## Duration:  63
      ✓ should update user (258ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  120
**** Call ## 128 ## Duration:  47 (ERR)
      ✓ should disallow reusing email (167ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  184
**** Call ## 1 ## Duration:  91
**** Call ## 2 ## Duration:  104
    Create
**** Call ## 3 ## Duration:  92
      ✓ should create article (95ms)
**** Call ## 4 ## Duration:  208
      ✓ should create article with tags (211ms)
**** Call ## 5 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  62 (ERR)
**** Call ## 7 ## Duration:  52 (ERR)
**** Call ## 8 ## Duration:  95 (ERR)
**** Call ## 9 ## Duration:  62 (ERR)
      ✓ should enforce required fields (272ms)
    Get
**** Call ## 10 ## Duration:  88
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  82
      ✓ should get article with tags by slug (82ms)
**** Call ## 12 ## Duration:  26 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  155
**** Call ## 15 ## Duration:  123
      ✓ should update article (435ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  125
**** Call ## 22 ## Duration:  92
      ✓ should favorite article (219ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  55 (ERR)
      ✓ should disallow favoriting unknown article (55ms)
**** Call ## 25 ## Duration:  199
      ✓ should unfavorite article (199ms)
    Delete
**** Call ## 26 ## Duration:  94
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (135ms)
**** Call ## 28 ## Duration:  28 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  46 (ERR)
      ✓ should disallow deleting article by non-author (46ms)
    List
**** Call ## 31 ## Duration:  93
**** Call ## 32 ## Duration:  92
**** Call ## 33 ## Duration:  105
**** Call ## 34 ## Duration:  91
**** Call ## 35 ## Duration:  71
**** Call ## 36 ## Duration:  82
**** Call ## 37 ## Duration:  80
**** Call ## 38 ## Duration:  83
**** Call ## 39 ## Duration:  72
**** Call ## 40 ## Duration:  82
**** Call ## 41 ## Duration:  82
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  103
**** Call ## 44 ## Duration:  101
**** Call ## 45 ## Duration:  88
**** Call ## 46 ## Duration:  87
**** Call ## 47 ## Duration:  87
**** Call ## 48 ## Duration:  82
**** Call ## 49 ## Duration:  63
**** Call ## 50 ## Duration:  73
**** Call ## 51 ## Duration:  853
      ✓ should list articles (853ms)
**** Call ## 52 ## Duration:  493
**** Call ## 53 ## Duration:  631
      ✓ should list articles with tag (1124ms)
**** Call ## 54 ## Duration:  293
      ✓ should list articles by author (294ms)
**** Call ## 55 ## Duration:  100
      ✓ should list articles favorited by user (100ms)
**** Call ## 56 ## Duration:  160
**** Call ## 57 ## Duration:  164
      ✓ should list articles by limit/offset (324ms)
**** Call ## 58 ## Duration:  775
      ✓ should list articles when authenticated (775ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 62 ## Duration:  68
**** Call ## 63 ## Duration:  128
**** Call ## 64 ## Duration:  373
**** Call ## 65 ## Duration:  98
**** Call ## 66 ## Duration:  594
      ✓ should get feed (1261ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  197
      ✓ should get tags (198ms)

  Comment
**** Call ## 69 ## Duration:  122
**** Call ## 70 ## Duration:  89
**** Call ## 71 ## Duration:  80
    Create
**** Call ## 72 ## Duration:  96
**** Call ## 73 ## Duration:  124
**** Call ## 74 ## Duration:  86
**** Call ## 75 ## Duration:  83
**** Call ## 76 ## Duration:  94
**** Call ## 77 ## Duration:  84
**** Call ## 78 ## Duration:  81
**** Call ## 79 ## Duration:  58
**** Call ## 80 ## Duration:  88
**** Call ## 81 ## Duration:  77
      ✓ should create comment (873ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  53 (ERR)
      ✓ should enforce comment body (53ms)
**** Call ## 84 ## Duration:  49 (ERR)
      ✓ should disallow non-existent article (49ms)
    Get
**** Call ## 85 ## Duration:  283
      ✓ should get all comments for article (283ms)
    Delete
**** Call ## 86 ## Duration:  98
      ✓ should delete comment (98ms)
**** Call ## 87 ## Duration:  117 (ERR)
      ✓ only comment author should be able to delete comment (117ms)
**** Call ## 88 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  121
      ✓ should create user (121ms)
**** Call ## 91 ## Duration:  31 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  17 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (77ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (67ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  54
      ✓ should get current user (54ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  126
      ✓ should get profile (126ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  103
**** Call ## 111 ## Duration:  138
**** Call ## 112 ## Duration:  125
**** Call ## 113 ## Duration:  80
**** Call ## 114 ## Duration:  56
**** Call ## 115 ## Duration:  105
**** Call ## 116 ## Duration:  119
**** Call ## 117 ## Duration:  118
**** Call ## 118 ## Duration:  108
**** Call ## 119 ## Duration:  101
      ✓ should follow/unfollow user (1054ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  53
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  54
      ✓ should update user (241ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  50 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  95
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (156ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://dekwr04ztl.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  149
**** Call ## 1 ## Duration:  132
**** Call ## 2 ## Duration:  94
    Create
**** Call ## 3 ## Duration:  86
      ✓ should create article (88ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (86ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  63 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  60 (ERR)
      ✓ should enforce required fields (248ms)
    Get
**** Call ## 10 ## Duration:  116
      ✓ should get article by slug (116ms)
**** Call ## 11 ## Duration:  111
      ✓ should get article with tags by slug (112ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  142
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  198
      ✓ should update article (479ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  60 (ERR)
      ✓ should disallow updating non-existent article (60ms)
**** Call ## 20 ## Duration:  59 (ERR)
      ✓ should disallow non-author from updating (59ms)
    Favorite
**** Call ## 21 ## Duration:  125
**** Call ## 22 ## Duration:  106
      ✓ should favorite article (231ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  57 (ERR)
      ✓ should disallow favoriting unknown article (58ms)
**** Call ## 25 ## Duration:  128
      ✓ should unfavorite article (128ms)
    Delete
**** Call ## 26 ## Duration:  100
**** Call ## 27 ## Duration:  49 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  60 (ERR)
      ✓ should disallow deleting article by non-author (61ms)
    List
**** Call ## 31 ## Duration:  87
**** Call ## 32 ## Duration:  220
**** Call ## 33 ## Duration:  73
**** Call ## 34 ## Duration:  202
**** Call ## 35 ## Duration:  70
**** Call ## 36 ## Duration:  81
**** Call ## 37 ## Duration:  72
**** Call ## 38 ## Duration:  74
**** Call ## 39 ## Duration:  82
**** Call ## 40 ## Duration:  75
**** Call ## 41 ## Duration:  88
**** Call ## 42 ## Duration:  127
**** Call ## 43 ## Duration:  59
**** Call ## 44 ## Duration:  71
**** Call ## 45 ## Duration:  63
**** Call ## 46 ## Duration:  73
**** Call ## 47 ## Duration:  52
**** Call ## 48 ## Duration:  71
**** Call ## 49 ## Duration:  58
**** Call ## 50 ## Duration:  75
**** Call ## 51 ## Duration:  905
      ✓ should list articles (906ms)
**** Call ## 52 ## Duration:  522
**** Call ## 53 ## Duration:  645
      ✓ should list articles with tag (1168ms)
**** Call ## 54 ## Duration:  266
      ✓ should list articles by author (266ms)
**** Call ## 55 ## Duration:  109
      ✓ should list articles favorited by user (109ms)
**** Call ## 56 ## Duration:  158
**** Call ## 57 ## Duration:  159
      ✓ should list articles by limit/offset (317ms)
**** Call ## 58 ## Duration:  800
      ✓ should list articles when authenticated (801ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  78
**** Call ## 63 ## Duration:  132
**** Call ## 64 ## Duration:  370
**** Call ## 65 ## Duration:  100
**** Call ## 66 ## Duration:  469
      ✓ should get feed (1151ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  229
      ✓ should get tags (229ms)

  Comment
**** Call ## 69 ## Duration:  117
**** Call ## 70 ## Duration:  85
**** Call ## 71 ## Duration:  107
    Create
**** Call ## 72 ## Duration:  144
**** Call ## 73 ## Duration:  112
**** Call ## 74 ## Duration:  95
**** Call ## 75 ## Duration:  90
**** Call ## 76 ## Duration:  90
**** Call ## 77 ## Duration:  90
**** Call ## 78 ## Duration:  90
**** Call ## 79 ## Duration:  88
**** Call ## 80 ## Duration:  80
**** Call ## 81 ## Duration:  96
      ✓ should create comment (975ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  215
      ✓ should get all comments for article (216ms)
    Delete
**** Call ## 86 ## Duration:  102
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  65 (ERR)
      ✓ only comment author should be able to delete comment (65ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  112
      ✓ should create user (113ms)
**** Call ## 91 ## Duration:  29 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  62
      ✓ should login (62ms)
**** Call ## 98 ## Duration:  32 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (88ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  107
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  140
**** Call ## 113 ## Duration:  79
**** Call ## 114 ## Duration:  64
**** Call ## 115 ## Duration:  98
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  116
**** Call ## 118 ## Duration:  101
**** Call ## 119 ## Duration:  115
      ✓ should follow/unfollow user (1063ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  84
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  60
**** Call ## 124 ## Duration:  42
      ✓ should update user (255ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  45 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  143
**** Call ## 128 ## Duration:  56 (ERR)
      ✓ should disallow reusing email (200ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (14s)

results20191101215320/rec-res-5-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
........................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
