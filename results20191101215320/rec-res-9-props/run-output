Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
.....
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (24.23 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
........................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (24.23 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (24.23 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  941
**** Call ## 1 ## Duration:  120
**** Call ## 2 ## Duration:  123
    Create
**** Call ## 3 ## Duration:  872
      ✓ should create article (874ms)
**** Call ## 4 ## Duration:  105
      ✓ should create article with tags (108ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  772 (ERR)
**** Call ## 7 ## Duration:  72 (ERR)
**** Call ## 8 ## Duration:  73 (ERR)
**** Call ## 9 ## Duration:  50 (ERR)
      ✓ should enforce required fields (968ms)
    Get
**** Call ## 10 ## Duration:  818
      ✓ should get article by slug (818ms)
**** Call ## 11 ## Duration:  93
      ✓ should get article with tags by slug (94ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  881
**** Call ## 14 ## Duration:  160
**** Call ## 15 ## Duration:  123
      ✓ should update article (1165ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  566 (ERR)
      ✓ should disallow empty mutation (566ms)
**** Call ## 18 ## Duration:  38 (ERR)
      ✓ should disallow unauthenticated update (39ms)
**** Call ## 19 ## Duration:  157 (ERR)
      ✓ should disallow updating non-existent article (157ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  865
**** Call ## 22 ## Duration:  136
      ✓ should favorite article (1001ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  823
      ✓ should unfavorite article (823ms)
    Delete
**** Call ## 26 ## Duration:  847
**** Call ## 27 ## Duration:  48 (ERR)
      ✓ should delete article (895ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (70ms)
**** Call ## 30 ## Duration:  79 (ERR)
      ✓ should disallow deleting article by non-author (80ms)
    List
**** Call ## 31 ## Duration:  117
**** Call ## 32 ## Duration:  117
**** Call ## 33 ## Duration:  101
**** Call ## 34 ## Duration:  81
**** Call ## 35 ## Duration:  104
**** Call ## 36 ## Duration:  77
**** Call ## 37 ## Duration:  109
**** Call ## 38 ## Duration:  88
**** Call ## 39 ## Duration:  81
**** Call ## 40 ## Duration:  74
**** Call ## 41 ## Duration:  97
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  89
**** Call ## 44 ## Duration:  102
**** Call ## 45 ## Duration:  78
**** Call ## 46 ## Duration:  97
**** Call ## 47 ## Duration:  61
**** Call ## 48 ## Duration:  78
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  100
**** Call ## 51 ## Duration:  1400
      ✓ should list articles (1401ms)
**** Call ## 52 ## Duration:  59
**** Call ## 53 ## Duration:  182
      ✓ should list articles with tag (242ms)
**** Call ## 54 ## Duration:  280
      ✓ should list articles by author (280ms)
**** Call ## 55 ## Duration:  41
      ✓ should list articles favorited by user (41ms)
**** Call ## 56 ## Duration:  885
**** Call ## 57 ## Duration:  185
      ✓ should list articles by limit/offset (1070ms)
**** Call ## 58 ## Duration:  560
      ✓ should list articles when authenticated (560ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  590 (ERR)
**** Call ## 62 ## Duration:  836
**** Call ## 63 ## Duration:  824
**** Call ## 64 ## Duration:  328
**** Call ## 65 ## Duration:  127
**** Call ## 66 ## Duration:  550
      ✓ should get feed (2665ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  785
      ✓ should get tags (785ms)

  Comment
**** Call ## 69 ## Duration:  168
**** Call ## 70 ## Duration:  119
**** Call ## 71 ## Duration:  134
    Create
**** Call ## 72 ## Duration:  737
**** Call ## 73 ## Duration:  164
**** Call ## 74 ## Duration:  133
**** Call ## 75 ## Duration:  115
**** Call ## 76 ## Duration:  103
**** Call ## 77 ## Duration:  108
**** Call ## 78 ## Duration:  100
**** Call ## 79 ## Duration:  91
**** Call ## 80 ## Duration:  97
**** Call ## 81 ## Duration:  103
      ✓ should create comment (1751ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  640 (ERR)
      ✓ should enforce comment body (641ms)
**** Call ## 84 ## Duration:  69 (ERR)
      ✓ should disallow non-existent article (70ms)
    Get
**** Call ## 85 ## Duration:  934
      ✓ should get all comments for article (934ms)
    Delete
**** Call ## 86 ## Duration:  757
      ✓ should delete comment (757ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  33 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  584 (ERR)
      ✓ should disallow deleting unknown comment (585ms)

  User
    Create
**** Call ## 90 ## Duration:  168
      ✓ should create user (168ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  765 (ERR)
      ✓ should disallow same email (765ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  820
      ✓ should login (821ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  787 (ERR)
      ✓ should disallow wrong password (787ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (66ms)
    Get
**** Call ## 103 ## Duration:  735
      ✓ should get current user (735ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  729 (ERR)
**** Call ## 106 ## Duration:  39 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (808ms)
    Profile
**** Call ## 108 ## Duration:  839
      ✓ should get profile (839ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  192
**** Call ## 111 ## Duration:  166
**** Call ## 112 ## Duration:  118
**** Call ## 113 ## Duration:  91
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  131
**** Call ## 116 ## Duration:  120
**** Call ## 117 ## Duration:  884
**** Call ## 118 ## Duration:  135
**** Call ## 119 ## Duration:  129
      ✓ should follow/unfollow user (2026ms)
**** Call ## 120 ## Duration:  64 (ERR)
      ✓ should disallow following with bad token (65ms)
    Update
**** Call ## 121 ## Duration:  808
**** Call ## 122 ## Duration:  110
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  69
      ✓ should update user (1043ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  752 (ERR)
      ✓ should disallow missing token/email in update (775ms)
**** Call ## 127 ## Duration:  174
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (239ms)

  Util
    Ping
**** Call ## 129 ## Duration:  504
      ✓ should ping (505ms)


  58 passing (33s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  227
**** Call ## 1 ## Duration:  118
**** Call ## 2 ## Duration:  121
    Create
**** Call ## 3 ## Duration:  109
      ✓ should create article (112ms)
**** Call ## 4 ## Duration:  123
      ✓ should create article with tags (125ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  126 (ERR)
**** Call ## 7 ## Duration:  97 (ERR)
**** Call ## 8 ## Duration:  72 (ERR)
**** Call ## 9 ## Duration:  67 (ERR)
      ✓ should enforce required fields (363ms)
    Get
**** Call ## 10 ## Duration:  155
      ✓ should get article by slug (156ms)
**** Call ## 11 ## Duration:  88
      ✓ should get article with tags by slug (88ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  233
**** Call ## 14 ## Duration:  132
**** Call ## 15 ## Duration:  140
      ✓ should update article (508ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  61 (ERR)
      ✓ should disallow empty mutation (61ms)
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  67 (ERR)
      ✓ should disallow updating non-existent article (67ms)
**** Call ## 20 ## Duration:  82 (ERR)
      ✓ should disallow non-author from updating (83ms)
    Favorite
**** Call ## 21 ## Duration:  204
**** Call ## 22 ## Duration:  169
      ✓ should favorite article (374ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  73 (ERR)
      ✓ should disallow favoriting unknown article (73ms)
**** Call ## 25 ## Duration:  203
      ✓ should unfavorite article (203ms)
    Delete
**** Call ## 26 ## Duration:  175
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (214ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  54 (ERR)
      ✓ should disallow deleting unknown article (54ms)
**** Call ## 30 ## Duration:  62 (ERR)
      ✓ should disallow deleting article by non-author (63ms)
    List
**** Call ## 31 ## Duration:  138
**** Call ## 32 ## Duration:  85
**** Call ## 33 ## Duration:  100
**** Call ## 34 ## Duration:  100
**** Call ## 35 ## Duration:  99
**** Call ## 36 ## Duration:  105
**** Call ## 37 ## Duration:  90
**** Call ## 38 ## Duration:  107
**** Call ## 39 ## Duration:  98
**** Call ## 40 ## Duration:  80
**** Call ## 41 ## Duration:  82
**** Call ## 42 ## Duration:  100
**** Call ## 43 ## Duration:  80
**** Call ## 44 ## Duration:  70
**** Call ## 45 ## Duration:  90
**** Call ## 46 ## Duration:  105
**** Call ## 47 ## Duration:  117
**** Call ## 48 ## Duration:  72
**** Call ## 49 ## Duration:  91
**** Call ## 50 ## Duration:  110
**** Call ## 51 ## Duration:  916
      ✓ should list articles (916ms)
**** Call ## 52 ## Duration:  107
**** Call ## 53 ## Duration:  314
      ✓ should list articles with tag (421ms)
**** Call ## 54 ## Duration:  268
      ✓ should list articles by author (268ms)
**** Call ## 55 ## Duration:  47
      ✓ should list articles favorited by user (47ms)
**** Call ## 56 ## Duration:  179
**** Call ## 57 ## Duration:  244
      ✓ should list articles by limit/offset (423ms)
**** Call ## 58 ## Duration:  703
      ✓ should list articles when authenticated (703ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  54 (ERR)
**** Call ## 60 ## Duration:  121 (ERR)
**** Call ## 62 ## Duration:  168
**** Call ## 63 ## Duration:  146
**** Call ## 64 ## Duration:  300
**** Call ## 65 ## Duration:  128
**** Call ## 66 ## Duration:  647
      ✓ should get feed (1390ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  124
      ✓ should get tags (124ms)

  Comment
**** Call ## 69 ## Duration:  132
**** Call ## 70 ## Duration:  115
**** Call ## 71 ## Duration:  162
    Create
**** Call ## 72 ## Duration:  139
**** Call ## 73 ## Duration:  141
**** Call ## 74 ## Duration:  106
**** Call ## 75 ## Duration:  102
**** Call ## 76 ## Duration:  110
**** Call ## 77 ## Duration:  104
**** Call ## 78 ## Duration:  110
**** Call ## 79 ## Duration:  110
**** Call ## 80 ## Duration:  191
**** Call ## 81 ## Duration:  83
      ✓ should create comment (1197ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  87 (ERR)
      ✓ should enforce comment body (87ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  440
      ✓ should get all comments for article (440ms)
    Delete
**** Call ## 86 ## Duration:  113
      ✓ should delete comment (114ms)
**** Call ## 87 ## Duration:  73 (ERR)
      ✓ only comment author should be able to delete comment (73ms)
**** Call ## 88 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  104 (ERR)
      ✓ should disallow deleting unknown comment (104ms)

  User
    Create
**** Call ## 90 ## Duration:  122
      ✓ should create user (123ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  143
      ✓ should login (143ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  89 (ERR)
      ✓ should disallow wrong password (89ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  182
      ✓ should get current user (182ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  56 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  32 (ERR)
      ✓ should disallow bad tokens (128ms)
    Profile
**** Call ## 108 ## Duration:  141
      ✓ should get profile (141ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  175
**** Call ## 111 ## Duration:  131
**** Call ## 112 ## Duration:  110
**** Call ## 113 ## Duration:  101
**** Call ## 114 ## Duration:  66
**** Call ## 115 ## Duration:  136
**** Call ## 116 ## Duration:  113
**** Call ## 117 ## Duration:  205
**** Call ## 118 ## Duration:  136
**** Call ## 119 ## Duration:  83
      ✓ should follow/unfollow user (1258ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  150
**** Call ## 122 ## Duration:  115
**** Call ## 123 ## Duration:  51
**** Call ## 124 ## Duration:  62
      ✓ should update user (380ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  104 (ERR)
      ✓ should disallow missing token/email in update (126ms)
**** Call ## 127 ## Duration:  81
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (146ms)

  Util
    Ping
**** Call ## 129 ## Duration:  30
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  181
**** Call ## 1 ## Duration:  97
**** Call ## 2 ## Duration:  132
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (104ms)
**** Call ## 4 ## Duration:  143
      ✓ should create article with tags (146ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  72 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  74 (ERR)
**** Call ## 9 ## Duration:  57 (ERR)
      ✓ should enforce required fields (267ms)
    Get
**** Call ## 10 ## Duration:  108
      ✓ should get article by slug (108ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (90ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  217
**** Call ## 14 ## Duration:  189
**** Call ## 15 ## Duration:  163
      ✓ should update article (572ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  65 (ERR)
      ✓ should disallow empty mutation (65ms)
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  58 (ERR)
      ✓ should disallow updating non-existent article (58ms)
**** Call ## 20 ## Duration:  82 (ERR)
      ✓ should disallow non-author from updating (82ms)
    Favorite
**** Call ## 21 ## Duration:  172
**** Call ## 22 ## Duration:  103
      ✓ should favorite article (275ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (66ms)
**** Call ## 25 ## Duration:  170
      ✓ should unfavorite article (170ms)
    Delete
**** Call ## 26 ## Duration:  179
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (220ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  221 (ERR)
      ✓ should disallow deleting unknown article (221ms)
**** Call ## 30 ## Duration:  56 (ERR)
      ✓ should disallow deleting article by non-author (56ms)
    List
**** Call ## 31 ## Duration:  82
**** Call ## 32 ## Duration:  81
**** Call ## 33 ## Duration:  66
**** Call ## 34 ## Duration:  106
**** Call ## 35 ## Duration:  65
**** Call ## 36 ## Duration:  97
**** Call ## 37 ## Duration:  72
**** Call ## 38 ## Duration:  103
**** Call ## 39 ## Duration:  97
**** Call ## 40 ## Duration:  101
**** Call ## 41 ## Duration:  97
**** Call ## 42 ## Duration:  82
**** Call ## 43 ## Duration:  102
**** Call ## 44 ## Duration:  91
**** Call ## 45 ## Duration:  87
**** Call ## 46 ## Duration:  88
**** Call ## 47 ## Duration:  92
**** Call ## 48 ## Duration:  87
**** Call ## 49 ## Duration:  85
**** Call ## 50 ## Duration:  87
**** Call ## 51 ## Duration:  861
      ✓ should list articles (861ms)
**** Call ## 52 ## Duration:  127
**** Call ## 53 ## Duration:  476
      ✓ should list articles with tag (603ms)
**** Call ## 54 ## Duration:  314
      ✓ should list articles by author (315ms)
**** Call ## 55 ## Duration:  42
      ✓ should list articles favorited by user (42ms)
**** Call ## 56 ## Duration:  265
**** Call ## 57 ## Duration:  160
      ✓ should list articles by limit/offset (425ms)
**** Call ## 58 ## Duration:  768
      ✓ should list articles when authenticated (769ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  31 (ERR)
**** Call ## 62 ## Duration:  156
**** Call ## 63 ## Duration:  137
**** Call ## 64 ## Duration:  316
**** Call ## 65 ## Duration:  101
**** Call ## 66 ## Duration:  594
      ✓ should get feed (1305ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  104
      ✓ should get tags (104ms)

  Comment
**** Call ## 69 ## Duration:  115
**** Call ## 70 ## Duration:  99
**** Call ## 71 ## Duration:  98
    Create
**** Call ## 72 ## Duration:  230
**** Call ## 73 ## Duration:  87
**** Call ## 74 ## Duration:  101
**** Call ## 75 ## Duration:  95
**** Call ## 76 ## Duration:  96
**** Call ## 77 ## Duration:  97
**** Call ## 78 ## Duration:  95
**** Call ## 79 ## Duration:  103
**** Call ## 80 ## Duration:  84
**** Call ## 81 ## Duration:  105
      ✓ should create comment (1094ms)
**** Call ## 82 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  90 (ERR)
      ✓ should enforce comment body (90ms)
**** Call ## 84 ## Duration:  69 (ERR)
      ✓ should disallow non-existent article (69ms)
    Get
**** Call ## 85 ## Duration:  334
      ✓ should get all comments for article (334ms)
    Delete
**** Call ## 86 ## Duration:  156
      ✓ should delete comment (156ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  110 (ERR)
      ✓ should disallow deleting unknown comment (111ms)

  User
    Create
**** Call ## 90 ## Duration:  136
      ✓ should create user (137ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (46ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (58ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  120
      ✓ should login (121ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  95 (ERR)
      ✓ should disallow wrong password (95ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  17 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  115
      ✓ should get current user (115ms)
**** Call ## 104 ## Duration:  27 (ERR)
**** Call ## 105 ## Duration:  47 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (116ms)
    Profile
**** Call ## 108 ## Duration:  94
      ✓ should get profile (94ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  158
**** Call ## 111 ## Duration:  152
**** Call ## 112 ## Duration:  115
**** Call ## 113 ## Duration:  96
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  105
**** Call ## 116 ## Duration:  135
**** Call ## 117 ## Duration:  196
**** Call ## 118 ## Duration:  123
**** Call ## 119 ## Duration:  125
      ✓ should follow/unfollow user (1265ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  124
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  70
**** Call ## 124 ## Duration:  50
      ✓ should update user (311ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  89 (ERR)
      ✓ should disallow missing token/email in update (111ms)
**** Call ## 127 ## Duration:  123
**** Call ## 128 ## Duration:  56 (ERR)
      ✓ should disallow reusing email (179ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  171
**** Call ## 1 ## Duration:  109
**** Call ## 2 ## Duration:  151
    Create
**** Call ## 3 ## Duration:  98
      ✓ should create article (100ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (86ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  77 (ERR)
**** Call ## 7 ## Duration:  82 (ERR)
**** Call ## 8 ## Duration:  66 (ERR)
**** Call ## 9 ## Duration:  70 (ERR)
      ✓ should enforce required fields (296ms)
    Get
**** Call ## 10 ## Duration:  112
      ✓ should get article by slug (112ms)
**** Call ## 11 ## Duration:  74
      ✓ should get article with tags by slug (74ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  161
**** Call ## 14 ## Duration:  157
**** Call ## 15 ## Duration:  153
      ✓ should update article (473ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (72ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (62ms)
    Favorite
**** Call ## 21 ## Duration:  163
**** Call ## 22 ## Duration:  91
      ✓ should favorite article (255ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  69 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  140
      ✓ should unfavorite article (140ms)
    Delete
**** Call ## 26 ## Duration:  127
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (167ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  81 (ERR)
      ✓ should disallow deleting unknown article (81ms)
**** Call ## 30 ## Duration:  72 (ERR)
      ✓ should disallow deleting article by non-author (73ms)
    List
**** Call ## 31 ## Duration:  104
**** Call ## 32 ## Duration:  97
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  125
**** Call ## 35 ## Duration:  72
**** Call ## 36 ## Duration:  99
**** Call ## 37 ## Duration:  67
**** Call ## 38 ## Duration:  96
**** Call ## 39 ## Duration:  104
**** Call ## 40 ## Duration:  74
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  126
**** Call ## 43 ## Duration:  98
**** Call ## 44 ## Duration:  51
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  84
**** Call ## 47 ## Duration:  69
**** Call ## 48 ## Duration:  57
**** Call ## 49 ## Duration:  52
**** Call ## 50 ## Duration:  94
**** Call ## 51 ## Duration:  865
      ✓ should list articles (866ms)
**** Call ## 52 ## Duration:  132
**** Call ## 53 ## Duration:  559
      ✓ should list articles with tag (691ms)
**** Call ## 54 ## Duration:  358
      ✓ should list articles by author (358ms)
**** Call ## 55 ## Duration:  42
      ✓ should list articles favorited by user (42ms)
**** Call ## 56 ## Duration:  237
**** Call ## 57 ## Duration:  171
      ✓ should list articles by limit/offset (409ms)
**** Call ## 58 ## Duration:  803
      ✓ should list articles when authenticated (803ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  55 (ERR)
**** Call ## 62 ## Duration:  100
**** Call ## 63 ## Duration:  118
**** Call ## 64 ## Duration:  333
**** Call ## 65 ## Duration:  111
**** Call ## 66 ## Duration:  648
      ✓ should get feed (1311ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  77
      ✓ should get tags (77ms)

  Comment
**** Call ## 69 ## Duration:  120
**** Call ## 70 ## Duration:  106
**** Call ## 71 ## Duration:  84
    Create
**** Call ## 72 ## Duration:  166
**** Call ## 73 ## Duration:  100
**** Call ## 74 ## Duration:  106
**** Call ## 75 ## Duration:  105
**** Call ## 76 ## Duration:  89
**** Call ## 77 ## Duration:  88
**** Call ## 78 ## Duration:  93
**** Call ## 79 ## Duration:  90
**** Call ## 80 ## Duration:  91
**** Call ## 81 ## Duration:  74
      ✓ should create comment (1003ms)
**** Call ## 82 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  318
      ✓ should get all comments for article (318ms)
    Delete
**** Call ## 86 ## Duration:  139
      ✓ should delete comment (140ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  100 (ERR)
      ✓ should disallow deleting unknown comment (100ms)

  User
    Create
**** Call ## 90 ## Duration:  131
      ✓ should create user (132ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  53 (ERR)
      ✓ should disallow same email (53ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  70
      ✓ should login (70ms)
**** Call ## 98 ## Duration:  63 (ERR)
      ✓ should disallow unknown email (64ms)
**** Call ## 99 ## Duration:  40 (ERR)
      ✓ should disallow wrong password (41ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (57ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  77
      ✓ should get profile (77ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  123
**** Call ## 111 ## Duration:  133
**** Call ## 112 ## Duration:  151
**** Call ## 113 ## Duration:  94
**** Call ## 114 ## Duration:  71
**** Call ## 115 ## Duration:  118
**** Call ## 116 ## Duration:  128
**** Call ## 117 ## Duration:  131
**** Call ## 118 ## Duration:  112
**** Call ## 119 ## Duration:  113
      ✓ should follow/unfollow user (1174ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  62
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  69
      ✓ should update user (283ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (74ms)
**** Call ## 127 ## Duration:  126
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (186ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  176
**** Call ## 1 ## Duration:  102
**** Call ## 2 ## Duration:  122
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  96
      ✓ should create article with tags (98ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  88 (ERR)
**** Call ## 7 ## Duration:  127 (ERR)
**** Call ## 8 ## Duration:  73 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (349ms)
    Get
**** Call ## 10 ## Duration:  111
      ✓ should get article by slug (111ms)
**** Call ## 11 ## Duration:  100
      ✓ should get article with tags by slug (100ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  148
**** Call ## 14 ## Duration:  146
**** Call ## 15 ## Duration:  149
      ✓ should update article (445ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  70 (ERR)
      ✓ should disallow updating non-existent article (70ms)
**** Call ## 20 ## Duration:  60 (ERR)
      ✓ should disallow non-author from updating (61ms)
    Favorite
**** Call ## 21 ## Duration:  136
**** Call ## 22 ## Duration:  109
      ✓ should favorite article (245ms)
**** Call ## 23 ## Duration:  18 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  81 (ERR)
      ✓ should disallow favoriting unknown article (81ms)
**** Call ## 25 ## Duration:  142
      ✓ should unfavorite article (144ms)
    Delete
**** Call ## 26 ## Duration:  127
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (169ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  77 (ERR)
      ✓ should disallow deleting article by non-author (77ms)
    List
**** Call ## 31 ## Duration:  101
**** Call ## 32 ## Duration:  86
**** Call ## 33 ## Duration:  94
**** Call ## 34 ## Duration:  136
**** Call ## 35 ## Duration:  90
**** Call ## 36 ## Duration:  68
**** Call ## 37 ## Duration:  93
**** Call ## 38 ## Duration:  72
**** Call ## 39 ## Duration:  118
**** Call ## 40 ## Duration:  95
**** Call ## 41 ## Duration:  67
**** Call ## 42 ## Duration:  133
**** Call ## 43 ## Duration:  89
**** Call ## 44 ## Duration:  60
**** Call ## 45 ## Duration:  84
**** Call ## 46 ## Duration:  58
**** Call ## 47 ## Duration:  84
**** Call ## 48 ## Duration:  92
**** Call ## 49 ## Duration:  79
**** Call ## 50 ## Duration:  82
**** Call ## 51 ## Duration:  881
      ✓ should list articles (881ms)
**** Call ## 52 ## Duration:  172
**** Call ## 53 ## Duration:  547
      ✓ should list articles with tag (719ms)
**** Call ## 54 ## Duration:  351
      ✓ should list articles by author (351ms)
**** Call ## 55 ## Duration:  56
      ✓ should list articles favorited by user (57ms)
**** Call ## 56 ## Duration:  148
**** Call ## 57 ## Duration:  155
      ✓ should list articles by limit/offset (303ms)
**** Call ## 58 ## Duration:  884
      ✓ should list articles when authenticated (884ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  79 (ERR)
**** Call ## 62 ## Duration:  91
**** Call ## 63 ## Duration:  145
**** Call ## 64 ## Duration:  299
**** Call ## 65 ## Duration:  124
**** Call ## 66 ## Duration:  550
      ✓ should get feed (1209ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  78
      ✓ should get tags (78ms)

  Comment
**** Call ## 69 ## Duration:  128
**** Call ## 70 ## Duration:  122
**** Call ## 71 ## Duration:  86
    Create
**** Call ## 72 ## Duration:  115
**** Call ## 73 ## Duration:  105
**** Call ## 74 ## Duration:  92
**** Call ## 75 ## Duration:  99
**** Call ## 76 ## Duration:  111
**** Call ## 77 ## Duration:  90
**** Call ## 78 ## Duration:  95
**** Call ## 79 ## Duration:  77
**** Call ## 80 ## Duration:  97
**** Call ## 81 ## Duration:  74
      ✓ should create comment (957ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  279
      ✓ should get all comments for article (279ms)
    Delete
**** Call ## 86 ## Duration:  120
      ✓ should delete comment (120ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown comment (65ms)

  User
    Create
**** Call ## 90 ## Duration:  110
      ✓ should create user (110ms)
**** Call ## 91 ## Duration:  28 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (67ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  17 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  82
      ✓ should get profile (82ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  113
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  101
**** Call ## 114 ## Duration:  125
**** Call ## 115 ## Duration:  95
**** Call ## 116 ## Duration:  144
**** Call ## 117 ## Duration:  115
**** Call ## 118 ## Duration:  103
**** Call ## 119 ## Duration:  92
      ✓ should follow/unfollow user (1131ms)
**** Call ## 120 ## Duration:  30 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  54
      ✓ should update user (265ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (65ms)
**** Call ## 127 ## Duration:  160
**** Call ## 128 ## Duration:  69 (ERR)
      ✓ should disallow reusing email (229ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  178
**** Call ## 1 ## Duration:  119
**** Call ## 2 ## Duration:  105
    Create
**** Call ## 3 ## Duration:  99
      ✓ should create article (101ms)
**** Call ## 4 ## Duration:  74
      ✓ should create article with tags (76ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  96 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  76 (ERR)
**** Call ## 9 ## Duration:  72 (ERR)
      ✓ should enforce required fields (314ms)
    Get
**** Call ## 10 ## Duration:  308
      ✓ should get article by slug (308ms)
**** Call ## 11 ## Duration:  82
      ✓ should get article with tags by slug (82ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  149
**** Call ## 14 ## Duration:  156
**** Call ## 15 ## Duration:  145
      ✓ should update article (455ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  77 (ERR)
      ✓ should disallow updating non-existent article (78ms)
**** Call ## 20 ## Duration:  105 (ERR)
      ✓ should disallow non-author from updating (105ms)
    Favorite
**** Call ## 21 ## Duration:  135
**** Call ## 22 ## Duration:  153
      ✓ should favorite article (288ms)
**** Call ## 23 ## Duration:  18 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  150
      ✓ should unfavorite article (150ms)
    Delete
**** Call ## 26 ## Duration:  120
**** Call ## 27 ## Duration:  44 (ERR)
      ✓ should delete article (164ms)
**** Call ## 28 ## Duration:  36 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (74ms)
**** Call ## 30 ## Duration:  82 (ERR)
      ✓ should disallow deleting article by non-author (82ms)
    List
**** Call ## 31 ## Duration:  101
**** Call ## 32 ## Duration:  96
**** Call ## 33 ## Duration:  89
**** Call ## 34 ## Duration:  79
**** Call ## 35 ## Duration:  69
**** Call ## 36 ## Duration:  81
**** Call ## 37 ## Duration:  97
**** Call ## 38 ## Duration:  98
**** Call ## 39 ## Duration:  100
**** Call ## 40 ## Duration:  80
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  77
**** Call ## 43 ## Duration:  100
**** Call ## 44 ## Duration:  81
**** Call ## 45 ## Duration:  90
**** Call ## 46 ## Duration:  53
**** Call ## 47 ## Duration:  94
**** Call ## 48 ## Duration:  66
**** Call ## 49 ## Duration:  86
**** Call ## 50 ## Duration:  89
**** Call ## 51 ## Duration:  965
      ✓ should list articles (965ms)
**** Call ## 52 ## Duration:  189
**** Call ## 53 ## Duration:  634
      ✓ should list articles with tag (824ms)
**** Call ## 54 ## Duration:  277
      ✓ should list articles by author (277ms)
**** Call ## 55 ## Duration:  54
      ✓ should list articles favorited by user (54ms)
**** Call ## 56 ## Duration:  168
**** Call ## 57 ## Duration:  193
      ✓ should list articles by limit/offset (361ms)
**** Call ## 58 ## Duration:  820
      ✓ should list articles when authenticated (821ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 59 ## Duration:  29 (ERR)
**** Call ## 61 ## Duration:  63 (ERR)
**** Call ## 62 ## Duration:  104
**** Call ## 63 ## Duration:  146
**** Call ## 64 ## Duration:  329
**** Call ## 65 ## Duration:  129
**** Call ## 66 ## Duration:  489
      ✓ should get feed (1197ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  106
      ✓ should get tags (106ms)

  Comment
**** Call ## 69 ## Duration:  104
**** Call ## 70 ## Duration:  101
**** Call ## 71 ## Duration:  77
    Create
**** Call ## 72 ## Duration:  116
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  118
**** Call ## 75 ## Duration:  161
**** Call ## 76 ## Duration:  114
**** Call ## 77 ## Duration:  116
**** Call ## 78 ## Duration:  111
**** Call ## 79 ## Duration:  130
**** Call ## 80 ## Duration:  91
**** Call ## 81 ## Duration:  75
      ✓ should create comment (1138ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  287
      ✓ should get all comments for article (287ms)
    Delete
**** Call ## 86 ## Duration:  122
      ✓ should delete comment (122ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  100
      ✓ should create user (100ms)
**** Call ## 91 ## Duration:  30 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  71 (ERR)
      ✓ should disallow same email (72ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (89ms)
    Login
**** Call ## 97 ## Duration:  74
      ✓ should login (75ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  42 (ERR)
      ✓ should disallow wrong password (42ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  37
      ✓ should get current user
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  28 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  69
      ✓ should get profile (69ms)
**** Call ## 109 ## Duration:  28 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  127
**** Call ## 111 ## Duration:  123
**** Call ## 112 ## Duration:  77
**** Call ## 113 ## Duration:  101
**** Call ## 114 ## Duration:  55
**** Call ## 115 ## Duration:  132
**** Call ## 116 ## Duration:  127
**** Call ## 117 ## Duration:  141
**** Call ## 118 ## Duration:  108
**** Call ## 119 ## Duration:  105
      ✓ should follow/unfollow user (1100ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  98
**** Call ## 122 ## Duration:  52
**** Call ## 123 ## Duration:  68
**** Call ## 124 ## Duration:  132
      ✓ should update user (350ms)
**** Call ## 125 ## Duration:  37 (ERR)
**** Call ## 126 ## Duration:  50 (ERR)
      ✓ should disallow missing token/email in update (89ms)
**** Call ## 127 ## Duration:  105
**** Call ## 128 ## Duration:  39 (ERR)
      ✓ should disallow reusing email (145ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  178
**** Call ## 1 ## Duration:  228
**** Call ## 2 ## Duration:  111
    Create
**** Call ## 3 ## Duration:  94
      ✓ should create article (96ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (90ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  60 (ERR)
**** Call ## 7 ## Duration:  178 (ERR)
**** Call ## 8 ## Duration:  53 (ERR)
**** Call ## 9 ## Duration:  71 (ERR)
      ✓ should enforce required fields (364ms)
    Get
**** Call ## 10 ## Duration:  108
      ✓ should get article by slug (109ms)
**** Call ## 11 ## Duration:  91
      ✓ should get article with tags by slug (91ms)
**** Call ## 12 ## Duration:  31 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  150
**** Call ## 14 ## Duration:  145
**** Call ## 15 ## Duration:  136
      ✓ should update article (432ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  59 (ERR)
      ✓ should disallow updating non-existent article (60ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  292
**** Call ## 22 ## Duration:  109
      ✓ should favorite article (402ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  76 (ERR)
      ✓ should disallow favoriting unknown article (76ms)
**** Call ## 25 ## Duration:  133
      ✓ should unfavorite article (133ms)
    Delete
**** Call ## 26 ## Duration:  108
**** Call ## 27 ## Duration:  30 (ERR)
      ✓ should delete article (138ms)
**** Call ## 28 ## Duration:  26 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  51 (ERR)
      ✓ should disallow deleting article by non-author (51ms)
    List
**** Call ## 31 ## Duration:  84
**** Call ## 32 ## Duration:  91
**** Call ## 33 ## Duration:  92
**** Call ## 34 ## Duration:  72
**** Call ## 35 ## Duration:  100
**** Call ## 36 ## Duration:  81
**** Call ## 37 ## Duration:  84
**** Call ## 38 ## Duration:  64
**** Call ## 39 ## Duration:  179
**** Call ## 40 ## Duration:  73
**** Call ## 41 ## Duration:  60
**** Call ## 42 ## Duration:  60
**** Call ## 43 ## Duration:  71
**** Call ## 44 ## Duration:  64
**** Call ## 45 ## Duration:  97
**** Call ## 46 ## Duration:  101
**** Call ## 47 ## Duration:  77
**** Call ## 48 ## Duration:  82
**** Call ## 49 ## Duration:  75
**** Call ## 50 ## Duration:  96
**** Call ## 51 ## Duration:  978
      ✓ should list articles (979ms)
**** Call ## 52 ## Duration:  251
**** Call ## 53 ## Duration:  606
      ✓ should list articles with tag (857ms)
**** Call ## 54 ## Duration:  263
      ✓ should list articles by author (263ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  171
**** Call ## 57 ## Duration:  143
      ✓ should list articles by limit/offset (314ms)
**** Call ## 58 ## Duration:  818
      ✓ should list articles when authenticated (818ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  51 (ERR)
**** Call ## 62 ## Duration:  92
**** Call ## 63 ## Duration:  204
**** Call ## 64 ## Duration:  311
**** Call ## 65 ## Duration:  96
**** Call ## 66 ## Duration:  578
      ✓ should get feed (1283ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  95
      ✓ should get tags (96ms)

  Comment
**** Call ## 69 ## Duration:  114
**** Call ## 70 ## Duration:  108
**** Call ## 71 ## Duration:  92
    Create
**** Call ## 72 ## Duration:  109
**** Call ## 73 ## Duration:  107
**** Call ## 74 ## Duration:  107
**** Call ## 75 ## Duration:  95
**** Call ## 76 ## Duration:  127
**** Call ## 77 ## Duration:  74
**** Call ## 78 ## Duration:  97
**** Call ## 79 ## Duration:  102
**** Call ## 80 ## Duration:  75
**** Call ## 81 ## Duration:  82
      ✓ should create comment (978ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  49 (ERR)
      ✓ should disallow non-existent article (49ms)
    Get
**** Call ## 85 ## Duration:  257
      ✓ should get all comments for article (258ms)
    Delete
**** Call ## 86 ## Duration:  112
      ✓ should delete comment (112ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (66ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown comment (59ms)

  User
    Create
**** Call ## 90 ## Duration:  120
      ✓ should create user (121ms)
**** Call ## 91 ## Duration:  54 (ERR)
      ✓ should disallow same username (54ms)
**** Call ## 92 ## Duration:  74 (ERR)
      ✓ should disallow same email (74ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  89
      ✓ should login (89ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  41
      ✓ should get current user (41ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  63
      ✓ should get profile (63ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  126
**** Call ## 111 ## Duration:  141
**** Call ## 112 ## Duration:  211
**** Call ## 113 ## Duration:  89
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  111
**** Call ## 116 ## Duration:  99
**** Call ## 117 ## Duration:  132
**** Call ## 118 ## Duration:  110
**** Call ## 119 ## Duration:  121
      ✓ should follow/unfollow user (1201ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  81
**** Call ## 122 ## Duration:  71
**** Call ## 123 ## Duration:  63
**** Call ## 124 ## Duration:  64
      ✓ should update user (279ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (61ms)
**** Call ## 127 ## Duration:  123
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (175ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  160
**** Call ## 1 ## Duration:  120
**** Call ## 2 ## Duration:  146
    Create
**** Call ## 3 ## Duration:  106
      ✓ should create article (109ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (89ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  63 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  57 (ERR)
**** Call ## 9 ## Duration:  69 (ERR)
      ✓ should enforce required fields (251ms)
    Get
**** Call ## 10 ## Duration:  100
      ✓ should get article by slug (100ms)
**** Call ## 11 ## Duration:  84
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  136
**** Call ## 14 ## Duration:  135
**** Call ## 15 ## Duration:  140
      ✓ should update article (415ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  51 (ERR)
      ✓ should disallow updating non-existent article (51ms)
**** Call ## 20 ## Duration:  83 (ERR)
      ✓ should disallow non-author from updating (83ms)
    Favorite
**** Call ## 21 ## Duration:  124
**** Call ## 22 ## Duration:  101
      ✓ should favorite article (228ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  82 (ERR)
      ✓ should disallow favoriting unknown article (82ms)
**** Call ## 25 ## Duration:  153
      ✓ should unfavorite article (154ms)
    Delete
**** Call ## 26 ## Duration:  111
**** Call ## 27 ## Duration:  37 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  74 (ERR)
      ✓ should disallow deleting article by non-author (74ms)
    List
**** Call ## 31 ## Duration:  95
**** Call ## 32 ## Duration:  72
**** Call ## 33 ## Duration:  95
**** Call ## 34 ## Duration:  93
**** Call ## 35 ## Duration:  94
**** Call ## 36 ## Duration:  82
**** Call ## 37 ## Duration:  82
**** Call ## 38 ## Duration:  81
**** Call ## 39 ## Duration:  69
**** Call ## 40 ## Duration:  91
**** Call ## 41 ## Duration:  132
**** Call ## 42 ## Duration:  97
**** Call ## 43 ## Duration:  100
**** Call ## 44 ## Duration:  94
**** Call ## 45 ## Duration:  72
**** Call ## 46 ## Duration:  101
**** Call ## 47 ## Duration:  97
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  65
**** Call ## 50 ## Duration:  64
**** Call ## 51 ## Duration:  921
      ✓ should list articles (921ms)
**** Call ## 52 ## Duration:  230
**** Call ## 53 ## Duration:  598
      ✓ should list articles with tag (828ms)
**** Call ## 54 ## Duration:  244
      ✓ should list articles by author (244ms)
**** Call ## 55 ## Duration:  52
      ✓ should list articles favorited by user (53ms)
**** Call ## 56 ## Duration:  188
**** Call ## 57 ## Duration:  157
      ✓ should list articles by limit/offset (345ms)
**** Call ## 58 ## Duration:  828
      ✓ should list articles when authenticated (828ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  104
**** Call ## 63 ## Duration:  128
**** Call ## 64 ## Duration:  326
**** Call ## 65 ## Duration:  99
**** Call ## 66 ## Duration:  564
      ✓ should get feed (1222ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  101
      ✓ should get tags (101ms)

  Comment
**** Call ## 69 ## Duration:  118
**** Call ## 70 ## Duration:  102
**** Call ## 71 ## Duration:  80
    Create
**** Call ## 72 ## Duration:  108
**** Call ## 73 ## Duration:  116
**** Call ## 74 ## Duration:  196
**** Call ## 75 ## Duration:  101
**** Call ## 76 ## Duration:  102
**** Call ## 77 ## Duration:  105
**** Call ## 78 ## Duration:  103
**** Call ## 79 ## Duration:  69
**** Call ## 80 ## Duration:  80
**** Call ## 81 ## Duration:  98
      ✓ should create comment (1080ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  51 (ERR)
      ✓ should enforce comment body (51ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  324
      ✓ should get all comments for article (325ms)
    Delete
**** Call ## 86 ## Duration:  105
      ✓ should delete comment (105ms)
**** Call ## 87 ## Duration:  65 (ERR)
      ✓ only comment author should be able to delete comment (65ms)
**** Call ## 88 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  111
      ✓ should create user (111ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  69
      ✓ should login (69ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  52
      ✓ should get profile (52ms)
**** Call ## 109 ## Duration:  33 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  106
**** Call ## 111 ## Duration:  118
**** Call ## 112 ## Duration:  101
**** Call ## 113 ## Duration:  78
**** Call ## 114 ## Duration:  52
**** Call ## 115 ## Duration:  83
**** Call ## 116 ## Duration:  162
**** Call ## 117 ## Duration:  117
**** Call ## 118 ## Duration:  112
**** Call ## 119 ## Duration:  118
      ✓ should follow/unfollow user (1047ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  87
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  68
      ✓ should update user (284ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  53 (ERR)
      ✓ should disallow missing token/email in update (73ms)
**** Call ## 127 ## Duration:  90
**** Call ## 128 ## Duration:  67 (ERR)
      ✓ should disallow reusing email (158ms)

  Util
    Ping
**** Call ## 129 ## Duration:  27
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  190
**** Call ## 1 ## Duration:  125
**** Call ## 2 ## Duration:  91
    Create
**** Call ## 3 ## Duration:  95
      ✓ should create article (97ms)
**** Call ## 4 ## Duration:  95
      ✓ should create article with tags (96ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  1646 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  53 (ERR)
**** Call ## 9 ## Duration:  70 (ERR)
      ✓ should enforce required fields (1839ms)
    Get
**** Call ## 10 ## Duration:  96
      ✓ should get article by slug (96ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (91ms)
**** Call ## 12 ## Duration:  30 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  192
**** Call ## 14 ## Duration:  131
**** Call ## 15 ## Duration:  117
      ✓ should update article (446ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  54 (ERR)
      ✓ should disallow empty mutation (54ms)
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  81 (ERR)
      ✓ should disallow updating non-existent article (82ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  138
**** Call ## 22 ## Duration:  85
      ✓ should favorite article (223ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  70 (ERR)
      ✓ should disallow favoriting unknown article (70ms)
**** Call ## 25 ## Duration:  138
      ✓ should unfavorite article (138ms)
    Delete
**** Call ## 26 ## Duration:  120
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (156ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  62 (ERR)
      ✓ should disallow deleting article by non-author (62ms)
    List
**** Call ## 31 ## Duration:  92
**** Call ## 32 ## Duration:  73
**** Call ## 33 ## Duration:  117
**** Call ## 34 ## Duration:  86
**** Call ## 35 ## Duration:  94
**** Call ## 36 ## Duration:  109
**** Call ## 37 ## Duration:  77
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  81
**** Call ## 40 ## Duration:  53
**** Call ## 41 ## Duration:  69
**** Call ## 42 ## Duration:  76
**** Call ## 43 ## Duration:  59
**** Call ## 44 ## Duration:  67
**** Call ## 45 ## Duration:  68
**** Call ## 46 ## Duration:  61
**** Call ## 47 ## Duration:  90
**** Call ## 48 ## Duration:  75
**** Call ## 49 ## Duration:  74
**** Call ## 50 ## Duration:  65
**** Call ## 51 ## Duration:  861
      ✓ should list articles (861ms)
**** Call ## 52 ## Duration:  261
**** Call ## 53 ## Duration:  599
      ✓ should list articles with tag (860ms)
**** Call ## 54 ## Duration:  271
      ✓ should list articles by author (271ms)
**** Call ## 55 ## Duration:  63
      ✓ should list articles favorited by user (63ms)
**** Call ## 56 ## Duration:  145
**** Call ## 57 ## Duration:  222
      ✓ should list articles by limit/offset (368ms)
**** Call ## 58 ## Duration:  828
      ✓ should list articles when authenticated (828ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  100
**** Call ## 63 ## Duration:  114
**** Call ## 64 ## Duration:  385
**** Call ## 65 ## Duration:  110
**** Call ## 66 ## Duration:  582
      ✓ should get feed (1291ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  105
      ✓ should get tags (106ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  127
**** Call ## 71 ## Duration:  79
    Create
**** Call ## 72 ## Duration:  109
**** Call ## 73 ## Duration:  97
**** Call ## 74 ## Duration:  94
**** Call ## 75 ## Duration:  90
**** Call ## 76 ## Duration:  100
**** Call ## 77 ## Duration:  78
**** Call ## 78 ## Duration:  108
**** Call ## 79 ## Duration:  97
**** Call ## 80 ## Duration:  82
**** Call ## 81 ## Duration:  88
      ✓ should create comment (948ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  322
      ✓ should get all comments for article (323ms)
    Delete
**** Call ## 86 ## Duration:  102
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  120
      ✓ should create user (122ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  74 (ERR)
      ✓ should disallow same email (74ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  26 (ERR)
      ✓ should enforce required fields (89ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  55
      ✓ should get current user (55ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  98
      ✓ should get profile (99ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  109
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  136
**** Call ## 113 ## Duration:  99
**** Call ## 114 ## Duration:  57
**** Call ## 115 ## Duration:  106
**** Call ## 116 ## Duration:  146
**** Call ## 117 ## Duration:  174
**** Call ## 118 ## Duration:  127
**** Call ## 119 ## Duration:  101
      ✓ should follow/unfollow user (1190ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  83
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  50
**** Call ## 124 ## Duration:  53
      ✓ should update user (253ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  112
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (173ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  169
**** Call ## 1 ## Duration:  129
**** Call ## 2 ## Duration:  113
    Create
**** Call ## 3 ## Duration:  88
      ✓ should create article (90ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (82ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  51 (ERR)
**** Call ## 9 ## Duration:  51 (ERR)
      ✓ should enforce required fields (242ms)
    Get
**** Call ## 10 ## Duration:  108
      ✓ should get article by slug (109ms)
**** Call ## 11 ## Duration:  89
      ✓ should get article with tags by slug (89ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  146
**** Call ## 14 ## Duration:  141
**** Call ## 15 ## Duration:  127
      ✓ should update article (415ms)
**** Call ## 16 ## Duration:  18 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  152 (ERR)
      ✓ should disallow non-author from updating (154ms)
    Favorite
**** Call ## 21 ## Duration:  165
**** Call ## 22 ## Duration:  129
      ✓ should favorite article (294ms)
**** Call ## 23 ## Duration:  39 (ERR)
      ✓ should disallow favoriting by unauthenticated user (40ms)
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  116
      ✓ should unfavorite article (116ms)
    Delete
**** Call ## 26 ## Duration:  112
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (153ms)
**** Call ## 28 ## Duration:  25 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (65ms)
**** Call ## 30 ## Duration:  50 (ERR)
      ✓ should disallow deleting article by non-author (50ms)
    List
**** Call ## 31 ## Duration:  103
**** Call ## 32 ## Duration:  78
**** Call ## 33 ## Duration:  75
**** Call ## 34 ## Duration:  68
**** Call ## 35 ## Duration:  58
**** Call ## 36 ## Duration:  54
**** Call ## 37 ## Duration:  69
**** Call ## 38 ## Duration:  77
**** Call ## 39 ## Duration:  75
**** Call ## 40 ## Duration:  66
**** Call ## 41 ## Duration:  68
**** Call ## 42 ## Duration:  73
**** Call ## 43 ## Duration:  65
**** Call ## 44 ## Duration:  53
**** Call ## 45 ## Duration:  64
**** Call ## 46 ## Duration:  65
**** Call ## 47 ## Duration:  81
**** Call ## 48 ## Duration:  68
**** Call ## 49 ## Duration:  55
**** Call ## 50 ## Duration:  67
**** Call ## 51 ## Duration:  739
      ✓ should list articles (739ms)
**** Call ## 52 ## Duration:  346
**** Call ## 53 ## Duration:  632
      ✓ should list articles with tag (978ms)
**** Call ## 54 ## Duration:  255
      ✓ should list articles by author (255ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (62ms)
**** Call ## 56 ## Duration:  152
**** Call ## 57 ## Duration:  139
      ✓ should list articles by limit/offset (291ms)
**** Call ## 58 ## Duration:  810
      ✓ should list articles when authenticated (810ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  92
**** Call ## 63 ## Duration:  120
**** Call ## 64 ## Duration:  319
**** Call ## 65 ## Duration:  107
**** Call ## 66 ## Duration:  508
      ✓ should get feed (1146ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  174
      ✓ should get tags (174ms)

  Comment
**** Call ## 69 ## Duration:  135
**** Call ## 70 ## Duration:  113
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  109
**** Call ## 73 ## Duration:  112
**** Call ## 74 ## Duration:  104
**** Call ## 75 ## Duration:  97
**** Call ## 76 ## Duration:  98
**** Call ## 77 ## Duration:  117
**** Call ## 78 ## Duration:  70
**** Call ## 79 ## Duration:  83
**** Call ## 80 ## Duration:  84
**** Call ## 81 ## Duration:  110
      ✓ should create comment (984ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  89 (ERR)
      ✓ should disallow non-existent article (89ms)
    Get
**** Call ## 85 ## Duration:  318
      ✓ should get all comments for article (319ms)
    Delete
**** Call ## 86 ## Duration:  115
      ✓ should delete comment (115ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (64ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  126
      ✓ should create user (126ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  66 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  17 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  65
      ✓ should login (65ms)
**** Call ## 98 ## Duration:  33 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (69ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  172
**** Call ## 111 ## Duration:  122
**** Call ## 112 ## Duration:  108
**** Call ## 113 ## Duration:  83
**** Call ## 114 ## Duration:  52
**** Call ## 115 ## Duration:  105
**** Call ## 116 ## Duration:  121
**** Call ## 117 ## Duration:  123
**** Call ## 118 ## Duration:  114
**** Call ## 119 ## Duration:  120
      ✓ should follow/unfollow user (1122ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  83
**** Call ## 122 ## Duration:  50
**** Call ## 123 ## Duration:  55
**** Call ## 124 ## Duration:  65
      ✓ should update user (253ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  112
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (177ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  153
**** Call ## 1 ## Duration:  97
**** Call ## 2 ## Duration:  100
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (96ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (93ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  79 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  53 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (259ms)
    Get
**** Call ## 10 ## Duration:  84
      ✓ should get article by slug (84ms)
**** Call ## 11 ## Duration:  96
      ✓ should get article with tags by slug (97ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  140
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  136
      ✓ should update article (413ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  76 (ERR)
      ✓ should disallow updating non-existent article (77ms)
**** Call ## 20 ## Duration:  58 (ERR)
      ✓ should disallow non-author from updating (59ms)
    Favorite
**** Call ## 21 ## Duration:  137
**** Call ## 22 ## Duration:  115
      ✓ should favorite article (252ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  61 (ERR)
      ✓ should disallow favoriting unknown article (61ms)
**** Call ## 25 ## Duration:  137
      ✓ should unfavorite article (137ms)
    Delete
**** Call ## 26 ## Duration:  124
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (165ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  64 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  82
**** Call ## 32 ## Duration:  80
**** Call ## 33 ## Duration:  89
**** Call ## 34 ## Duration:  68
**** Call ## 35 ## Duration:  79
**** Call ## 36 ## Duration:  67
**** Call ## 37 ## Duration:  69
**** Call ## 38 ## Duration:  81
**** Call ## 39 ## Duration:  66
**** Call ## 40 ## Duration:  82
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  83
**** Call ## 43 ## Duration:  66
**** Call ## 44 ## Duration:  74
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  71
**** Call ## 47 ## Duration:  49
**** Call ## 48 ## Duration:  88
**** Call ## 49 ## Duration:  100
**** Call ## 50 ## Duration:  91
**** Call ## 51 ## Duration:  888
      ✓ should list articles (888ms)
**** Call ## 52 ## Duration:  323
**** Call ## 53 ## Duration:  638
      ✓ should list articles with tag (961ms)
**** Call ## 54 ## Duration:  245
      ✓ should list articles by author (245ms)
**** Call ## 55 ## Duration:  59
      ✓ should list articles favorited by user (59ms)
**** Call ## 56 ## Duration:  160
**** Call ## 57 ## Duration:  148
      ✓ should list articles by limit/offset (308ms)
**** Call ## 58 ## Duration:  875
      ✓ should list articles when authenticated (875ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  27 (ERR)
**** Call ## 60 ## Duration:  29 (ERR)
**** Call ## 62 ## Duration:  96
**** Call ## 63 ## Duration:  101
**** Call ## 64 ## Duration:  317
**** Call ## 65 ## Duration:  75
**** Call ## 66 ## Duration:  594
      ✓ should get feed (1185ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  101
      ✓ should get tags (101ms)

  Comment
**** Call ## 69 ## Duration:  109
**** Call ## 70 ## Duration:  116
**** Call ## 71 ## Duration:  79
    Create
**** Call ## 72 ## Duration:  100
**** Call ## 73 ## Duration:  98
**** Call ## 74 ## Duration:  111
**** Call ## 75 ## Duration:  181
**** Call ## 76 ## Duration:  105
**** Call ## 77 ## Duration:  88
**** Call ## 78 ## Duration:  90
**** Call ## 79 ## Duration:  77
**** Call ## 80 ## Duration:  86
**** Call ## 81 ## Duration:  104
      ✓ should create comment (1040ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  57 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  299
      ✓ should get all comments for article (299ms)
    Delete
**** Call ## 86 ## Duration:  106
      ✓ should delete comment (107ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  76 (ERR)
      ✓ should disallow deleting unknown comment (76ms)

  User
    Create
**** Call ## 90 ## Duration:  92
      ✓ should create user (93ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  53 (ERR)
      ✓ should disallow same email (53ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  25 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  68
      ✓ should login (69ms)
**** Call ## 98 ## Duration:  35 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  84 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (122ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (79ms)
    Profile
**** Call ## 108 ## Duration:  64
      ✓ should get profile (64ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  105
**** Call ## 111 ## Duration:  108
**** Call ## 112 ## Duration:  121
**** Call ## 113 ## Duration:  82
**** Call ## 114 ## Duration:  69
**** Call ## 115 ## Duration:  103
**** Call ## 116 ## Duration:  93
**** Call ## 117 ## Duration:  137
**** Call ## 118 ## Duration:  117
**** Call ## 119 ## Duration:  124
      ✓ should follow/unfollow user (1061ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  70
**** Call ## 122 ## Duration:  56
**** Call ## 123 ## Duration:  48
**** Call ## 124 ## Duration:  64
      ✓ should update user (238ms)
**** Call ## 125 ## Duration:  17 (ERR)
**** Call ## 126 ## Duration:  53 (ERR)
      ✓ should disallow missing token/email in update (71ms)
**** Call ## 127 ## Duration:  113
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (178ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  175
**** Call ## 1 ## Duration:  105
**** Call ## 2 ## Duration:  115
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (95ms)
**** Call ## 4 ## Duration:  83
      ✓ should create article with tags (84ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  66 (ERR)
**** Call ## 7 ## Duration:  58 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  46 (ERR)
      ✓ should enforce required fields (231ms)
    Get
**** Call ## 10 ## Duration:  99
      ✓ should get article by slug (99ms)
**** Call ## 11 ## Duration:  107
      ✓ should get article with tags by slug (107ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  141
**** Call ## 14 ## Duration:  130
**** Call ## 15 ## Duration:  135
      ✓ should update article (410ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  74 (ERR)
      ✓ should disallow updating non-existent article (74ms)
**** Call ## 20 ## Duration:  65 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  128
**** Call ## 22 ## Duration:  115
      ✓ should favorite article (243ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  150
      ✓ should unfavorite article (150ms)
    Delete
**** Call ## 26 ## Duration:  121
**** Call ## 27 ## Duration:  80 (ERR)
      ✓ should delete article (201ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  64 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  98
**** Call ## 32 ## Duration:  91
**** Call ## 33 ## Duration:  108
**** Call ## 34 ## Duration:  141
**** Call ## 35 ## Duration:  76
**** Call ## 36 ## Duration:  80
**** Call ## 37 ## Duration:  91
**** Call ## 38 ## Duration:  90
**** Call ## 39 ## Duration:  96
**** Call ## 40 ## Duration:  78
**** Call ## 41 ## Duration:  79
**** Call ## 42 ## Duration:  73
**** Call ## 43 ## Duration:  81
**** Call ## 44 ## Duration:  93
**** Call ## 45 ## Duration:  91
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  58
**** Call ## 48 ## Duration:  76
**** Call ## 49 ## Duration:  69
**** Call ## 50 ## Duration:  67
**** Call ## 51 ## Duration:  871
      ✓ should list articles (871ms)
**** Call ## 52 ## Duration:  303
**** Call ## 53 ## Duration:  573
      ✓ should list articles with tag (876ms)
**** Call ## 54 ## Duration:  327
      ✓ should list articles by author (327ms)
**** Call ## 55 ## Duration:  57
      ✓ should list articles favorited by user (57ms)
**** Call ## 56 ## Duration:  134
**** Call ## 57 ## Duration:  219
      ✓ should list articles by limit/offset (354ms)
**** Call ## 58 ## Duration:  728
      ✓ should list articles when authenticated (728ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  30 (ERR)
**** Call ## 61 ## Duration:  31 (ERR)
**** Call ## 59 ## Duration:  32 (ERR)
**** Call ## 62 ## Duration:  97
**** Call ## 63 ## Duration:  135
**** Call ## 64 ## Duration:  349
**** Call ## 65 ## Duration:  101
**** Call ## 66 ## Duration:  499
      ✓ should get feed (1182ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  131
      ✓ should get tags (131ms)

  Comment
**** Call ## 69 ## Duration:  159
**** Call ## 70 ## Duration:  129
**** Call ## 71 ## Duration:  100
    Create
**** Call ## 72 ## Duration:  99
**** Call ## 73 ## Duration:  95
**** Call ## 74 ## Duration:  91
**** Call ## 75 ## Duration:  84
**** Call ## 76 ## Duration:  90
**** Call ## 77 ## Duration:  86
**** Call ## 78 ## Duration:  72
**** Call ## 79 ## Duration:  105
**** Call ## 80 ## Duration:  85
**** Call ## 81 ## Duration:  81
      ✓ should create comment (889ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  54 (ERR)
      ✓ should disallow non-existent article (55ms)
    Get
**** Call ## 85 ## Duration:  258
      ✓ should get all comments for article (258ms)
    Delete
**** Call ## 86 ## Duration:  118
      ✓ should delete comment (118ms)
**** Call ## 87 ## Duration:  53 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown comment (57ms)

  User
    Create
**** Call ## 90 ## Duration:  102
      ✓ should create user (102ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  55 (ERR)
      ✓ should disallow same email (55ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  77
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  43 (ERR)
      ✓ should disallow wrong password (43ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  43
      ✓ should get current user (43ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  80
      ✓ should get profile (80ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  108
**** Call ## 111 ## Duration:  147
**** Call ## 112 ## Duration:  123
**** Call ## 113 ## Duration:  94
**** Call ## 114 ## Duration:  70
**** Call ## 115 ## Duration:  121
**** Call ## 116 ## Duration:  96
**** Call ## 117 ## Duration:  144
**** Call ## 118 ## Duration:  104
**** Call ## 119 ## Duration:  105
      ✓ should follow/unfollow user (1114ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  99
**** Call ## 122 ## Duration:  62
**** Call ## 123 ## Duration:  47
**** Call ## 124 ## Duration:  61
      ✓ should update user (269ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  42 (ERR)
      ✓ should disallow missing token/email in update (61ms)
**** Call ## 127 ## Duration:  95
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (146ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  193
**** Call ## 1 ## Duration:  97
**** Call ## 2 ## Duration:  129
    Create
**** Call ## 3 ## Duration:  101
      ✓ should create article (103ms)
**** Call ## 4 ## Duration:  85
      ✓ should create article with tags (86ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  60 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  84 (ERR)
**** Call ## 9 ## Duration:  48 (ERR)
      ✓ should enforce required fields (258ms)
    Get
**** Call ## 10 ## Duration:  96
      ✓ should get article by slug (96ms)
**** Call ## 11 ## Duration:  75
      ✓ should get article with tags by slug (75ms)
**** Call ## 12 ## Duration:  55 (ERR)
      ✓ should disallow unknown slug (55ms)
    Update
**** Call ## 13 ## Duration:  196
**** Call ## 14 ## Duration:  124
**** Call ## 15 ## Duration:  148
      ✓ should update article (472ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  84 (ERR)
      ✓ should disallow updating non-existent article (84ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  144
**** Call ## 22 ## Duration:  103
      ✓ should favorite article (247ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  150
      ✓ should unfavorite article (150ms)
    Delete
**** Call ## 26 ## Duration:  113
**** Call ## 27 ## Duration:  36 (ERR)
      ✓ should delete article (149ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  61 (ERR)
      ✓ should disallow deleting article by non-author (61ms)
    List
**** Call ## 31 ## Duration:  94
**** Call ## 32 ## Duration:  105
**** Call ## 33 ## Duration:  141
**** Call ## 34 ## Duration:  77
**** Call ## 35 ## Duration:  141
**** Call ## 36 ## Duration:  80
**** Call ## 37 ## Duration:  88
**** Call ## 38 ## Duration:  73
**** Call ## 39 ## Duration:  70
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  86
**** Call ## 43 ## Duration:  62
**** Call ## 44 ## Duration:  71
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  63
**** Call ## 47 ## Duration:  76
**** Call ## 48 ## Duration:  67
**** Call ## 49 ## Duration:  58
**** Call ## 50 ## Duration:  77
**** Call ## 51 ## Duration:  1008
      ✓ should list articles (1009ms)
**** Call ## 52 ## Duration:  333
**** Call ## 53 ## Duration:  592
      ✓ should list articles with tag (926ms)
**** Call ## 54 ## Duration:  277
      ✓ should list articles by author (277ms)
**** Call ## 55 ## Duration:  76
      ✓ should list articles favorited by user (76ms)
**** Call ## 56 ## Duration:  135
**** Call ## 57 ## Duration:  183
      ✓ should list articles by limit/offset (318ms)
**** Call ## 58 ## Duration:  792
      ✓ should list articles when authenticated (792ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  93
**** Call ## 63 ## Duration:  114
**** Call ## 64 ## Duration:  360
**** Call ## 65 ## Duration:  395
**** Call ## 66 ## Duration:  620
      ✓ should get feed (1582ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  117
      ✓ should get tags (117ms)

  Comment
**** Call ## 69 ## Duration:  99
**** Call ## 70 ## Duration:  107
**** Call ## 71 ## Duration:  80
    Create
**** Call ## 72 ## Duration:  130
**** Call ## 73 ## Duration:  88
**** Call ## 74 ## Duration:  108
**** Call ## 75 ## Duration:  98
**** Call ## 76 ## Duration:  105
**** Call ## 77 ## Duration:  107
**** Call ## 78 ## Duration:  111
**** Call ## 79 ## Duration:  162
**** Call ## 80 ## Duration:  107
**** Call ## 81 ## Duration:  104
      ✓ should create comment (1124ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  69 (ERR)
      ✓ should enforce comment body (69ms)
**** Call ## 84 ## Duration:  52 (ERR)
      ✓ should disallow non-existent article (52ms)
    Get
**** Call ## 85 ## Duration:  356
      ✓ should get all comments for article (356ms)
    Delete
**** Call ## 86 ## Duration:  104
      ✓ should delete comment (104ms)
**** Call ## 87 ## Duration:  55 (ERR)
      ✓ only comment author should be able to delete comment (55ms)
**** Call ## 88 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown comment (59ms)

  User
    Create
**** Call ## 90 ## Duration:  109
      ✓ should create user (109ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  71
      ✓ should login (72ms)
**** Call ## 98 ## Duration:  34 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (44ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  64
      ✓ should get profile (64ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  104
**** Call ## 111 ## Duration:  146
**** Call ## 112 ## Duration:  96
**** Call ## 113 ## Duration:  132
**** Call ## 114 ## Duration:  61
**** Call ## 115 ## Duration:  104
**** Call ## 116 ## Duration:  94
**** Call ## 117 ## Duration:  115
**** Call ## 118 ## Duration:  107
**** Call ## 119 ## Duration:  87
      ✓ should follow/unfollow user (1048ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  87
**** Call ## 122 ## Duration:  54
**** Call ## 123 ## Duration:  49
**** Call ## 124 ## Duration:  63
      ✓ should update user (253ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  60 (ERR)
      ✓ should disallow missing token/email in update (84ms)
**** Call ## 127 ## Duration:  92
**** Call ## 128 ## Duration:  475 (ERR)
      ✓ should disallow reusing email (567ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  161
**** Call ## 1 ## Duration:  122
**** Call ## 2 ## Duration:  99
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (90ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  67 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  55 (ERR)
**** Call ## 9 ## Duration:  142 (ERR)
      ✓ should enforce required fields (333ms)
    Get
**** Call ## 10 ## Duration:  94
      ✓ should get article by slug (94ms)
**** Call ## 11 ## Duration:  85
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  134
**** Call ## 14 ## Duration:  141
**** Call ## 15 ## Duration:  124
      ✓ should update article (400ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  56 (ERR)
      ✓ should disallow updating non-existent article (56ms)
**** Call ## 20 ## Duration:  56 (ERR)
      ✓ should disallow non-author from updating (57ms)
    Favorite
**** Call ## 21 ## Duration:  131
**** Call ## 22 ## Duration:  113
      ✓ should favorite article (244ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  98 (ERR)
      ✓ should disallow favoriting unknown article (98ms)
**** Call ## 25 ## Duration:  133
      ✓ should unfavorite article (134ms)
    Delete
**** Call ## 26 ## Duration:  118
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (158ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  85 (ERR)
      ✓ should disallow deleting article by non-author (85ms)
    List
**** Call ## 31 ## Duration:  129
**** Call ## 32 ## Duration:  99
**** Call ## 33 ## Duration:  101
**** Call ## 34 ## Duration:  83
**** Call ## 35 ## Duration:  138
**** Call ## 36 ## Duration:  77
**** Call ## 37 ## Duration:  99
**** Call ## 38 ## Duration:  97
**** Call ## 39 ## Duration:  83
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  72
**** Call ## 42 ## Duration:  77
**** Call ## 43 ## Duration:  76
**** Call ## 44 ## Duration:  92
**** Call ## 45 ## Duration:  88
**** Call ## 46 ## Duration:  81
**** Call ## 47 ## Duration:  83
**** Call ## 48 ## Duration:  72
**** Call ## 49 ## Duration:  111
**** Call ## 50 ## Duration:  91
**** Call ## 51 ## Duration:  885
      ✓ should list articles (885ms)
**** Call ## 52 ## Duration:  383
**** Call ## 53 ## Duration:  600
      ✓ should list articles with tag (983ms)
**** Call ## 54 ## Duration:  234
      ✓ should list articles by author (234ms)
**** Call ## 55 ## Duration:  65
      ✓ should list articles favorited by user (66ms)
**** Call ## 56 ## Duration:  174
**** Call ## 57 ## Duration:  188
      ✓ should list articles by limit/offset (362ms)
**** Call ## 58 ## Duration:  747
      ✓ should list articles when authenticated (747ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 62 ## Duration:  100
**** Call ## 63 ## Duration:  132
**** Call ## 64 ## Duration:  326
**** Call ## 65 ## Duration:  120
**** Call ## 66 ## Duration:  494
      ✓ should get feed (1172ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  181
      ✓ should get tags (182ms)

  Comment
**** Call ## 69 ## Duration:  125
**** Call ## 70 ## Duration:  94
**** Call ## 71 ## Duration:  84
    Create
**** Call ## 72 ## Duration:  110
**** Call ## 73 ## Duration:  101
**** Call ## 74 ## Duration:  113
**** Call ## 75 ## Duration:  96
**** Call ## 76 ## Duration:  89
**** Call ## 77 ## Duration:  106
**** Call ## 78 ## Duration:  104
**** Call ## 79 ## Duration:  86
**** Call ## 80 ## Duration:  71
**** Call ## 81 ## Duration:  70
      ✓ should create comment (948ms)
**** Call ## 82 ## Duration:  32 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  46 (ERR)
      ✓ should disallow non-existent article (47ms)
    Get
**** Call ## 85 ## Duration:  279
      ✓ should get all comments for article (280ms)
    Delete
**** Call ## 86 ## Duration:  92
      ✓ should delete comment (92ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  113
      ✓ should create user (113ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  62 (ERR)
      ✓ should disallow same email (62ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  26 (ERR)
**** Call ## 96 ## Duration:  17 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (67ms)
**** Call ## 98 ## Duration:  46 (ERR)
      ✓ should disallow unknown email (46ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  79
      ✓ should get current user (79ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (77ms)
    Profile
**** Call ## 108 ## Duration:  62
      ✓ should get profile (62ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  85
**** Call ## 111 ## Duration:  137
**** Call ## 112 ## Duration:  126
**** Call ## 113 ## Duration:  93
**** Call ## 114 ## Duration:  61
**** Call ## 115 ## Duration:  140
**** Call ## 116 ## Duration:  112
**** Call ## 117 ## Duration:  133
**** Call ## 118 ## Duration:  126
**** Call ## 119 ## Duration:  185
      ✓ should follow/unfollow user (1199ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  89
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  108
**** Call ## 124 ## Duration:  87
      ✓ should update user (354ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  101
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (159ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  176
**** Call ## 1 ## Duration:  118
**** Call ## 2 ## Duration:  114
    Create
**** Call ## 3 ## Duration:  98
      ✓ should create article (100ms)
**** Call ## 4 ## Duration:  82
      ✓ should create article with tags (84ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  53 (ERR)
**** Call ## 7 ## Duration:  56 (ERR)
**** Call ## 8 ## Duration:  50 (ERR)
**** Call ## 9 ## Duration:  47 (ERR)
      ✓ should enforce required fields (207ms)
    Get
**** Call ## 10 ## Duration:  88
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  70
      ✓ should get article with tags by slug (71ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  395
**** Call ## 14 ## Duration:  119
**** Call ## 15 ## Duration:  136
      ✓ should update article (655ms)
**** Call ## 16 ## Duration:  92 (ERR)
      ✓ should disallow missing mutation (93ms)
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  67 (ERR)
      ✓ should disallow updating non-existent article (68ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  130
**** Call ## 22 ## Duration:  108
      ✓ should favorite article (239ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  128
      ✓ should unfavorite article (128ms)
    Delete
**** Call ## 26 ## Duration:  113
**** Call ## 27 ## Duration:  36 (ERR)
      ✓ should delete article (149ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (67ms)
**** Call ## 30 ## Duration:  53 (ERR)
      ✓ should disallow deleting article by non-author (54ms)
    List
**** Call ## 31 ## Duration:  93
**** Call ## 32 ## Duration:  86
**** Call ## 33 ## Duration:  74
**** Call ## 34 ## Duration:  65
**** Call ## 35 ## Duration:  63
**** Call ## 36 ## Duration:  66
**** Call ## 37 ## Duration:  74
**** Call ## 38 ## Duration:  76
**** Call ## 39 ## Duration:  97
**** Call ## 40 ## Duration:  63
**** Call ## 41 ## Duration:  75
**** Call ## 42 ## Duration:  69
**** Call ## 43 ## Duration:  118
**** Call ## 44 ## Duration:  80
**** Call ## 45 ## Duration:  83
**** Call ## 46 ## Duration:  86
**** Call ## 47 ## Duration:  57
**** Call ## 48 ## Duration:  64
**** Call ## 49 ## Duration:  86
**** Call ## 50 ## Duration:  80
**** Call ## 51 ## Duration:  951
      ✓ should list articles (951ms)
**** Call ## 52 ## Duration:  403
**** Call ## 53 ## Duration:  539
      ✓ should list articles with tag (942ms)
**** Call ## 54 ## Duration:  353
      ✓ should list articles by author (353ms)
**** Call ## 55 ## Duration:  78
      ✓ should list articles favorited by user (78ms)
**** Call ## 56 ## Duration:  174
**** Call ## 57 ## Duration:  161
      ✓ should list articles by limit/offset (335ms)
**** Call ## 58 ## Duration:  821
      ✓ should list articles when authenticated (821ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  83
**** Call ## 63 ## Duration:  153
**** Call ## 64 ## Duration:  326
**** Call ## 65 ## Duration:  122
**** Call ## 66 ## Duration:  592
      ✓ should get feed (1277ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  149
      ✓ should get tags (150ms)

  Comment
**** Call ## 69 ## Duration:  159
**** Call ## 70 ## Duration:  112
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  124
**** Call ## 73 ## Duration:  92
**** Call ## 74 ## Duration:  92
**** Call ## 75 ## Duration:  114
**** Call ## 76 ## Duration:  96
**** Call ## 77 ## Duration:  84
**** Call ## 78 ## Duration:  67
**** Call ## 79 ## Duration:  86
**** Call ## 80 ## Duration:  68
**** Call ## 81 ## Duration:  74
      ✓ should create comment (901ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (56ms)
    Get
**** Call ## 85 ## Duration:  252
      ✓ should get all comments for article (252ms)
    Delete
**** Call ## 86 ## Duration:  103
      ✓ should delete comment (104ms)
**** Call ## 87 ## Duration:  49 (ERR)
      ✓ only comment author should be able to delete comment (50ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  76 (ERR)
      ✓ should disallow deleting unknown comment (77ms)

  User
    Create
**** Call ## 90 ## Duration:  118
      ✓ should create user (118ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  73 (ERR)
      ✓ should disallow same email (73ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  76
      ✓ should login (76ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  25 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (77ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  37 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  104
**** Call ## 111 ## Duration:  104
**** Call ## 112 ## Duration:  78
**** Call ## 113 ## Duration:  87
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  94
**** Call ## 116 ## Duration:  93
**** Call ## 117 ## Duration:  112
**** Call ## 118 ## Duration:  89
**** Call ## 119 ## Duration:  115
      ✓ should follow/unfollow user (941ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  77
**** Call ## 122 ## Duration:  50
**** Call ## 123 ## Duration:  63
**** Call ## 124 ## Duration:  52
      ✓ should update user (243ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  64 (ERR)
      ✓ should disallow missing token/email in update (83ms)
**** Call ## 127 ## Duration:  97
**** Call ## 128 ## Duration:  54 (ERR)
      ✓ should disallow reusing email (151ms)

  Util
    Ping
**** Call ## 129 ## Duration:  26
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  166
**** Call ## 1 ## Duration:  96
**** Call ## 2 ## Duration:  87
    Create
**** Call ## 3 ## Duration:  108
      ✓ should create article (109ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (85ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  60 (ERR)
**** Call ## 8 ## Duration:  54 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (238ms)
    Get
**** Call ## 10 ## Duration:  85
      ✓ should get article by slug (85ms)
**** Call ## 11 ## Duration:  71
      ✓ should get article with tags by slug (72ms)
**** Call ## 12 ## Duration:  29 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  121
**** Call ## 15 ## Duration:  113
      ✓ should update article (390ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  89 (ERR)
      ✓ should disallow updating non-existent article (89ms)
**** Call ## 20 ## Duration:  70 (ERR)
      ✓ should disallow non-author from updating (71ms)
    Favorite
**** Call ## 21 ## Duration:  143
**** Call ## 22 ## Duration:  106
      ✓ should favorite article (249ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  119
      ✓ should unfavorite article (119ms)
    Delete
**** Call ## 26 ## Duration:  103
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (144ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown article (59ms)
**** Call ## 30 ## Duration:  62 (ERR)
      ✓ should disallow deleting article by non-author (62ms)
    List
**** Call ## 31 ## Duration:  72
**** Call ## 32 ## Duration:  94
**** Call ## 33 ## Duration:  74
**** Call ## 34 ## Duration:  76
**** Call ## 35 ## Duration:  73
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  110
**** Call ## 38 ## Duration:  80
**** Call ## 39 ## Duration:  76
**** Call ## 40 ## Duration:  56
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  67
**** Call ## 43 ## Duration:  62
**** Call ## 44 ## Duration:  53
**** Call ## 45 ## Duration:  59
**** Call ## 46 ## Duration:  77
**** Call ## 47 ## Duration:  70
**** Call ## 48 ## Duration:  61
**** Call ## 49 ## Duration:  64
**** Call ## 50 ## Duration:  61
**** Call ## 51 ## Duration:  976
      ✓ should list articles (976ms)
**** Call ## 52 ## Duration:  432
**** Call ## 53 ## Duration:  601
      ✓ should list articles with tag (1033ms)
**** Call ## 54 ## Duration:  295
      ✓ should list articles by author (296ms)
**** Call ## 55 ## Duration:  78
      ✓ should list articles favorited by user (78ms)
**** Call ## 56 ## Duration:  147
**** Call ## 57 ## Duration:  146
      ✓ should list articles by limit/offset (294ms)
**** Call ## 58 ## Duration:  727
      ✓ should list articles when authenticated (727ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  20 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  123
**** Call ## 63 ## Duration:  124
**** Call ## 64 ## Duration:  353
**** Call ## 65 ## Duration:  159
**** Call ## 66 ## Duration:  469
      ✓ should get feed (1228ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  163
      ✓ should get tags (163ms)

  Comment
**** Call ## 69 ## Duration:  109
**** Call ## 70 ## Duration:  95
**** Call ## 71 ## Duration:  101
    Create
**** Call ## 72 ## Duration:  93
**** Call ## 73 ## Duration:  99
**** Call ## 74 ## Duration:  87
**** Call ## 75 ## Duration:  92
**** Call ## 76 ## Duration:  87
**** Call ## 77 ## Duration:  79
**** Call ## 78 ## Duration:  109
**** Call ## 79 ## Duration:  93
**** Call ## 80 ## Duration:  89
**** Call ## 81 ## Duration:  73
      ✓ should create comment (901ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  41 (ERR)
      ✓ should enforce comment body (41ms)
**** Call ## 84 ## Duration:  50 (ERR)
      ✓ should disallow non-existent article (51ms)
    Get
**** Call ## 85 ## Duration:  284
      ✓ should get all comments for article (284ms)
    Delete
**** Call ## 86 ## Duration:  101
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (64ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  93 (ERR)
      ✓ should disallow deleting unknown comment (94ms)

  User
    Create
**** Call ## 90 ## Duration:  127
      ✓ should create user (127ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  66
      ✓ should login (66ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  43 (ERR)
      ✓ should disallow wrong password (43ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  26 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (89ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  93
**** Call ## 111 ## Duration:  208
**** Call ## 112 ## Duration:  115
**** Call ## 113 ## Duration:  76
**** Call ## 114 ## Duration:  187
**** Call ## 115 ## Duration:  104
**** Call ## 116 ## Duration:  149
**** Call ## 117 ## Duration:  120
**** Call ## 118 ## Duration:  112
**** Call ## 119 ## Duration:  102
      ✓ should follow/unfollow user (1268ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  88
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  52
      ✓ should update user (270ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  60 (ERR)
      ✓ should disallow missing token/email in update (82ms)
**** Call ## 127 ## Duration:  92
**** Call ## 128 ## Duration:  62 (ERR)
      ✓ should disallow reusing email (155ms)

  Util
    Ping
**** Call ## 129 ## Duration:  18
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  178
**** Call ## 1 ## Duration:  105
**** Call ## 2 ## Duration:  101
    Create
**** Call ## 3 ## Duration:  104
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  89
      ✓ should create article with tags (91ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  67 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  58 (ERR)
**** Call ## 9 ## Duration:  49 (ERR)
      ✓ should enforce required fields (231ms)
    Get
**** Call ## 10 ## Duration:  89
      ✓ should get article by slug (89ms)
**** Call ## 11 ## Duration:  160
      ✓ should get article with tags by slug (161ms)
**** Call ## 12 ## Duration:  38 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  166
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  129
      ✓ should update article (432ms)
**** Call ## 16 ## Duration:  43 (ERR)
      ✓ should disallow missing mutation (44ms)
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  81 (ERR)
      ✓ should disallow updating non-existent article (81ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  160
**** Call ## 22 ## Duration:  94
      ✓ should favorite article (255ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  134
      ✓ should unfavorite article (134ms)
    Delete
**** Call ## 26 ## Duration:  123
**** Call ## 27 ## Duration:  27 (ERR)
      ✓ should delete article (151ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  92 (ERR)
      ✓ should disallow deleting article by non-author (92ms)
    List
**** Call ## 31 ## Duration:  172
**** Call ## 32 ## Duration:  96
**** Call ## 33 ## Duration:  75
**** Call ## 34 ## Duration:  76
**** Call ## 35 ## Duration:  89
**** Call ## 36 ## Duration:  69
**** Call ## 37 ## Duration:  82
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  88
**** Call ## 40 ## Duration:  70
**** Call ## 41 ## Duration:  105
**** Call ## 42 ## Duration:  81
**** Call ## 43 ## Duration:  76
**** Call ## 44 ## Duration:  80
**** Call ## 45 ## Duration:  76
**** Call ## 46 ## Duration:  102
**** Call ## 47 ## Duration:  80
**** Call ## 48 ## Duration:  77
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  79
**** Call ## 51 ## Duration:  925
      ✓ should list articles (925ms)
**** Call ## 52 ## Duration:  423
**** Call ## 53 ## Duration:  531
      ✓ should list articles with tag (954ms)
**** Call ## 54 ## Duration:  309
      ✓ should list articles by author (310ms)
**** Call ## 55 ## Duration:  122
      ✓ should list articles favorited by user (122ms)
**** Call ## 56 ## Duration:  152
**** Call ## 57 ## Duration:  155
      ✓ should list articles by limit/offset (309ms)
**** Call ## 58 ## Duration:  864
      ✓ should list articles when authenticated (864ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 62 ## Duration:  153
**** Call ## 63 ## Duration:  135
**** Call ## 64 ## Duration:  366
**** Call ## 65 ## Duration:  102
**** Call ## 66 ## Duration:  561
      ✓ should get feed (1318ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  203
      ✓ should get tags (203ms)

  Comment
**** Call ## 69 ## Duration:  127
**** Call ## 70 ## Duration:  106
**** Call ## 71 ## Duration:  143
    Create
**** Call ## 72 ## Duration:  102
**** Call ## 73 ## Duration:  111
**** Call ## 74 ## Duration:  95
**** Call ## 75 ## Duration:  93
**** Call ## 76 ## Duration:  96
**** Call ## 77 ## Duration:  86
**** Call ## 78 ## Duration:  93
**** Call ## 79 ## Duration:  85
**** Call ## 80 ## Duration:  76
**** Call ## 81 ## Duration:  85
      ✓ should create comment (924ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  55 (ERR)
      ✓ should disallow non-existent article (55ms)
    Get
**** Call ## 85 ## Duration:  269
      ✓ should get all comments for article (269ms)
    Delete
**** Call ## 86 ## Duration:  109
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (62ms)

  User
    Create
**** Call ## 90 ## Duration:  117
      ✓ should create user (117ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  55 (ERR)
      ✓ should disallow same email (55ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  71
      ✓ should login (71ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (77ms)
    Profile
**** Call ## 108 ## Duration:  65
      ✓ should get profile (66ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  101
**** Call ## 111 ## Duration:  142
**** Call ## 112 ## Duration:  116
**** Call ## 113 ## Duration:  113
**** Call ## 114 ## Duration:  83
**** Call ## 115 ## Duration:  112
**** Call ## 116 ## Duration:  126
**** Call ## 117 ## Duration:  121
**** Call ## 118 ## Duration:  119
**** Call ## 119 ## Duration:  85
      ✓ should follow/unfollow user (1119ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  87
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  48
**** Call ## 124 ## Duration:  65
      ✓ should update user (268ms)
**** Call ## 125 ## Duration:  34 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (83ms)
**** Call ## 127 ## Duration:  104
**** Call ## 128 ## Duration:  53 (ERR)
      ✓ should disallow reusing email (157ms)

  Util
    Ping
**** Call ## 129 ## Duration:  17
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  179
**** Call ## 1 ## Duration:  105
**** Call ## 2 ## Duration:  122
    Create
**** Call ## 3 ## Duration:  86
      ✓ should create article (88ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (91ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  66 (ERR)
**** Call ## 7 ## Duration:  66 (ERR)
**** Call ## 8 ## Duration:  53 (ERR)
**** Call ## 9 ## Duration:  53 (ERR)
      ✓ should enforce required fields (241ms)
    Get
**** Call ## 10 ## Duration:  91
      ✓ should get article by slug (91ms)
**** Call ## 11 ## Duration:  77
      ✓ should get article with tags by slug (77ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  148
**** Call ## 14 ## Duration:  164
**** Call ## 15 ## Duration:  136
      ✓ should update article (449ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  68 (ERR)
      ✓ should disallow updating non-existent article (68ms)
**** Call ## 20 ## Duration:  77 (ERR)
      ✓ should disallow non-author from updating (77ms)
    Favorite
**** Call ## 21 ## Duration:  173
**** Call ## 22 ## Duration:  96
      ✓ should favorite article (270ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  149
      ✓ should unfavorite article (150ms)
    Delete
**** Call ## 26 ## Duration:  152
**** Call ## 27 ## Duration:  31 (ERR)
      ✓ should delete article (183ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown article (60ms)
**** Call ## 30 ## Duration:  55 (ERR)
      ✓ should disallow deleting article by non-author (56ms)
    List
**** Call ## 31 ## Duration:  93
**** Call ## 32 ## Duration:  87
**** Call ## 33 ## Duration:  129
**** Call ## 34 ## Duration:  84
**** Call ## 35 ## Duration:  82
**** Call ## 36 ## Duration:  78
**** Call ## 37 ## Duration:  78
**** Call ## 38 ## Duration:  86
**** Call ## 39 ## Duration:  87
**** Call ## 40 ## Duration:  71
**** Call ## 41 ## Duration:  63
**** Call ## 42 ## Duration:  74
**** Call ## 43 ## Duration:  55
**** Call ## 44 ## Duration:  60
**** Call ## 45 ## Duration:  77
**** Call ## 46 ## Duration:  72
**** Call ## 47 ## Duration:  64
**** Call ## 48 ## Duration:  105
**** Call ## 49 ## Duration:  58
**** Call ## 50 ## Duration:  105
**** Call ## 51 ## Duration:  927
      ✓ should list articles (927ms)
**** Call ## 52 ## Duration:  515
**** Call ## 53 ## Duration:  562
      ✓ should list articles with tag (1078ms)
**** Call ## 54 ## Duration:  284
      ✓ should list articles by author (284ms)
**** Call ## 55 ## Duration:  87
      ✓ should list articles favorited by user (87ms)
**** Call ## 56 ## Duration:  227
**** Call ## 57 ## Duration:  142
      ✓ should list articles by limit/offset (369ms)
**** Call ## 58 ## Duration:  785
      ✓ should list articles when authenticated (785ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  124
**** Call ## 63 ## Duration:  131
**** Call ## 64 ## Duration:  361
**** Call ## 65 ## Duration:  114
**** Call ## 66 ## Duration:  553
      ✓ should get feed (1284ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  170
      ✓ should get tags (170ms)

  Comment
**** Call ## 69 ## Duration:  102
**** Call ## 70 ## Duration:  101
**** Call ## 71 ## Duration:  92
    Create
**** Call ## 72 ## Duration:  107
**** Call ## 73 ## Duration:  96
**** Call ## 74 ## Duration:  72
**** Call ## 75 ## Duration:  95
**** Call ## 76 ## Duration:  94
**** Call ## 77 ## Duration:  83
**** Call ## 78 ## Duration:  120
**** Call ## 79 ## Duration:  89
**** Call ## 80 ## Duration:  85
**** Call ## 81 ## Duration:  87
      ✓ should create comment (929ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  290
      ✓ should get all comments for article (290ms)
    Delete
**** Call ## 86 ## Duration:  103
      ✓ should delete comment (103ms)
**** Call ## 87 ## Duration:  41 (ERR)
      ✓ only comment author should be able to delete comment (42ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  103
      ✓ should create user (104ms)
**** Call ## 91 ## Duration:  51 (ERR)
      ✓ should disallow same username (51ms)
**** Call ## 92 ## Duration:  202 (ERR)
      ✓ should disallow same email (202ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  17 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (77ms)
    Login
**** Call ## 97 ## Duration:  76
      ✓ should login (76ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  17 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  64
      ✓ should get profile (64ms)
**** Call ## 109 ## Duration:  36 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  105
**** Call ## 111 ## Duration:  104
**** Call ## 112 ## Duration:  116
**** Call ## 113 ## Duration:  90
**** Call ## 114 ## Duration:  56
**** Call ## 115 ## Duration:  145
**** Call ## 116 ## Duration:  111
**** Call ## 117 ## Duration:  107
**** Call ## 118 ## Duration:  125
**** Call ## 119 ## Duration:  90
      ✓ should follow/unfollow user (1051ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  95
**** Call ## 122 ## Duration:  61
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  47
      ✓ should update user (256ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (69ms)
**** Call ## 127 ## Duration:  101
**** Call ## 128 ## Duration:  62 (ERR)
      ✓ should disallow reusing email (163ms)

  Util
    Ping
**** Call ## 129 ## Duration:  32
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  164
**** Call ## 1 ## Duration:  106
**** Call ## 2 ## Duration:  188
    Create
**** Call ## 3 ## Duration:  88
      ✓ should create article (90ms)
**** Call ## 4 ## Duration:  73
      ✓ should create article with tags (76ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  70 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  46 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (231ms)
    Get
**** Call ## 10 ## Duration:  86
      ✓ should get article by slug (86ms)
**** Call ## 11 ## Duration:  74
      ✓ should get article with tags by slug (75ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  149
**** Call ## 14 ## Duration:  191
**** Call ## 15 ## Duration:  111
      ✓ should update article (453ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  97 (ERR)
      ✓ should disallow updating non-existent article (97ms)
**** Call ## 20 ## Duration:  68 (ERR)
      ✓ should disallow non-author from updating (68ms)
    Favorite
**** Call ## 21 ## Duration:  192
**** Call ## 22 ## Duration:  93
      ✓ should favorite article (285ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  61 (ERR)
      ✓ should disallow favoriting unknown article (61ms)
**** Call ## 25 ## Duration:  125
      ✓ should unfavorite article (126ms)
    Delete
**** Call ## 26 ## Duration:  111
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (67ms)
**** Call ## 30 ## Duration:  67 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  79
**** Call ## 32 ## Duration:  78
**** Call ## 33 ## Duration:  78
**** Call ## 34 ## Duration:  81
**** Call ## 35 ## Duration:  84
**** Call ## 36 ## Duration:  86
**** Call ## 37 ## Duration:  87
**** Call ## 38 ## Duration:  70
**** Call ## 39 ## Duration:  66
**** Call ## 40 ## Duration:  61
**** Call ## 41 ## Duration:  75
**** Call ## 42 ## Duration:  80
**** Call ## 43 ## Duration:  74
**** Call ## 44 ## Duration:  74
**** Call ## 45 ## Duration:  76
**** Call ## 46 ## Duration:  69
**** Call ## 47 ## Duration:  75
**** Call ## 48 ## Duration:  61
**** Call ## 49 ## Duration:  66
**** Call ## 50 ## Duration:  56
**** Call ## 51 ## Duration:  886
      ✓ should list articles (886ms)
**** Call ## 52 ## Duration:  494
**** Call ## 53 ## Duration:  561
      ✓ should list articles with tag (1056ms)
**** Call ## 54 ## Duration:  353
      ✓ should list articles by author (354ms)
**** Call ## 55 ## Duration:  107
      ✓ should list articles favorited by user (107ms)
**** Call ## 56 ## Duration:  153
**** Call ## 57 ## Duration:  166
      ✓ should list articles by limit/offset (320ms)
**** Call ## 58 ## Duration:  890
      ✓ should list articles when authenticated (890ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 62 ## Duration:  88
**** Call ## 63 ## Duration:  110
**** Call ## 64 ## Duration:  351
**** Call ## 65 ## Duration:  96
**** Call ## 66 ## Duration:  535
      ✓ should get feed (1181ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  226
      ✓ should get tags (228ms)

  Comment
**** Call ## 69 ## Duration:  109
**** Call ## 70 ## Duration:  106
**** Call ## 71 ## Duration:  81
    Create
**** Call ## 72 ## Duration:  109
**** Call ## 73 ## Duration:  115
**** Call ## 74 ## Duration:  114
**** Call ## 75 ## Duration:  94
**** Call ## 76 ## Duration:  108
**** Call ## 77 ## Duration:  89
**** Call ## 78 ## Duration:  88
**** Call ## 79 ## Duration:  89
**** Call ## 80 ## Duration:  84
**** Call ## 81 ## Duration:  89
      ✓ should create comment (981ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  69 (ERR)
      ✓ should enforce comment body (70ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (57ms)
    Get
**** Call ## 85 ## Duration:  323
      ✓ should get all comments for article (323ms)
    Delete
**** Call ## 86 ## Duration:  109
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (54ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  116
      ✓ should create user (116ms)
**** Call ## 91 ## Duration:  25 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  64
      ✓ should login (64ms)
**** Call ## 98 ## Duration:  49 (ERR)
      ✓ should disallow unknown email (49ms)
**** Call ## 99 ## Duration:  39 (ERR)
      ✓ should disallow wrong password (39ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (75ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  112
**** Call ## 111 ## Duration:  109
**** Call ## 112 ## Duration:  100
**** Call ## 113 ## Duration:  82
**** Call ## 114 ## Duration:  64
**** Call ## 115 ## Duration:  104
**** Call ## 116 ## Duration:  123
**** Call ## 117 ## Duration:  116
**** Call ## 118 ## Duration:  121
**** Call ## 119 ## Duration:  128
      ✓ should follow/unfollow user (1060ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  242
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  53
      ✓ should update user (429ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  39 (ERR)
      ✓ should disallow missing token/email in update (60ms)
**** Call ## 127 ## Duration:  140
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (191ms)

  Util
    Ping
**** Call ## 129 ## Duration:  18
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  152
**** Call ## 1 ## Duration:  120
**** Call ## 2 ## Duration:  111
    Create
**** Call ## 3 ## Duration:  90
      ✓ should create article (92ms)
**** Call ## 4 ## Duration:  81
      ✓ should create article with tags (83ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  63 (ERR)
**** Call ## 7 ## Duration:  48 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  46 (ERR)
      ✓ should enforce required fields (215ms)
    Get
**** Call ## 10 ## Duration:  78
      ✓ should get article by slug (78ms)
**** Call ## 11 ## Duration:  96
      ✓ should get article with tags by slug (96ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  151
**** Call ## 14 ## Duration:  132
**** Call ## 15 ## Duration:  163
      ✓ should update article (447ms)
**** Call ## 16 ## Duration:  25 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  18 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  66 (ERR)
      ✓ should disallow updating non-existent article (67ms)
**** Call ## 20 ## Duration:  54 (ERR)
      ✓ should disallow non-author from updating (55ms)
    Favorite
**** Call ## 21 ## Duration:  155
**** Call ## 22 ## Duration:  117
      ✓ should favorite article (272ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (73ms)
**** Call ## 25 ## Duration:  144
      ✓ should unfavorite article (144ms)
    Delete
**** Call ## 26 ## Duration:  102
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (141ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  57 (ERR)
      ✓ should disallow deleting article by non-author (57ms)
    List
**** Call ## 31 ## Duration:  89
**** Call ## 32 ## Duration:  74
**** Call ## 33 ## Duration:  92
**** Call ## 34 ## Duration:  54
**** Call ## 35 ## Duration:  76
**** Call ## 36 ## Duration:  76
**** Call ## 37 ## Duration:  78
**** Call ## 38 ## Duration:  69
**** Call ## 39 ## Duration:  74
**** Call ## 40 ## Duration:  113
**** Call ## 41 ## Duration:  82
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  71
**** Call ## 44 ## Duration:  65
**** Call ## 45 ## Duration:  63
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  60
**** Call ## 48 ## Duration:  64
**** Call ## 49 ## Duration:  69
**** Call ## 50 ## Duration:  61
**** Call ## 51 ## Duration:  722
      ✓ should list articles (723ms)
**** Call ## 52 ## Duration:  474
**** Call ## 53 ## Duration:  548
      ✓ should list articles with tag (1022ms)
**** Call ## 54 ## Duration:  275
      ✓ should list articles by author (275ms)
**** Call ## 55 ## Duration:  100
      ✓ should list articles favorited by user (100ms)
**** Call ## 56 ## Duration:  152
**** Call ## 57 ## Duration:  124
      ✓ should list articles by limit/offset (276ms)
**** Call ## 58 ## Duration:  759
      ✓ should list articles when authenticated (759ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  93
**** Call ## 63 ## Duration:  98
**** Call ## 64 ## Duration:  385
**** Call ## 65 ## Duration:  99
**** Call ## 66 ## Duration:  559
      ✓ should get feed (1234ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  186
      ✓ should get tags (187ms)

  Comment
**** Call ## 69 ## Duration:  112
**** Call ## 70 ## Duration:  92
**** Call ## 71 ## Duration:  84
    Create
**** Call ## 72 ## Duration:  103
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  138
**** Call ## 75 ## Duration:  83
**** Call ## 76 ## Duration:  81
**** Call ## 77 ## Duration:  102
**** Call ## 78 ## Duration:  90
**** Call ## 79 ## Duration:  100
**** Call ## 80 ## Duration:  98
**** Call ## 81 ## Duration:  84
      ✓ should create comment (990ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  249
      ✓ should get all comments for article (250ms)
    Delete
**** Call ## 86 ## Duration:  104
      ✓ should delete comment (106ms)
**** Call ## 87 ## Duration:  51 (ERR)
      ✓ only comment author should be able to delete comment (51ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  121
      ✓ should create user (121ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  74
      ✓ should login (74ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (77ms)
    Profile
**** Call ## 108 ## Duration:  61
      ✓ should get profile (61ms)
**** Call ## 109 ## Duration:  36 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  107
**** Call ## 111 ## Duration:  161
**** Call ## 112 ## Duration:  101
**** Call ## 113 ## Duration:  72
**** Call ## 114 ## Duration:  59
**** Call ## 115 ## Duration:  146
**** Call ## 116 ## Duration:  108
**** Call ## 117 ## Duration:  127
**** Call ## 118 ## Duration:  122
**** Call ## 119 ## Duration:  118
      ✓ should follow/unfollow user (1121ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  122
**** Call ## 124 ## Duration:  58
      ✓ should update user (338ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (71ms)
**** Call ## 127 ## Duration:  112
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (171ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  164
**** Call ## 1 ## Duration:  97
**** Call ## 2 ## Duration:  123
    Create
**** Call ## 3 ## Duration:  96
      ✓ should create article (98ms)
**** Call ## 4 ## Duration:  86
      ✓ should create article with tags (88ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  58 (ERR)
**** Call ## 8 ## Duration:  63 (ERR)
**** Call ## 9 ## Duration:  67 (ERR)
      ✓ should enforce required fields (256ms)
    Get
**** Call ## 10 ## Duration:  107
      ✓ should get article by slug (107ms)
**** Call ## 11 ## Duration:  86
      ✓ should get article with tags by slug (86ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  160
**** Call ## 14 ## Duration:  179
**** Call ## 15 ## Duration:  161
      ✓ should update article (506ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  69 (ERR)
      ✓ should disallow updating non-existent article (70ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  166
**** Call ## 22 ## Duration:  109
      ✓ should favorite article (275ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  70 (ERR)
      ✓ should disallow favoriting unknown article (70ms)
**** Call ## 25 ## Duration:  112
      ✓ should unfavorite article (112ms)
    Delete
**** Call ## 26 ## Duration:  112
**** Call ## 27 ## Duration:  34 (ERR)
      ✓ should delete article (148ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  56 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (63ms)
    List
**** Call ## 31 ## Duration:  93
**** Call ## 32 ## Duration:  88
**** Call ## 33 ## Duration:  74
**** Call ## 34 ## Duration:  91
**** Call ## 35 ## Duration:  76
**** Call ## 36 ## Duration:  97
**** Call ## 37 ## Duration:  100
**** Call ## 38 ## Duration:  87
**** Call ## 39 ## Duration:  99
**** Call ## 40 ## Duration:  77
**** Call ## 41 ## Duration:  58
**** Call ## 42 ## Duration:  76
**** Call ## 43 ## Duration:  119
**** Call ## 44 ## Duration:  89
**** Call ## 45 ## Duration:  67
**** Call ## 46 ## Duration:  58
**** Call ## 47 ## Duration:  76
**** Call ## 48 ## Duration:  60
**** Call ## 49 ## Duration:  57
**** Call ## 50 ## Duration:  66
**** Call ## 51 ## Duration:  1050
      ✓ should list articles (1050ms)
**** Call ## 52 ## Duration:  522
**** Call ## 53 ## Duration:  599
      ✓ should list articles with tag (1121ms)
**** Call ## 54 ## Duration:  263
      ✓ should list articles by author (263ms)
**** Call ## 55 ## Duration:  92
      ✓ should list articles favorited by user (92ms)
**** Call ## 56 ## Duration:  148
**** Call ## 57 ## Duration:  157
      ✓ should list articles by limit/offset (305ms)
**** Call ## 58 ## Duration:  779
      ✓ should list articles when authenticated (779ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  53 (ERR)
**** Call ## 62 ## Duration:  88
**** Call ## 63 ## Duration:  125
**** Call ## 64 ## Duration:  394
**** Call ## 65 ## Duration:  112
**** Call ## 66 ## Duration:  620
      ✓ should get feed (1340ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  197
      ✓ should get tags (197ms)

  Comment
**** Call ## 69 ## Duration:  93
**** Call ## 70 ## Duration:  84
**** Call ## 71 ## Duration:  78
    Create
**** Call ## 72 ## Duration:  121
**** Call ## 73 ## Duration:  96
**** Call ## 74 ## Duration:  92
**** Call ## 75 ## Duration:  87
**** Call ## 76 ## Duration:  100
**** Call ## 77 ## Duration:  90
**** Call ## 78 ## Duration:  77
**** Call ## 79 ## Duration:  111
**** Call ## 80 ## Duration:  75
**** Call ## 81 ## Duration:  88
      ✓ should create comment (937ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  42 (ERR)
      ✓ should enforce comment body (42ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  259
      ✓ should get all comments for article (259ms)
    Delete
**** Call ## 86 ## Duration:  97
      ✓ should delete comment (97ms)
**** Call ## 87 ## Duration:  50 (ERR)
      ✓ only comment author should be able to delete comment (51ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  107
      ✓ should create user (108ms)
**** Call ## 91 ## Duration:  34 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  72 (ERR)
      ✓ should disallow same email (73ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  72
      ✓ should login (72ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (66ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  75
      ✓ should get profile (75ms)
**** Call ## 109 ## Duration:  75 (ERR)
      ✓ should disallow unknown username (75ms)
**** Call ## 110 ## Duration:  113
**** Call ## 111 ## Duration:  109
**** Call ## 112 ## Duration:  130
**** Call ## 113 ## Duration:  96
**** Call ## 114 ## Duration:  62
**** Call ## 115 ## Duration:  114
**** Call ## 116 ## Duration:  113
**** Call ## 117 ## Duration:  123
**** Call ## 118 ## Duration:  99
**** Call ## 119 ## Duration:  102
      ✓ should follow/unfollow user (1062ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  83
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  41
      ✓ should update user (242ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  119
**** Call ## 128 ## Duration:  70 (ERR)
      ✓ should disallow reusing email (189ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  180
**** Call ## 1 ## Duration:  92
**** Call ## 2 ## Duration:  115
    Create
**** Call ## 3 ## Duration:  105
      ✓ should create article (107ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (93ms)
**** Call ## 5 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  66 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  63 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (245ms)
    Get
**** Call ## 10 ## Duration:  98
      ✓ should get article by slug (98ms)
**** Call ## 11 ## Duration:  83
      ✓ should get article with tags by slug (83ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  155
**** Call ## 14 ## Duration:  132
**** Call ## 15 ## Duration:  104
      ✓ should update article (392ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  78 (ERR)
      ✓ should disallow updating non-existent article (78ms)
**** Call ## 20 ## Duration:  81 (ERR)
      ✓ should disallow non-author from updating (81ms)
    Favorite
**** Call ## 21 ## Duration:  146
**** Call ## 22 ## Duration:  108
      ✓ should favorite article (255ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  145
      ✓ should unfavorite article (145ms)
    Delete
**** Call ## 26 ## Duration:  100
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (142ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (70ms)
**** Call ## 30 ## Duration:  54 (ERR)
      ✓ should disallow deleting article by non-author (55ms)
    List
**** Call ## 31 ## Duration:  87
**** Call ## 32 ## Duration:  70
**** Call ## 33 ## Duration:  81
**** Call ## 34 ## Duration:  71
**** Call ## 35 ## Duration:  63
**** Call ## 36 ## Duration:  63
**** Call ## 37 ## Duration:  59
**** Call ## 38 ## Duration:  72
**** Call ## 39 ## Duration:  62
**** Call ## 40 ## Duration:  52
**** Call ## 41 ## Duration:  70
**** Call ## 42 ## Duration:  65
**** Call ## 43 ## Duration:  70
**** Call ## 44 ## Duration:  52
**** Call ## 45 ## Duration:  58
**** Call ## 46 ## Duration:  66
**** Call ## 47 ## Duration:  110
**** Call ## 48 ## Duration:  158
**** Call ## 49 ## Duration:  63
**** Call ## 50 ## Duration:  77
**** Call ## 51 ## Duration:  959
      ✓ should list articles (960ms)
**** Call ## 52 ## Duration:  557
**** Call ## 53 ## Duration:  577
      ✓ should list articles with tag (1134ms)
**** Call ## 54 ## Duration:  290
      ✓ should list articles by author (291ms)
**** Call ## 55 ## Duration:  115
      ✓ should list articles favorited by user (115ms)
**** Call ## 56 ## Duration:  154
**** Call ## 57 ## Duration:  163
      ✓ should list articles by limit/offset (317ms)
**** Call ## 58 ## Duration:  924
      ✓ should list articles when authenticated (924ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  15 (ERR)
(node:11835) UnhandledPromiseRejectionWarning: AssertionError [ERR_ASSERTION]: 500 == 422
    at Object.assertError (/home/ubuntu/realworld-dynamodb-lambda/test/TestUtil.js:7:12)
    at axios.get.catch.res (/home/ubuntu/realworld-dynamodb-lambda/test/test.Article.js:417:34)
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:188:7)
(node:11835) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 37)
(node:11835) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  70 (ERR)
**** Call ## 62 ## Duration:  84
**** Call ## 63 ## Duration:  190
**** Call ## 64 ## Duration:  342
**** Call ## 65 ## Duration:  131
**** Call ## 66 ## Duration:  663
      ✓ should get feed (1410ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  227
      ✓ should get tags (227ms)

  Comment
**** Call ## 69 ## Duration:  116
**** Call ## 70 ## Duration:  112
**** Call ## 71 ## Duration:  77
    Create
**** Call ## 72 ## Duration:  88
**** Call ## 73 ## Duration:  86
**** Call ## 74 ## Duration:  93
**** Call ## 75 ## Duration:  68
**** Call ## 76 ## Duration:  92
**** Call ## 77 ## Duration:  83
**** Call ## 78 ## Duration:  110
**** Call ## 79 ## Duration:  77
**** Call ## 80 ## Duration:  79
**** Call ## 81 ## Duration:  67
      ✓ should create comment (845ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  260
      ✓ should get all comments for article (260ms)
    Delete
**** Call ## 86 ## Duration:  93
      ✓ should delete comment (95ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  56 (ERR)
      ✓ should disallow deleting unknown comment (57ms)

  User
    Create
**** Call ## 90 ## Duration:  101
      ✓ should create user (101ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (38ms)
**** Call ## 92 ## Duration:  57 (ERR)
      ✓ should disallow same email (57ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  77
      ✓ should login (78ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (44ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  17 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  17 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (79ms)
    Profile
**** Call ## 108 ## Duration:  110
      ✓ should get profile (110ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  100
**** Call ## 111 ## Duration:  118
**** Call ## 112 ## Duration:  102
**** Call ## 113 ## Duration:  90
**** Call ## 114 ## Duration:  57
**** Call ## 115 ## Duration:  100
**** Call ## 116 ## Duration:  92
**** Call ## 117 ## Duration:  112
**** Call ## 118 ## Duration:  84
**** Call ## 119 ## Duration:  101
      ✓ should follow/unfollow user (958ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  63
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  63
      ✓ should update user (284ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  89
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (150ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  182
**** Call ## 1 ## Duration:  106
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  90
      ✓ should create article (93ms)
**** Call ## 4 ## Duration:  75
      ✓ should create article with tags (78ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  60 (ERR)
**** Call ## 7 ## Duration:  55 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  52 (ERR)
      ✓ should enforce required fields (234ms)
    Get
**** Call ## 10 ## Duration:  89
      ✓ should get article by slug (89ms)
**** Call ## 11 ## Duration:  86
      ✓ should get article with tags by slug (87ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  209
**** Call ## 14 ## Duration:  138
**** Call ## 15 ## Duration:  120
      ✓ should update article (468ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (65ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  131
**** Call ## 22 ## Duration:  93
      ✓ should favorite article (224ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (66ms)
**** Call ## 25 ## Duration:  118
      ✓ should unfavorite article (118ms)
    Delete
**** Call ## 26 ## Duration:  109
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (147ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (64ms)
    List
**** Call ## 31 ## Duration:  79
**** Call ## 32 ## Duration:  71
**** Call ## 33 ## Duration:  73
**** Call ## 34 ## Duration:  67
**** Call ## 35 ## Duration:  87
**** Call ## 36 ## Duration:  87
**** Call ## 37 ## Duration:  68
**** Call ## 38 ## Duration:  70
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  58
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  65
**** Call ## 43 ## Duration:  93
**** Call ## 44 ## Duration:  66
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  64
**** Call ## 48 ## Duration:  53
**** Call ## 49 ## Duration:  74
**** Call ## 50 ## Duration:  69
**** Call ## 51 ## Duration:  1058
      ✓ should list articles (1060ms)
**** Call ## 52 ## Duration:  545
**** Call ## 53 ## Duration:  640
      ✓ should list articles with tag (1185ms)
**** Call ## 54 ## Duration:  293
      ✓ should list articles by author (294ms)
**** Call ## 55 ## Duration:  93
      ✓ should list articles favorited by user (93ms)
**** Call ## 56 ## Duration:  151
**** Call ## 57 ## Duration:  160
      ✓ should list articles by limit/offset (312ms)
**** Call ## 58 ## Duration:  847
      ✓ should list articles when authenticated (847ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 59 ## Duration:  47 (ERR)
**** Call ## 62 ## Duration:  90
**** Call ## 63 ## Duration:  123
**** Call ## 64 ## Duration:  388
**** Call ## 65 ## Duration:  101
**** Call ## 66 ## Duration:  517
      ✓ should get feed (1220ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  169
      ✓ should get tags (169ms)

  Comment
**** Call ## 69 ## Duration:  106
**** Call ## 70 ## Duration:  114
**** Call ## 71 ## Duration:  89
    Create
**** Call ## 72 ## Duration:  102
**** Call ## 73 ## Duration:  88
**** Call ## 74 ## Duration:  86
**** Call ## 75 ## Duration:  95
**** Call ## 76 ## Duration:  94
**** Call ## 77 ## Duration:  67
**** Call ## 78 ## Duration:  160
**** Call ## 79 ## Duration:  77
**** Call ## 80 ## Duration:  97
**** Call ## 81 ## Duration:  92
      ✓ should create comment (961ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  52 (ERR)
      ✓ should disallow non-existent article (52ms)
    Get
**** Call ## 85 ## Duration:  294
      ✓ should get all comments for article (294ms)
    Delete
**** Call ## 86 ## Duration:  115
      ✓ should delete comment (115ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (55ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  75 (ERR)
      ✓ should disallow deleting unknown comment (76ms)

  User
    Create
**** Call ## 90 ## Duration:  160
      ✓ should create user (160ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  56 (ERR)
      ✓ should disallow same email (56ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  65
      ✓ should login (65ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (45ms)
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (64ms)
    Get
**** Call ## 103 ## Duration:  41
      ✓ should get current user (41ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  17 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  118
      ✓ should get profile (118ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  101
**** Call ## 111 ## Duration:  125
**** Call ## 112 ## Duration:  152
**** Call ## 113 ## Duration:  95
**** Call ## 114 ## Duration:  60
**** Call ## 115 ## Duration:  90
**** Call ## 116 ## Duration:  103
**** Call ## 117 ## Duration:  102
**** Call ## 118 ## Duration:  90
**** Call ## 119 ## Duration:  82
      ✓ should follow/unfollow user (1002ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  89
**** Call ## 122 ## Duration:  47
**** Call ## 123 ## Duration:  48
**** Call ## 124 ## Duration:  36
      ✓ should update user (222ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  110 (ERR)
      ✓ should disallow missing token/email in update (132ms)
**** Call ## 127 ## Duration:  112
**** Call ## 128 ## Duration:  52 (ERR)
      ✓ should disallow reusing email (164ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  182
**** Call ## 1 ## Duration:  103
**** Call ## 2 ## Duration:  104
    Create
**** Call ## 3 ## Duration:  89
      ✓ should create article (92ms)
**** Call ## 4 ## Duration:  105
      ✓ should create article with tags (107ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  81 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  52 (ERR)
**** Call ## 9 ## Duration:  61 (ERR)
      ✓ should enforce required fields (265ms)
    Get
**** Call ## 10 ## Duration:  147
      ✓ should get article by slug (148ms)
**** Call ## 11 ## Duration:  65
      ✓ should get article with tags by slug (65ms)
**** Call ## 12 ## Duration:  34 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  240
**** Call ## 14 ## Duration:  123
**** Call ## 15 ## Duration:  158
      ✓ should update article (525ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  28 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  130
**** Call ## 22 ## Duration:  93
      ✓ should favorite article (223ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  52 (ERR)
      ✓ should disallow favoriting unknown article (53ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  119
**** Call ## 27 ## Duration:  28 (ERR)
      ✓ should delete article (148ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (64ms)
    List
**** Call ## 31 ## Duration:  89
**** Call ## 32 ## Duration:  90
**** Call ## 33 ## Duration:  72
**** Call ## 34 ## Duration:  118
**** Call ## 35 ## Duration:  62
**** Call ## 36 ## Duration:  69
**** Call ## 37 ## Duration:  74
**** Call ## 38 ## Duration:  79
**** Call ## 39 ## Duration:  94
**** Call ## 40 ## Duration:  79
**** Call ## 41 ## Duration:  77
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  55
**** Call ## 44 ## Duration:  72
**** Call ## 45 ## Duration:  76
**** Call ## 46 ## Duration:  63
**** Call ## 47 ## Duration:  69
**** Call ## 48 ## Duration:  84
**** Call ## 49 ## Duration:  68
**** Call ## 50 ## Duration:  58
**** Call ## 51 ## Duration:  943
      ✓ should list articles (943ms)
**** Call ## 52 ## Duration:  628
**** Call ## 53 ## Duration:  653
      ✓ should list articles with tag (1282ms)
**** Call ## 54 ## Duration:  324
      ✓ should list articles by author (324ms)
**** Call ## 55 ## Duration:  121
      ✓ should list articles favorited by user (121ms)
**** Call ## 56 ## Duration:  149
**** Call ## 57 ## Duration:  189
      ✓ should list articles by limit/offset (338ms)
**** Call ## 58 ## Duration:  877
      ✓ should list articles when authenticated (877ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  84
**** Call ## 63 ## Duration:  135
**** Call ## 64 ## Duration:  345
**** Call ## 65 ## Duration:  135
**** Call ## 66 ## Duration:  582
      ✓ should get feed (1281ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  257
      ✓ should get tags (257ms)

  Comment
**** Call ## 69 ## Duration:  96
**** Call ## 70 ## Duration:  86
**** Call ## 71 ## Duration:  85
    Create
**** Call ## 72 ## Duration:  100
**** Call ## 73 ## Duration:  96
**** Call ## 74 ## Duration:  73
**** Call ## 75 ## Duration:  75
**** Call ## 76 ## Duration:  73
**** Call ## 77 ## Duration:  106
**** Call ## 78 ## Duration:  68
**** Call ## 79 ## Duration:  105
**** Call ## 80 ## Duration:  80
**** Call ## 81 ## Duration:  78
      ✓ should create comment (856ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  69 (ERR)
      ✓ should enforce comment body (69ms)
**** Call ## 84 ## Duration:  75 (ERR)
      ✓ should disallow non-existent article (75ms)
    Get
**** Call ## 85 ## Duration:  321
      ✓ should get all comments for article (321ms)
    Delete
**** Call ## 86 ## Duration:  115
      ✓ should delete comment (115ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  94
      ✓ should create user (94ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  72
      ✓ should login (72ms)
**** Call ## 98 ## Duration:  35 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (83ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (38ms)
**** Call ## 110 ## Duration:  117
**** Call ## 111 ## Duration:  112
**** Call ## 112 ## Duration:  108
**** Call ## 113 ## Duration:  79
**** Call ## 114 ## Duration:  56
**** Call ## 115 ## Duration:  106
**** Call ## 116 ## Duration:  100
**** Call ## 117 ## Duration:  116
**** Call ## 118 ## Duration:  122
**** Call ## 119 ## Duration:  83
      ✓ should follow/unfollow user (999ms)
**** Call ## 120 ## Duration:  75 (ERR)
      ✓ should disallow following with bad token (76ms)
    Update
**** Call ## 121 ## Duration:  93
**** Call ## 122 ## Duration:  71
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  66
      ✓ should update user (297ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (73ms)
**** Call ## 127 ## Duration:  103
**** Call ## 128 ## Duration:  54 (ERR)
      ✓ should disallow reusing email (157ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://kkpvqc82w9.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  178
**** Call ## 1 ## Duration:  114
**** Call ## 2 ## Duration:  91
    Create
**** Call ## 3 ## Duration:  89
      ✓ should create article (91ms)
**** Call ## 4 ## Duration:  97
      ✓ should create article with tags (99ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  65 (ERR)
**** Call ## 7 ## Duration:  68 (ERR)
**** Call ## 8 ## Duration:  70 (ERR)
**** Call ## 9 ## Duration:  70 (ERR)
      ✓ should enforce required fields (273ms)
    Get
**** Call ## 10 ## Duration:  66
      ✓ should get article by slug (66ms)
**** Call ## 11 ## Duration:  66
      ✓ should get article with tags by slug (66ms)
**** Call ## 12 ## Duration:  27 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  134
**** Call ## 14 ## Duration:  138
**** Call ## 15 ## Duration:  161
      ✓ should update article (435ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  56 (ERR)
      ✓ should disallow updating non-existent article (57ms)
**** Call ## 20 ## Duration:  54 (ERR)
      ✓ should disallow non-author from updating (54ms)
    Favorite
**** Call ## 21 ## Duration:  114
**** Call ## 22 ## Duration:  116
      ✓ should favorite article (231ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  62 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  137
      ✓ should unfavorite article (137ms)
    Delete
**** Call ## 26 ## Duration:  118
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (158ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  53 (ERR)
      ✓ should disallow deleting unknown article (55ms)
**** Call ## 30 ## Duration:  53 (ERR)
      ✓ should disallow deleting article by non-author (53ms)
    List
**** Call ## 31 ## Duration:  96
**** Call ## 32 ## Duration:  85
**** Call ## 33 ## Duration:  88
**** Call ## 34 ## Duration:  94
**** Call ## 35 ## Duration:  80
**** Call ## 36 ## Duration:  84
**** Call ## 37 ## Duration:  77
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  64
**** Call ## 40 ## Duration:  134
**** Call ## 41 ## Duration:  53
**** Call ## 42 ## Duration:  75
**** Call ## 43 ## Duration:  81
**** Call ## 44 ## Duration:  81
**** Call ## 45 ## Duration:  77
**** Call ## 46 ## Duration:  93
**** Call ## 47 ## Duration:  77
**** Call ## 48 ## Duration:  77
**** Call ## 49 ## Duration:  69
**** Call ## 50 ## Duration:  84
**** Call ## 51 ## Duration:  950
      ✓ should list articles (951ms)
**** Call ## 52 ## Duration:  507
**** Call ## 53 ## Duration:  634
      ✓ should list articles with tag (1141ms)
**** Call ## 54 ## Duration:  344
      ✓ should list articles by author (345ms)
**** Call ## 55 ## Duration:  107
      ✓ should list articles favorited by user (107ms)
**** Call ## 56 ## Duration:  158
**** Call ## 57 ## Duration:  169
      ✓ should list articles by limit/offset (328ms)
**** Call ## 58 ## Duration:  732
      ✓ should list articles when authenticated (732ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  101
**** Call ## 63 ## Duration:  115
**** Call ## 64 ## Duration:  371
**** Call ## 65 ## Duration:  123
**** Call ## 66 ## Duration:  551
      ✓ should get feed (1261ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  203
      ✓ should get tags (203ms)

  Comment
**** Call ## 69 ## Duration:  105
**** Call ## 70 ## Duration:  94
**** Call ## 71 ## Duration:  92
    Create
**** Call ## 72 ## Duration:  101
**** Call ## 73 ## Duration:  105
**** Call ## 74 ## Duration:  98
**** Call ## 75 ## Duration:  81
**** Call ## 76 ## Duration:  81
**** Call ## 77 ## Duration:  86
**** Call ## 78 ## Duration:  89
**** Call ## 79 ## Duration:  84
**** Call ## 80 ## Duration:  94
**** Call ## 81 ## Duration:  71
      ✓ should create comment (892ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  51 (ERR)
      ✓ should disallow non-existent article (51ms)
    Get
**** Call ## 85 ## Duration:  273
      ✓ should get all comments for article (274ms)
    Delete
**** Call ## 86 ## Duration:  101
      ✓ should delete comment (101ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (54ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  108
      ✓ should create user (108ms)
**** Call ## 91 ## Duration:  33 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  61 (ERR)
      ✓ should disallow same email (62ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  63
      ✓ should login (63ms)
**** Call ## 98 ## Duration:  33 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  43
      ✓ should get current user (43ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  114
**** Call ## 111 ## Duration:  97
**** Call ## 112 ## Duration:  106
**** Call ## 113 ## Duration:  77
**** Call ## 114 ## Duration:  59
**** Call ## 115 ## Duration:  98
**** Call ## 116 ## Duration:  118
**** Call ## 117 ## Duration:  100
**** Call ## 118 ## Duration:  96
**** Call ## 119 ## Duration:  95
      ✓ should follow/unfollow user (961ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  69
**** Call ## 122 ## Duration:  52
**** Call ## 123 ## Duration:  47
**** Call ## 124 ## Duration:  64
      ✓ should update user (233ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  34 (ERR)
      ✓ should disallow missing token/email in update (59ms)
**** Call ## 127 ## Duration:  92
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (151ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (13s)

results20191101215320/rec-res-9-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
........................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
