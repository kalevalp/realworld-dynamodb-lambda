Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
.....
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (26.04 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (26.04 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (26.04 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  906
**** Call ## 1 ## Duration:  136
**** Call ## 2 ## Duration:  77
    Create
**** Call ## 3 ## Duration:  682
      ✓ should create article (685ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (81ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  598 (ERR)
**** Call ## 7 ## Duration:  54 (ERR)
**** Call ## 8 ## Duration:  47 (ERR)
**** Call ## 9 ## Duration:  50 (ERR)
      ✓ should enforce required fields (750ms)
    Get
**** Call ## 10 ## Duration:  773
      ✓ should get article by slug (773ms)
**** Call ## 11 ## Duration:  65
      ✓ should get article with tags by slug (66ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  789
**** Call ## 14 ## Duration:  134
**** Call ## 15 ## Duration:  121
      ✓ should update article (1045ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  520 (ERR)
      ✓ should disallow empty mutation (521ms)
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  66 (ERR)
      ✓ should disallow updating non-existent article (66ms)
**** Call ## 20 ## Duration:  71 (ERR)
      ✓ should disallow non-author from updating (71ms)
    Favorite
**** Call ## 21 ## Duration:  693
**** Call ## 22 ## Duration:  88
      ✓ should favorite article (781ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  57 (ERR)
      ✓ should disallow favoriting unknown article (58ms)
**** Call ## 25 ## Duration:  680
      ✓ should unfavorite article (681ms)
    Delete
**** Call ## 26 ## Duration:  773
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (808ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (63ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  111
**** Call ## 32 ## Duration:  77
**** Call ## 33 ## Duration:  73
**** Call ## 34 ## Duration:  107
**** Call ## 35 ## Duration:  56
**** Call ## 36 ## Duration:  64
**** Call ## 37 ## Duration:  68
**** Call ## 38 ## Duration:  62
**** Call ## 39 ## Duration:  71
**** Call ## 40 ## Duration:  69
**** Call ## 41 ## Duration:  45
**** Call ## 42 ## Duration:  61
**** Call ## 43 ## Duration:  48
**** Call ## 44 ## Duration:  64
**** Call ## 45 ## Duration:  68
**** Call ## 46 ## Duration:  59
**** Call ## 47 ## Duration:  76
**** Call ## 48 ## Duration:  76
**** Call ## 49 ## Duration:  56
**** Call ## 50 ## Duration:  71
**** Call ## 51 ## Duration:  843
      ✓ should list articles (844ms)
**** Call ## 52 ## Duration:  67
**** Call ## 53 ## Duration:  79
      ✓ should list articles with tag (146ms)
**** Call ## 54 ## Duration:  81
      ✓ should list articles by author (81ms)
**** Call ## 55 ## Duration:  34
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  646
**** Call ## 57 ## Duration:  80
      ✓ should list articles by limit/offset (727ms)
**** Call ## 58 ## Duration:  206
      ✓ should list articles when authenticated (206ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  588 (ERR)
**** Call ## 62 ## Duration:  670
**** Call ## 63 ## Duration:  803
**** Call ## 64 ## Duration:  156
**** Call ## 65 ## Duration:  106
**** Call ## 66 ## Duration:  237
      ✓ should get feed (1972ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  624
      ✓ should get tags (624ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  94
**** Call ## 71 ## Duration:  78
    Create
**** Call ## 72 ## Duration:  736
**** Call ## 73 ## Duration:  94
**** Call ## 74 ## Duration:  77
**** Call ## 75 ## Duration:  97
**** Call ## 76 ## Duration:  82
**** Call ## 77 ## Duration:  74
**** Call ## 78 ## Duration:  93
**** Call ## 79 ## Duration:  50
**** Call ## 80 ## Duration:  78
**** Call ## 81 ## Duration:  68
      ✓ should create comment (1450ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  592 (ERR)
      ✓ should enforce comment body (592ms)
**** Call ## 84 ## Duration:  67 (ERR)
      ✓ should disallow non-existent article (67ms)
    Get
**** Call ## 85 ## Duration:  862
      ✓ should get all comments for article (862ms)
    Delete
**** Call ## 86 ## Duration:  821
      ✓ should delete comment (822ms)
**** Call ## 87 ## Duration:  74 (ERR)
      ✓ only comment author should be able to delete comment (74ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  648 (ERR)
      ✓ should disallow deleting unknown comment (648ms)

  User
    Create
**** Call ## 90 ## Duration:  89
      ✓ should create user (89ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (70ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  469 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (540ms)
    Login
**** Call ## 97 ## Duration:  681
      ✓ should login (681ms)
**** Call ## 98 ## Duration:  56 (ERR)
      ✓ should disallow unknown email (56ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  505 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (549ms)
    Get
**** Call ## 103 ## Duration:  627
      ✓ should get current user (627ms)
**** Call ## 104 ## Duration:  16 (ERR)
**** Call ## 105 ## Duration:  469 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (530ms)
    Profile
**** Call ## 108 ## Duration:  581
      ✓ should get profile (581ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  231
**** Call ## 111 ## Duration:  125
**** Call ## 112 ## Duration:  119
**** Call ## 113 ## Duration:  66
**** Call ## 114 ## Duration:  38
**** Call ## 115 ## Duration:  85
**** Call ## 116 ## Duration:  102
**** Call ## 117 ## Duration:  727
**** Call ## 118 ## Duration:  83
**** Call ## 119 ## Duration:  114
      ✓ should follow/unfollow user (1692ms)
**** Call ## 120 ## Duration:  30 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  655
**** Call ## 122 ## Duration:  132
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  66
      ✓ should update user (905ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  596 (ERR)
      ✓ should disallow missing token/email in update (620ms)
**** Call ## 127 ## Duration:  265
**** Call ## 128 ## Duration:  69 (ERR)
      ✓ should disallow reusing email (334ms)

  Util
    Ping
**** Call ## 129 ## Duration:  508
      ✓ should ping (508ms)


  58 passing (27s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  147
**** Call ## 1 ## Duration:  78
**** Call ## 2 ## Duration:  90
    Create
**** Call ## 3 ## Duration:  121
      ✓ should create article (123ms)
**** Call ## 4 ## Duration:  58
      ✓ should create article with tags (60ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  56 (ERR)
**** Call ## 7 ## Duration:  45 (ERR)
**** Call ## 8 ## Duration:  47 (ERR)
**** Call ## 9 ## Duration:  44 (ERR)
      ✓ should enforce required fields (193ms)
    Get
**** Call ## 10 ## Duration:  76
      ✓ should get article by slug (76ms)
**** Call ## 11 ## Duration:  64
      ✓ should get article with tags by slug (64ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  158
**** Call ## 14 ## Duration:  140
**** Call ## 15 ## Duration:  123
      ✓ should update article (424ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  165 (ERR)
      ✓ should disallow updating non-existent article (165ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  127
**** Call ## 22 ## Duration:  93
      ✓ should favorite article (220ms)
**** Call ## 23 ## Duration:  26 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  60 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  121
      ✓ should unfavorite article (121ms)
    Delete
**** Call ## 26 ## Duration:  102
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (143ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  65 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  59
**** Call ## 32 ## Duration:  60
**** Call ## 33 ## Duration:  62
**** Call ## 34 ## Duration:  85
**** Call ## 35 ## Duration:  74
**** Call ## 36 ## Duration:  84
**** Call ## 37 ## Duration:  87
**** Call ## 38 ## Duration:  91
**** Call ## 39 ## Duration:  49
**** Call ## 40 ## Duration:  56
**** Call ## 41 ## Duration:  73
**** Call ## 42 ## Duration:  127
**** Call ## 43 ## Duration:  57
**** Call ## 44 ## Duration:  57
**** Call ## 45 ## Duration:  49
**** Call ## 46 ## Duration:  46
**** Call ## 47 ## Duration:  70
**** Call ## 48 ## Duration:  73
**** Call ## 49 ## Duration:  106
**** Call ## 50 ## Duration:  58
**** Call ## 51 ## Duration:  348
      ✓ should list articles (348ms)
**** Call ## 52 ## Duration:  73
**** Call ## 53 ## Duration:  102
      ✓ should list articles with tag (175ms)
**** Call ## 54 ## Duration:  87
      ✓ should list articles by author (88ms)
**** Call ## 55 ## Duration:  46
      ✓ should list articles favorited by user (47ms)
**** Call ## 56 ## Duration:  65
**** Call ## 57 ## Duration:  73
      ✓ should list articles by limit/offset (138ms)
**** Call ## 58 ## Duration:  173
      ✓ should list articles when authenticated (173ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  53 (ERR)
**** Call ## 59 ## Duration:  68 (ERR)
**** Call ## 62 ## Duration:  111
**** Call ## 63 ## Duration:  109
**** Call ## 64 ## Duration:  181
**** Call ## 65 ## Duration:  108
**** Call ## 66 ## Duration:  168
      ✓ should get feed (677ms)
**** Call ## 67 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  59
      ✓ should get tags (59ms)

  Comment
**** Call ## 69 ## Duration:  99
**** Call ## 70 ## Duration:  87
**** Call ## 71 ## Duration:  67
    Create
**** Call ## 72 ## Duration:  76
**** Call ## 73 ## Duration:  95
**** Call ## 74 ## Duration:  87
**** Call ## 75 ## Duration:  77
**** Call ## 76 ## Duration:  56
**** Call ## 77 ## Duration:  87
**** Call ## 78 ## Duration:  81
**** Call ## 79 ## Duration:  89
**** Call ## 80 ## Duration:  64
**** Call ## 81 ## Duration:  98
      ✓ should create comment (810ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  70 (ERR)
      ✓ should disallow non-existent article (70ms)
    Get
**** Call ## 85 ## Duration:  249
      ✓ should get all comments for article (249ms)
    Delete
**** Call ## 86 ## Duration:  92
      ✓ should delete comment (92ms)
**** Call ## 87 ## Duration:  83 (ERR)
      ✓ only comment author should be able to delete comment (83ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  87
      ✓ should create user (88ms)
**** Call ## 91 ## Duration:  35 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  74 (ERR)
      ✓ should disallow same email (74ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  27 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  30 (ERR)
      ✓ should enforce required fields (98ms)
    Login
**** Call ## 97 ## Duration:  174
      ✓ should login (175ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  116 (ERR)
      ✓ should disallow wrong password (117ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (68ms)
    Get
**** Call ## 103 ## Duration:  121
      ✓ should get current user (121ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  25 (ERR)
      ✓ should disallow bad tokens (93ms)
    Profile
**** Call ## 108 ## Duration:  67
      ✓ should get profile (67ms)
**** Call ## 109 ## Duration:  144 (ERR)
      ✓ should disallow unknown username (144ms)
**** Call ## 110 ## Duration:  93
**** Call ## 111 ## Duration:  118
**** Call ## 112 ## Duration:  101
**** Call ## 113 ## Duration:  78
**** Call ## 114 ## Duration:  45
**** Call ## 115 ## Duration:  94
**** Call ## 116 ## Duration:  110
**** Call ## 117 ## Duration:  91
**** Call ## 118 ## Duration:  97
**** Call ## 119 ## Duration:  219
      ✓ should follow/unfollow user (1046ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  104
**** Call ## 122 ## Duration:  96
**** Call ## 123 ## Duration:  49
**** Call ## 124 ## Duration:  54
      ✓ should update user (304ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (74ms)
**** Call ## 127 ## Duration:  87
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (148ms)

  Util
    Ping
**** Call ## 129 ## Duration:  28
      ✓ should ping


  58 passing (10s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  185
**** Call ## 1 ## Duration:  111
**** Call ## 2 ## Duration:  110
    Create
**** Call ## 3 ## Duration:  138
      ✓ should create article (140ms)
**** Call ## 4 ## Duration:  57
      ✓ should create article with tags (59ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  150 (ERR)
**** Call ## 7 ## Duration:  35 (ERR)
**** Call ## 8 ## Duration:  46 (ERR)
**** Call ## 9 ## Duration:  45 (ERR)
      ✓ should enforce required fields (278ms)
    Get
**** Call ## 10 ## Duration:  91
      ✓ should get article by slug (92ms)
**** Call ## 11 ## Duration:  56
      ✓ should get article with tags by slug (56ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  144
**** Call ## 14 ## Duration:  153
**** Call ## 15 ## Duration:  153
      ✓ should update article (453ms)
**** Call ## 16 ## Duration:  27 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  40 (ERR)
      ✓ should disallow empty mutation (40ms)
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  70 (ERR)
      ✓ should disallow updating non-existent article (70ms)
**** Call ## 20 ## Duration:  43 (ERR)
      ✓ should disallow non-author from updating (43ms)
    Favorite
**** Call ## 21 ## Duration:  116
**** Call ## 22 ## Duration:  92
      ✓ should favorite article (209ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  63 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  151
      ✓ should unfavorite article (151ms)
    Delete
**** Call ## 26 ## Duration:  105
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (145ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  116 (ERR)
      ✓ should disallow deleting unknown article (116ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  101
**** Call ## 32 ## Duration:  158
**** Call ## 33 ## Duration:  63
**** Call ## 34 ## Duration:  73
**** Call ## 35 ## Duration:  56
**** Call ## 36 ## Duration:  82
**** Call ## 37 ## Duration:  65
**** Call ## 38 ## Duration:  74
**** Call ## 39 ## Duration:  76
**** Call ## 40 ## Duration:  57
**** Call ## 41 ## Duration:  60
**** Call ## 42 ## Duration:  38
**** Call ## 43 ## Duration:  70
**** Call ## 44 ## Duration:  53
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  61
**** Call ## 47 ## Duration:  66
**** Call ## 48 ## Duration:  61
**** Call ## 49 ## Duration:  68
**** Call ## 50 ## Duration:  64
**** Call ## 51 ## Duration:  223
      ✓ should list articles (223ms)
**** Call ## 52 ## Duration:  69
**** Call ## 53 ## Duration:  341
      ✓ should list articles with tag (410ms)
**** Call ## 54 ## Duration:  148
      ✓ should list articles by author (148ms)
**** Call ## 55 ## Duration:  46
      ✓ should list articles favorited by user (46ms)
**** Call ## 56 ## Duration:  76
**** Call ## 57 ## Duration:  50
      ✓ should list articles by limit/offset (127ms)
**** Call ## 58 ## Duration:  230
      ✓ should list articles when authenticated (230ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  48 (ERR)
**** Call ## 60 ## Duration:  49 (ERR)
**** Call ## 62 ## Duration:  110
**** Call ## 63 ## Duration:  154
**** Call ## 64 ## Duration:  128
**** Call ## 65 ## Duration:  113
**** Call ## 66 ## Duration:  209
      ✓ should get feed (715ms)
**** Call ## 67 ## Duration:  38 (ERR)
      ✓ should disallow unauthenticated feed (38ms)
    Tags
**** Call ## 68 ## Duration:  56
      ✓ should get tags (56ms)

  Comment
**** Call ## 69 ## Duration:  126
**** Call ## 70 ## Duration:  89
**** Call ## 71 ## Duration:  69
    Create
**** Call ## 72 ## Duration:  102
**** Call ## 73 ## Duration:  90
**** Call ## 74 ## Duration:  88
**** Call ## 75 ## Duration:  85
**** Call ## 76 ## Duration:  119
**** Call ## 77 ## Duration:  78
**** Call ## 78 ## Duration:  61
**** Call ## 79 ## Duration:  66
**** Call ## 80 ## Duration:  59
**** Call ## 81 ## Duration:  67
      ✓ should create comment (815ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  88 (ERR)
      ✓ should enforce comment body (89ms)
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (63ms)
    Get
**** Call ## 85 ## Duration:  277
      ✓ should get all comments for article (277ms)
    Delete
**** Call ## 86 ## Duration:  94
      ✓ should delete comment (94ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (52ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (70ms)

  User
    Create
**** Call ## 90 ## Duration:  85
      ✓ should create user (85ms)
**** Call ## 91 ## Duration:  32 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  72 (ERR)
      ✓ should disallow same email (73ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  51
      ✓ should login (51ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  137 (ERR)
      ✓ should disallow wrong password (137ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  59
      ✓ should get current user (59ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  92
**** Call ## 111 ## Duration:  157
**** Call ## 112 ## Duration:  153
**** Call ## 113 ## Duration:  67
**** Call ## 114 ## Duration:  44
**** Call ## 115 ## Duration:  93
**** Call ## 116 ## Duration:  80
**** Call ## 117 ## Duration:  111
**** Call ## 118 ## Duration:  125
**** Call ## 119 ## Duration:  104
      ✓ should follow/unfollow user (1027ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  52
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  46
      ✓ should update user (250ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  96
**** Call ## 128 ## Duration:  53 (ERR)
      ✓ should disallow reusing email (149ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (10s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  143
**** Call ## 1 ## Duration:  80
**** Call ## 2 ## Duration:  76
    Create
**** Call ## 3 ## Duration:  74
      ✓ should create article (77ms)
**** Call ## 4 ## Duration:  71
      ✓ should create article with tags (72ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  51 (ERR)
**** Call ## 7 ## Duration:  41 (ERR)
**** Call ## 8 ## Duration:  46 (ERR)
**** Call ## 9 ## Duration:  42 (ERR)
      ✓ should enforce required fields (181ms)
    Get
**** Call ## 10 ## Duration:  73
      ✓ should get article by slug (73ms)
**** Call ## 11 ## Duration:  71
      ✓ should get article with tags by slug (71ms)
**** Call ## 12 ## Duration:  48 (ERR)
      ✓ should disallow unknown slug (49ms)
    Update
**** Call ## 13 ## Duration:  236
**** Call ## 14 ## Duration:  126
**** Call ## 15 ## Duration:  133
      ✓ should update article (499ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  34 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  55 (ERR)
      ✓ should disallow unauthenticated update (55ms)
**** Call ## 19 ## Duration:  59 (ERR)
      ✓ should disallow updating non-existent article (61ms)
**** Call ## 20 ## Duration:  72 (ERR)
      ✓ should disallow non-author from updating (72ms)
    Favorite
**** Call ## 21 ## Duration:  139
**** Call ## 22 ## Duration:  90
      ✓ should favorite article (229ms)
**** Call ## 23 ## Duration:  18 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  118
      ✓ should unfavorite article (118ms)
    Delete
**** Call ## 26 ## Duration:  92
**** Call ## 27 ## Duration:  71 (ERR)
      ✓ should delete article (163ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown article (60ms)
**** Call ## 30 ## Duration:  54 (ERR)
      ✓ should disallow deleting article by non-author (55ms)
    List
**** Call ## 31 ## Duration:  87
**** Call ## 32 ## Duration:  72
**** Call ## 33 ## Duration:  71
**** Call ## 34 ## Duration:  52
**** Call ## 35 ## Duration:  41
**** Call ## 36 ## Duration:  81
**** Call ## 37 ## Duration:  72
**** Call ## 38 ## Duration:  61
**** Call ## 39 ## Duration:  65
**** Call ## 40 ## Duration:  59
**** Call ## 41 ## Duration:  54
**** Call ## 42 ## Duration:  69
**** Call ## 43 ## Duration:  77
**** Call ## 44 ## Duration:  57
**** Call ## 45 ## Duration:  54
**** Call ## 46 ## Duration:  53
**** Call ## 47 ## Duration:  55
**** Call ## 48 ## Duration:  71
**** Call ## 49 ## Duration:  71
**** Call ## 50 ## Duration:  62
**** Call ## 51 ## Duration:  212
      ✓ should list articles (212ms)
**** Call ## 52 ## Duration:  64
**** Call ## 53 ## Duration:  126
      ✓ should list articles with tag (190ms)
**** Call ## 54 ## Duration:  90
      ✓ should list articles by author (90ms)
**** Call ## 55 ## Duration:  44
      ✓ should list articles favorited by user (44ms)
**** Call ## 56 ## Duration:  77
**** Call ## 57 ## Duration:  78
      ✓ should list articles by limit/offset (155ms)
**** Call ## 58 ## Duration:  201
      ✓ should list articles when authenticated (202ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  68 (ERR)
**** Call ## 62 ## Duration:  69
**** Call ## 63 ## Duration:  124
**** Call ## 64 ## Duration:  150
**** Call ## 65 ## Duration:  114
**** Call ## 66 ## Duration:  212
      ✓ should get feed (670ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  56
      ✓ should get tags (56ms)

  Comment
**** Call ## 69 ## Duration:  89
**** Call ## 70 ## Duration:  87
**** Call ## 71 ## Duration:  86
    Create
**** Call ## 72 ## Duration:  151
**** Call ## 73 ## Duration:  87
**** Call ## 74 ## Duration:  76
**** Call ## 75 ## Duration:  72
**** Call ## 76 ## Duration:  85
**** Call ## 77 ## Duration:  79
**** Call ## 78 ## Duration:  67
**** Call ## 79 ## Duration:  66
**** Call ## 80 ## Duration:  65
**** Call ## 81 ## Duration:  76
      ✓ should create comment (827ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  92 (ERR)
      ✓ should enforce comment body (92ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  238
      ✓ should get all comments for article (239ms)
    Delete
**** Call ## 86 ## Duration:  112
      ✓ should delete comment (112ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  102
      ✓ should create user (102ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  51
      ✓ should login (51ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  17 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  55
      ✓ should get current user (55ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (83ms)
    Profile
**** Call ## 108 ## Duration:  56
      ✓ should get profile (56ms)
**** Call ## 109 ## Duration:  27 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  81
**** Call ## 111 ## Duration:  110
**** Call ## 112 ## Duration:  85
**** Call ## 113 ## Duration:  69
**** Call ## 114 ## Duration:  42
**** Call ## 115 ## Duration:  81
**** Call ## 116 ## Duration:  184
**** Call ## 117 ## Duration:  120
**** Call ## 118 ## Duration:  103
**** Call ## 119 ## Duration:  100
      ✓ should follow/unfollow user (975ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  88
**** Call ## 122 ## Duration:  72
**** Call ## 123 ## Duration:  83
**** Call ## 124 ## Duration:  54
      ✓ should update user (297ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  57 (ERR)
      ✓ should disallow missing token/email in update (80ms)
**** Call ## 127 ## Duration:  108
**** Call ## 128 ## Duration:  62 (ERR)
      ✓ should disallow reusing email (172ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  166
**** Call ## 1 ## Duration:  106
**** Call ## 2 ## Duration:  111
    Create
**** Call ## 3 ## Duration:  69
      ✓ should create article (73ms)
**** Call ## 4 ## Duration:  56
      ✓ should create article with tags (60ms)
**** Call ## 5 ## Duration:  30 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  51 (ERR)
**** Call ## 7 ## Duration:  48 (ERR)
**** Call ## 8 ## Duration:  34 (ERR)
**** Call ## 9 ## Duration:  41 (ERR)
      ✓ should enforce required fields (176ms)
    Get
**** Call ## 10 ## Duration:  110
      ✓ should get article by slug (111ms)
**** Call ## 11 ## Duration:  60
      ✓ should get article with tags by slug (60ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  172
**** Call ## 14 ## Duration:  162
**** Call ## 15 ## Duration:  136
      ✓ should update article (471ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  100 (ERR)
      ✓ should disallow non-author from updating (101ms)
    Favorite
**** Call ## 21 ## Duration:  117
**** Call ## 22 ## Duration:  101
      ✓ should favorite article (218ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  42 (ERR)
      ✓ should disallow favoriting unknown article (43ms)
**** Call ## 25 ## Duration:  149
      ✓ should unfavorite article (149ms)
    Delete
**** Call ## 26 ## Duration:  110
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (149ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (64ms)
    List
**** Call ## 31 ## Duration:  73
**** Call ## 32 ## Duration:  59
**** Call ## 33 ## Duration:  60
**** Call ## 34 ## Duration:  50
**** Call ## 35 ## Duration:  50
**** Call ## 36 ## Duration:  57
**** Call ## 37 ## Duration:  62
**** Call ## 38 ## Duration:  36
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  66
**** Call ## 41 ## Duration:  69
**** Call ## 42 ## Duration:  49
**** Call ## 43 ## Duration:  60
**** Call ## 44 ## Duration:  70
**** Call ## 45 ## Duration:  74
**** Call ## 46 ## Duration:  72
**** Call ## 47 ## Duration:  63
**** Call ## 48 ## Duration:  77
**** Call ## 49 ## Duration:  56
**** Call ## 50 ## Duration:  34
**** Call ## 51 ## Duration:  266
      ✓ should list articles (266ms)
**** Call ## 52 ## Duration:  91
**** Call ## 53 ## Duration:  220
      ✓ should list articles with tag (312ms)
**** Call ## 54 ## Duration:  123
      ✓ should list articles by author (123ms)
**** Call ## 55 ## Duration:  63
      ✓ should list articles favorited by user (64ms)
**** Call ## 56 ## Duration:  78
**** Call ## 57 ## Duration:  71
      ✓ should list articles by limit/offset (149ms)
**** Call ## 58 ## Duration:  279
      ✓ should list articles when authenticated (280ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  80
**** Call ## 63 ## Duration:  99
**** Call ## 64 ## Duration:  159
**** Call ## 65 ## Duration:  106
**** Call ## 66 ## Duration:  162
      ✓ should get feed (608ms)
**** Call ## 67 ## Duration:  33 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  93
      ✓ should get tags (94ms)

  Comment
**** Call ## 69 ## Duration:  133
**** Call ## 70 ## Duration:  112
**** Call ## 71 ## Duration:  44
    Create
**** Call ## 72 ## Duration:  131
**** Call ## 73 ## Duration:  76
**** Call ## 74 ## Duration:  73
**** Call ## 75 ## Duration:  99
**** Call ## 76 ## Duration:  84
**** Call ## 77 ## Duration:  82
**** Call ## 78 ## Duration:  75
**** Call ## 79 ## Duration:  85
**** Call ## 80 ## Duration:  76
**** Call ## 81 ## Duration:  81
      ✓ should create comment (864ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  54 (ERR)
      ✓ should enforce comment body (54ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  262
      ✓ should get all comments for article (262ms)
    Delete
**** Call ## 86 ## Duration:  92
      ✓ should delete comment (92ms)
**** Call ## 87 ## Duration:  65 (ERR)
      ✓ only comment author should be able to delete comment (65ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  91
      ✓ should create user (91ms)
**** Call ## 91 ## Duration:  46 (ERR)
      ✓ should disallow same username (46ms)
**** Call ## 92 ## Duration:  44 (ERR)
      ✓ should disallow same email (44ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  54
      ✓ should login (54ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (54ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  28 (ERR)
      ✓ should enforce required fields (70ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  57 (ERR)
**** Call ## 105 ## Duration:  27 (ERR)
**** Call ## 106 ## Duration:  62 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (172ms)
    Profile
**** Call ## 108 ## Duration:  48
      ✓ should get profile (49ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  122
**** Call ## 111 ## Duration:  90
**** Call ## 112 ## Duration:  88
**** Call ## 113 ## Duration:  47
**** Call ## 114 ## Duration:  31
**** Call ## 115 ## Duration:  91
**** Call ## 116 ## Duration:  97
**** Call ## 117 ## Duration:  160
**** Call ## 118 ## Duration:  80
**** Call ## 119 ## Duration:  66
      ✓ should follow/unfollow user (874ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  88
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  54
      ✓ should update user (280ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  72 (ERR)
      ✓ should disallow missing token/email in update (92ms)
**** Call ## 127 ## Duration:  67
**** Call ## 128 ## Duration:  72 (ERR)
      ✓ should disallow reusing email (139ms)

  Util
    Ping
**** Call ## 129 ## Duration:  37
      ✓ should ping


  58 passing (10s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  202
**** Call ## 1 ## Duration:  126
**** Call ## 2 ## Duration:  62
    Create
**** Call ## 3 ## Duration:  67
      ✓ should create article (69ms)
**** Call ## 4 ## Duration:  57
      ✓ should create article with tags (59ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  47 (ERR)
**** Call ## 7 ## Duration:  42 (ERR)
**** Call ## 8 ## Duration:  32 (ERR)
**** Call ## 9 ## Duration:  27 (ERR)
      ✓ should enforce required fields (150ms)
    Get
**** Call ## 10 ## Duration:  73
      ✓ should get article by slug (73ms)
**** Call ## 11 ## Duration:  62
      ✓ should get article with tags by slug (63ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  132
**** Call ## 14 ## Duration:  103
**** Call ## 15 ## Duration:  114
      ✓ should update article (349ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  55 (ERR)
      ✓ should disallow updating non-existent article (56ms)
**** Call ## 20 ## Duration:  49 (ERR)
      ✓ should disallow non-author from updating (49ms)
    Favorite
**** Call ## 21 ## Duration:  104
**** Call ## 22 ## Duration:  48
      ✓ should favorite article (153ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  91 (ERR)
      ✓ should disallow favoriting unknown article (91ms)
**** Call ## 25 ## Duration:  161
      ✓ should unfavorite article (161ms)
    Delete
**** Call ## 26 ## Duration:  115
**** Call ## 27 ## Duration:  28 (ERR)
      ✓ should delete article (143ms)
**** Call ## 28 ## Duration:  24 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  53 (ERR)
      ✓ should disallow deleting article by non-author (54ms)
    List
**** Call ## 31 ## Duration:  75
**** Call ## 32 ## Duration:  73
**** Call ## 33 ## Duration:  62
**** Call ## 34 ## Duration:  65
**** Call ## 35 ## Duration:  69
**** Call ## 36 ## Duration:  76
**** Call ## 37 ## Duration:  57
**** Call ## 38 ## Duration:  55
**** Call ## 39 ## Duration:  62
**** Call ## 40 ## Duration:  67
**** Call ## 41 ## Duration:  44
**** Call ## 42 ## Duration:  73
**** Call ## 43 ## Duration:  56
**** Call ## 44 ## Duration:  63
**** Call ## 45 ## Duration:  58
**** Call ## 46 ## Duration:  53
**** Call ## 47 ## Duration:  54
**** Call ## 48 ## Duration:  58
**** Call ## 49 ## Duration:  54
**** Call ## 50 ## Duration:  47
**** Call ## 51 ## Duration:  252
      ✓ should list articles (253ms)
**** Call ## 52 ## Duration:  87
**** Call ## 53 ## Duration:  161
      ✓ should list articles with tag (249ms)
**** Call ## 54 ## Duration:  95
      ✓ should list articles by author (95ms)
**** Call ## 55 ## Duration:  45
      ✓ should list articles favorited by user (45ms)
**** Call ## 56 ## Duration:  82
**** Call ## 57 ## Duration:  71
      ✓ should list articles by limit/offset (153ms)
**** Call ## 58 ## Duration:  274
      ✓ should list articles when authenticated (275ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  67
**** Call ## 63 ## Duration:  119
**** Call ## 64 ## Duration:  183
**** Call ## 65 ## Duration:  95
**** Call ## 66 ## Duration:  234
      ✓ should get feed (698ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  72
      ✓ should get tags (72ms)

  Comment
**** Call ## 69 ## Duration:  125
**** Call ## 70 ## Duration:  90
**** Call ## 71 ## Duration:  75
    Create
**** Call ## 72 ## Duration:  87
**** Call ## 73 ## Duration:  71
**** Call ## 74 ## Duration:  41
**** Call ## 75 ## Duration:  80
**** Call ## 76 ## Duration:  89
**** Call ## 77 ## Duration:  76
**** Call ## 78 ## Duration:  84
**** Call ## 79 ## Duration:  89
**** Call ## 80 ## Duration:  67
**** Call ## 81 ## Duration:  65
      ✓ should create comment (751ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  54 (ERR)
      ✓ should disallow non-existent article (54ms)
    Get
**** Call ## 85 ## Duration:  301
      ✓ should get all comments for article (301ms)
    Delete
**** Call ## 86 ## Duration:  79
      ✓ should delete comment (79ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown comment (59ms)

  User
    Create
**** Call ## 90 ## Duration:  97
      ✓ should create user (97ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  55
      ✓ should login (55ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (50ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  24 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  46
      ✓ should get profile (46ms)
**** Call ## 109 ## Duration:  24 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  95
**** Call ## 111 ## Duration:  97
**** Call ## 112 ## Duration:  91
**** Call ## 113 ## Duration:  101
**** Call ## 114 ## Duration:  43
**** Call ## 115 ## Duration:  215
**** Call ## 116 ## Duration:  122
**** Call ## 117 ## Duration:  137
**** Call ## 118 ## Duration:  100
**** Call ## 119 ## Duration:  75
      ✓ should follow/unfollow user (1079ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  124
**** Call ## 122 ## Duration:  118
**** Call ## 123 ## Duration:  64
**** Call ## 124 ## Duration:  64
      ✓ should update user (371ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  79
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (143ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  145
**** Call ## 1 ## Duration:  91
**** Call ## 2 ## Duration:  73
    Create
**** Call ## 3 ## Duration:  77
      ✓ should create article (80ms)
**** Call ## 4 ## Duration:  61
      ✓ should create article with tags (64ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  46 (ERR)
**** Call ## 7 ## Duration:  42 (ERR)
**** Call ## 8 ## Duration:  31 (ERR)
**** Call ## 9 ## Duration:  41 (ERR)
      ✓ should enforce required fields (162ms)
    Get
**** Call ## 10 ## Duration:  74
      ✓ should get article by slug (75ms)
**** Call ## 11 ## Duration:  112
      ✓ should get article with tags by slug (112ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  154
**** Call ## 14 ## Duration:  112
**** Call ## 15 ## Duration:  115
      ✓ should update article (382ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  53 (ERR)
      ✓ should disallow updating non-existent article (54ms)
**** Call ## 20 ## Duration:  54 (ERR)
      ✓ should disallow non-author from updating (54ms)
    Favorite
**** Call ## 21 ## Duration:  166
**** Call ## 22 ## Duration:  184
      ✓ should favorite article (351ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  127
      ✓ should unfavorite article (127ms)
    Delete
**** Call ## 26 ## Duration:  138
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (178ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown article (70ms)
**** Call ## 30 ## Duration:  64 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  71
**** Call ## 32 ## Duration:  55
**** Call ## 33 ## Duration:  66
**** Call ## 34 ## Duration:  67
**** Call ## 35 ## Duration:  40
**** Call ## 36 ## Duration:  68
**** Call ## 37 ## Duration:  79
**** Call ## 38 ## Duration:  71
**** Call ## 39 ## Duration:  60
**** Call ## 40 ## Duration:  55
**** Call ## 41 ## Duration:  62
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  159
**** Call ## 44 ## Duration:  70
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  39
**** Call ## 47 ## Duration:  68
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  55
**** Call ## 50 ## Duration:  53
**** Call ## 51 ## Duration:  254
      ✓ should list articles (255ms)
**** Call ## 52 ## Duration:  105
**** Call ## 53 ## Duration:  149
      ✓ should list articles with tag (254ms)
**** Call ## 54 ## Duration:  98
      ✓ should list articles by author (98ms)
**** Call ## 55 ## Duration:  48
      ✓ should list articles favorited by user (48ms)
**** Call ## 56 ## Duration:  54
**** Call ## 57 ## Duration:  73
      ✓ should list articles by limit/offset (127ms)
**** Call ## 58 ## Duration:  227
      ✓ should list articles when authenticated (227ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 62 ## Duration:  66
**** Call ## 63 ## Duration:  92
**** Call ## 64 ## Duration:  149
**** Call ## 65 ## Duration:  100
**** Call ## 66 ## Duration:  190
      ✓ should get feed (597ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  112
      ✓ should get tags (112ms)

  Comment
**** Call ## 69 ## Duration:  74
**** Call ## 70 ## Duration:  90
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  96
**** Call ## 73 ## Duration:  89
**** Call ## 74 ## Duration:  85
**** Call ## 75 ## Duration:  76
**** Call ## 76 ## Duration:  88
**** Call ## 77 ## Duration:  208
**** Call ## 78 ## Duration:  74
**** Call ## 79 ## Duration:  78
**** Call ## 80 ## Duration:  58
**** Call ## 81 ## Duration:  56
      ✓ should create comment (909ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  55 (ERR)
      ✓ should disallow non-existent article (55ms)
    Get
**** Call ## 85 ## Duration:  299
      ✓ should get all comments for article (299ms)
    Delete
**** Call ## 86 ## Duration:  92
      ✓ should delete comment (92ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  91
      ✓ should create user (91ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (46ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  26 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (87ms)
    Login
**** Call ## 97 ## Duration:  51
      ✓ should login (51ms)
**** Call ## 98 ## Duration:  35 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (54ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  28 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (73ms)
    Get
**** Call ## 103 ## Duration:  53
      ✓ should get current user (53ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (88ms)
    Profile
**** Call ## 108 ## Duration:  87
      ✓ should get profile (87ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  91
**** Call ## 111 ## Duration:  117
**** Call ## 112 ## Duration:  82
**** Call ## 113 ## Duration:  56
**** Call ## 114 ## Duration:  51
**** Call ## 115 ## Duration:  81
**** Call ## 116 ## Duration:  99
**** Call ## 117 ## Duration:  115
**** Call ## 118 ## Duration:  75
**** Call ## 119 ## Duration:  111
      ✓ should follow/unfollow user (879ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  99
**** Call ## 122 ## Duration:  100
**** Call ## 123 ## Duration:  54
**** Call ## 124 ## Duration:  56
      ✓ should update user (310ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  80
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (144ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  159
**** Call ## 1 ## Duration:  97
**** Call ## 2 ## Duration:  77
    Create
**** Call ## 3 ## Duration:  81
      ✓ should create article (84ms)
**** Call ## 4 ## Duration:  71
      ✓ should create article with tags (73ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  40 (ERR)
**** Call ## 7 ## Duration:  46 (ERR)
**** Call ## 8 ## Duration:  43 (ERR)
**** Call ## 9 ## Duration:  46 (ERR)
      ✓ should enforce required fields (176ms)
    Get
**** Call ## 10 ## Duration:  78
      ✓ should get article by slug (78ms)
**** Call ## 11 ## Duration:  55
      ✓ should get article with tags by slug (55ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  246
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  156
      ✓ should update article (543ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  65 (ERR)
      ✓ should disallow updating non-existent article (66ms)
**** Call ## 20 ## Duration:  68 (ERR)
      ✓ should disallow non-author from updating (69ms)
    Favorite
**** Call ## 21 ## Duration:  154
**** Call ## 22 ## Duration:  240
      ✓ should favorite article (394ms)
**** Call ## 23 ## Duration:  43 (ERR)
      ✓ should disallow favoriting by unauthenticated user (43ms)
**** Call ## 24 ## Duration:  51 (ERR)
      ✓ should disallow favoriting unknown article (51ms)
**** Call ## 25 ## Duration:  127
      ✓ should unfavorite article (128ms)
    Delete
**** Call ## 26 ## Duration:  140
**** Call ## 27 ## Duration:  50 (ERR)
      ✓ should delete article (190ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown article (59ms)
**** Call ## 30 ## Duration:  81 (ERR)
      ✓ should disallow deleting article by non-author (82ms)
    List
**** Call ## 31 ## Duration:  75
**** Call ## 32 ## Duration:  77
**** Call ## 33 ## Duration:  71
**** Call ## 34 ## Duration:  65
**** Call ## 35 ## Duration:  51
**** Call ## 36 ## Duration:  52
**** Call ## 37 ## Duration:  44
**** Call ## 38 ## Duration:  59
**** Call ## 39 ## Duration:  58
**** Call ## 40 ## Duration:  69
**** Call ## 41 ## Duration:  69
**** Call ## 42 ## Duration:  51
**** Call ## 43 ## Duration:  70
**** Call ## 44 ## Duration:  45
**** Call ## 45 ## Duration:  80
**** Call ## 46 ## Duration:  68
**** Call ## 47 ## Duration:  71
**** Call ## 48 ## Duration:  69
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  74
**** Call ## 51 ## Duration:  245
      ✓ should list articles (245ms)
**** Call ## 52 ## Duration:  125
**** Call ## 53 ## Duration:  229
      ✓ should list articles with tag (354ms)
**** Call ## 54 ## Duration:  113
      ✓ should list articles by author (113ms)
**** Call ## 55 ## Duration:  59
      ✓ should list articles favorited by user (59ms)
**** Call ## 56 ## Duration:  61
**** Call ## 57 ## Duration:  66
      ✓ should list articles by limit/offset (127ms)
**** Call ## 58 ## Duration:  217
      ✓ should list articles when authenticated (218ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  20 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  66
**** Call ## 63 ## Duration:  106
**** Call ## 64 ## Duration:  153
**** Call ## 65 ## Duration:  78
**** Call ## 66 ## Duration:  167
      ✓ should get feed (570ms)
**** Call ## 67 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  104
      ✓ should get tags (105ms)

  Comment
**** Call ## 69 ## Duration:  85
**** Call ## 70 ## Duration:  70
**** Call ## 71 ## Duration:  61
    Create
**** Call ## 72 ## Duration:  83
**** Call ## 73 ## Duration:  74
**** Call ## 74 ## Duration:  77
**** Call ## 75 ## Duration:  126
**** Call ## 76 ## Duration:  70
**** Call ## 77 ## Duration:  75
**** Call ## 78 ## Duration:  70
**** Call ## 79 ## Duration:  53
**** Call ## 80 ## Duration:  54
**** Call ## 81 ## Duration:  59
      ✓ should create comment (744ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (56ms)
    Get
**** Call ## 85 ## Duration:  217
      ✓ should get all comments for article (217ms)
    Delete
**** Call ## 86 ## Duration:  82
      ✓ should delete comment (82ms)
**** Call ## 87 ## Duration:  84 (ERR)
      ✓ only comment author should be able to delete comment (84ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  95 (ERR)
      ✓ should disallow deleting unknown comment (95ms)

  User
    Create
**** Call ## 90 ## Duration:  82
      ✓ should create user (82ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  24 (ERR)
      ✓ should enforce required fields (90ms)
    Login
**** Call ## 97 ## Duration:  56
      ✓ should login (56ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (45ms)
**** Call ## 99 ## Duration:  32 (ERR)
      ✓ should disallow wrong password
**** Call ## 100 ## Duration:  17 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  54
      ✓ should get current user (55ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  84
      ✓ should get profile (84ms)
**** Call ## 109 ## Duration:  46 (ERR)
      ✓ should disallow unknown username (47ms)
**** Call ## 110 ## Duration:  96
**** Call ## 111 ## Duration:  55
**** Call ## 112 ## Duration:  72
**** Call ## 113 ## Duration:  59
**** Call ## 114 ## Duration:  45
**** Call ## 115 ## Duration:  160
**** Call ## 116 ## Duration:  115
**** Call ## 117 ## Duration:  97
**** Call ## 118 ## Duration:  90
**** Call ## 119 ## Duration:  91
      ✓ should follow/unfollow user (880ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  70
**** Call ## 123 ## Duration:  55
**** Call ## 124 ## Duration:  66
      ✓ should update user (274ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  74 (ERR)
      ✓ should disallow missing token/email in update (96ms)
**** Call ## 127 ## Duration:  86
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (151ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  161
**** Call ## 1 ## Duration:  78
**** Call ## 2 ## Duration:  81
    Create
**** Call ## 3 ## Duration:  77
      ✓ should create article (79ms)
**** Call ## 4 ## Duration:  55
      ✓ should create article with tags (57ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  50 (ERR)
**** Call ## 7 ## Duration:  46 (ERR)
**** Call ## 8 ## Duration:  34 (ERR)
**** Call ## 9 ## Duration:  38 (ERR)
      ✓ should enforce required fields (169ms)
    Get
**** Call ## 10 ## Duration:  73
      ✓ should get article by slug (73ms)
**** Call ## 11 ## Duration:  59
      ✓ should get article with tags by slug (59ms)
**** Call ## 12 ## Duration:  38 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  140
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  115
      ✓ should update article (402ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  68 (ERR)
      ✓ should disallow updating non-existent article (68ms)
**** Call ## 20 ## Duration:  125 (ERR)
      ✓ should disallow non-author from updating (125ms)
    Favorite
**** Call ## 21 ## Duration:  134
**** Call ## 22 ## Duration:  83
      ✓ should favorite article (217ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  60 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  105
      ✓ should unfavorite article (106ms)
    Delete
**** Call ## 26 ## Duration:  87
**** Call ## 27 ## Duration:  31 (ERR)
      ✓ should delete article (119ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  51 (ERR)
      ✓ should disallow deleting unknown article (51ms)
**** Call ## 30 ## Duration:  61 (ERR)
      ✓ should disallow deleting article by non-author (62ms)
    List
**** Call ## 31 ## Duration:  76
**** Call ## 32 ## Duration:  67
**** Call ## 33 ## Duration:  59
**** Call ## 34 ## Duration:  47
**** Call ## 35 ## Duration:  72
**** Call ## 36 ## Duration:  58
**** Call ## 37 ## Duration:  45
**** Call ## 38 ## Duration:  49
**** Call ## 39 ## Duration:  56
**** Call ## 40 ## Duration:  54
**** Call ## 41 ## Duration:  70
**** Call ## 42 ## Duration:  66
**** Call ## 43 ## Duration:  52
**** Call ## 44 ## Duration:  49
**** Call ## 45 ## Duration:  54
**** Call ## 46 ## Duration:  64
**** Call ## 47 ## Duration:  69
**** Call ## 48 ## Duration:  59
**** Call ## 49 ## Duration:  73
**** Call ## 50 ## Duration:  74
**** Call ## 51 ## Duration:  212
      ✓ should list articles (212ms)
**** Call ## 52 ## Duration:  113
**** Call ## 53 ## Duration:  141
      ✓ should list articles with tag (254ms)
**** Call ## 54 ## Duration:  106
      ✓ should list articles by author (106ms)
**** Call ## 55 ## Duration:  67
      ✓ should list articles favorited by user (68ms)
**** Call ## 56 ## Duration:  58
**** Call ## 57 ## Duration:  50
      ✓ should list articles by limit/offset (108ms)
**** Call ## 58 ## Duration:  288
      ✓ should list articles when authenticated (288ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  20 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  69
**** Call ## 63 ## Duration:  81
**** Call ## 64 ## Duration:  162
**** Call ## 65 ## Duration:  73
**** Call ## 66 ## Duration:  154
      ✓ should get feed (539ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  110
      ✓ should get tags (110ms)

  Comment
**** Call ## 69 ## Duration:  86
**** Call ## 70 ## Duration:  77
**** Call ## 71 ## Duration:  73
    Create
**** Call ## 72 ## Duration:  96
**** Call ## 73 ## Duration:  83
**** Call ## 74 ## Duration:  79
**** Call ## 75 ## Duration:  76
**** Call ## 76 ## Duration:  67
**** Call ## 77 ## Duration:  107
**** Call ## 78 ## Duration:  50
**** Call ## 79 ## Duration:  81
**** Call ## 80 ## Duration:  59
**** Call ## 81 ## Duration:  64
      ✓ should create comment (763ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  53 (ERR)
      ✓ should enforce comment body (53ms)
**** Call ## 84 ## Duration:  69 (ERR)
      ✓ should disallow non-existent article (69ms)
    Get
**** Call ## 85 ## Duration:  246
      ✓ should get all comments for article (246ms)
    Delete
**** Call ## 86 ## Duration:  124
      ✓ should delete comment (124ms)
**** Call ## 87 ## Duration:  68 (ERR)
      ✓ only comment author should be able to delete comment (68ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  116 (ERR)
      ✓ should disallow deleting unknown comment (116ms)

  User
    Create
**** Call ## 90 ## Duration:  84
      ✓ should create user (84ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  50 (ERR)
      ✓ should disallow same email (50ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  48
      ✓ should login (49ms)
**** Call ## 98 ## Duration:  57 (ERR)
      ✓ should disallow unknown email (57ms)
**** Call ## 99 ## Duration:  72 (ERR)
      ✓ should disallow wrong password (73ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  46 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (87ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  43
      ✓ should get profile (43ms)
**** Call ## 109 ## Duration:  33 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  97
**** Call ## 111 ## Duration:  89
**** Call ## 112 ## Duration:  71
**** Call ## 113 ## Duration:  68
**** Call ## 114 ## Duration:  71
**** Call ## 115 ## Duration:  96
**** Call ## 116 ## Duration:  66
**** Call ## 117 ## Duration:  112
**** Call ## 118 ## Duration:  73
**** Call ## 119 ## Duration:  138
      ✓ should follow/unfollow user (884ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  131
**** Call ## 122 ## Duration:  60
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  59
      ✓ should update user (317ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  77
**** Call ## 128 ## Duration:  52 (ERR)
      ✓ should disallow reusing email (130ms)

  Util
    Ping
**** Call ## 129 ## Duration:  18
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  124
**** Call ## 1 ## Duration:  91
**** Call ## 2 ## Duration:  103
    Create
**** Call ## 3 ## Duration:  84
      ✓ should create article (86ms)
**** Call ## 4 ## Duration:  132
      ✓ should create article with tags (134ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  26 (ERR)
**** Call ## 7 ## Duration:  49 (ERR)
**** Call ## 8 ## Duration:  42 (ERR)
**** Call ## 9 ## Duration:  44 (ERR)
      ✓ should enforce required fields (164ms)
    Get
**** Call ## 10 ## Duration:  76
      ✓ should get article by slug (76ms)
**** Call ## 11 ## Duration:  61
      ✓ should get article with tags by slug (62ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  119
**** Call ## 14 ## Duration:  110
**** Call ## 15 ## Duration:  190
      ✓ should update article (421ms)
**** Call ## 16 ## Duration:  42 (ERR)
      ✓ should disallow missing mutation (43ms)
**** Call ## 17 ## Duration:  29 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  70 (ERR)
      ✓ should disallow updating non-existent article (70ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (62ms)
    Favorite
**** Call ## 21 ## Duration:  125
**** Call ## 22 ## Duration:  75
      ✓ should favorite article (201ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  70 (ERR)
      ✓ should disallow favoriting unknown article (70ms)
**** Call ## 25 ## Duration:  107
      ✓ should unfavorite article (107ms)
    Delete
**** Call ## 26 ## Duration:  100
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (140ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  108 (ERR)
      ✓ should disallow deleting unknown article (108ms)
**** Call ## 30 ## Duration:  78 (ERR)
      ✓ should disallow deleting article by non-author (79ms)
    List
**** Call ## 31 ## Duration:  66
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  54
**** Call ## 34 ## Duration:  65
**** Call ## 35 ## Duration:  54
**** Call ## 36 ## Duration:  69
**** Call ## 37 ## Duration:  58
**** Call ## 38 ## Duration:  65
**** Call ## 39 ## Duration:  68
**** Call ## 40 ## Duration:  42
**** Call ## 41 ## Duration:  67
**** Call ## 42 ## Duration:  62
**** Call ## 43 ## Duration:  59
**** Call ## 44 ## Duration:  64
**** Call ## 45 ## Duration:  61
**** Call ## 46 ## Duration:  55
**** Call ## 47 ## Duration:  64
**** Call ## 48 ## Duration:  56
**** Call ## 49 ## Duration:  159
**** Call ## 50 ## Duration:  67
**** Call ## 51 ## Duration:  215
      ✓ should list articles (215ms)
**** Call ## 52 ## Duration:  110
**** Call ## 53 ## Duration:  199
      ✓ should list articles with tag (309ms)
**** Call ## 54 ## Duration:  106
      ✓ should list articles by author (108ms)
**** Call ## 55 ## Duration:  57
      ✓ should list articles favorited by user (57ms)
**** Call ## 56 ## Duration:  52
**** Call ## 57 ## Duration:  49
      ✓ should list articles by limit/offset (101ms)
**** Call ## 58 ## Duration:  273
      ✓ should list articles when authenticated (273ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  74
**** Call ## 63 ## Duration:  113
**** Call ## 64 ## Duration:  150
**** Call ## 65 ## Duration:  75
**** Call ## 66 ## Duration:  188
      ✓ should get feed (602ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  109
      ✓ should get tags (109ms)

  Comment
**** Call ## 69 ## Duration:  93
**** Call ## 70 ## Duration:  86
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  93
**** Call ## 73 ## Duration:  68
**** Call ## 74 ## Duration:  81
**** Call ## 75 ## Duration:  82
**** Call ## 76 ## Duration:  64
**** Call ## 77 ## Duration:  67
**** Call ## 78 ## Duration:  49
**** Call ## 79 ## Duration:  67
**** Call ## 80 ## Duration:  68
**** Call ## 81 ## Duration:  76
      ✓ should create comment (716ms)
**** Call ## 82 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  42 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  48 (ERR)
      ✓ should disallow non-existent article (48ms)
    Get
**** Call ## 85 ## Duration:  259
      ✓ should get all comments for article (260ms)
    Delete
**** Call ## 86 ## Duration:  120
      ✓ should delete comment (120ms)
**** Call ## 87 ## Duration:  35 (ERR)
      ✓ only comment author should be able to delete comment
**** Call ## 88 ## Duration:  34 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown comment (69ms)

  User
    Create
**** Call ## 90 ## Duration:  72
      ✓ should create user (73ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (69ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  94
      ✓ should login (94ms)
**** Call ## 98 ## Duration:  43 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  39
      ✓ should get current user (39ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  55
      ✓ should get profile (55ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  76
**** Call ## 111 ## Duration:  93
**** Call ## 112 ## Duration:  84
**** Call ## 113 ## Duration:  60
**** Call ## 114 ## Duration:  42
**** Call ## 115 ## Duration:  86
**** Call ## 116 ## Duration:  128
**** Call ## 117 ## Duration:  170
**** Call ## 118 ## Duration:  95
**** Call ## 119 ## Duration:  101
      ✓ should follow/unfollow user (937ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  87
**** Call ## 122 ## Duration:  42
**** Call ## 123 ## Duration:  55
**** Call ## 124 ## Duration:  48
      ✓ should update user (232ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  74
**** Call ## 128 ## Duration:  45 (ERR)
      ✓ should disallow reusing email (120ms)

  Util
    Ping
**** Call ## 129 ## Duration:  18
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  138
**** Call ## 1 ## Duration:  67
**** Call ## 2 ## Duration:  63
    Create
**** Call ## 3 ## Duration:  81
      ✓ should create article (84ms)
**** Call ## 4 ## Duration:  56
      ✓ should create article with tags (59ms)
**** Call ## 5 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  46 (ERR)
**** Call ## 7 ## Duration:  43 (ERR)
**** Call ## 8 ## Duration:  44 (ERR)
**** Call ## 9 ## Duration:  45 (ERR)
      ✓ should enforce required fields (180ms)
    Get
**** Call ## 10 ## Duration:  70
      ✓ should get article by slug (70ms)
**** Call ## 11 ## Duration:  69
      ✓ should get article with tags by slug (69ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  127
**** Call ## 14 ## Duration:  120
**** Call ## 15 ## Duration:  92
      ✓ should update article (339ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  106 (ERR)
      ✓ should disallow empty mutation (106ms)
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  71 (ERR)
      ✓ should disallow updating non-existent article (71ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  125
**** Call ## 22 ## Duration:  62
      ✓ should favorite article (187ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  126
      ✓ should unfavorite article (126ms)
    Delete
**** Call ## 26 ## Duration:  94
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (130ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown article (60ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  80
**** Call ## 32 ## Duration:  73
**** Call ## 33 ## Duration:  71
**** Call ## 34 ## Duration:  61
**** Call ## 35 ## Duration:  57
**** Call ## 36 ## Duration:  67
**** Call ## 37 ## Duration:  69
**** Call ## 38 ## Duration:  71
**** Call ## 39 ## Duration:  57
**** Call ## 40 ## Duration:  57
**** Call ## 41 ## Duration:  57
**** Call ## 42 ## Duration:  63
**** Call ## 43 ## Duration:  54
**** Call ## 44 ## Duration:  47
**** Call ## 45 ## Duration:  54
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  52
**** Call ## 48 ## Duration:  40
**** Call ## 49 ## Duration:  105
**** Call ## 50 ## Duration:  71
**** Call ## 51 ## Duration:  236
      ✓ should list articles (236ms)
**** Call ## 52 ## Duration:  129
**** Call ## 53 ## Duration:  156
      ✓ should list articles with tag (286ms)
**** Call ## 54 ## Duration:  106
      ✓ should list articles by author (106ms)
**** Call ## 55 ## Duration:  69
      ✓ should list articles favorited by user (69ms)
**** Call ## 56 ## Duration:  52
**** Call ## 57 ## Duration:  180
      ✓ should list articles by limit/offset (233ms)
**** Call ## 58 ## Duration:  206
      ✓ should list articles when authenticated (206ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  85
**** Call ## 63 ## Duration:  91
**** Call ## 64 ## Duration:  224
**** Call ## 65 ## Duration:  98
**** Call ## 66 ## Duration:  174
      ✓ should get feed (672ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  99
      ✓ should get tags (99ms)

  Comment
**** Call ## 69 ## Duration:  104
**** Call ## 70 ## Duration:  95
**** Call ## 71 ## Duration:  68
    Create
**** Call ## 72 ## Duration:  132
**** Call ## 73 ## Duration:  78
**** Call ## 74 ## Duration:  83
**** Call ## 75 ## Duration:  77
**** Call ## 76 ## Duration:  79
**** Call ## 77 ## Duration:  86
**** Call ## 78 ## Duration:  51
**** Call ## 79 ## Duration:  103
**** Call ## 80 ## Duration:  91
**** Call ## 81 ## Duration:  87
      ✓ should create comment (869ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  113 (ERR)
      ✓ should enforce comment body (114ms)
**** Call ## 84 ## Duration:  44 (ERR)
      ✓ should disallow non-existent article (44ms)
    Get
**** Call ## 85 ## Duration:  184
      ✓ should get all comments for article (184ms)
    Delete
**** Call ## 86 ## Duration:  100
      ✓ should delete comment (101ms)
**** Call ## 87 ## Duration:  40 (ERR)
      ✓ only comment author should be able to delete comment (40ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  39 (ERR)
      ✓ should disallow deleting unknown comment (39ms)

  User
    Create
**** Call ## 90 ## Duration:  94
      ✓ should create user (95ms)
**** Call ## 91 ## Duration:  46 (ERR)
      ✓ should disallow same username (46ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  99
      ✓ should login (99ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  84 (ERR)
      ✓ should disallow wrong password (84ms)
**** Call ## 100 ## Duration:  17 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  54
      ✓ should get current user (55ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  57
      ✓ should get profile (57ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  62
**** Call ## 111 ## Duration:  121
**** Call ## 112 ## Duration:  90
**** Call ## 113 ## Duration:  61
**** Call ## 114 ## Duration:  46
**** Call ## 115 ## Duration:  94
**** Call ## 116 ## Duration:  125
**** Call ## 117 ## Duration:  103
**** Call ## 118 ## Duration:  87
**** Call ## 119 ## Duration:  63
      ✓ should follow/unfollow user (855ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  76
**** Call ## 122 ## Duration:  61
**** Call ## 123 ## Duration:  50
**** Call ## 124 ## Duration:  52
      ✓ should update user (240ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  52 (ERR)
      ✓ should disallow missing token/email in update (74ms)
**** Call ## 127 ## Duration:  68
**** Call ## 128 ## Duration:  67 (ERR)
      ✓ should disallow reusing email (135ms)

  Util
    Ping
**** Call ## 129 ## Duration:  27
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  163
**** Call ## 1 ## Duration:  95
**** Call ## 2 ## Duration:  76
    Create
**** Call ## 3 ## Duration:  63
      ✓ should create article (66ms)
**** Call ## 4 ## Duration:  60
      ✓ should create article with tags (62ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  48 (ERR)
**** Call ## 7 ## Duration:  42 (ERR)
**** Call ## 8 ## Duration:  44 (ERR)
**** Call ## 9 ## Duration:  30 (ERR)
      ✓ should enforce required fields (165ms)
    Get
**** Call ## 10 ## Duration:  71
      ✓ should get article by slug (71ms)
**** Call ## 11 ## Duration:  57
      ✓ should get article with tags by slug (57ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  116
**** Call ## 14 ## Duration:  109
**** Call ## 15 ## Duration:  158
      ✓ should update article (387ms)
**** Call ## 16 ## Duration:  18 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  68 (ERR)
      ✓ should disallow updating non-existent article (68ms)
**** Call ## 20 ## Duration:  73 (ERR)
      ✓ should disallow non-author from updating (73ms)
    Favorite
**** Call ## 21 ## Duration:  115
**** Call ## 22 ## Duration:  89
      ✓ should favorite article (204ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  115
      ✓ should unfavorite article (115ms)
    Delete
**** Call ## 26 ## Duration:  98
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (136ms)
**** Call ## 28 ## Duration:  17 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  53 (ERR)
      ✓ should disallow deleting article by non-author (53ms)
    List
**** Call ## 31 ## Duration:  54
**** Call ## 32 ## Duration:  59
**** Call ## 33 ## Duration:  96
**** Call ## 34 ## Duration:  79
**** Call ## 35 ## Duration:  59
**** Call ## 36 ## Duration:  70
**** Call ## 37 ## Duration:  63
**** Call ## 38 ## Duration:  70
**** Call ## 39 ## Duration:  112
**** Call ## 40 ## Duration:  67
**** Call ## 41 ## Duration:  64
**** Call ## 42 ## Duration:  42
**** Call ## 43 ## Duration:  65
**** Call ## 44 ## Duration:  68
**** Call ## 45 ## Duration:  65
**** Call ## 46 ## Duration:  78
**** Call ## 47 ## Duration:  44
**** Call ## 48 ## Duration:  54
**** Call ## 49 ## Duration:  97
**** Call ## 50 ## Duration:  63
**** Call ## 51 ## Duration:  236
      ✓ should list articles (236ms)
**** Call ## 52 ## Duration:  124
**** Call ## 53 ## Duration:  146
      ✓ should list articles with tag (270ms)
**** Call ## 54 ## Duration:  108
      ✓ should list articles by author (108ms)
**** Call ## 55 ## Duration:  58
      ✓ should list articles favorited by user (58ms)
**** Call ## 56 ## Duration:  64
**** Call ## 57 ## Duration:  49
      ✓ should list articles by limit/offset (113ms)
**** Call ## 58 ## Duration:  320
      ✓ should list articles when authenticated (320ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  18 (ERR)
**** Call ## 61 ## Duration:  20 (ERR)
**** Call ## 60 ## Duration:  36 (ERR)
**** Call ## 62 ## Duration:  61
**** Call ## 63 ## Duration:  95
**** Call ## 64 ## Duration:  168
**** Call ## 65 ## Duration:  139
**** Call ## 66 ## Duration:  163
      ✓ should get feed (627ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  117
      ✓ should get tags (117ms)

  Comment
**** Call ## 69 ## Duration:  97
**** Call ## 70 ## Duration:  99
**** Call ## 71 ## Duration:  67
    Create
**** Call ## 72 ## Duration:  94
**** Call ## 73 ## Duration:  88
**** Call ## 74 ## Duration:  86
**** Call ## 75 ## Duration:  90
**** Call ## 76 ## Duration:  73
**** Call ## 77 ## Duration:  120
**** Call ## 78 ## Duration:  71
**** Call ## 79 ## Duration:  83
**** Call ## 80 ## Duration:  92
**** Call ## 81 ## Duration:  89
      ✓ should create comment (888ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  126 (ERR)
      ✓ should enforce comment body (126ms)
**** Call ## 84 ## Duration:  67 (ERR)
      ✓ should disallow non-existent article (68ms)
    Get
**** Call ## 85 ## Duration:  262
      ✓ should get all comments for article (262ms)
    Delete
**** Call ## 86 ## Duration:  78
      ✓ should delete comment (78ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  76
      ✓ should create user (77ms)
**** Call ## 91 ## Duration:  55 (ERR)
      ✓ should disallow same username (55ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  65 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (130ms)
    Login
**** Call ## 97 ## Duration:  52
      ✓ should login (52ms)
**** Call ## 98 ## Duration:  47 (ERR)
      ✓ should disallow unknown email (47ms)
**** Call ## 99 ## Duration:  41 (ERR)
      ✓ should disallow wrong password (41ms)
**** Call ## 100 ## Duration:  62 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  27 (ERR)
      ✓ should enforce required fields (110ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  15 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  201 (ERR)
      ✓ should disallow bad tokens (258ms)
    Profile
**** Call ## 108 ## Duration:  49
      ✓ should get profile (49ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  82
**** Call ## 111 ## Duration:  98
**** Call ## 112 ## Duration:  65
**** Call ## 113 ## Duration:  71
**** Call ## 114 ## Duration:  42
**** Call ## 115 ## Duration:  63
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  102
**** Call ## 118 ## Duration:  104
**** Call ## 119 ## Duration:  169
      ✓ should follow/unfollow user (904ms)
**** Call ## 120 ## Duration:  108 (ERR)
      ✓ should disallow following with bad token (108ms)
    Update
**** Call ## 121 ## Duration:  81
**** Call ## 122 ## Duration:  40
**** Call ## 123 ## Duration:  79
**** Call ## 124 ## Duration:  73
      ✓ should update user (273ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  36 (ERR)
      ✓ should disallow missing token/email in update (54ms)
**** Call ## 127 ## Duration:  99
**** Call ## 128 ## Duration:  67 (ERR)
      ✓ should disallow reusing email (166ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (10s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  139
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  76
    Create
**** Call ## 3 ## Duration:  83
      ✓ should create article (86ms)
**** Call ## 4 ## Duration:  59
      ✓ should create article with tags (62ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  55 (ERR)
**** Call ## 7 ## Duration:  47 (ERR)
**** Call ## 8 ## Duration:  49 (ERR)
**** Call ## 9 ## Duration:  43 (ERR)
      ✓ should enforce required fields (194ms)
    Get
**** Call ## 10 ## Duration:  72
      ✓ should get article by slug (73ms)
**** Call ## 11 ## Duration:  76
      ✓ should get article with tags by slug (76ms)
**** Call ## 12 ## Duration:  52 (ERR)
      ✓ should disallow unknown slug (53ms)
    Update
**** Call ## 13 ## Duration:  134
**** Call ## 14 ## Duration:  123
**** Call ## 15 ## Duration:  114
      ✓ should update article (376ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  70 (ERR)
      ✓ should disallow updating non-existent article (71ms)
**** Call ## 20 ## Duration:  61 (ERR)
      ✓ should disallow non-author from updating (61ms)
    Favorite
**** Call ## 21 ## Duration:  113
**** Call ## 22 ## Duration:  71
      ✓ should favorite article (185ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  106
      ✓ should unfavorite article (106ms)
    Delete
**** Call ## 26 ## Duration:  103
**** Call ## 27 ## Duration:  270 (ERR)
      ✓ should delete article (373ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  52 (ERR)
      ✓ should disallow deleting unknown article (53ms)
**** Call ## 30 ## Duration:  55 (ERR)
      ✓ should disallow deleting article by non-author (56ms)
    List
**** Call ## 31 ## Duration:  72
**** Call ## 32 ## Duration:  67
**** Call ## 33 ## Duration:  92
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  57
**** Call ## 36 ## Duration:  46
**** Call ## 37 ## Duration:  69
**** Call ## 38 ## Duration:  63
**** Call ## 39 ## Duration:  64
**** Call ## 40 ## Duration:  66
**** Call ## 41 ## Duration:  68
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  92
**** Call ## 44 ## Duration:  46
**** Call ## 45 ## Duration:  66
**** Call ## 46 ## Duration:  48
**** Call ## 47 ## Duration:  70
**** Call ## 48 ## Duration:  42
**** Call ## 49 ## Duration:  72
**** Call ## 50 ## Duration:  72
**** Call ## 51 ## Duration:  316
      ✓ should list articles (316ms)
**** Call ## 52 ## Duration:  132
**** Call ## 53 ## Duration:  131
      ✓ should list articles with tag (264ms)
**** Call ## 54 ## Duration:  114
      ✓ should list articles by author (114ms)
**** Call ## 55 ## Duration:  52
      ✓ should list articles favorited by user (52ms)
**** Call ## 56 ## Duration:  74
**** Call ## 57 ## Duration:  63
      ✓ should list articles by limit/offset (137ms)
**** Call ## 58 ## Duration:  159
      ✓ should list articles when authenticated (160ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 62 ## Duration:  65
**** Call ## 63 ## Duration:  112
**** Call ## 64 ## Duration:  221
**** Call ## 65 ## Duration:  101
**** Call ## 66 ## Duration:  144
      ✓ should get feed (643ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  95
      ✓ should get tags (95ms)

  Comment
**** Call ## 69 ## Duration:  125
**** Call ## 70 ## Duration:  85
**** Call ## 71 ## Duration:  97
    Create
**** Call ## 72 ## Duration:  124
**** Call ## 73 ## Duration:  90
**** Call ## 74 ## Duration:  86
**** Call ## 75 ## Duration:  77
**** Call ## 76 ## Duration:  116
**** Call ## 77 ## Duration:  81
**** Call ## 78 ## Duration:  70
**** Call ## 79 ## Duration:  64
**** Call ## 80 ## Duration:  88
**** Call ## 81 ## Duration:  60
      ✓ should create comment (858ms)
**** Call ## 82 ## Duration:  31 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  65 (ERR)
      ✓ should disallow non-existent article (65ms)
    Get
**** Call ## 85 ## Duration:  242
      ✓ should get all comments for article (244ms)
    Delete
**** Call ## 86 ## Duration:  78
      ✓ should delete comment (78ms)
**** Call ## 87 ## Duration:  64 (ERR)
      ✓ only comment author should be able to delete comment (65ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  68
      ✓ should create user (68ms)
**** Call ## 91 ## Duration:  34 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (69ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  82
      ✓ should login (82ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  17 (ERR)
      ✓ should enforce required fields (57ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (88ms)
    Profile
**** Call ## 108 ## Duration:  51
      ✓ should get profile (52ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  65
**** Call ## 111 ## Duration:  151
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  66
**** Call ## 114 ## Duration:  44
**** Call ## 115 ## Duration:  89
**** Call ## 116 ## Duration:  74
**** Call ## 117 ## Duration:  114
**** Call ## 118 ## Duration:  85
**** Call ## 119 ## Duration:  85
      ✓ should follow/unfollow user (883ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  77
**** Call ## 123 ## Duration:  65
**** Call ## 124 ## Duration:  50
      ✓ should update user (276ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  80
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (145ms)

  Util
    Ping
**** Call ## 129 ## Duration:  18
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  161
**** Call ## 1 ## Duration:  101
**** Call ## 2 ## Duration:  73
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (105ms)
**** Call ## 4 ## Duration:  73
      ✓ should create article with tags (75ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  39 (ERR)
**** Call ## 7 ## Duration:  41 (ERR)
**** Call ## 8 ## Duration:  29 (ERR)
**** Call ## 9 ## Duration:  36 (ERR)
      ✓ should enforce required fields (146ms)
    Get
**** Call ## 10 ## Duration:  72
      ✓ should get article by slug (72ms)
**** Call ## 11 ## Duration:  47
      ✓ should get article with tags by slug (47ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  132
**** Call ## 14 ## Duration:  125
**** Call ## 15 ## Duration:  131
      ✓ should update article (390ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  95 (ERR)
      ✓ should disallow updating non-existent article (95ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  133
**** Call ## 22 ## Duration:  68
      ✓ should favorite article (201ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  85 (ERR)
      ✓ should disallow favoriting unknown article (85ms)
**** Call ## 25 ## Duration:  130
      ✓ should unfavorite article (130ms)
    Delete
**** Call ## 26 ## Duration:  87
**** Call ## 27 ## Duration:  26 (ERR)
      ✓ should delete article (113ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  50 (ERR)
      ✓ should disallow deleting article by non-author (51ms)
    List
**** Call ## 31 ## Duration:  60
**** Call ## 32 ## Duration:  60
**** Call ## 33 ## Duration:  48
**** Call ## 34 ## Duration:  55
**** Call ## 35 ## Duration:  46
**** Call ## 36 ## Duration:  69
**** Call ## 37 ## Duration:  57
**** Call ## 38 ## Duration:  59
**** Call ## 39 ## Duration:  63
**** Call ## 40 ## Duration:  66
**** Call ## 41 ## Duration:  60
**** Call ## 42 ## Duration:  53
**** Call ## 43 ## Duration:  70
**** Call ## 44 ## Duration:  42
**** Call ## 45 ## Duration:  63
**** Call ## 46 ## Duration:  63
**** Call ## 47 ## Duration:  51
**** Call ## 48 ## Duration:  67
**** Call ## 49 ## Duration:  99
**** Call ## 50 ## Duration:  52
**** Call ## 51 ## Duration:  260
      ✓ should list articles (260ms)
**** Call ## 52 ## Duration:  144
**** Call ## 53 ## Duration:  148
      ✓ should list articles with tag (293ms)
**** Call ## 54 ## Duration:  105
      ✓ should list articles by author (106ms)
**** Call ## 55 ## Duration:  69
      ✓ should list articles favorited by user (70ms)
**** Call ## 56 ## Duration:  66
**** Call ## 57 ## Duration:  50
      ✓ should list articles by limit/offset (116ms)
**** Call ## 58 ## Duration:  225
      ✓ should list articles when authenticated (225ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  27 (ERR)
**** Call ## 62 ## Duration:  74
**** Call ## 63 ## Duration:  123
**** Call ## 64 ## Duration:  201
**** Call ## 65 ## Duration:  108
**** Call ## 66 ## Duration:  180
      ✓ should get feed (687ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  89
      ✓ should get tags (90ms)

  Comment
**** Call ## 69 ## Duration:  76
**** Call ## 70 ## Duration:  70
**** Call ## 71 ## Duration:  50
    Create
**** Call ## 72 ## Duration:  81
**** Call ## 73 ## Duration:  65
**** Call ## 74 ## Duration:  64
**** Call ## 75 ## Duration:  65
**** Call ## 76 ## Duration:  74
**** Call ## 77 ## Duration:  55
**** Call ## 78 ## Duration:  70
**** Call ## 79 ## Duration:  62
**** Call ## 80 ## Duration:  75
**** Call ## 81 ## Duration:  63
      ✓ should create comment (676ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  82 (ERR)
      ✓ should enforce comment body (83ms)
**** Call ## 84 ## Duration:  101 (ERR)
      ✓ should disallow non-existent article (101ms)
    Get
**** Call ## 85 ## Duration:  222
      ✓ should get all comments for article (222ms)
    Delete
**** Call ## 86 ## Duration:  97
      ✓ should delete comment (97ms)
**** Call ## 87 ## Duration:  43 (ERR)
      ✓ only comment author should be able to delete comment (44ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (62ms)

  User
    Create
**** Call ## 90 ## Duration:  94
      ✓ should create user (95ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  51 (ERR)
      ✓ should disallow same email (52ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  51
      ✓ should login (51ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  54
      ✓ should get profile (54ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  83
**** Call ## 111 ## Duration:  146
**** Call ## 112 ## Duration:  146
**** Call ## 113 ## Duration:  63
**** Call ## 114 ## Duration:  38
**** Call ## 115 ## Duration:  80
**** Call ## 116 ## Duration:  92
**** Call ## 117 ## Duration:  123
**** Call ## 118 ## Duration:  80
**** Call ## 119 ## Duration:  74
      ✓ should follow/unfollow user (929ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  98
**** Call ## 122 ## Duration:  60
**** Call ## 123 ## Duration:  94
**** Call ## 124 ## Duration:  71
      ✓ should update user (324ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (71ms)
**** Call ## 127 ## Duration:  73
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (139ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  167
**** Call ## 1 ## Duration:  82
**** Call ## 2 ## Duration:  89
    Create
**** Call ## 3 ## Duration:  67
      ✓ should create article (70ms)
**** Call ## 4 ## Duration:  36
      ✓ should create article with tags (39ms)
**** Call ## 5 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  36 (ERR)
**** Call ## 7 ## Duration:  37 (ERR)
**** Call ## 8 ## Duration:  43 (ERR)
**** Call ## 9 ## Duration:  28 (ERR)
      ✓ should enforce required fields (146ms)
    Get
**** Call ## 10 ## Duration:  79
      ✓ should get article by slug (79ms)
**** Call ## 11 ## Duration:  57
      ✓ should get article with tags by slug (57ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  126
**** Call ## 14 ## Duration:  116
**** Call ## 15 ## Duration:  128
      ✓ should update article (372ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  59 (ERR)
      ✓ should disallow updating non-existent article (60ms)
**** Call ## 20 ## Duration:  69 (ERR)
      ✓ should disallow non-author from updating (70ms)
    Favorite
**** Call ## 21 ## Duration:  134
**** Call ## 22 ## Duration:  81
      ✓ should favorite article (216ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  52 (ERR)
      ✓ should disallow favoriting unknown article (52ms)
**** Call ## 25 ## Duration:  118
      ✓ should unfavorite article (118ms)
    Delete
**** Call ## 26 ## Duration:  90
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (131ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (65ms)
**** Call ## 30 ## Duration:  58 (ERR)
      ✓ should disallow deleting article by non-author (58ms)
    List
**** Call ## 31 ## Duration:  64
**** Call ## 32 ## Duration:  74
**** Call ## 33 ## Duration:  70
**** Call ## 34 ## Duration:  69
**** Call ## 35 ## Duration:  41
**** Call ## 36 ## Duration:  64
**** Call ## 37 ## Duration:  68
**** Call ## 38 ## Duration:  49
**** Call ## 39 ## Duration:  69
**** Call ## 40 ## Duration:  45
**** Call ## 41 ## Duration:  55
**** Call ## 42 ## Duration:  76
**** Call ## 43 ## Duration:  69
**** Call ## 44 ## Duration:  67
**** Call ## 45 ## Duration:  97
**** Call ## 46 ## Duration:  37
**** Call ## 47 ## Duration:  58
**** Call ## 48 ## Duration:  54
**** Call ## 49 ## Duration:  76
**** Call ## 50 ## Duration:  90
**** Call ## 51 ## Duration:  218
      ✓ should list articles (219ms)
**** Call ## 52 ## Duration:  241
**** Call ## 53 ## Duration:  166
      ✓ should list articles with tag (408ms)
**** Call ## 54 ## Duration:  129
      ✓ should list articles by author (129ms)
**** Call ## 55 ## Duration:  96
      ✓ should list articles favorited by user (96ms)
**** Call ## 56 ## Duration:  59
**** Call ## 57 ## Duration:  86
      ✓ should list articles by limit/offset (145ms)
**** Call ## 58 ## Duration:  169
      ✓ should list articles when authenticated (169ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  77
**** Call ## 63 ## Duration:  136
**** Call ## 64 ## Duration:  238
**** Call ## 65 ## Duration:  109
**** Call ## 66 ## Duration:  235
      ✓ should get feed (798ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  111
      ✓ should get tags (111ms)

  Comment
**** Call ## 69 ## Duration:  81
**** Call ## 70 ## Duration:  64
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  127
**** Call ## 73 ## Duration:  89
**** Call ## 74 ## Duration:  82
**** Call ## 75 ## Duration:  81
**** Call ## 76 ## Duration:  64
**** Call ## 77 ## Duration:  50
**** Call ## 78 ## Duration:  81
**** Call ## 79 ## Duration:  58
**** Call ## 80 ## Duration:  55
**** Call ## 81 ## Duration:  84
      ✓ should create comment (775ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  65 (ERR)
      ✓ should disallow non-existent article (65ms)
    Get
**** Call ## 85 ## Duration:  253
      ✓ should get all comments for article (254ms)
    Delete
**** Call ## 86 ## Duration:  80
      ✓ should delete comment (81ms)
**** Call ## 87 ## Duration:  50 (ERR)
      ✓ only comment author should be able to delete comment (50ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown comment (57ms)

  User
    Create
**** Call ## 90 ## Duration:  88
      ✓ should create user (88ms)
**** Call ## 91 ## Duration:  37 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  40 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (99ms)
    Login
**** Call ## 97 ## Duration:  48
      ✓ should login (48ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  48
      ✓ should get profile (49ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  77
**** Call ## 111 ## Duration:  98
**** Call ## 112 ## Duration:  78
**** Call ## 113 ## Duration:  56
**** Call ## 114 ## Duration:  33
**** Call ## 115 ## Duration:  75
**** Call ## 116 ## Duration:  78
**** Call ## 117 ## Duration:  119
**** Call ## 118 ## Duration:  80
**** Call ## 119 ## Duration:  111
      ✓ should follow/unfollow user (808ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  56
**** Call ## 124 ## Duration:  52
      ✓ should update user (259ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  75
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (139ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  140
**** Call ## 1 ## Duration:  81
**** Call ## 2 ## Duration:  74
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (104ms)
**** Call ## 4 ## Duration:  61
      ✓ should create article with tags (64ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  53 (ERR)
**** Call ## 7 ## Duration:  46 (ERR)
**** Call ## 8 ## Duration:  46 (ERR)
**** Call ## 9 ## Duration:  47 (ERR)
      ✓ should enforce required fields (194ms)
    Get
**** Call ## 10 ## Duration:  70
      ✓ should get article by slug (70ms)
**** Call ## 11 ## Duration:  67
      ✓ should get article with tags by slug (68ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  136
**** Call ## 14 ## Duration:  167
**** Call ## 15 ## Duration:  142
      ✓ should update article (447ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  59 (ERR)
      ✓ should disallow updating non-existent article (60ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  105
**** Call ## 22 ## Duration:  62
      ✓ should favorite article (167ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  108
      ✓ should unfavorite article (109ms)
    Delete
**** Call ## 26 ## Duration:  91
**** Call ## 27 ## Duration:  32 (ERR)
      ✓ should delete article (123ms)
**** Call ## 28 ## Duration:  24 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  49 (ERR)
      ✓ should disallow deleting unknown article (49ms)
**** Call ## 30 ## Duration:  45 (ERR)
      ✓ should disallow deleting article by non-author (46ms)
    List
**** Call ## 31 ## Duration:  76
**** Call ## 32 ## Duration:  53
**** Call ## 33 ## Duration:  70
**** Call ## 34 ## Duration:  61
**** Call ## 35 ## Duration:  72
**** Call ## 36 ## Duration:  66
**** Call ## 37 ## Duration:  51
**** Call ## 38 ## Duration:  67
**** Call ## 39 ## Duration:  69
**** Call ## 40 ## Duration:  52
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  54
**** Call ## 43 ## Duration:  57
**** Call ## 44 ## Duration:  55
**** Call ## 45 ## Duration:  47
**** Call ## 46 ## Duration:  56
**** Call ## 47 ## Duration:  60
**** Call ## 48 ## Duration:  45
**** Call ## 49 ## Duration:  127
**** Call ## 50 ## Duration:  52
**** Call ## 51 ## Duration:  222
      ✓ should list articles (223ms)
**** Call ## 52 ## Duration:  203
**** Call ## 53 ## Duration:  115
      ✓ should list articles with tag (319ms)
**** Call ## 54 ## Duration:  124
      ✓ should list articles by author (124ms)
**** Call ## 55 ## Duration:  79
      ✓ should list articles favorited by user (79ms)
**** Call ## 56 ## Duration:  50
**** Call ## 57 ## Duration:  186
      ✓ should list articles by limit/offset (237ms)
**** Call ## 58 ## Duration:  176
      ✓ should list articles when authenticated (176ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  53
**** Call ## 63 ## Duration:  97
**** Call ## 64 ## Duration:  154
**** Call ## 65 ## Duration:  91
**** Call ## 66 ## Duration:  139
      ✓ should get feed (534ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  103
      ✓ should get tags (104ms)

  Comment
**** Call ## 69 ## Duration:  96
**** Call ## 70 ## Duration:  93
**** Call ## 71 ## Duration:  73
    Create
**** Call ## 72 ## Duration:  88
**** Call ## 73 ## Duration:  83
**** Call ## 74 ## Duration:  88
**** Call ## 75 ## Duration:  80
**** Call ## 76 ## Duration:  87
**** Call ## 77 ## Duration:  80
**** Call ## 78 ## Duration:  62
**** Call ## 79 ## Duration:  80
**** Call ## 80 ## Duration:  89
**** Call ## 81 ## Duration:  68
      ✓ should create comment (806ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  195
      ✓ should get all comments for article (195ms)
    Delete
**** Call ## 86 ## Duration:  75
      ✓ should delete comment (75ms)
**** Call ## 87 ## Duration:  45 (ERR)
      ✓ only comment author should be able to delete comment (45ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  78 (ERR)
      ✓ should disallow deleting unknown comment (78ms)

  User
    Create
**** Call ## 90 ## Duration:  72
      ✓ should create user (72ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (38ms)
**** Call ## 92 ## Duration:  70 (ERR)
      ✓ should disallow same email (71ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  29 (ERR)
      ✓ should enforce required fields (89ms)
    Login
**** Call ## 97 ## Duration:  52
      ✓ should login (53ms)
**** Call ## 98 ## Duration:  55 (ERR)
      ✓ should disallow unknown email (56ms)
**** Call ## 99 ## Duration:  80 (ERR)
      ✓ should disallow wrong password (80ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  56
      ✓ should get current user (56ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  45
      ✓ should get profile (45ms)
**** Call ## 109 ## Duration:  37 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  78
**** Call ## 111 ## Duration:  85
**** Call ## 112 ## Duration:  71
**** Call ## 113 ## Duration:  47
**** Call ## 114 ## Duration:  40
**** Call ## 115 ## Duration:  93
**** Call ## 116 ## Duration:  121
**** Call ## 117 ## Duration:  117
**** Call ## 118 ## Duration:  85
**** Call ## 119 ## Duration:  99
      ✓ should follow/unfollow user (837ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  99
**** Call ## 122 ## Duration:  71
**** Call ## 123 ## Duration:  40
**** Call ## 124 ## Duration:  82
      ✓ should update user (293ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  44 (ERR)
      ✓ should disallow missing token/email in update (65ms)
**** Call ## 127 ## Duration:  78
**** Call ## 128 ## Duration:  41 (ERR)
      ✓ should disallow reusing email (119ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  133
**** Call ## 1 ## Duration:  81
**** Call ## 2 ## Duration:  109
    Create
**** Call ## 3 ## Duration:  72
      ✓ should create article (74ms)
**** Call ## 4 ## Duration:  76
      ✓ should create article with tags (78ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  53 (ERR)
**** Call ## 7 ## Duration:  42 (ERR)
**** Call ## 8 ## Duration:  42 (ERR)
**** Call ## 9 ## Duration:  41 (ERR)
      ✓ should enforce required fields (178ms)
    Get
**** Call ## 10 ## Duration:  73
      ✓ should get article by slug (73ms)
**** Call ## 11 ## Duration:  115
      ✓ should get article with tags by slug (115ms)
**** Call ## 12 ## Duration:  46 (ERR)
      ✓ should disallow unknown slug (46ms)
    Update
**** Call ## 13 ## Duration:  138
**** Call ## 14 ## Duration:  104
      1) should update article

  7 passing (1s)
  1 failing

  1) Article
       Update
         should update article:

      AssertionError [ERR_ASSERTION]: 'Fugiat deserunt ad commodo do quis deserunt aliquip consequat fugiat eu eu tempor sunt deserunt nisi adipisicing consequat. Vol == 'Tempor non minim sunt voluptate cillum enim cillum adipisicing. Nostrud cupidatat nostrud Lorem culpa incididunt reprehenderit 
      + expected - actual

      -Fugiat deserunt ad commodo do quis deserunt aliquip consequat fugiat eu eu tempor sunt deserunt nisi adipisicing consequat. Voluptate labore commodo velit tempor incididunt labore ullamco velit velit quis. Est consequat non incididunt aliqua amet duis eiusmod ullamco eu do nostrud cillum exercitation elit nisi amet minim sunt. Cupidatat non cillum reprehenderit cupidatat duis non sint eu anim duis ex et cupidatat nulla. Non dolor fugiat qui ea officia velit est velit eiusmod laborum do. Laborum non quis occaecat qui voluptate fugiat reprehenderit occaecat reprehenderit. Officia pariatur ad minim reprehenderit dolor velit deserunt consequat. Sit tempor veniam et laboris cillum reprehenderit Lorem Lorem ullamco cupidatat. Lorem eu mollit deserunt aliquip sint cillum laboris sit ullamco Lorem laboris irure quis non duis ex.
      +Tempor non minim sunt voluptate cillum enim cillum adipisicing. Nostrud cupidatat nostrud Lorem culpa incididunt reprehenderit voluptate dolore. Pariatur ut minim aute mollit sunt sit adipisicing id quis reprehenderit ex fugiat eiusmod nulla aliqua reprehenderit exercitation irure. Occaecat duis aliqua deserunt in amet adipisicing magna non tempor irure veniam nulla et reprehenderit laboris elit amet commodo ad. Duis sint esse eu id esse aliqua commodo aliqua et consectetur pariatur dolor officia aliquip. Sint sunt mollit in consequat proident voluptate anim eiusmod nulla dolor sit dolor culpa consequat culpa non. Laborum aute cillum consectetur fugiat minim aute fugiat. Velit anim officia amet irure anim amet Lorem esse aute cupidatat commodo amet sunt ea.
      
      at Context.it (test/test.Article.js:184:14)
      at <anonymous>
      at process._tickCallback (internal/process/next_tick.js:188:7)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T10_07_07_378Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  169
**** Call ## 1 ## Duration:  82
**** Call ## 2 ## Duration:  59
    Create
**** Call ## 3 ## Duration:  87
      ✓ should create article (90ms)
**** Call ## 4 ## Duration:  53
      ✓ should create article with tags (56ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  49 (ERR)
**** Call ## 7 ## Duration:  35 (ERR)
**** Call ## 8 ## Duration:  36 (ERR)
**** Call ## 9 ## Duration:  46 (ERR)
      ✓ should enforce required fields (166ms)
    Get
**** Call ## 10 ## Duration:  55
      ✓ should get article by slug (55ms)
**** Call ## 11 ## Duration:  45
      ✓ should get article with tags by slug (45ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  150
**** Call ## 14 ## Duration:  133
**** Call ## 15 ## Duration:  117
      ✓ should update article (402ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  48 (ERR)
      ✓ should disallow updating non-existent article (48ms)
**** Call ## 20 ## Duration:  72 (ERR)
      ✓ should disallow non-author from updating (72ms)
    Favorite
**** Call ## 21 ## Duration:  125
**** Call ## 22 ## Duration:  65
      ✓ should favorite article (190ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  60 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  142
      ✓ should unfavorite article (142ms)
    Delete
**** Call ## 26 ## Duration:  98
**** Call ## 27 ## Duration:  52 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  29 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  175 (ERR)
      ✓ should disallow deleting unknown article (176ms)
**** Call ## 30 ## Duration:  62 (ERR)
      ✓ should disallow deleting article by non-author (62ms)
    List
**** Call ## 31 ## Duration:  79
**** Call ## 32 ## Duration:  70
**** Call ## 33 ## Duration:  64
**** Call ## 34 ## Duration:  67
**** Call ## 35 ## Duration:  68
**** Call ## 36 ## Duration:  59
**** Call ## 37 ## Duration:  43
**** Call ## 38 ## Duration:  49
**** Call ## 39 ## Duration:  61
**** Call ## 40 ## Duration:  49
**** Call ## 41 ## Duration:  64
**** Call ## 42 ## Duration:  46
**** Call ## 43 ## Duration:  45
**** Call ## 44 ## Duration:  67
**** Call ## 45 ## Duration:  59
**** Call ## 46 ## Duration:  89
**** Call ## 47 ## Duration:  62
**** Call ## 48 ## Duration:  42
**** Call ## 49 ## Duration:  48
**** Call ## 50 ## Duration:  48
**** Call ## 51 ## Duration:  240
      ✓ should list articles (240ms)
**** Call ## 52 ## Duration:  169
**** Call ## 53 ## Duration:  153
      ✓ should list articles with tag (322ms)
**** Call ## 54 ## Duration:  137
      ✓ should list articles by author (137ms)
**** Call ## 55 ## Duration:  106
      ✓ should list articles favorited by user (107ms)
**** Call ## 56 ## Duration:  58
**** Call ## 57 ## Duration:  43
      ✓ should list articles by limit/offset (102ms)
**** Call ## 58 ## Duration:  262
      ✓ should list articles when authenticated (263ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 62 ## Duration:  60
**** Call ## 63 ## Duration:  96
**** Call ## 64 ## Duration:  169
**** Call ## 65 ## Duration:  83
**** Call ## 66 ## Duration:  176
      ✓ should get feed (584ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  126
      ✓ should get tags (127ms)

  Comment
**** Call ## 69 ## Duration:  89
**** Call ## 70 ## Duration:  79
**** Call ## 71 ## Duration:  68
    Create
**** Call ## 72 ## Duration:  75
**** Call ## 73 ## Duration:  70
**** Call ## 74 ## Duration:  61
**** Call ## 75 ## Duration:  65
**** Call ## 76 ## Duration:  100
**** Call ## 77 ## Duration:  69
**** Call ## 78 ## Duration:  72
**** Call ## 79 ## Duration:  55
**** Call ## 80 ## Duration:  69
**** Call ## 81 ## Duration:  74
      ✓ should create comment (712ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  51 (ERR)
      ✓ should enforce comment body (53ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  231
      ✓ should get all comments for article (231ms)
    Delete
**** Call ## 86 ## Duration:  82
      ✓ should delete comment (82ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  92
      ✓ should create user (92ms)
**** Call ## 91 ## Duration:  28 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  86 (ERR)
      ✓ should disallow same email (86ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  17 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  59
      ✓ should login (59ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  183 (ERR)
      ✓ should disallow wrong password (183ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (53ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (46ms)
**** Call ## 110 ## Duration:  96
**** Call ## 111 ## Duration:  75
**** Call ## 112 ## Duration:  63
**** Call ## 113 ## Duration:  67
**** Call ## 114 ## Duration:  42
**** Call ## 115 ## Duration:  80
**** Call ## 116 ## Duration:  79
**** Call ## 117 ## Duration:  112
**** Call ## 118 ## Duration:  76
**** Call ## 119 ## Duration:  93
      ✓ should follow/unfollow user (784ms)
**** Call ## 120 ## Duration:  24 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  102
**** Call ## 122 ## Duration:  76
**** Call ## 123 ## Duration:  65
**** Call ## 124 ## Duration:  69
      ✓ should update user (313ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  38 (ERR)
      ✓ should disallow missing token/email in update (59ms)
**** Call ## 127 ## Duration:  100
**** Call ## 128 ## Duration:  38 (ERR)
      ✓ should disallow reusing email (138ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  154
**** Call ## 1 ## Duration:  304
**** Call ## 2 ## Duration:  76
    Create
**** Call ## 3 ## Duration:  81
      ✓ should create article (82ms)
**** Call ## 4 ## Duration:  65
      ✓ should create article with tags (67ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  56 (ERR)
**** Call ## 7 ## Duration:  43 (ERR)
**** Call ## 8 ## Duration:  39 (ERR)
**** Call ## 9 ## Duration:  34 (ERR)
      ✓ should enforce required fields (173ms)
    Get
**** Call ## 10 ## Duration:  74
      ✓ should get article by slug (75ms)
**** Call ## 11 ## Duration:  68
      ✓ should get article with tags by slug (68ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  96
**** Call ## 14 ## Duration:  106
**** Call ## 15 ## Duration:  98
      ✓ should update article (305ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  61 (ERR)
      ✓ should disallow non-author from updating (61ms)
    Favorite
**** Call ## 21 ## Duration:  117
**** Call ## 22 ## Duration:  81
      ✓ should favorite article (199ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  224
      ✓ should unfavorite article (224ms)
    Delete
**** Call ## 26 ## Duration:  95
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (135ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  54 (ERR)
      ✓ should disallow deleting unknown article (54ms)
**** Call ## 30 ## Duration:  65 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  77
**** Call ## 32 ## Duration:  69
**** Call ## 33 ## Duration:  64
**** Call ## 34 ## Duration:  61
**** Call ## 35 ## Duration:  58
**** Call ## 36 ## Duration:  73
**** Call ## 37 ## Duration:  61
**** Call ## 38 ## Duration:  65
**** Call ## 39 ## Duration:  51
**** Call ## 40 ## Duration:  70
**** Call ## 41 ## Duration:  68
**** Call ## 42 ## Duration:  66
**** Call ## 43 ## Duration:  66
**** Call ## 44 ## Duration:  70
**** Call ## 45 ## Duration:  41
**** Call ## 46 ## Duration:  61
**** Call ## 47 ## Duration:  47
**** Call ## 48 ## Duration:  53
**** Call ## 49 ## Duration:  60
**** Call ## 50 ## Duration:  51
**** Call ## 51 ## Duration:  207
      ✓ should list articles (207ms)
**** Call ## 52 ## Duration:  183
**** Call ## 53 ## Duration:  155
      ✓ should list articles with tag (339ms)
**** Call ## 54 ## Duration:  125
      ✓ should list articles by author (125ms)
**** Call ## 55 ## Duration:  71
      ✓ should list articles favorited by user (71ms)
**** Call ## 56 ## Duration:  64
**** Call ## 57 ## Duration:  44
      ✓ should list articles by limit/offset (108ms)
**** Call ## 58 ## Duration:  176
      ✓ should list articles when authenticated (176ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  46 (ERR)
**** Call ## 62 ## Duration:  60
**** Call ## 63 ## Duration:  116
**** Call ## 64 ## Duration:  197
**** Call ## 65 ## Duration:  113
**** Call ## 66 ## Duration:  146
      ✓ should get feed (634ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  163
      ✓ should get tags (164ms)

  Comment
**** Call ## 69 ## Duration:  87
**** Call ## 70 ## Duration:  74
**** Call ## 71 ## Duration:  55
    Create
**** Call ## 72 ## Duration:  96
**** Call ## 73 ## Duration:  86
**** Call ## 74 ## Duration:  82
**** Call ## 75 ## Duration:  68
**** Call ## 76 ## Duration:  58
**** Call ## 77 ## Duration:  74
**** Call ## 78 ## Duration:  83
**** Call ## 79 ## Duration:  61
**** Call ## 80 ## Duration:  48
**** Call ## 81 ## Duration:  84
      ✓ should create comment (740ms)
**** Call ## 82 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  36 (ERR)
      ✓ should enforce comment body
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  239
      ✓ should get all comments for article (239ms)
    Delete
**** Call ## 86 ## Duration:  97
      ✓ should delete comment (97ms)
**** Call ## 87 ## Duration:  40 (ERR)
      ✓ only comment author should be able to delete comment (40ms)
**** Call ## 88 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown comment (69ms)

  User
    Create
**** Call ## 90 ## Duration:  90
      ✓ should create user (91ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  87 (ERR)
      ✓ should disallow same email (87ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  44
      ✓ should login (44ms)
**** Call ## 98 ## Duration:  33 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  55 (ERR)
      ✓ should disallow wrong password (56ms)
**** Call ## 100 ## Duration:  26 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (69ms)
    Get
**** Call ## 103 ## Duration:  57
      ✓ should get current user (58ms)
**** Call ## 104 ## Duration:  29 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (100ms)
    Profile
**** Call ## 108 ## Duration:  46
      ✓ should get profile (46ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  127
**** Call ## 111 ## Duration:  121
**** Call ## 112 ## Duration:  97
**** Call ## 113 ## Duration:  53
**** Call ## 114 ## Duration:  54
**** Call ## 115 ## Duration:  91
**** Call ## 116 ## Duration:  75
**** Call ## 117 ## Duration:  131
**** Call ## 118 ## Duration:  93
**** Call ## 119 ## Duration:  100
      ✓ should follow/unfollow user (944ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  99
**** Call ## 122 ## Duration:  57
**** Call ## 123 ## Duration:  57
**** Call ## 124 ## Duration:  51
      ✓ should update user (265ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  90
**** Call ## 128 ## Duration:  48 (ERR)
      ✓ should disallow reusing email (140ms)

  Util
    Ping
**** Call ## 129 ## Duration:  18
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  153
**** Call ## 1 ## Duration:  96
**** Call ## 2 ## Duration:  86
    Create
**** Call ## 3 ## Duration:  85
      ✓ should create article (87ms)
**** Call ## 4 ## Duration:  77
      ✓ should create article with tags (79ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  48 (ERR)
**** Call ## 7 ## Duration:  48 (ERR)
**** Call ## 8 ## Duration:  80 (ERR)
**** Call ## 9 ## Duration:  40 (ERR)
      ✓ should enforce required fields (217ms)
    Get
**** Call ## 10 ## Duration:  78
      ✓ should get article by slug (78ms)
**** Call ## 11 ## Duration:  66
      ✓ should get article with tags by slug (66ms)
**** Call ## 12 ## Duration:  65 (ERR)
      ✓ should disallow unknown slug (65ms)
    Update
**** Call ## 13 ## Duration:  124
**** Call ## 14 ## Duration:  119
**** Call ## 15 ## Duration:  92
      ✓ should update article (338ms)
**** Call ## 16 ## Duration:  17 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  67 (ERR)
      ✓ should disallow updating non-existent article (67ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  98
**** Call ## 22 ## Duration:  86
      ✓ should favorite article (184ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  51 (ERR)
      ✓ should disallow favoriting unknown article (51ms)
**** Call ## 25 ## Duration:  95
      ✓ should unfavorite article (96ms)
    Delete
**** Call ## 26 ## Duration:  181
**** Call ## 27 ## Duration:  47 (ERR)
      ✓ should delete article (228ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  65 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  65
**** Call ## 32 ## Duration:  68
**** Call ## 33 ## Duration:  69
**** Call ## 34 ## Duration:  56
**** Call ## 35 ## Duration:  57
**** Call ## 36 ## Duration:  66
**** Call ## 37 ## Duration:  72
**** Call ## 38 ## Duration:  73
**** Call ## 39 ## Duration:  40
**** Call ## 40 ## Duration:  71
**** Call ## 41 ## Duration:  64
**** Call ## 42 ## Duration:  56
**** Call ## 43 ## Duration:  55
**** Call ## 44 ## Duration:  68
**** Call ## 45 ## Duration:  69
**** Call ## 46 ## Duration:  36
**** Call ## 47 ## Duration:  65
**** Call ## 48 ## Duration:  53
**** Call ## 49 ## Duration:  56
**** Call ## 50 ## Duration:  53
**** Call ## 51 ## Duration:  255
      ✓ should list articles (255ms)
**** Call ## 52 ## Duration:  265
**** Call ## 53 ## Duration:  164
      ✓ should list articles with tag (429ms)
**** Call ## 54 ## Duration:  147
      ✓ should list articles by author (147ms)
**** Call ## 55 ## Duration:  93
      ✓ should list articles favorited by user (93ms)
**** Call ## 56 ## Duration:  51
**** Call ## 57 ## Duration:  54
      ✓ should list articles by limit/offset (106ms)
**** Call ## 58 ## Duration:  230
      ✓ should list articles when authenticated (230ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  35 (ERR)
**** Call ## 60 ## Duration:  41 (ERR)
**** Call ## 62 ## Duration:  66
**** Call ## 63 ## Duration:  90
**** Call ## 64 ## Duration:  183
**** Call ## 65 ## Duration:  82
**** Call ## 66 ## Duration:  169
      ✓ should get feed (591ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  128
      ✓ should get tags (128ms)

  Comment
**** Call ## 69 ## Duration:  122
**** Call ## 70 ## Duration:  162
**** Call ## 71 ## Duration:  55
    Create
**** Call ## 72 ## Duration:  83
**** Call ## 73 ## Duration:  85
**** Call ## 74 ## Duration:  85
**** Call ## 75 ## Duration:  80
**** Call ## 76 ## Duration:  113
**** Call ## 77 ## Duration:  73
**** Call ## 78 ## Duration:  60
**** Call ## 79 ## Duration:  91
**** Call ## 80 ## Duration:  64
**** Call ## 81 ## Duration:  70
      ✓ should create comment (804ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  212
      ✓ should get all comments for article (212ms)
    Delete
**** Call ## 86 ## Duration:  108
      ✓ should delete comment (108ms)
**** Call ## 87 ## Duration:  55 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  66
      ✓ should create user (66ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  42 (ERR)
      ✓ should disallow same email (42ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (89ms)
    Login
**** Call ## 97 ## Duration:  60
      ✓ should login (61ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  43 (ERR)
      ✓ should disallow wrong password (43ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  24 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (67ms)
    Get
**** Call ## 103 ## Duration:  68
      ✓ should get current user (69ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  25 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (87ms)
    Profile
**** Call ## 108 ## Duration:  49
      ✓ should get profile (49ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  89
**** Call ## 111 ## Duration:  105
**** Call ## 112 ## Duration:  103
**** Call ## 113 ## Duration:  42
**** Call ## 114 ## Duration:  33
**** Call ## 115 ## Duration:  84
**** Call ## 116 ## Duration:  93
**** Call ## 117 ## Duration:  86
**** Call ## 118 ## Duration:  79
**** Call ## 119 ## Duration:  87
      ✓ should follow/unfollow user (801ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  53
      ✓ should update user (272ms)
**** Call ## 125 ## Duration:  25 (ERR)
**** Call ## 126 ## Duration:  42 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  88
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (153ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  146
**** Call ## 1 ## Duration:  89
**** Call ## 2 ## Duration:  83
    Create
**** Call ## 3 ## Duration:  72
      ✓ should create article (75ms)
**** Call ## 4 ## Duration:  74
      ✓ should create article with tags (76ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  54 (ERR)
**** Call ## 7 ## Duration:  44 (ERR)
**** Call ## 8 ## Duration:  44 (ERR)
**** Call ## 9 ## Duration:  41 (ERR)
      ✓ should enforce required fields (187ms)
    Get
**** Call ## 10 ## Duration:  95
      ✓ should get article by slug (96ms)
**** Call ## 11 ## Duration:  53
      ✓ should get article with tags by slug (53ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  138
**** Call ## 14 ## Duration:  98
**** Call ## 15 ## Duration:  111
      ✓ should update article (347ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  57 (ERR)
      ✓ should disallow non-author from updating (57ms)
    Favorite
**** Call ## 21 ## Duration:  118
**** Call ## 22 ## Duration:  69
      ✓ should favorite article (187ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (66ms)
**** Call ## 25 ## Duration:  101
      ✓ should unfavorite article (101ms)
    Delete
**** Call ## 26 ## Duration:  84
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (126ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  52 (ERR)
      ✓ should disallow deleting unknown article (52ms)
**** Call ## 30 ## Duration:  49 (ERR)
      ✓ should disallow deleting article by non-author (49ms)
    List
**** Call ## 31 ## Duration:  87
**** Call ## 32 ## Duration:  69
**** Call ## 33 ## Duration:  62
**** Call ## 34 ## Duration:  65
**** Call ## 35 ## Duration:  53
**** Call ## 36 ## Duration:  70
**** Call ## 37 ## Duration:  52
**** Call ## 38 ## Duration:  55
**** Call ## 39 ## Duration:  60
**** Call ## 40 ## Duration:  58
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  71
**** Call ## 43 ## Duration:  59
**** Call ## 44 ## Duration:  63
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  46
**** Call ## 47 ## Duration:  96
**** Call ## 48 ## Duration:  64
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  71
**** Call ## 51 ## Duration:  233
      ✓ should list articles (234ms)
**** Call ## 52 ## Duration:  197
**** Call ## 53 ## Duration:  143
      ✓ should list articles with tag (340ms)
**** Call ## 54 ## Duration:  116
      ✓ should list articles by author (116ms)
**** Call ## 55 ## Duration:  81
      ✓ should list articles favorited by user (81ms)
**** Call ## 56 ## Duration:  50
**** Call ## 57 ## Duration:  81
      ✓ should list articles by limit/offset (131ms)
**** Call ## 58 ## Duration:  227
      ✓ should list articles when authenticated (227ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  40 (ERR)
**** Call ## 62 ## Duration:  67
**** Call ## 63 ## Duration:  96
**** Call ## 64 ## Duration:  253
**** Call ## 65 ## Duration:  68
**** Call ## 66 ## Duration:  173
      ✓ should get feed (659ms)
**** Call ## 67 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  151
      ✓ should get tags (151ms)

  Comment
**** Call ## 69 ## Duration:  95
**** Call ## 70 ## Duration:  86
**** Call ## 71 ## Duration:  62
    Create
**** Call ## 72 ## Duration:  89
**** Call ## 73 ## Duration:  77
**** Call ## 74 ## Duration:  80
**** Call ## 75 ## Duration:  88
**** Call ## 76 ## Duration:  69
**** Call ## 77 ## Duration:  61
**** Call ## 78 ## Duration:  62
**** Call ## 79 ## Duration:  70
**** Call ## 80 ## Duration:  120
**** Call ## 81 ## Duration:  65
      ✓ should create comment (781ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  67 (ERR)
      ✓ should disallow non-existent article (67ms)
    Get
**** Call ## 85 ## Duration:  219
      ✓ should get all comments for article (220ms)
    Delete
**** Call ## 86 ## Duration:  72
      ✓ should delete comment (72ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (52ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  70
      ✓ should create user (71ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  56 (ERR)
      ✓ should disallow same email (56ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (78ms)
    Login
**** Call ## 97 ## Duration:  66
      ✓ should login (66ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  60
      ✓ should get current user (60ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  27 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (91ms)
    Profile
**** Call ## 108 ## Duration:  51
      ✓ should get profile (51ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  56
**** Call ## 111 ## Duration:  93
**** Call ## 112 ## Duration:  86
**** Call ## 113 ## Duration:  61
**** Call ## 114 ## Duration:  44
**** Call ## 115 ## Duration:  95
**** Call ## 116 ## Duration:  87
**** Call ## 117 ## Duration:  111
**** Call ## 118 ## Duration:  73
**** Call ## 119 ## Duration:  94
      ✓ should follow/unfollow user (802ms)
**** Call ## 120 ## Duration:  44 (ERR)
      ✓ should disallow following with bad token (45ms)
    Update
**** Call ## 121 ## Duration:  94
**** Call ## 122 ## Duration:  59
**** Call ## 123 ## Duration:  50
**** Call ## 124 ## Duration:  36
      ✓ should update user (239ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  57
**** Call ## 128 ## Duration:  52 (ERR)
      ✓ should disallow reusing email (109ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  146
**** Call ## 1 ## Duration:  81
**** Call ## 2 ## Duration:  78
    Create
**** Call ## 3 ## Duration:  70
      ✓ should create article (73ms)
**** Call ## 4 ## Duration:  59
      ✓ should create article with tags (61ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  47 (ERR)
**** Call ## 7 ## Duration:  36 (ERR)
**** Call ## 8 ## Duration:  31 (ERR)
**** Call ## 9 ## Duration:  79 (ERR)
      ✓ should enforce required fields (194ms)
    Get
**** Call ## 10 ## Duration:  70
      ✓ should get article by slug (70ms)
**** Call ## 11 ## Duration:  66
      ✓ should get article with tags by slug (66ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  142
**** Call ## 14 ## Duration:  89
**** Call ## 15 ## Duration:  85
      ✓ should update article (316ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  65 (ERR)
      ✓ should disallow updating non-existent article (65ms)
**** Call ## 20 ## Duration:  90 (ERR)
      ✓ should disallow non-author from updating (90ms)
    Favorite
**** Call ## 21 ## Duration:  105
**** Call ## 22 ## Duration:  94
      ✓ should favorite article (199ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  192
      ✓ should unfavorite article (192ms)
    Delete
**** Call ## 26 ## Duration:  85
**** Call ## 27 ## Duration:  48 (ERR)
      ✓ should delete article (133ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  71 (ERR)
      ✓ should disallow deleting article by non-author (71ms)
    List
**** Call ## 31 ## Duration:  53
**** Call ## 32 ## Duration:  58
**** Call ## 33 ## Duration:  60
**** Call ## 34 ## Duration:  52
**** Call ## 35 ## Duration:  63
**** Call ## 36 ## Duration:  52
**** Call ## 37 ## Duration:  57
**** Call ## 38 ## Duration:  58
**** Call ## 39 ## Duration:  54
**** Call ## 40 ## Duration:  54
**** Call ## 41 ## Duration:  47
**** Call ## 42 ## Duration:  38
**** Call ## 43 ## Duration:  78
**** Call ## 44 ## Duration:  57
**** Call ## 45 ## Duration:  70
**** Call ## 46 ## Duration:  75
**** Call ## 47 ## Duration:  65
**** Call ## 48 ## Duration:  55
**** Call ## 49 ## Duration:  63
**** Call ## 50 ## Duration:  55
**** Call ## 51 ## Duration:  228
      ✓ should list articles (230ms)
**** Call ## 52 ## Duration:  232
**** Call ## 53 ## Duration:  191
      ✓ should list articles with tag (424ms)
**** Call ## 54 ## Duration:  188
      ✓ should list articles by author (188ms)
**** Call ## 55 ## Duration:  119
      ✓ should list articles favorited by user (119ms)
**** Call ## 56 ## Duration:  142
**** Call ## 57 ## Duration:  65
      ✓ should list articles by limit/offset (207ms)
**** Call ## 58 ## Duration:  245
      ✓ should list articles when authenticated (246ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  26 (ERR)
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 62 ## Duration:  36
**** Call ## 63 ## Duration:  113
**** Call ## 64 ## Duration:  194
**** Call ## 65 ## Duration:  76
**** Call ## 66 ## Duration:  124
      ✓ should get feed (543ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  139
      ✓ should get tags (139ms)

  Comment
**** Call ## 69 ## Duration:  92
**** Call ## 70 ## Duration:  58
**** Call ## 71 ## Duration:  58
    Create
**** Call ## 72 ## Duration:  90
**** Call ## 73 ## Duration:  85
**** Call ## 74 ## Duration:  78
**** Call ## 75 ## Duration:  84
**** Call ## 76 ## Duration:  83
**** Call ## 77 ## Duration:  69
**** Call ## 78 ## Duration:  71
**** Call ## 79 ## Duration:  63
**** Call ## 80 ## Duration:  65
**** Call ## 81 ## Duration:  65
      ✓ should create comment (755ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (57ms)
    Get
**** Call ## 85 ## Duration:  236
      ✓ should get all comments for article (236ms)
    Delete
**** Call ## 86 ## Duration:  79
      ✓ should delete comment (80ms)
**** Call ## 87 ## Duration:  53 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  84
      ✓ should create user (84ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (69ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  52
      ✓ should login (52ms)
**** Call ## 98 ## Duration:  43 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  45
      ✓ should get profile (45ms)
**** Call ## 109 ## Duration:  51 (ERR)
      ✓ should disallow unknown username (51ms)
**** Call ## 110 ## Duration:  135
**** Call ## 111 ## Duration:  120
**** Call ## 112 ## Duration:  101
**** Call ## 113 ## Duration:  56
**** Call ## 114 ## Duration:  39
**** Call ## 115 ## Duration:  83
**** Call ## 116 ## Duration:  94
**** Call ## 117 ## Duration:  91
**** Call ## 118 ## Duration:  81
**** Call ## 119 ## Duration:  73
      ✓ should follow/unfollow user (878ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  83
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  60
**** Call ## 124 ## Duration:  43
      ✓ should update user (252ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (61ms)
**** Call ## 127 ## Duration:  79
**** Call ## 128 ## Duration:  72 (ERR)
      ✓ should disallow reusing email (152ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  142
**** Call ## 1 ## Duration:  96
**** Call ## 2 ## Duration:  76
    Create
**** Call ## 3 ## Duration:  226
      ✓ should create article (228ms)
**** Call ## 4 ## Duration:  69
      ✓ should create article with tags (71ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  48 (ERR)
**** Call ## 7 ## Duration:  41 (ERR)
**** Call ## 8 ## Duration:  30 (ERR)
**** Call ## 9 ## Duration:  44 (ERR)
      ✓ should enforce required fields (165ms)
    Get
**** Call ## 10 ## Duration:  72
      ✓ should get article by slug (73ms)
**** Call ## 11 ## Duration:  49
      ✓ should get article with tags by slug (49ms)
**** Call ## 12 ## Duration:  47 (ERR)
      ✓ should disallow unknown slug (48ms)
    Update
**** Call ## 13 ## Duration:  143
**** Call ## 14 ## Duration:  120
**** Call ## 15 ## Duration:  77
      ✓ should update article (346ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  61 (ERR)
      ✓ should disallow updating non-existent article (61ms)
**** Call ## 20 ## Duration:  49 (ERR)
      ✓ should disallow non-author from updating (49ms)
    Favorite
**** Call ## 21 ## Duration:  102
**** Call ## 22 ## Duration:  85
      ✓ should favorite article (187ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  49 (ERR)
      ✓ should disallow favoriting unknown article (49ms)
**** Call ## 25 ## Duration:  129
      ✓ should unfavorite article (129ms)
    Delete
**** Call ## 26 ## Duration:  97
**** Call ## 27 ## Duration:  53 (ERR)
      ✓ should delete article (151ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (66ms)
    List
**** Call ## 31 ## Duration:  75
**** Call ## 32 ## Duration:  60
**** Call ## 33 ## Duration:  60
**** Call ## 34 ## Duration:  68
**** Call ## 35 ## Duration:  59
**** Call ## 36 ## Duration:  71
**** Call ## 37 ## Duration:  49
**** Call ## 38 ## Duration:  63
**** Call ## 39 ## Duration:  49
**** Call ## 40 ## Duration:  53
**** Call ## 41 ## Duration:  63
**** Call ## 42 ## Duration:  61
**** Call ## 43 ## Duration:  83
**** Call ## 44 ## Duration:  49
**** Call ## 45 ## Duration:  66
**** Call ## 46 ## Duration:  58
**** Call ## 47 ## Duration:  37
**** Call ## 48 ## Duration:  52
**** Call ## 49 ## Duration:  58
**** Call ## 50 ## Duration:  80
**** Call ## 51 ## Duration:  200
      ✓ should list articles (200ms)
**** Call ## 52 ## Duration:  202
**** Call ## 53 ## Duration:  172
      ✓ should list articles with tag (374ms)
**** Call ## 54 ## Duration:  181
      ✓ should list articles by author (182ms)
**** Call ## 55 ## Duration:  88
      ✓ should list articles favorited by user (88ms)
**** Call ## 56 ## Duration:  56
**** Call ## 57 ## Duration:  51
      ✓ should list articles by limit/offset (107ms)
**** Call ## 58 ## Duration:  226
      ✓ should list articles when authenticated (226ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  64
**** Call ## 63 ## Duration:  87
**** Call ## 64 ## Duration:  200
**** Call ## 65 ## Duration:  90
**** Call ## 66 ## Duration:  179
      ✓ should get feed (620ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  139
      ✓ should get tags (139ms)

  Comment
**** Call ## 69 ## Duration:  92
**** Call ## 70 ## Duration:  76
**** Call ## 71 ## Duration:  74
    Create
**** Call ## 72 ## Duration:  96
**** Call ## 73 ## Duration:  85
**** Call ## 74 ## Duration:  87
**** Call ## 75 ## Duration:  89
**** Call ## 76 ## Duration:  91
**** Call ## 77 ## Duration:  67
**** Call ## 78 ## Duration:  66
**** Call ## 79 ## Duration:  70
**** Call ## 80 ## Duration:  72
**** Call ## 81 ## Duration:  68
      ✓ should create comment (793ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  57 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  264
      ✓ should get all comments for article (264ms)
    Delete
**** Call ## 86 ## Duration:  100
      ✓ should delete comment (100ms)
**** Call ## 87 ## Duration:  50 (ERR)
      ✓ only comment author should be able to delete comment (50ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  56 (ERR)
      ✓ should disallow deleting unknown comment (57ms)

  User
    Create
**** Call ## 90 ## Duration:  92
      ✓ should create user (92ms)
**** Call ## 91 ## Duration:  29 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (67ms)
**** Call ## 98 ## Duration:  27 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  45
      ✓ should get profile (46ms)
**** Call ## 109 ## Duration:  34 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  95
**** Call ## 111 ## Duration:  67
**** Call ## 112 ## Duration:  118
**** Call ## 113 ## Duration:  48
**** Call ## 114 ## Duration:  41
**** Call ## 115 ## Duration:  97
**** Call ## 116 ## Duration:  92
**** Call ## 117 ## Duration:  98
**** Call ## 118 ## Duration:  90
**** Call ## 119 ## Duration:  56
      ✓ should follow/unfollow user (805ms)
**** Call ## 120 ## Duration:  27 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  100
**** Call ## 122 ## Duration:  70
**** Call ## 123 ## Duration:  57
**** Call ## 124 ## Duration:  50
      ✓ should update user (278ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (69ms)
**** Call ## 127 ## Duration:  99
**** Call ## 128 ## Duration:  68 (ERR)
      ✓ should disallow reusing email (168ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  144
**** Call ## 1 ## Duration:  69
**** Call ## 2 ## Duration:  96
    Create
**** Call ## 3 ## Duration:  74
      ✓ should create article (76ms)
**** Call ## 4 ## Duration:  60
      ✓ should create article with tags (62ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  47 (ERR)
**** Call ## 7 ## Duration:  42 (ERR)
**** Call ## 8 ## Duration:  42 (ERR)
**** Call ## 9 ## Duration:  36 (ERR)
      ✓ should enforce required fields (167ms)
    Get
**** Call ## 10 ## Duration:  63
      ✓ should get article by slug (63ms)
**** Call ## 11 ## Duration:  69
      ✓ should get article with tags by slug (69ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  101
**** Call ## 14 ## Duration:  119
**** Call ## 15 ## Duration:  81
      ✓ should update article (302ms)
**** Call ## 16 ## Duration:  79 (ERR)
      ✓ should disallow missing mutation (79ms)
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  70 (ERR)
      ✓ should disallow updating non-existent article (70ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  103
**** Call ## 22 ## Duration:  95
      ✓ should favorite article (200ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  60 (ERR)
      ✓ should disallow favoriting unknown article (62ms)
**** Call ## 25 ## Duration:  107
      ✓ should unfavorite article (107ms)
    Delete
**** Call ## 26 ## Duration:  97
**** Call ## 27 ## Duration:  32 (ERR)
      ✓ should delete article (130ms)
**** Call ## 28 ## Duration:  65 (ERR)
      ✓ should disallow deleting by unauthenticated user (65ms)
**** Call ## 29 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  65 (ERR)
      ✓ should disallow deleting article by non-author (66ms)
    List
**** Call ## 31 ## Duration:  74
**** Call ## 32 ## Duration:  56
**** Call ## 33 ## Duration:  70
**** Call ## 34 ## Duration:  74
**** Call ## 35 ## Duration:  59
**** Call ## 36 ## Duration:  57
**** Call ## 37 ## Duration:  49
**** Call ## 38 ## Duration:  67
**** Call ## 39 ## Duration:  46
**** Call ## 40 ## Duration:  55
**** Call ## 41 ## Duration:  37
**** Call ## 42 ## Duration:  58
**** Call ## 43 ## Duration:  38
**** Call ## 44 ## Duration:  71
**** Call ## 45 ## Duration:  77
**** Call ## 46 ## Duration:  83
**** Call ## 47 ## Duration:  54
**** Call ## 48 ## Duration:  50
**** Call ## 49 ## Duration:  77
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  212
      ✓ should list articles (212ms)
**** Call ## 52 ## Duration:  198
**** Call ## 53 ## Duration:  141
      ✓ should list articles with tag (339ms)
**** Call ## 54 ## Duration:  116
      ✓ should list articles by author (116ms)
**** Call ## 55 ## Duration:  94
      ✓ should list articles favorited by user (94ms)
**** Call ## 56 ## Duration:  45
**** Call ## 57 ## Duration:  84
      ✓ should list articles by limit/offset (129ms)
**** Call ## 58 ## Duration:  197
      ✓ should list articles when authenticated (198ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  69
**** Call ## 63 ## Duration:  120
**** Call ## 64 ## Duration:  209
**** Call ## 65 ## Duration:  72
**** Call ## 66 ## Duration:  183
      ✓ should get feed (655ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  155
      ✓ should get tags (155ms)

  Comment
**** Call ## 69 ## Duration:  75
**** Call ## 70 ## Duration:  74
**** Call ## 71 ## Duration:  67
    Create
**** Call ## 72 ## Duration:  84
**** Call ## 73 ## Duration:  83
**** Call ## 74 ## Duration:  85
**** Call ## 75 ## Duration:  77
**** Call ## 76 ## Duration:  78
**** Call ## 77 ## Duration:  61
**** Call ## 78 ## Duration:  63
**** Call ## 79 ## Duration:  49
**** Call ## 80 ## Duration:  59
**** Call ## 81 ## Duration:  58
      ✓ should create comment (699ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  239
      ✓ should get all comments for article (240ms)
    Delete
**** Call ## 86 ## Duration:  100
      ✓ should delete comment (100ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (54ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  79 (ERR)
      ✓ should disallow deleting unknown comment (79ms)

  User
    Create
**** Call ## 90 ## Duration:  77
      ✓ should create user (78ms)
**** Call ## 91 ## Duration:  27 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  54 (ERR)
      ✓ should disallow same email (54ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  45
      ✓ should login (45ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  55
      ✓ should get current user (55ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  18 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  48
      ✓ should get profile (48ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  81
**** Call ## 111 ## Duration:  87
**** Call ## 112 ## Duration:  86
**** Call ## 113 ## Duration:  66
**** Call ## 114 ## Duration:  38
**** Call ## 115 ## Duration:  59
**** Call ## 116 ## Duration:  100
**** Call ## 117 ## Duration:  125
**** Call ## 118 ## Duration:  86
**** Call ## 119 ## Duration:  101
      ✓ should follow/unfollow user (830ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  112
**** Call ## 122 ## Duration:  82
**** Call ## 123 ## Duration:  71
**** Call ## 124 ## Duration:  57
      ✓ should update user (323ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  53 (ERR)
      ✓ should disallow missing token/email in update (73ms)
**** Call ## 127 ## Duration:  82
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (143ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://6vxqe3rgo6.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  147
**** Call ## 1 ## Duration:  92
**** Call ## 2 ## Duration:  72
    Create
**** Call ## 3 ## Duration:  65
      ✓ should create article (68ms)
**** Call ## 4 ## Duration:  67
      ✓ should create article with tags (69ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  45 (ERR)
**** Call ## 7 ## Duration:  44 (ERR)
**** Call ## 8 ## Duration:  39 (ERR)
**** Call ## 9 ## Duration:  42 (ERR)
      ✓ should enforce required fields (171ms)
    Get
**** Call ## 10 ## Duration:  77
      ✓ should get article by slug (77ms)
**** Call ## 11 ## Duration:  65
      ✓ should get article with tags by slug (65ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  133
**** Call ## 14 ## Duration:  119
**** Call ## 15 ## Duration:  102
      ✓ should update article (358ms)
**** Call ## 16 ## Duration:  70 (ERR)
      ✓ should disallow missing mutation (70ms)
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (72ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  110
**** Call ## 22 ## Duration:  91
      ✓ should favorite article (201ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  52 (ERR)
      ✓ should disallow favoriting unknown article (52ms)
**** Call ## 25 ## Duration:  91
      ✓ should unfavorite article (91ms)
    Delete
**** Call ## 26 ## Duration:  90
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (131ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  47 (ERR)
      ✓ should disallow deleting unknown article (48ms)
**** Call ## 30 ## Duration:  61 (ERR)
      ✓ should disallow deleting article by non-author (61ms)
    List
**** Call ## 31 ## Duration:  40
**** Call ## 32 ## Duration:  65
**** Call ## 33 ## Duration:  67
**** Call ## 34 ## Duration:  56
**** Call ## 35 ## Duration:  55
**** Call ## 36 ## Duration:  56
**** Call ## 37 ## Duration:  75
**** Call ## 38 ## Duration:  86
**** Call ## 39 ## Duration:  59
**** Call ## 40 ## Duration:  96
**** Call ## 41 ## Duration:  52
**** Call ## 42 ## Duration:  48
**** Call ## 43 ## Duration:  71
**** Call ## 44 ## Duration:  60
**** Call ## 45 ## Duration:  52
**** Call ## 46 ## Duration:  41
**** Call ## 47 ## Duration:  57
**** Call ## 48 ## Duration:  56
**** Call ## 49 ## Duration:  71
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  203
      ✓ should list articles (203ms)
**** Call ## 52 ## Duration:  197
**** Call ## 53 ## Duration:  141
      ✓ should list articles with tag (338ms)
**** Call ## 54 ## Duration:  115
      ✓ should list articles by author (115ms)
**** Call ## 55 ## Duration:  86
      ✓ should list articles favorited by user (86ms)
**** Call ## 56 ## Duration:  48
**** Call ## 57 ## Duration:  92
      ✓ should list articles by limit/offset (140ms)
**** Call ## 58 ## Duration:  280
      ✓ should list articles when authenticated (280ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  86
**** Call ## 63 ## Duration:  119
**** Call ## 64 ## Duration:  241
**** Call ## 65 ## Duration:  94
**** Call ## 66 ## Duration:  259
      ✓ should get feed (800ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  131
      ✓ should get tags (131ms)

  Comment
**** Call ## 69 ## Duration:  95
**** Call ## 70 ## Duration:  77
**** Call ## 71 ## Duration:  58
    Create
**** Call ## 72 ## Duration:  101
**** Call ## 73 ## Duration:  95
**** Call ## 74 ## Duration:  79
**** Call ## 75 ## Duration:  85
**** Call ## 76 ## Duration:  59
**** Call ## 77 ## Duration:  96
**** Call ## 78 ## Duration:  83
**** Call ## 79 ## Duration:  101
**** Call ## 80 ## Duration:  81
**** Call ## 81 ## Duration:  83
      ✓ should create comment (864ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  51 (ERR)
      ✓ should enforce comment body (51ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  154
      ✓ should get all comments for article (154ms)
    Delete
**** Call ## 86 ## Duration:  85
      ✓ should delete comment (85ms)
**** Call ## 87 ## Duration:  48 (ERR)
      ✓ only comment author should be able to delete comment (49ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (70ms)

  User
    Create
**** Call ## 90 ## Duration:  106
      ✓ should create user (106ms)
**** Call ## 91 ## Duration:  48 (ERR)
      ✓ should disallow same username (49ms)
**** Call ## 92 ## Duration:  57 (ERR)
      ✓ should disallow same email (57ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  50
      ✓ should login (50ms)
**** Call ## 98 ## Duration:  33 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (54ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  17 (ERR)
**** Call ## 107 ## Duration:  27 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  38
      ✓ should get profile (38ms)
**** Call ## 109 ## Duration:  31 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  76
**** Call ## 111 ## Duration:  108
**** Call ## 112 ## Duration:  102
**** Call ## 113 ## Duration:  49
**** Call ## 114 ## Duration:  25
**** Call ## 115 ## Duration:  87
**** Call ## 116 ## Duration:  78
**** Call ## 117 ## Duration:  108
**** Call ## 118 ## Duration:  93
**** Call ## 119 ## Duration:  78
      ✓ should follow/unfollow user (806ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  84
**** Call ## 122 ## Duration:  53
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  50
      ✓ should update user (253ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  40 (ERR)
      ✓ should disallow missing token/email in update (61ms)
**** Call ## 127 ## Duration:  83
**** Call ## 128 ## Duration:  57 (ERR)
      ✓ should disallow reusing email (141ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (9s)

results20191102093800/no-rec-res/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
............................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
