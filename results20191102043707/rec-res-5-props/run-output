Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
.....
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (25.12 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
...............................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (25.12 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (25.12 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  930
**** Call ## 1 ## Duration:  160
**** Call ## 2 ## Duration:  113
    Create
**** Call ## 3 ## Duration:  884
      ✓ should create article (886ms)
**** Call ## 4 ## Duration:  95
      ✓ should create article with tags (96ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  741 (ERR)
**** Call ## 7 ## Duration:  87 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  71 (ERR)
      ✓ should enforce required fields (960ms)
    Get
**** Call ## 10 ## Duration:  831
      ✓ should get article by slug (831ms)
**** Call ## 11 ## Duration:  94
      ✓ should get article with tags by slug (95ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  888
**** Call ## 14 ## Duration:  150
**** Call ## 15 ## Duration:  142
      ✓ should update article (1182ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  641 (ERR)
      ✓ should disallow empty mutation (642ms)
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  80 (ERR)
      ✓ should disallow updating non-existent article (80ms)
**** Call ## 20 ## Duration:  77 (ERR)
      ✓ should disallow non-author from updating (77ms)
    Favorite
**** Call ## 21 ## Duration:  1078
**** Call ## 22 ## Duration:  125
      ✓ should favorite article (1204ms)
**** Call ## 23 ## Duration:  26 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  857
      ✓ should unfavorite article (857ms)
    Delete
**** Call ## 26 ## Duration:  761
**** Call ## 27 ## Duration:  49 (ERR)
      ✓ should delete article (810ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown article (73ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  107
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  84
**** Call ## 34 ## Duration:  128
**** Call ## 35 ## Duration:  104
**** Call ## 36 ## Duration:  102
**** Call ## 37 ## Duration:  124
**** Call ## 38 ## Duration:  89
**** Call ## 39 ## Duration:  130
**** Call ## 40 ## Duration:  92
**** Call ## 41 ## Duration:  68
**** Call ## 42 ## Duration:  98
**** Call ## 43 ## Duration:  83
**** Call ## 44 ## Duration:  74
**** Call ## 45 ## Duration:  84
**** Call ## 46 ## Duration:  98
**** Call ## 47 ## Duration:  132
**** Call ## 48 ## Duration:  92
**** Call ## 49 ## Duration:  82
**** Call ## 50 ## Duration:  96
**** Call ## 51 ## Duration:  1073
      ✓ should list articles (1073ms)
**** Call ## 52 ## Duration:  55
**** Call ## 53 ## Duration:  143
      ✓ should list articles with tag (198ms)
**** Call ## 54 ## Duration:  202
      ✓ should list articles by author (202ms)
**** Call ## 55 ## Duration:  34
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  846
**** Call ## 57 ## Duration:  126
      ✓ should list articles by limit/offset (972ms)
**** Call ## 58 ## Duration:  392
      ✓ should list articles when authenticated (392ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  34 (ERR)
**** Call ## 61 ## Duration:  588 (ERR)
**** Call ## 62 ## Duration:  810
**** Call ## 63 ## Duration:  837
**** Call ## 64 ## Duration:  416
**** Call ## 65 ## Duration:  130
**** Call ## 66 ## Duration:  410
      ✓ should get feed (2605ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  716
      ✓ should get tags (716ms)

  Comment
**** Call ## 69 ## Duration:  181
**** Call ## 70 ## Duration:  123
**** Call ## 71 ## Duration:  147
    Create
**** Call ## 72 ## Duration:  695
**** Call ## 73 ## Duration:  106
**** Call ## 74 ## Duration:  123
**** Call ## 75 ## Duration:  88
**** Call ## 76 ## Duration:  104
**** Call ## 77 ## Duration:  110
**** Call ## 78 ## Duration:  75
**** Call ## 79 ## Duration:  84
**** Call ## 80 ## Duration:  98
**** Call ## 81 ## Duration:  98
      ✓ should create comment (1581ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  614 (ERR)
      ✓ should enforce comment body (614ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  848
      ✓ should get all comments for article (848ms)
    Delete
**** Call ## 86 ## Duration:  787
      ✓ should delete comment (787ms)
**** Call ## 87 ## Duration:  43 (ERR)
      ✓ only comment author should be able to delete comment (45ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  622 (ERR)
      ✓ should disallow deleting unknown comment (623ms)

  User
    Create
**** Call ## 90 ## Duration:  165
      ✓ should create user (165ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  631 (ERR)
**** Call ## 95 ## Duration:  63 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (738ms)
    Login
**** Call ## 97 ## Duration:  786
      ✓ should login (787ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  804 (ERR)
      ✓ should disallow wrong password (804ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  742
      ✓ should get current user (742ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  606 (ERR)
**** Call ## 106 ## Duration:  48 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (697ms)
    Profile
**** Call ## 108 ## Duration:  885
      ✓ should get profile (885ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  350
**** Call ## 111 ## Duration:  198
**** Call ## 112 ## Duration:  135
**** Call ## 113 ## Duration:  102
**** Call ## 114 ## Duration:  74
**** Call ## 115 ## Duration:  120
**** Call ## 116 ## Duration:  118
**** Call ## 117 ## Duration:  866
**** Call ## 118 ## Duration:  124
**** Call ## 119 ## Duration:  94
      ✓ should follow/unfollow user (2184ms)
**** Call ## 120 ## Duration:  58 (ERR)
      ✓ should disallow following with bad token (58ms)
    Update
**** Call ## 121 ## Duration:  813
**** Call ## 122 ## Duration:  102
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  48
      ✓ should update user (1026ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  706 (ERR)
      ✓ should disallow missing token/email in update (726ms)
**** Call ## 127 ## Duration:  186
**** Call ## 128 ## Duration:  72 (ERR)
      ✓ should disallow reusing email (258ms)

  Util
    Ping
**** Call ## 129 ## Duration:  433
      ✓ should ping (433ms)


  58 passing (32s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  326
**** Call ## 1 ## Duration:  126
**** Call ## 2 ## Duration:  123
    Create
**** Call ## 3 ## Duration:  104
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  100
      ✓ should create article with tags (102ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  126 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  69 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (325ms)
    Get
**** Call ## 10 ## Duration:  161
      ✓ should get article by slug (162ms)
**** Call ## 11 ## Duration:  93
      ✓ should get article with tags by slug (94ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  238
**** Call ## 14 ## Duration:  154
**** Call ## 15 ## Duration:  145
      ✓ should update article (541ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  65 (ERR)
      ✓ should disallow empty mutation (65ms)
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  71 (ERR)
      ✓ should disallow updating non-existent article (71ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  208
**** Call ## 22 ## Duration:  130
      ✓ should favorite article (338ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  86 (ERR)
      ✓ should disallow favoriting unknown article (87ms)
**** Call ## 25 ## Duration:  216
      ✓ should unfavorite article (216ms)
    Delete
**** Call ## 26 ## Duration:  173
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (216ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (67ms)
**** Call ## 30 ## Duration:  59 (ERR)
      ✓ should disallow deleting article by non-author (60ms)
    List
**** Call ## 31 ## Duration:  132
**** Call ## 32 ## Duration:  63
**** Call ## 33 ## Duration:  100
**** Call ## 34 ## Duration:  95
**** Call ## 35 ## Duration:  105
**** Call ## 36 ## Duration:  100
**** Call ## 37 ## Duration:  68
**** Call ## 38 ## Duration:  93
**** Call ## 39 ## Duration:  79
**** Call ## 40 ## Duration:  84
**** Call ## 41 ## Duration:  84
**** Call ## 42 ## Duration:  109
**** Call ## 43 ## Duration:  66
**** Call ## 44 ## Duration:  86
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  89
**** Call ## 47 ## Duration:  104
**** Call ## 48 ## Duration:  102
**** Call ## 49 ## Duration:  70
**** Call ## 50 ## Duration:  91
**** Call ## 51 ## Duration:  522
      ✓ should list articles (523ms)
**** Call ## 52 ## Duration:  149
**** Call ## 53 ## Duration:  245
      ✓ should list articles with tag (395ms)
**** Call ## 54 ## Duration:  238
      ✓ should list articles by author (239ms)
**** Call ## 55 ## Duration:  35
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  165
**** Call ## 57 ## Duration:  110
      ✓ should list articles by limit/offset (276ms)
**** Call ## 58 ## Duration:  387
      ✓ should list articles when authenticated (387ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  31 (ERR)
**** Call ## 60 ## Duration:  36 (ERR)
**** Call ## 61 ## Duration:  65 (ERR)
**** Call ## 62 ## Duration:  141
**** Call ## 63 ## Duration:  127
**** Call ## 64 ## Duration:  273
**** Call ## 65 ## Duration:  91
**** Call ## 66 ## Duration:  402
      ✓ should get feed (1034ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  111
      ✓ should get tags (111ms)

  Comment
**** Call ## 69 ## Duration:  131
**** Call ## 70 ## Duration:  104
**** Call ## 71 ## Duration:  110
    Create
**** Call ## 72 ## Duration:  105
**** Call ## 73 ## Duration:  128
**** Call ## 74 ## Duration:  130
**** Call ## 75 ## Duration:  108
**** Call ## 76 ## Duration:  91
**** Call ## 77 ## Duration:  65
**** Call ## 78 ## Duration:  101
**** Call ## 79 ## Duration:  104
**** Call ## 80 ## Duration:  105
**** Call ## 81 ## Duration:  91
      ✓ should create comment (1028ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  99 (ERR)
      ✓ should enforce comment body (99ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  269
      ✓ should get all comments for article (269ms)
    Delete
**** Call ## 86 ## Duration:  114
      ✓ should delete comment (114ms)
**** Call ## 87 ## Duration:  64 (ERR)
      ✓ only comment author should be able to delete comment (64ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  75 (ERR)
      ✓ should disallow deleting unknown comment (75ms)

  User
    Create
**** Call ## 90 ## Duration:  120
      ✓ should create user (120ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  46 (ERR)
      ✓ should disallow same email (46ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  30 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (95ms)
    Login
**** Call ## 97 ## Duration:  116
      ✓ should login (116ms)
**** Call ## 98 ## Duration:  32 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  97 (ERR)
      ✓ should disallow wrong password (97ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (66ms)
    Get
**** Call ## 103 ## Duration:  222
      ✓ should get current user (222ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  56 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (115ms)
    Profile
**** Call ## 108 ## Duration:  132
      ✓ should get profile (132ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  108
**** Call ## 111 ## Duration:  133
**** Call ## 112 ## Duration:  123
**** Call ## 113 ## Duration:  88
**** Call ## 114 ## Duration:  49
**** Call ## 115 ## Duration:  99
**** Call ## 116 ## Duration:  95
**** Call ## 117 ## Duration:  190
**** Call ## 118 ## Duration:  145
**** Call ## 119 ## Duration:  126
      ✓ should follow/unfollow user (1159ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  132
**** Call ## 122 ## Duration:  92
**** Call ## 123 ## Duration:  54
**** Call ## 124 ## Duration:  45
      ✓ should update user (324ms)
**** Call ## 125 ## Duration:  57 (ERR)
**** Call ## 126 ## Duration:  42 (ERR)
      ✓ should disallow missing token/email in update (99ms)
**** Call ## 127 ## Duration:  125
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (186ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  192
**** Call ## 1 ## Duration:  132
**** Call ## 2 ## Duration:  96
    Create
**** Call ## 3 ## Duration:  111
      ✓ should create article (114ms)
**** Call ## 4 ## Duration:  85
      ✓ should create article with tags (87ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  73 (ERR)
**** Call ## 7 ## Duration:  74 (ERR)
**** Call ## 8 ## Duration:  48 (ERR)
**** Call ## 9 ## Duration:  108 (ERR)
      ✓ should enforce required fields (305ms)
    Get
**** Call ## 10 ## Duration:  107
      ✓ should get article by slug (107ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (91ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  225
**** Call ## 14 ## Duration:  134
**** Call ## 15 ## Duration:  125
      ✓ should update article (485ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  54 (ERR)
      ✓ should disallow empty mutation (54ms)
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  71 (ERR)
      ✓ should disallow updating non-existent article (71ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  175
**** Call ## 22 ## Duration:  121
      ✓ should favorite article (297ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  62 (ERR)
      ✓ should disallow favoriting unknown article (62ms)
**** Call ## 25 ## Duration:  180
      ✓ should unfavorite article (181ms)
    Delete
**** Call ## 26 ## Duration:  158
**** Call ## 27 ## Duration:  34 (ERR)
      ✓ should delete article (194ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (74ms)
**** Call ## 30 ## Duration:  74 (ERR)
      ✓ should disallow deleting article by non-author (74ms)
    List
**** Call ## 31 ## Duration:  97
**** Call ## 32 ## Duration:  87
**** Call ## 33 ## Duration:  104
**** Call ## 34 ## Duration:  98
**** Call ## 35 ## Duration:  99
**** Call ## 36 ## Duration:  121
**** Call ## 37 ## Duration:  88
**** Call ## 38 ## Duration:  84
**** Call ## 39 ## Duration:  76
**** Call ## 40 ## Duration:  85
**** Call ## 41 ## Duration:  99
**** Call ## 42 ## Duration:  106
**** Call ## 43 ## Duration:  93
**** Call ## 44 ## Duration:  159
**** Call ## 45 ## Duration:  83
**** Call ## 46 ## Duration:  92
**** Call ## 47 ## Duration:  109
**** Call ## 48 ## Duration:  102
**** Call ## 49 ## Duration:  83
**** Call ## 50 ## Duration:  99
**** Call ## 51 ## Duration:  429
      ✓ should list articles (429ms)
**** Call ## 52 ## Duration:  108
**** Call ## 53 ## Duration:  431
      ✓ should list articles with tag (539ms)
**** Call ## 54 ## Duration:  207
      ✓ should list articles by author (207ms)
**** Call ## 55 ## Duration:  34
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  175
**** Call ## 57 ## Duration:  138
      ✓ should list articles by limit/offset (313ms)
**** Call ## 58 ## Duration:  464
      ✓ should list articles when authenticated (464ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  68 (ERR)
**** Call ## 62 ## Duration:  149
**** Call ## 63 ## Duration:  131
**** Call ## 64 ## Duration:  226
**** Call ## 65 ## Duration:  137
**** Call ## 66 ## Duration:  376
      ✓ should get feed (1020ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  96
      ✓ should get tags (96ms)

  Comment
**** Call ## 69 ## Duration:  122
**** Call ## 70 ## Duration:  98
**** Call ## 71 ## Duration:  79
    Create
**** Call ## 72 ## Duration:  160
**** Call ## 73 ## Duration:  114
**** Call ## 74 ## Duration:  93
**** Call ## 75 ## Duration:  100
**** Call ## 76 ## Duration:  102
**** Call ## 77 ## Duration:  99
**** Call ## 78 ## Duration:  79
**** Call ## 79 ## Duration:  100
**** Call ## 80 ## Duration:  136
**** Call ## 81 ## Duration:  85
      ✓ should create comment (1070ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  81 (ERR)
      ✓ should enforce comment body (82ms)
**** Call ## 84 ## Duration:  65 (ERR)
      ✓ should disallow non-existent article (65ms)
    Get
**** Call ## 85 ## Duration:  259
      ✓ should get all comments for article (259ms)
    Delete
**** Call ## 86 ## Duration:  113
      ✓ should delete comment (113ms)
**** Call ## 87 ## Duration:  93 (ERR)
      ✓ only comment author should be able to delete comment (94ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown comment (75ms)

  User
    Create
**** Call ## 90 ## Duration:  123
      ✓ should create user (124ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (46ms)
**** Call ## 92 ## Duration:  70 (ERR)
      ✓ should disallow same email (71ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  118
      ✓ should login (118ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  93 (ERR)
      ✓ should disallow wrong password (94ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  106
      ✓ should get current user (106ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  58 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (121ms)
    Profile
**** Call ## 108 ## Duration:  126
      ✓ should get profile (127ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  139
**** Call ## 111 ## Duration:  138
**** Call ## 112 ## Duration:  100
**** Call ## 113 ## Duration:  77
**** Call ## 114 ## Duration:  53
**** Call ## 115 ## Duration:  91
**** Call ## 116 ## Duration:  96
**** Call ## 117 ## Duration:  192
**** Call ## 118 ## Duration:  152
**** Call ## 119 ## Duration:  118
      ✓ should follow/unfollow user (1158ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  123
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  66
      ✓ should update user (322ms)
**** Call ## 125 ## Duration:  161 (ERR)
**** Call ## 126 ## Duration:  60 (ERR)
      ✓ should disallow missing token/email in update (221ms)
**** Call ## 127 ## Duration:  112
**** Call ## 128 ## Duration:  52 (ERR)
      ✓ should disallow reusing email (164ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  172
**** Call ## 1 ## Duration:  104
**** Call ## 2 ## Duration:  160
    Create
**** Call ## 3 ## Duration:  110
      ✓ should create article (112ms)
**** Call ## 4 ## Duration:  100
      ✓ should create article with tags (102ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  76 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  69 (ERR)
**** Call ## 9 ## Duration:  55 (ERR)
      ✓ should enforce required fields (266ms)
    Get
**** Call ## 10 ## Duration:  110
      ✓ should get article by slug (111ms)
**** Call ## 11 ## Duration:  93
      ✓ should get article with tags by slug (93ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  171
**** Call ## 14 ## Duration:  119
**** Call ## 15 ## Duration:  123
      ✓ should update article (416ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  48 (ERR)
      ✓ should disallow non-author from updating (48ms)
    Favorite
**** Call ## 21 ## Duration:  154
**** Call ## 22 ## Duration:  104
      ✓ should favorite article (258ms)
**** Call ## 23 ## Duration:  18 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  140
      ✓ should unfavorite article (140ms)
    Delete
**** Call ## 26 ## Duration:  97
**** Call ## 27 ## Duration:  36 (ERR)
      ✓ should delete article (133ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown article (58ms)
**** Call ## 30 ## Duration:  46 (ERR)
      ✓ should disallow deleting article by non-author (47ms)
    List
**** Call ## 31 ## Duration:  98
**** Call ## 32 ## Duration:  91
**** Call ## 33 ## Duration:  125
**** Call ## 34 ## Duration:  93
**** Call ## 35 ## Duration:  94
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  98
**** Call ## 38 ## Duration:  92
**** Call ## 39 ## Duration:  94
**** Call ## 40 ## Duration:  104
**** Call ## 41 ## Duration:  74
**** Call ## 42 ## Duration:  113
**** Call ## 43 ## Duration:  66
**** Call ## 44 ## Duration:  128
**** Call ## 45 ## Duration:  143
**** Call ## 46 ## Duration:  72
**** Call ## 47 ## Duration:  83
**** Call ## 48 ## Duration:  72
**** Call ## 49 ## Duration:  68
**** Call ## 50 ## Duration:  83
**** Call ## 51 ## Duration:  492
      ✓ should list articles (493ms)
**** Call ## 52 ## Duration:  136
**** Call ## 53 ## Duration:  421
      ✓ should list articles with tag (558ms)
**** Call ## 54 ## Duration:  241
      ✓ should list articles by author (241ms)
**** Call ## 55 ## Duration:  34
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  168
**** Call ## 57 ## Duration:  115
      ✓ should list articles by limit/offset (283ms)
**** Call ## 58 ## Duration:  538
      ✓ should list articles when authenticated (538ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  19 (ERR)
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 62 ## Duration:  104
**** Call ## 63 ## Duration:  140
**** Call ## 64 ## Duration:  269
**** Call ## 65 ## Duration:  120
**** Call ## 66 ## Duration:  472
      ✓ should get feed (1105ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  67
      ✓ should get tags (67ms)

  Comment
**** Call ## 69 ## Duration:  129
**** Call ## 70 ## Duration:  105
**** Call ## 71 ## Duration:  86
    Create
**** Call ## 72 ## Duration:  144
**** Call ## 73 ## Duration:  99
**** Call ## 74 ## Duration:  108
**** Call ## 75 ## Duration:  88
**** Call ## 76 ## Duration:  106
**** Call ## 77 ## Duration:  101
**** Call ## 78 ## Duration:  107
**** Call ## 79 ## Duration:  157
**** Call ## 80 ## Duration:  98
**** Call ## 81 ## Duration:  94
      ✓ should create comment (1102ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  264
      ✓ should get all comments for article (264ms)
    Delete
**** Call ## 86 ## Duration:  89
      ✓ should delete comment (89ms)
**** Call ## 87 ## Duration:  71 (ERR)
      ✓ only comment author should be able to delete comment (72ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  117 (ERR)
      ✓ should disallow deleting unknown comment (117ms)

  User
    Create
**** Call ## 90 ## Duration:  126
      ✓ should create user (127ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  17 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  68
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (55ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  113
**** Call ## 111 ## Duration:  142
**** Call ## 112 ## Duration:  133
**** Call ## 113 ## Duration:  128
**** Call ## 114 ## Duration:  56
**** Call ## 115 ## Duration:  124
**** Call ## 116 ## Duration:  123
**** Call ## 117 ## Duration:  124
**** Call ## 118 ## Duration:  118
**** Call ## 119 ## Duration:  115
      ✓ should follow/unfollow user (1177ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  134
**** Call ## 122 ## Duration:  59
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  61
      ✓ should update user (306ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  91 (ERR)
      ✓ should disallow missing token/email in update (109ms)
**** Call ## 127 ## Duration:  123
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (183ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  175
**** Call ## 1 ## Duration:  133
**** Call ## 2 ## Duration:  101
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (105ms)
**** Call ## 4 ## Duration:  107
      ✓ should create article with tags (108ms)
**** Call ## 5 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  76 (ERR)
**** Call ## 7 ## Duration:  73 (ERR)
**** Call ## 8 ## Duration:  125 (ERR)
**** Call ## 9 ## Duration:  71 (ERR)
      ✓ should enforce required fields (345ms)
    Get
**** Call ## 10 ## Duration:  99
      ✓ should get article by slug (99ms)
**** Call ## 11 ## Duration:  122
      ✓ should get article with tags by slug (122ms)
**** Call ## 12 ## Duration:  48 (ERR)
      ✓ should disallow unknown slug (49ms)
    Update
**** Call ## 13 ## Duration:  175
**** Call ## 14 ## Duration:  169
**** Call ## 15 ## Duration:  130
      ✓ should update article (476ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  169 (ERR)
      ✓ should disallow updating non-existent article (169ms)
**** Call ## 20 ## Duration:  70 (ERR)
      ✓ should disallow non-author from updating (72ms)
    Favorite
**** Call ## 21 ## Duration:  150
**** Call ## 22 ## Duration:  110
      ✓ should favorite article (260ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  143
      ✓ should unfavorite article (144ms)
    Delete
**** Call ## 26 ## Duration:  127
**** Call ## 27 ## Duration:  45 (ERR)
      ✓ should delete article (172ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (75ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  106
**** Call ## 32 ## Duration:  85
**** Call ## 33 ## Duration:  95
**** Call ## 34 ## Duration:  78
**** Call ## 35 ## Duration:  100
**** Call ## 36 ## Duration:  100
**** Call ## 37 ## Duration:  101
**** Call ## 38 ## Duration:  82
**** Call ## 39 ## Duration:  108
**** Call ## 40 ## Duration:  89
**** Call ## 41 ## Duration:  61
**** Call ## 42 ## Duration:  122
**** Call ## 43 ## Duration:  97
**** Call ## 44 ## Duration:  117
**** Call ## 45 ## Duration:  89
**** Call ## 46 ## Duration:  69
**** Call ## 47 ## Duration:  88
**** Call ## 48 ## Duration:  92
**** Call ## 49 ## Duration:  77
**** Call ## 50 ## Duration:  85
**** Call ## 51 ## Duration:  468
      ✓ should list articles (468ms)
**** Call ## 52 ## Duration:  203
**** Call ## 53 ## Duration:  391
      ✓ should list articles with tag (595ms)
**** Call ## 54 ## Duration:  260
      ✓ should list articles by author (260ms)
**** Call ## 55 ## Duration:  46
      ✓ should list articles favorited by user (46ms)
**** Call ## 56 ## Duration:  92
**** Call ## 57 ## Duration:  104
      ✓ should list articles by limit/offset (197ms)
**** Call ## 58 ## Duration:  485
      ✓ should list articles when authenticated (485ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  94
**** Call ## 63 ## Duration:  136
**** Call ## 64 ## Duration:  272
**** Call ## 65 ## Duration:  118
**** Call ## 66 ## Duration:  415
      ✓ should get feed (1036ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  82
      ✓ should get tags (82ms)

  Comment
**** Call ## 69 ## Duration:  129
**** Call ## 70 ## Duration:  112
**** Call ## 71 ## Duration:  89
    Create
**** Call ## 72 ## Duration:  116
**** Call ## 73 ## Duration:  116
**** Call ## 74 ## Duration:  97
**** Call ## 75 ## Duration:  117
**** Call ## 76 ## Duration:  97
**** Call ## 77 ## Duration:  110
**** Call ## 78 ## Duration:  99
**** Call ## 79 ## Duration:  85
**** Call ## 80 ## Duration:  77
**** Call ## 81 ## Duration:  113
      ✓ should create comment (1030ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  233
      ✓ should get all comments for article (233ms)
    Delete
**** Call ## 86 ## Duration:  145
      ✓ should delete comment (145ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  100 (ERR)
      ✓ should disallow deleting unknown comment (100ms)

  User
    Create
**** Call ## 90 ## Duration:  115
      ✓ should create user (115ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  25 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  78
      ✓ should login (78ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  38 (ERR)
      ✓ should disallow bad tokens (97ms)
    Profile
**** Call ## 108 ## Duration:  59
      ✓ should get profile (59ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  107
**** Call ## 111 ## Duration:  146
**** Call ## 112 ## Duration:  132
**** Call ## 113 ## Duration:  92
**** Call ## 114 ## Duration:  81
**** Call ## 115 ## Duration:  114
**** Call ## 116 ## Duration:  127
**** Call ## 117 ## Duration:  148
**** Call ## 118 ## Duration:  129
**** Call ## 119 ## Duration:  94
      ✓ should follow/unfollow user (1174ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  89
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  56
      ✓ should update user (273ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  44 (ERR)
      ✓ should disallow missing token/email in update (65ms)
**** Call ## 127 ## Duration:  164
**** Call ## 128 ## Duration:  62 (ERR)
      ✓ should disallow reusing email (227ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  175
**** Call ## 1 ## Duration:  106
**** Call ## 2 ## Duration:  115
    Create
**** Call ## 3 ## Duration:  94
      ✓ should create article (97ms)
**** Call ## 4 ## Duration:  147
      ✓ should create article with tags (149ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  86 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  69 (ERR)
**** Call ## 9 ## Duration:  72 (ERR)
      ✓ should enforce required fields (298ms)
    Get
**** Call ## 10 ## Duration:  109
      ✓ should get article by slug (109ms)
**** Call ## 11 ## Duration:  87
      ✓ should get article with tags by slug (87ms)
**** Call ## 12 ## Duration:  28 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  165
**** Call ## 14 ## Duration:  132
**** Call ## 15 ## Duration:  137
      ✓ should update article (438ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  63 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  114 (ERR)
      ✓ should disallow non-author from updating (115ms)
    Favorite
**** Call ## 21 ## Duration:  157
**** Call ## 22 ## Duration:  114
      ✓ should favorite article (272ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  158
      ✓ should unfavorite article (160ms)
    Delete
**** Call ## 26 ## Duration:  110
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (153ms)
**** Call ## 28 ## Duration:  54 (ERR)
      ✓ should disallow deleting by unauthenticated user (54ms)
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  65 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  102
**** Call ## 32 ## Duration:  100
**** Call ## 33 ## Duration:  76
**** Call ## 34 ## Duration:  104
**** Call ## 35 ## Duration:  78
**** Call ## 36 ## Duration:  67
**** Call ## 37 ## Duration:  62
**** Call ## 38 ## Duration:  77
**** Call ## 39 ## Duration:  95
**** Call ## 40 ## Duration:  102
**** Call ## 41 ## Duration:  60
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  74
**** Call ## 44 ## Duration:  248
**** Call ## 45 ## Duration:  81
**** Call ## 46 ## Duration:  133
**** Call ## 47 ## Duration:  80
**** Call ## 48 ## Duration:  87
**** Call ## 49 ## Duration:  97
**** Call ## 50 ## Duration:  85
**** Call ## 51 ## Duration:  434
      ✓ should list articles (435ms)
**** Call ## 52 ## Duration:  201
**** Call ## 53 ## Duration:  341
      ✓ should list articles with tag (542ms)
**** Call ## 54 ## Duration:  215
      ✓ should list articles by author (215ms)
**** Call ## 55 ## Duration:  56
      ✓ should list articles favorited by user (56ms)
**** Call ## 56 ## Duration:  98
**** Call ## 57 ## Duration:  147
      ✓ should list articles by limit/offset (245ms)
**** Call ## 58 ## Duration:  423
      ✓ should list articles when authenticated (423ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  104
**** Call ## 63 ## Duration:  114
**** Call ## 64 ## Duration:  271
**** Call ## 65 ## Duration:  164
**** Call ## 66 ## Duration:  506
      ✓ should get feed (1160ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  93
      ✓ should get tags (93ms)

  Comment
**** Call ## 69 ## Duration:  150
**** Call ## 70 ## Duration:  124
**** Call ## 71 ## Duration:  86
    Create
**** Call ## 72 ## Duration:  109
**** Call ## 73 ## Duration:  98
**** Call ## 74 ## Duration:  102
**** Call ## 75 ## Duration:  98
**** Call ## 76 ## Duration:  85
**** Call ## 77 ## Duration:  84
**** Call ## 78 ## Duration:  100
**** Call ## 79 ## Duration:  78
**** Call ## 80 ## Duration:  84
**** Call ## 81 ## Duration:  77
      ✓ should create comment (919ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  217
      ✓ should get all comments for article (218ms)
    Delete
**** Call ## 86 ## Duration:  150
      ✓ should delete comment (150ms)
**** Call ## 87 ## Duration:  40 (ERR)
      ✓ only comment author should be able to delete comment (40ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown comment (69ms)

  User
    Create
**** Call ## 90 ## Duration:  94
      ✓ should create user (94ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  71 (ERR)
      ✓ should disallow same email (72ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  30 (ERR)
      ✓ should enforce required fields (88ms)
    Login
**** Call ## 97 ## Duration:  65
      ✓ should login (66ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  77
      ✓ should get profile (77ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  106
**** Call ## 111 ## Duration:  180
**** Call ## 112 ## Duration:  152
**** Call ## 113 ## Duration:  121
**** Call ## 114 ## Duration:  62
**** Call ## 115 ## Duration:  111
**** Call ## 116 ## Duration:  111
**** Call ## 117 ## Duration:  153
**** Call ## 118 ## Duration:  119
**** Call ## 119 ## Duration:  118
      ✓ should follow/unfollow user (1235ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  98
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  57
**** Call ## 124 ## Duration:  48
      ✓ should update user (269ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  118
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (178ms)

  Util
    Ping
**** Call ## 129 ## Duration:  26
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  183
**** Call ## 1 ## Duration:  123
**** Call ## 2 ## Duration:  108
    Create
**** Call ## 3 ## Duration:  86
      ✓ should create article (88ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (90ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  62 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  79 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (266ms)
    Get
**** Call ## 10 ## Duration:  110
      ✓ should get article by slug (111ms)
**** Call ## 11 ## Duration:  92
      ✓ should get article with tags by slug (92ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  142
**** Call ## 14 ## Duration:  176
**** Call ## 15 ## Duration:  151
      ✓ should update article (472ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (72ms)
**** Call ## 20 ## Duration:  73 (ERR)
      ✓ should disallow non-author from updating (73ms)
    Favorite
**** Call ## 21 ## Duration:  155
**** Call ## 22 ## Duration:  112
      ✓ should favorite article (267ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  143
      ✓ should unfavorite article (143ms)
    Delete
**** Call ## 26 ## Duration:  124
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (169ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  59 (ERR)
      ✓ should disallow deleting article by non-author (60ms)
    List
**** Call ## 31 ## Duration:  85
**** Call ## 32 ## Duration:  94
**** Call ## 33 ## Duration:  108
**** Call ## 34 ## Duration:  98
**** Call ## 35 ## Duration:  89
**** Call ## 36 ## Duration:  85
**** Call ## 37 ## Duration:  79
**** Call ## 38 ## Duration:  61
**** Call ## 39 ## Duration:  72
**** Call ## 40 ## Duration:  69
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  90
**** Call ## 43 ## Duration:  74
**** Call ## 44 ## Duration:  65
**** Call ## 45 ## Duration:  52
**** Call ## 46 ## Duration:  71
**** Call ## 47 ## Duration:  85
**** Call ## 48 ## Duration:  77
**** Call ## 49 ## Duration:  54
**** Call ## 50 ## Duration:  66
**** Call ## 51 ## Duration:  460
      ✓ should list articles (460ms)
**** Call ## 52 ## Duration:  172
**** Call ## 53 ## Duration:  400
      ✓ should list articles with tag (572ms)
**** Call ## 54 ## Duration:  191
      ✓ should list articles by author (191ms)
**** Call ## 55 ## Duration:  53
      ✓ should list articles favorited by user (53ms)
**** Call ## 56 ## Duration:  102
**** Call ## 57 ## Duration:  84
      ✓ should list articles by limit/offset (186ms)
**** Call ## 58 ## Duration:  571
      ✓ should list articles when authenticated (571ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  79
**** Call ## 63 ## Duration:  141
**** Call ## 64 ## Duration:  252
**** Call ## 65 ## Duration:  119
**** Call ## 66 ## Duration:  481
      ✓ should get feed (1073ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  118
      ✓ should get tags (119ms)

  Comment
**** Call ## 69 ## Duration:  116
**** Call ## 70 ## Duration:  89
**** Call ## 71 ## Duration:  125
    Create
**** Call ## 72 ## Duration:  97
**** Call ## 73 ## Duration:  99
**** Call ## 74 ## Duration:  105
**** Call ## 75 ## Duration:  98
**** Call ## 76 ## Duration:  180
**** Call ## 77 ## Duration:  94
**** Call ## 78 ## Duration:  115
**** Call ## 79 ## Duration:  87
**** Call ## 80 ## Duration:  91
**** Call ## 81 ## Duration:  98
      ✓ should create comment (1065ms)
**** Call ## 82 ## Duration:  31 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  38 (ERR)
      ✓ should enforce comment body (39ms)
**** Call ## 84 ## Duration:  48 (ERR)
      ✓ should disallow non-existent article (48ms)
    Get
**** Call ## 85 ## Duration:  204
      ✓ should get all comments for article (205ms)
    Delete
**** Call ## 86 ## Duration:  99
      ✓ should delete comment (100ms)
**** Call ## 87 ## Duration:  41 (ERR)
      ✓ only comment author should be able to delete comment (42ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown comment (58ms)

  User
    Create
**** Call ## 90 ## Duration:  124
      ✓ should create user (124ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  27 (ERR)
      ✓ should enforce required fields (91ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (67ms)
**** Call ## 98 ## Duration:  34 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (50ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  42
      ✓ should get current user (42ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (75ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (38ms)
**** Call ## 110 ## Duration:  118
**** Call ## 111 ## Duration:  141
**** Call ## 112 ## Duration:  102
**** Call ## 113 ## Duration:  73
**** Call ## 114 ## Duration:  60
**** Call ## 115 ## Duration:  114
**** Call ## 116 ## Duration:  125
**** Call ## 117 ## Duration:  132
**** Call ## 118 ## Duration:  144
**** Call ## 119 ## Duration:  139
      ✓ should follow/unfollow user (1149ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  80
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  59
**** Call ## 124 ## Duration:  45
      ✓ should update user (255ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  117
**** Call ## 128 ## Duration:  68 (ERR)
      ✓ should disallow reusing email (185ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  167
**** Call ## 1 ## Duration:  118
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  83
      ✓ should create article (85ms)
**** Call ## 4 ## Duration:  83
      ✓ should create article with tags (85ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  127 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (317ms)
    Get
**** Call ## 10 ## Duration:  102
      ✓ should get article by slug (102ms)
**** Call ## 11 ## Duration:  82
      ✓ should get article with tags by slug (82ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  164
**** Call ## 14 ## Duration:  157
**** Call ## 15 ## Duration:  145
      ✓ should update article (467ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  60 (ERR)
      ✓ should disallow updating non-existent article (60ms)
**** Call ## 20 ## Duration:  69 (ERR)
      ✓ should disallow non-author from updating (69ms)
    Favorite
**** Call ## 21 ## Duration:  137
**** Call ## 22 ## Duration:  102
      ✓ should favorite article (240ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (72ms)
**** Call ## 25 ## Duration:  141
      ✓ should unfavorite article (141ms)
    Delete
**** Call ## 26 ## Duration:  102
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (140ms)
**** Call ## 28 ## Duration:  24 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  113 (ERR)
      ✓ should disallow deleting unknown article (113ms)
**** Call ## 30 ## Duration:  59 (ERR)
      ✓ should disallow deleting article by non-author (60ms)
    List
**** Call ## 31 ## Duration:  84
**** Call ## 32 ## Duration:  109
**** Call ## 33 ## Duration:  83
**** Call ## 34 ## Duration:  99
**** Call ## 35 ## Duration:  75
**** Call ## 36 ## Duration:  108
**** Call ## 37 ## Duration:  70
**** Call ## 38 ## Duration:  93
**** Call ## 39 ## Duration:  97
**** Call ## 40 ## Duration:  90
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  120
**** Call ## 43 ## Duration:  85
**** Call ## 44 ## Duration:  82
**** Call ## 45 ## Duration:  64
**** Call ## 46 ## Duration:  73
**** Call ## 47 ## Duration:  86
**** Call ## 48 ## Duration:  62
**** Call ## 49 ## Duration:  70
**** Call ## 50 ## Duration:  86
**** Call ## 51 ## Duration:  452
      ✓ should list articles (453ms)
**** Call ## 52 ## Duration:  182
**** Call ## 53 ## Duration:  379
      ✓ should list articles with tag (561ms)
**** Call ## 54 ## Duration:  194
      ✓ should list articles by author (194ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  131
**** Call ## 57 ## Duration:  94
      ✓ should list articles by limit/offset (225ms)
**** Call ## 58 ## Duration:  467
      ✓ should list articles when authenticated (467ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 62 ## Duration:  89
**** Call ## 63 ## Duration:  132
**** Call ## 64 ## Duration:  370
**** Call ## 65 ## Duration:  114
**** Call ## 66 ## Duration:  442
      ✓ should get feed (1149ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  94
      ✓ should get tags (94ms)

  Comment
**** Call ## 69 ## Duration:  122
**** Call ## 70 ## Duration:  97
**** Call ## 71 ## Duration:  81
    Create
**** Call ## 72 ## Duration:  103
**** Call ## 73 ## Duration:  75
**** Call ## 74 ## Duration:  86
**** Call ## 75 ## Duration:  77
**** Call ## 76 ## Duration:  88
**** Call ## 77 ## Duration:  91
**** Call ## 78 ## Duration:  87
**** Call ## 79 ## Duration:  69
**** Call ## 80 ## Duration:  83
**** Call ## 81 ## Duration:  62
      ✓ should create comment (822ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  228
      ✓ should get all comments for article (228ms)
    Delete
**** Call ## 86 ## Duration:  140
      ✓ should delete comment (140ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (70ms)

  User
    Create
**** Call ## 90 ## Duration:  102
      ✓ should create user (103ms)
**** Call ## 91 ## Duration:  34 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  17 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (77ms)
    Login
**** Call ## 97 ## Duration:  114
      ✓ should login (115ms)
**** Call ## 98 ## Duration:  33 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  174 (ERR)
      ✓ should disallow wrong password (174ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  29 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (87ms)
    Profile
**** Call ## 108 ## Duration:  65
      ✓ should get profile (65ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  168
**** Call ## 111 ## Duration:  140
**** Call ## 112 ## Duration:  115
**** Call ## 113 ## Duration:  61
**** Call ## 114 ## Duration:  53
**** Call ## 115 ## Duration:  99
**** Call ## 116 ## Duration:  137
**** Call ## 117 ## Duration:  131
**** Call ## 118 ## Duration:  154
**** Call ## 119 ## Duration:  124
      ✓ should follow/unfollow user (1185ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  93
**** Call ## 122 ## Duration:  45
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  65
      ✓ should update user (269ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  39 (ERR)
      ✓ should disallow missing token/email in update (58ms)
**** Call ## 127 ## Duration:  115
**** Call ## 128 ## Duration:  90 (ERR)
      ✓ should disallow reusing email (206ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  192
**** Call ## 1 ## Duration:  101
**** Call ## 2 ## Duration:  101
    Create
**** Call ## 3 ## Duration:  101
      ✓ should create article (103ms)
**** Call ## 4 ## Duration:  117
      ✓ should create article with tags (119ms)
**** Call ## 5 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  74 (ERR)
**** Call ## 7 ## Duration:  68 (ERR)
**** Call ## 8 ## Duration:  66 (ERR)
**** Call ## 9 ## Duration:  82 (ERR)
      ✓ should enforce required fields (291ms)
    Get
**** Call ## 10 ## Duration:  105
      ✓ should get article by slug (105ms)
**** Call ## 11 ## Duration:  84
      ✓ should get article with tags by slug (84ms)
**** Call ## 12 ## Duration:  46 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  154
**** Call ## 15 ## Duration:  165
      ✓ should update article (475ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  67 (ERR)
      ✓ should disallow updating non-existent article (67ms)
**** Call ## 20 ## Duration:  78 (ERR)
      ✓ should disallow non-author from updating (79ms)
    Favorite
**** Call ## 21 ## Duration:  148
**** Call ## 22 ## Duration:  116
      ✓ should favorite article (265ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  124
      ✓ should unfavorite article (125ms)
    Delete
**** Call ## 26 ## Duration:  119
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (162ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (73ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (70ms)
    List
**** Call ## 31 ## Duration:  95
**** Call ## 32 ## Duration:  69
**** Call ## 33 ## Duration:  81
**** Call ## 34 ## Duration:  84
**** Call ## 35 ## Duration:  87
**** Call ## 36 ## Duration:  113
**** Call ## 37 ## Duration:  82
**** Call ## 38 ## Duration:  92
**** Call ## 39 ## Duration:  87
**** Call ## 40 ## Duration:  93
**** Call ## 41 ## Duration:  99
**** Call ## 42 ## Duration:  90
**** Call ## 43 ## Duration:  102
**** Call ## 44 ## Duration:  82
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  88
**** Call ## 47 ## Duration:  101
**** Call ## 48 ## Duration:  111
**** Call ## 49 ## Duration:  96
**** Call ## 50 ## Duration:  90
**** Call ## 51 ## Duration:  449
      ✓ should list articles (449ms)
**** Call ## 52 ## Duration:  234
**** Call ## 53 ## Duration:  379
      ✓ should list articles with tag (613ms)
**** Call ## 54 ## Duration:  217
      ✓ should list articles by author (218ms)
**** Call ## 55 ## Duration:  52
      ✓ should list articles favorited by user (52ms)
**** Call ## 56 ## Duration:  133
**** Call ## 57 ## Duration:  77
      ✓ should list articles by limit/offset (211ms)
**** Call ## 58 ## Duration:  455
      ✓ should list articles when authenticated (455ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  80
**** Call ## 63 ## Duration:  194
**** Call ## 64 ## Duration:  236
**** Call ## 65 ## Duration:  143
**** Call ## 66 ## Duration:  388
      ✓ should get feed (1043ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  112
      ✓ should get tags (112ms)

  Comment
**** Call ## 69 ## Duration:  112
**** Call ## 70 ## Duration:  89
**** Call ## 71 ## Duration:  105
    Create
**** Call ## 72 ## Duration:  120
**** Call ## 73 ## Duration:  114
**** Call ## 74 ## Duration:  99
**** Call ## 75 ## Duration:  116
**** Call ## 76 ## Duration:  96
**** Call ## 77 ## Duration:  87
**** Call ## 78 ## Duration:  80
**** Call ## 79 ## Duration:  76
**** Call ## 80 ## Duration:  76
**** Call ## 81 ## Duration:  82
      ✓ should create comment (946ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  52 (ERR)
      ✓ should enforce comment body (53ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  272
      ✓ should get all comments for article (273ms)
    Delete
**** Call ## 86 ## Duration:  114
      ✓ should delete comment (114ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (67ms)

  User
    Create
**** Call ## 90 ## Duration:  84
      ✓ should create user (84ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  56 (ERR)
      ✓ should disallow same email (56ms)
**** Call ## 93 ## Duration:  29 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (90ms)
    Login
**** Call ## 97 ## Duration:  96
      ✓ should login (96ms)
**** Call ## 98 ## Duration:  46 (ERR)
      ✓ should disallow unknown email (46ms)
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  27 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (89ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  88
**** Call ## 111 ## Duration:  101
**** Call ## 112 ## Duration:  80
**** Call ## 113 ## Duration:  109
**** Call ## 114 ## Duration:  73
**** Call ## 115 ## Duration:  84
**** Call ## 116 ## Duration:  98
**** Call ## 117 ## Duration:  147
**** Call ## 118 ## Duration:  135
**** Call ## 119 ## Duration:  128
      ✓ should follow/unfollow user (1045ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  96
**** Call ## 122 ## Duration:  73
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  61
      ✓ should update user (299ms)
**** Call ## 125 ## Duration:  16 (ERR)
**** Call ## 126 ## Duration:  54 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  79
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (142ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  182
**** Call ## 1 ## Duration:  124
**** Call ## 2 ## Duration:  121
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (107ms)
**** Call ## 4 ## Duration:  94
      ✓ should create article with tags (97ms)
**** Call ## 5 ## Duration:  114 (ERR)
      ✓ should disallow unauthenticated user (114ms)
**** Call ## 6 ## Duration:  52 (ERR)
**** Call ## 7 ## Duration:  50 (ERR)
**** Call ## 8 ## Duration:  71 (ERR)
**** Call ## 9 ## Duration:  63 (ERR)
      ✓ should enforce required fields (239ms)
    Get
**** Call ## 10 ## Duration:  89
      ✓ should get article by slug (90ms)
**** Call ## 11 ## Duration:  88
      ✓ should get article with tags by slug (88ms)
**** Call ## 12 ## Duration:  35 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  177
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  157
      ✓ should update article (481ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  18 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (72ms)
**** Call ## 20 ## Duration:  65 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  138
**** Call ## 22 ## Duration:  117
      ✓ should favorite article (256ms)
**** Call ## 23 ## Duration:  26 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  244
      ✓ should unfavorite article (244ms)
    Delete
**** Call ## 26 ## Duration:  110
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (156ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown article (59ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (66ms)
    List
**** Call ## 31 ## Duration:  89
**** Call ## 32 ## Duration:  76
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  74
**** Call ## 35 ## Duration:  70
**** Call ## 36 ## Duration:  87
**** Call ## 37 ## Duration:  69
**** Call ## 38 ## Duration:  74
**** Call ## 39 ## Duration:  127
**** Call ## 40 ## Duration:  104
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  186
**** Call ## 43 ## Duration:  94
**** Call ## 44 ## Duration:  82
**** Call ## 45 ## Duration:  115
**** Call ## 46 ## Duration:  77
**** Call ## 47 ## Duration:  64
**** Call ## 48 ## Duration:  74
**** Call ## 49 ## Duration:  124
**** Call ## 50 ## Duration:  56
**** Call ## 51 ## Duration:  483
      ✓ should list articles (483ms)
**** Call ## 52 ## Duration:  211
**** Call ## 53 ## Duration:  302
      ✓ should list articles with tag (513ms)
**** Call ## 54 ## Duration:  271
      ✓ should list articles by author (271ms)
**** Call ## 55 ## Duration:  62
      ✓ should list articles favorited by user (62ms)
**** Call ## 56 ## Duration:  97
**** Call ## 57 ## Duration:  68
      ✓ should list articles by limit/offset (165ms)
**** Call ## 58 ## Duration:  395
      ✓ should list articles when authenticated (395ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  94
**** Call ## 63 ## Duration:  135
**** Call ## 64 ## Duration:  274
**** Call ## 65 ## Duration:  126
**** Call ## 66 ## Duration:  434
      ✓ should get feed (1063ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  188
      ✓ should get tags (188ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  131
**** Call ## 71 ## Duration:  103
    Create
**** Call ## 72 ## Duration:  148
**** Call ## 73 ## Duration:  102
**** Call ## 74 ## Duration:  99
**** Call ## 75 ## Duration:  113
**** Call ## 76 ## Duration:  75
**** Call ## 77 ## Duration:  93
**** Call ## 78 ## Duration:  101
**** Call ## 79 ## Duration:  92
**** Call ## 80 ## Duration:  97
**** Call ## 81 ## Duration:  77
      ✓ should create comment (1000ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  71 (ERR)
      ✓ should enforce comment body (71ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (67ms)
    Get
**** Call ## 85 ## Duration:  231
      ✓ should get all comments for article (231ms)
    Delete
**** Call ## 86 ## Duration:  111
      ✓ should delete comment (111ms)
**** Call ## 87 ## Duration:  48 (ERR)
      ✓ only comment author should be able to delete comment (49ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (66ms)

  User
    Create
**** Call ## 90 ## Duration:  116
      ✓ should create user (117ms)
**** Call ## 91 ## Duration:  31 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  62 (ERR)
      ✓ should disallow same email (62ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  68
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  61 (ERR)
      ✓ should disallow wrong password (61ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (88ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (70ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  118
**** Call ## 111 ## Duration:  109
**** Call ## 112 ## Duration:  98
**** Call ## 113 ## Duration:  83
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  124
**** Call ## 116 ## Duration:  125
**** Call ## 117 ## Duration:  122
**** Call ## 118 ## Duration:  152
**** Call ## 119 ## Duration:  108
      ✓ should follow/unfollow user (1100ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  89
**** Call ## 122 ## Duration:  50
**** Call ## 123 ## Duration:  64
**** Call ## 124 ## Duration:  56
      ✓ should update user (260ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  118
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (179ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  217
**** Call ## 1 ## Duration:  160
**** Call ## 2 ## Duration:  105
    Create
**** Call ## 3 ## Duration:  96
      ✓ should create article (98ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (93ms)
**** Call ## 5 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  72 (ERR)
**** Call ## 7 ## Duration:  62 (ERR)
**** Call ## 8 ## Duration:  103 (ERR)
**** Call ## 9 ## Duration:  70 (ERR)
      ✓ should enforce required fields (308ms)
    Get
**** Call ## 10 ## Duration:  109
      ✓ should get article by slug (109ms)
**** Call ## 11 ## Duration:  118
      ✓ should get article with tags by slug (119ms)
**** Call ## 12 ## Duration:  55 (ERR)
      ✓ should disallow unknown slug (55ms)
    Update
**** Call ## 13 ## Duration:  147
**** Call ## 14 ## Duration:  153
**** Call ## 15 ## Duration:  172
      ✓ should update article (477ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  57 (ERR)
      ✓ should disallow updating non-existent article (57ms)
**** Call ## 20 ## Duration:  70 (ERR)
      ✓ should disallow non-author from updating (70ms)
    Favorite
**** Call ## 21 ## Duration:  156
**** Call ## 22 ## Duration:  124
      ✓ should favorite article (280ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  121
**** Call ## 27 ## Duration:  47 (ERR)
      ✓ should delete article (168ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (74ms)
**** Call ## 30 ## Duration:  64 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  91
**** Call ## 32 ## Duration:  66
**** Call ## 33 ## Duration:  85
**** Call ## 34 ## Duration:  98
**** Call ## 35 ## Duration:  75
**** Call ## 36 ## Duration:  80
**** Call ## 37 ## Duration:  69
**** Call ## 38 ## Duration:  91
**** Call ## 39 ## Duration:  65
**** Call ## 40 ## Duration:  91
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  92
**** Call ## 43 ## Duration:  93
**** Call ## 44 ## Duration:  81
**** Call ## 45 ## Duration:  77
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  61
**** Call ## 48 ## Duration:  62
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  87
**** Call ## 51 ## Duration:  620
      ✓ should list articles (620ms)
**** Call ## 52 ## Duration:  243
**** Call ## 53 ## Duration:  320
      ✓ should list articles with tag (563ms)
**** Call ## 54 ## Duration:  234
      ✓ should list articles by author (234ms)
**** Call ## 55 ## Duration:  111
      ✓ should list articles favorited by user (111ms)
**** Call ## 56 ## Duration:  74
**** Call ## 57 ## Duration:  74
      ✓ should list articles by limit/offset (148ms)
**** Call ## 58 ## Duration:  400
      ✓ should list articles when authenticated (400ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 62 ## Duration:  97
**** Call ## 63 ## Duration:  135
**** Call ## 64 ## Duration:  295
**** Call ## 65 ## Duration:  132
**** Call ## 66 ## Duration:  346
      ✓ should get feed (1006ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  131
      ✓ should get tags (131ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  98
**** Call ## 71 ## Duration:  122
    Create
**** Call ## 72 ## Duration:  118
**** Call ## 73 ## Duration:  113
**** Call ## 74 ## Duration:  101
**** Call ## 75 ## Duration:  147
**** Call ## 76 ## Duration:  107
**** Call ## 77 ## Duration:  110
**** Call ## 78 ## Duration:  224
**** Call ## 79 ## Duration:  97
**** Call ## 80 ## Duration:  73
**** Call ## 81 ## Duration:  112
      ✓ should create comment (1204ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  41 (ERR)
      ✓ should enforce comment body (41ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  213
      ✓ should get all comments for article (214ms)
    Delete
**** Call ## 86 ## Duration:  110
      ✓ should delete comment (110ms)
**** Call ## 87 ## Duration:  53 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (65ms)

  User
    Create
**** Call ## 90 ## Duration:  112
      ✓ should create user (113ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  70
      ✓ should login (70ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (83ms)
    Profile
**** Call ## 108 ## Duration:  60
      ✓ should get profile (60ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  115
**** Call ## 111 ## Duration:  133
**** Call ## 112 ## Duration:  127
**** Call ## 113 ## Duration:  85
**** Call ## 114 ## Duration:  69
**** Call ## 115 ## Duration:  99
**** Call ## 116 ## Duration:  114
**** Call ## 117 ## Duration:  97
**** Call ## 118 ## Duration:  110
**** Call ## 119 ## Duration:  177
      ✓ should follow/unfollow user (1127ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  78
**** Call ## 122 ## Duration:  52
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  68
      ✓ should update user (260ms)
**** Call ## 125 ## Duration:  17 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (63ms)
**** Call ## 127 ## Duration:  93
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (145ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  142
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  122
    Create
**** Call ## 3 ## Duration:  138
      ✓ should create article (140ms)
**** Call ## 4 ## Duration:  71
      ✓ should create article with tags (74ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  67 (ERR)
**** Call ## 7 ## Duration:  54 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  53 (ERR)
      ✓ should enforce required fields (232ms)
    Get
**** Call ## 10 ## Duration:  98
      ✓ should get article by slug (98ms)
**** Call ## 11 ## Duration:  86
      ✓ should get article with tags by slug (87ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  173
**** Call ## 14 ## Duration:  158
**** Call ## 15 ## Duration:  140
      ✓ should update article (472ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  54 (ERR)
      ✓ should disallow updating non-existent article (55ms)
**** Call ## 20 ## Duration:  71 (ERR)
      ✓ should disallow non-author from updating (71ms)
    Favorite
**** Call ## 21 ## Duration:  158
**** Call ## 22 ## Duration:  119
      ✓ should favorite article (277ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  143
      ✓ should unfavorite article (143ms)
    Delete
**** Call ## 26 ## Duration:  117
**** Call ## 27 ## Duration:  69 (ERR)
      ✓ should delete article (187ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown article (60ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  100
**** Call ## 32 ## Duration:  91
**** Call ## 33 ## Duration:  105
**** Call ## 34 ## Duration:  71
**** Call ## 35 ## Duration:  84
**** Call ## 36 ## Duration:  68
**** Call ## 37 ## Duration:  72
**** Call ## 38 ## Duration:  73
**** Call ## 39 ## Duration:  70
**** Call ## 40 ## Duration:  82
**** Call ## 41 ## Duration:  74
**** Call ## 42 ## Duration:  69
**** Call ## 43 ## Duration:  99
**** Call ## 44 ## Duration:  69
**** Call ## 45 ## Duration:  70
**** Call ## 46 ## Duration:  85
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  70
**** Call ## 49 ## Duration:  80
**** Call ## 50 ## Duration:  71
**** Call ## 51 ## Duration:  441
      ✓ should list articles (441ms)
**** Call ## 52 ## Duration:  279
**** Call ## 53 ## Duration:  359
      ✓ should list articles with tag (639ms)
**** Call ## 54 ## Duration:  217
      ✓ should list articles by author (217ms)
**** Call ## 55 ## Duration:  73
      ✓ should list articles favorited by user (73ms)
**** Call ## 56 ## Duration:  84
**** Call ## 57 ## Duration:  100
      ✓ should list articles by limit/offset (184ms)
**** Call ## 58 ## Duration:  460
      ✓ should list articles when authenticated (460ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 59 ## Duration:  26 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  100
**** Call ## 63 ## Duration:  135
**** Call ## 64 ## Duration:  282
**** Call ## 65 ## Duration:  115
**** Call ## 66 ## Duration:  410
      ✓ should get feed (1042ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  107
      ✓ should get tags (107ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  103
**** Call ## 71 ## Duration:  101
    Create
**** Call ## 72 ## Duration:  107
**** Call ## 73 ## Duration:  78
**** Call ## 74 ## Duration:  97
**** Call ## 75 ## Duration:  86
**** Call ## 76 ## Duration:  93
**** Call ## 77 ## Duration:  134
**** Call ## 78 ## Duration:  121
**** Call ## 79 ## Duration:  104
**** Call ## 80 ## Duration:  107
**** Call ## 81 ## Duration:  103
      ✓ should create comment (1031ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (65ms)
    Get
**** Call ## 85 ## Duration:  215
      ✓ should get all comments for article (215ms)
    Delete
**** Call ## 86 ## Duration:  103
      ✓ should delete comment (103ms)
**** Call ## 87 ## Duration:  46 (ERR)
      ✓ only comment author should be able to delete comment (46ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  116
      ✓ should create user (116ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  81
      ✓ should login (81ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  43 (ERR)
      ✓ should disallow wrong password (43ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  83
      ✓ should get profile (83ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  109
**** Call ## 111 ## Duration:  117
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  75
**** Call ## 114 ## Duration:  194
**** Call ## 115 ## Duration:  123
**** Call ## 116 ## Duration:  108
**** Call ## 117 ## Duration:  126
**** Call ## 118 ## Duration:  107
**** Call ## 119 ## Duration:  128
      ✓ should follow/unfollow user (1194ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  103
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  55
**** Call ## 124 ## Duration:  61
      ✓ should update user (286ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  142
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (204ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  176
**** Call ## 1 ## Duration:  120
**** Call ## 2 ## Duration:  119
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (104ms)
**** Call ## 4 ## Duration:  96
      ✓ should create article with tags (98ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  64 (ERR)
**** Call ## 7 ## Duration:  58 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  75 (ERR)
      ✓ should enforce required fields (254ms)
    Get
**** Call ## 10 ## Duration:  100
      ✓ should get article by slug (100ms)
**** Call ## 11 ## Duration:  6024 (ERR)
      1) should get article with tags by slug

  5 passing (7s)
  1 failing

  1) Article
       Get
         should get article with tags by slug:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:18:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:202:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T07_00_45_465Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  173
**** Call ## 1 ## Duration:  124
**** Call ## 2 ## Duration:  120
    Create
**** Call ## 3 ## Duration:  142
      ✓ should create article (145ms)
**** Call ## 4 ## Duration:  79
      ✓ should create article with tags (81ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  77 (ERR)
**** Call ## 7 ## Duration:  55 (ERR)
**** Call ## 8 ## Duration:  57 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (247ms)
    Get
**** Call ## 10 ## Duration:  239
      ✓ should get article by slug (239ms)
**** Call ## 11 ## Duration:  79
      ✓ should get article with tags by slug (80ms)
**** Call ## 12 ## Duration:  47 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  152
**** Call ## 14 ## Duration:  157
**** Call ## 15 ## Duration:  123
      ✓ should update article (434ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  62 (ERR)
      ✓ should disallow updating non-existent article (62ms)
**** Call ## 20 ## Duration:  78 (ERR)
      ✓ should disallow non-author from updating (78ms)
    Favorite
**** Call ## 21 ## Duration:  142
**** Call ## 22 ## Duration:  114
      ✓ should favorite article (257ms)
**** Call ## 23 ## Duration:  38 (ERR)
      ✓ should disallow favoriting by unauthenticated user (38ms)
**** Call ## 24 ## Duration:  57 (ERR)
      ✓ should disallow favoriting unknown article (57ms)
**** Call ## 25 ## Duration:  154
      ✓ should unfavorite article (154ms)
    Delete
**** Call ## 26 ## Duration:  124
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (165ms)
**** Call ## 28 ## Duration:  27 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (74ms)
**** Call ## 30 ## Duration:  70 (ERR)
      ✓ should disallow deleting article by non-author (71ms)
    List
**** Call ## 31 ## Duration:  91
**** Call ## 32 ## Duration:  95
**** Call ## 33 ## Duration:  86
**** Call ## 34 ## Duration:  84
**** Call ## 35 ## Duration:  92
**** Call ## 36 ## Duration:  78
**** Call ## 37 ## Duration:  72
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  83
**** Call ## 40 ## Duration:  84
**** Call ## 41 ## Duration:  82
**** Call ## 42 ## Duration:  71
**** Call ## 43 ## Duration:  92
**** Call ## 44 ## Duration:  70
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  68
**** Call ## 47 ## Duration:  76
**** Call ## 48 ## Duration:  58
**** Call ## 49 ## Duration:  124
**** Call ## 50 ## Duration:  79
**** Call ## 51 ## Duration:  482
      ✓ should list articles (482ms)
**** Call ## 52 ## Duration:  295
**** Call ## 53 ## Duration:  375
      ✓ should list articles with tag (670ms)
**** Call ## 54 ## Duration:  207
      ✓ should list articles by author (207ms)
**** Call ## 55 ## Duration:  92
      ✓ should list articles favorited by user (92ms)
**** Call ## 56 ## Duration:  83
**** Call ## 57 ## Duration:  84
      ✓ should list articles by limit/offset (167ms)
**** Call ## 58 ## Duration:  428
      ✓ should list articles when authenticated (428ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  31 (ERR)
**** Call ## 62 ## Duration:  91
**** Call ## 63 ## Duration:  137
**** Call ## 64 ## Duration:  306
**** Call ## 65 ## Duration:  135
**** Call ## 66 ## Duration:  384
      ✓ should get feed (1053ms)
**** Call ## 67 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  147
      ✓ should get tags (147ms)

  Comment
**** Call ## 69 ## Duration:  103
**** Call ## 70 ## Duration:  117
**** Call ## 71 ## Duration:  69
    Create
**** Call ## 72 ## Duration:  114
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  99
**** Call ## 75 ## Duration:  101
**** Call ## 76 ## Duration:  193
**** Call ## 77 ## Duration:  95
**** Call ## 78 ## Duration:  84
**** Call ## 79 ## Duration:  116
**** Call ## 80 ## Duration:  107
**** Call ## 81 ## Duration:  115
      ✓ should create comment (1135ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  116 (ERR)
      ✓ should enforce comment body (116ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  217
      ✓ should get all comments for article (217ms)
    Delete
**** Call ## 86 ## Duration:  101
      ✓ should delete comment (101ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (54ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (70ms)

  User
    Create
**** Call ## 90 ## Duration:  111
      ✓ should create user (111ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  66 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  63
      ✓ should login (63ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  37 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  125
**** Call ## 111 ## Duration:  109
**** Call ## 112 ## Duration:  142
**** Call ## 113 ## Duration:  89
**** Call ## 114 ## Duration:  62
**** Call ## 115 ## Duration:  105
**** Call ## 116 ## Duration:  99
**** Call ## 117 ## Duration:  125
**** Call ## 118 ## Duration:  128
**** Call ## 119 ## Duration:  114
      ✓ should follow/unfollow user (1098ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  101
**** Call ## 122 ## Duration:  82
**** Call ## 123 ## Duration:  55
**** Call ## 124 ## Duration:  59
      ✓ should update user (297ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  42 (ERR)
      ✓ should disallow missing token/email in update (64ms)
**** Call ## 127 ## Duration:  97
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (158ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  137
**** Call ## 1 ## Duration:  95
**** Call ## 2 ## Duration:  111
    Create
**** Call ## 3 ## Duration:  118
      ✓ should create article (120ms)
**** Call ## 4 ## Duration:  74
      ✓ should create article with tags (77ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  55 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  57 (ERR)
      ✓ should enforce required fields (240ms)
    Get
**** Call ## 10 ## Duration:  134
      ✓ should get article by slug (135ms)
**** Call ## 11 ## Duration:  75
      ✓ should get article with tags by slug (75ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  164
**** Call ## 14 ## Duration:  118
**** Call ## 15 ## Duration:  133
      ✓ should update article (418ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  52 (ERR)
      ✓ should disallow updating non-existent article (53ms)
**** Call ## 20 ## Duration:  71 (ERR)
      ✓ should disallow non-author from updating (71ms)
    Favorite
**** Call ## 21 ## Duration:  165
**** Call ## 22 ## Duration:  128
      ✓ should favorite article (293ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  170
      ✓ should unfavorite article (170ms)
    Delete
**** Call ## 26 ## Duration:  126
**** Call ## 27 ## Duration:  44 (ERR)
      ✓ should delete article (170ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (65ms)
**** Call ## 30 ## Duration:  86 (ERR)
      ✓ should disallow deleting article by non-author (87ms)
    List
**** Call ## 31 ## Duration:  99
**** Call ## 32 ## Duration:  91
**** Call ## 33 ## Duration:  85
**** Call ## 34 ## Duration:  151
**** Call ## 35 ## Duration:  68
**** Call ## 36 ## Duration:  88
**** Call ## 37 ## Duration:  86
**** Call ## 38 ## Duration:  72
**** Call ## 39 ## Duration:  81
**** Call ## 40 ## Duration:  81
**** Call ## 41 ## Duration:  55
**** Call ## 42 ## Duration:  92
**** Call ## 43 ## Duration:  59
**** Call ## 44 ## Duration:  80
**** Call ## 45 ## Duration:  60
**** Call ## 46 ## Duration:  66
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  59
**** Call ## 49 ## Duration:  68
**** Call ## 50 ## Duration:  50
**** Call ## 51 ## Duration:  459
      ✓ should list articles (459ms)
**** Call ## 52 ## Duration:  330
**** Call ## 53 ## Duration:  353
      ✓ should list articles with tag (684ms)
**** Call ## 54 ## Duration:  242
      ✓ should list articles by author (242ms)
**** Call ## 55 ## Duration:  65
      ✓ should list articles favorited by user (65ms)
**** Call ## 56 ## Duration:  87
**** Call ## 57 ## Duration:  102
      ✓ should list articles by limit/offset (189ms)
**** Call ## 58 ## Duration:  446
      ✓ should list articles when authenticated (446ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  89
**** Call ## 63 ## Duration:  125
**** Call ## 64 ## Duration:  272
**** Call ## 65 ## Duration:  95
**** Call ## 66 ## Duration:  412
      ✓ should get feed (993ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  182
      ✓ should get tags (183ms)

  Comment
**** Call ## 69 ## Duration:  96
**** Call ## 70 ## Duration:  84
**** Call ## 71 ## Duration:  87
    Create
**** Call ## 72 ## Duration:  135
**** Call ## 73 ## Duration:  94
**** Call ## 74 ## Duration:  96
**** Call ## 75 ## Duration:  94
**** Call ## 76 ## Duration:  117
**** Call ## 77 ## Duration:  89
**** Call ## 78 ## Duration:  83
**** Call ## 79 ## Duration:  118
**** Call ## 80 ## Duration:  123
**** Call ## 81 ## Duration:  107
      ✓ should create comment (1056ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  230
      ✓ should get all comments for article (230ms)
    Delete
**** Call ## 86 ## Duration:  131
      ✓ should delete comment (131ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (66ms)

  User
    Create
**** Call ## 90 ## Duration:  84
      ✓ should create user (84ms)
**** Call ## 91 ## Duration:  35 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  60 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  25 (ERR)
      ✓ should enforce required fields (88ms)
    Login
**** Call ## 97 ## Duration:  84
      ✓ should login (84ms)
**** Call ## 98 ## Duration:  34 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  54 (ERR)
      ✓ should disallow wrong password (56ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  56
      ✓ should get current user (56ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (83ms)
    Profile
**** Call ## 108 ## Duration:  71
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  102
**** Call ## 111 ## Duration:  130
**** Call ## 112 ## Duration:  93
**** Call ## 113 ## Duration:  78
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  117
**** Call ## 116 ## Duration:  124
**** Call ## 117 ## Duration:  138
**** Call ## 118 ## Duration:  116
**** Call ## 119 ## Duration:  153
      ✓ should follow/unfollow user (1111ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  89
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  63
**** Call ## 124 ## Duration:  73
      ✓ should update user (291ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (62ms)
**** Call ## 127 ## Duration:  108
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (169ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  172
**** Call ## 1 ## Duration:  117
**** Call ## 2 ## Duration:  114
    Create
**** Call ## 3 ## Duration:  92
      ✓ should create article (94ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (92ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  55 (ERR)
**** Call ## 7 ## Duration:  63 (ERR)
**** Call ## 8 ## Duration:  79 (ERR)
**** Call ## 9 ## Duration:  54 (ERR)
      ✓ should enforce required fields (254ms)
    Get
**** Call ## 10 ## Duration:  87
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  85
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  38 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  141
**** Call ## 14 ## Duration:  109
**** Call ## 15 ## Duration:  109
      ✓ should update article (364ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (65ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  152
**** Call ## 22 ## Duration:  121
      ✓ should favorite article (273ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  78 (ERR)
      ✓ should disallow favoriting unknown article (78ms)
**** Call ## 25 ## Duration:  179
      ✓ should unfavorite article (179ms)
    Delete
**** Call ## 26 ## Duration:  114
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (155ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (65ms)
**** Call ## 30 ## Duration:  58 (ERR)
      ✓ should disallow deleting article by non-author (58ms)
    List
**** Call ## 31 ## Duration:  102
**** Call ## 32 ## Duration:  95
**** Call ## 33 ## Duration:  98
**** Call ## 34 ## Duration:  90
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  98
**** Call ## 37 ## Duration:  85
**** Call ## 38 ## Duration:  97
**** Call ## 39 ## Duration:  115
**** Call ## 40 ## Duration:  81
**** Call ## 41 ## Duration:  102
**** Call ## 42 ## Duration:  102
**** Call ## 43 ## Duration:  87
**** Call ## 44 ## Duration:  62
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  92
**** Call ## 47 ## Duration:  82
**** Call ## 48 ## Duration:  82
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  78
**** Call ## 51 ## Duration:  393
      ✓ should list articles (393ms)
**** Call ## 52 ## Duration:  306
**** Call ## 53 ## Duration:  373
      ✓ should list articles with tag (679ms)
**** Call ## 54 ## Duration:  252
      ✓ should list articles by author (252ms)
**** Call ## 55 ## Duration:  77
      ✓ should list articles favorited by user (78ms)
**** Call ## 56 ## Duration:  80
**** Call ## 57 ## Duration:  71
      ✓ should list articles by limit/offset (155ms)
**** Call ## 58 ## Duration:  497
      ✓ should list articles when authenticated (497ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  42 (ERR)
**** Call ## 62 ## Duration:  87
**** Call ## 63 ## Duration:  120
**** Call ## 64 ## Duration:  298
**** Call ## 65 ## Duration:  118
**** Call ## 66 ## Duration:  338
      ✓ should get feed (962ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  157
      ✓ should get tags (157ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  100
**** Call ## 71 ## Duration:  90
    Create
**** Call ## 72 ## Duration:  102
**** Call ## 73 ## Duration:  102
**** Call ## 74 ## Duration:  103
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  111
**** Call ## 77 ## Duration:  90
**** Call ## 78 ## Duration:  86
**** Call ## 79 ## Duration:  98
**** Call ## 80 ## Duration:  138
**** Call ## 81 ## Duration:  88
      ✓ should create comment (1022ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (63ms)
    Get
**** Call ## 85 ## Duration:  226
      ✓ should get all comments for article (227ms)
    Delete
**** Call ## 86 ## Duration:  109
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  50 (ERR)
      ✓ only comment author should be able to delete comment (50ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown comment (58ms)

  User
    Create
**** Call ## 90 ## Duration:  104
      ✓ should create user (104ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  66
      ✓ should login (66ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (53ms)
**** Call ## 104 ## Duration:  33 (ERR)
**** Call ## 105 ## Duration:  18 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (91ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  36 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  164
**** Call ## 111 ## Duration:  149
**** Call ## 112 ## Duration:  249
**** Call ## 113 ## Duration:  119
**** Call ## 114 ## Duration:  59
**** Call ## 115 ## Duration:  105
**** Call ## 116 ## Duration:  99
**** Call ## 117 ## Duration:  130
**** Call ## 118 ## Duration:  108
**** Call ## 119 ## Duration:  97
      ✓ should follow/unfollow user (1282ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  79
**** Call ## 122 ## Duration:  63
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  61
      ✓ should update user (256ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  89
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (140ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  182
**** Call ## 1 ## Duration:  135
**** Call ## 2 ## Duration:  115
    Create
**** Call ## 3 ## Duration:  89
      ✓ should create article (92ms)
**** Call ## 4 ## Duration:  56
      ✓ should create article with tags (58ms)
**** Call ## 5 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  69 (ERR)
**** Call ## 7 ## Duration:  71 (ERR)
**** Call ## 8 ## Duration:  69 (ERR)
**** Call ## 9 ## Duration:  85 (ERR)
      ✓ should enforce required fields (297ms)
    Get
**** Call ## 10 ## Duration:  93
      ✓ should get article by slug (93ms)
**** Call ## 11 ## Duration:  77
      ✓ should get article with tags by slug (78ms)
**** Call ## 12 ## Duration:  32 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  147
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  147
      ✓ should update article (445ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  129
**** Call ## 22 ## Duration:  98
      ✓ should favorite article (227ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  55 (ERR)
      ✓ should disallow favoriting unknown article (56ms)
**** Call ## 25 ## Duration:  209
      ✓ should unfavorite article (210ms)
    Delete
**** Call ## 26 ## Duration:  92
**** Call ## 27 ## Duration:  45 (ERR)
      ✓ should delete article (138ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  59 (ERR)
      ✓ should disallow deleting article by non-author (60ms)
    List
**** Call ## 31 ## Duration:  99
**** Call ## 32 ## Duration:  80
**** Call ## 33 ## Duration:  108
**** Call ## 34 ## Duration:  82
**** Call ## 35 ## Duration:  84
**** Call ## 36 ## Duration:  72
**** Call ## 37 ## Duration:  73
**** Call ## 38 ## Duration:  106
**** Call ## 39 ## Duration:  74
**** Call ## 40 ## Duration:  127
**** Call ## 41 ## Duration:  101
**** Call ## 42 ## Duration:  75
**** Call ## 43 ## Duration:  91
**** Call ## 44 ## Duration:  67
**** Call ## 45 ## Duration:  65
**** Call ## 46 ## Duration:  123
**** Call ## 47 ## Duration:  67
**** Call ## 48 ## Duration:  85
**** Call ## 49 ## Duration:  82
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  443
      ✓ should list articles (443ms)
**** Call ## 52 ## Duration:  311
**** Call ## 53 ## Duration:  361
      ✓ should list articles with tag (673ms)
**** Call ## 54 ## Duration:  256
      ✓ should list articles by author (256ms)
**** Call ## 55 ## Duration:  87
      ✓ should list articles favorited by user (87ms)
**** Call ## 56 ## Duration:  80
**** Call ## 57 ## Duration:  90
      ✓ should list articles by limit/offset (170ms)
**** Call ## 58 ## Duration:  451
      ✓ should list articles when authenticated (451ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  84
**** Call ## 63 ## Duration:  140
**** Call ## 64 ## Duration:  296
**** Call ## 65 ## Duration:  100
**** Call ## 66 ## Duration:  470
      ✓ should get feed (1091ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  157
      ✓ should get tags (157ms)

  Comment
**** Call ## 69 ## Duration:  109
**** Call ## 70 ## Duration:  109
**** Call ## 71 ## Duration:  138
    Create
**** Call ## 72 ## Duration:  107
**** Call ## 73 ## Duration:  113
**** Call ## 74 ## Duration:  99
**** Call ## 75 ## Duration:  105
**** Call ## 76 ## Duration:  98
**** Call ## 77 ## Duration:  80
**** Call ## 78 ## Duration:  83
**** Call ## 79 ## Duration:  98
**** Call ## 80 ## Duration:  80
**** Call ## 81 ## Duration:  93
      ✓ should create comment (959ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  41 (ERR)
      ✓ should enforce comment body (41ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (57ms)
    Get
**** Call ## 85 ## Duration:  195
      ✓ should get all comments for article (196ms)
    Delete
**** Call ## 86 ## Duration:  103
      ✓ should delete comment (103ms)
**** Call ## 87 ## Duration:  56 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  117
      ✓ should create user (117ms)
**** Call ## 91 ## Duration:  58 (ERR)
      ✓ should disallow same username (58ms)
**** Call ## 92 ## Duration:  53 (ERR)
      ✓ should disallow same email (53ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (87ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  43 (ERR)
      ✓ should disallow wrong password (43ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  24 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  78
      ✓ should get profile (78ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  106
**** Call ## 111 ## Duration:  160
**** Call ## 112 ## Duration:  118
**** Call ## 113 ## Duration:  85
**** Call ## 114 ## Duration:  71
**** Call ## 115 ## Duration:  106
**** Call ## 116 ## Duration:  99
**** Call ## 117 ## Duration:  127
**** Call ## 118 ## Duration:  166
**** Call ## 119 ## Duration:  130
      ✓ should follow/unfollow user (1170ms)
**** Call ## 120 ## Duration:  33 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  75
      ✓ should update user (277ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  52 (ERR)
      ✓ should disallow missing token/email in update (72ms)
**** Call ## 127 ## Duration:  116
**** Call ## 128 ## Duration:  71 (ERR)
      ✓ should disallow reusing email (187ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  164
**** Call ## 1 ## Duration:  140
**** Call ## 2 ## Duration:  99
    Create
**** Call ## 3 ## Duration:  99
      ✓ should create article (101ms)
**** Call ## 4 ## Duration:  118
      ✓ should create article with tags (120ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  94 (ERR)
**** Call ## 7 ## Duration:  62 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  65 (ERR)
      ✓ should enforce required fields (279ms)
    Get
**** Call ## 10 ## Duration:  97
      ✓ should get article by slug (97ms)
**** Call ## 11 ## Duration:  71
      ✓ should get article with tags by slug (72ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  155
**** Call ## 14 ## Duration:  135
**** Call ## 15 ## Duration:  195
      ✓ should update article (489ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  50 (ERR)
      ✓ should disallow unauthenticated update (50ms)
**** Call ## 19 ## Duration:  70 (ERR)
      ✓ should disallow updating non-existent article (71ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  120
**** Call ## 22 ## Duration:  164
      ✓ should favorite article (284ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  58 (ERR)
      ✓ should disallow favoriting unknown article (58ms)
**** Call ## 25 ## Duration:  147
      ✓ should unfavorite article (147ms)
    Delete
**** Call ## 26 ## Duration:  103
**** Call ## 27 ## Duration:  45 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  17 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown article (58ms)
**** Call ## 30 ## Duration:  62 (ERR)
      ✓ should disallow deleting article by non-author (62ms)
    List
**** Call ## 31 ## Duration:  100
**** Call ## 32 ## Duration:  88
**** Call ## 33 ## Duration:  71
**** Call ## 34 ## Duration:  68
**** Call ## 35 ## Duration:  78
**** Call ## 36 ## Duration:  100
**** Call ## 37 ## Duration:  79
**** Call ## 38 ## Duration:  82
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  76
**** Call ## 41 ## Duration:  71
**** Call ## 42 ## Duration:  69
**** Call ## 43 ## Duration:  122
**** Call ## 44 ## Duration:  72
**** Call ## 45 ## Duration:  81
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  82
**** Call ## 48 ## Duration:  79
**** Call ## 49 ## Duration:  70
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  532
      ✓ should list articles (532ms)
**** Call ## 52 ## Duration:  314
**** Call ## 53 ## Duration:  477
      ✓ should list articles with tag (793ms)
**** Call ## 54 ## Duration:  338
      ✓ should list articles by author (338ms)
**** Call ## 55 ## Duration:  82
      ✓ should list articles favorited by user (82ms)
**** Call ## 56 ## Duration:  93
**** Call ## 57 ## Duration:  110
      ✓ should list articles by limit/offset (203ms)
**** Call ## 58 ## Duration:  419
      ✓ should list articles when authenticated (419ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  125
**** Call ## 63 ## Duration:  120
**** Call ## 64 ## Duration:  308
**** Call ## 65 ## Duration:  151
**** Call ## 66 ## Duration:  381
      ✓ should get feed (1087ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  192
      ✓ should get tags (192ms)

  Comment
**** Call ## 69 ## Duration:  112
**** Call ## 70 ## Duration:  98
**** Call ## 71 ## Duration:  94
    Create
**** Call ## 72 ## Duration:  118
**** Call ## 73 ## Duration:  108
**** Call ## 74 ## Duration:  108
**** Call ## 75 ## Duration:  92
**** Call ## 76 ## Duration:  100
**** Call ## 77 ## Duration:  104
**** Call ## 78 ## Duration:  82
**** Call ## 79 ## Duration:  99
**** Call ## 80 ## Duration:  122
**** Call ## 81 ## Duration:  115
      ✓ should create comment (1048ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  42 (ERR)
      ✓ should disallow non-existent article (42ms)
    Get
**** Call ## 85 ## Duration:  230
      ✓ should get all comments for article (230ms)
    Delete
**** Call ## 86 ## Duration:  118
      ✓ should delete comment (118ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (52ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  186
      ✓ should create user (186ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  56 (ERR)
      ✓ should disallow same email (56ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  69
      ✓ should login (69ms)
**** Call ## 98 ## Duration:  69 (ERR)
      ✓ should disallow unknown email (69ms)
**** Call ## 99 ## Duration:  39 (ERR)
      ✓ should disallow wrong password (39ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  75
      ✓ should get profile (75ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  102
**** Call ## 111 ## Duration:  112
**** Call ## 112 ## Duration:  93
**** Call ## 113 ## Duration:  85
**** Call ## 114 ## Duration:  69
**** Call ## 115 ## Duration:  113
**** Call ## 116 ## Duration:  281
**** Call ## 117 ## Duration:  135
**** Call ## 118 ## Duration:  128
**** Call ## 119 ## Duration:  101
      ✓ should follow/unfollow user (1222ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  84
**** Call ## 122 ## Duration:  55
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  67
      ✓ should update user (276ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (71ms)
**** Call ## 127 ## Duration:  103
**** Call ## 128 ## Duration:  66 (ERR)
      ✓ should disallow reusing email (170ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  162
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  104
    Create
**** Call ## 3 ## Duration:  91
      ✓ should create article (94ms)
**** Call ## 4 ## Duration:  89
      ✓ should create article with tags (91ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  67 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  62 (ERR)
      ✓ should enforce required fields (254ms)
    Get
**** Call ## 10 ## Duration:  85
      ✓ should get article by slug (85ms)
**** Call ## 11 ## Duration:  92
      ✓ should get article with tags by slug (93ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  183
**** Call ## 15 ## Duration:  137
      ✓ should update article (477ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  65 (ERR)
      ✓ should disallow updating non-existent article (66ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  154
**** Call ## 22 ## Duration:  109
      ✓ should favorite article (264ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  141
      ✓ should unfavorite article (141ms)
    Delete
**** Call ## 26 ## Duration:  164
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (205ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (63ms)
**** Call ## 30 ## Duration:  56 (ERR)
      ✓ should disallow deleting article by non-author (56ms)
    List
**** Call ## 31 ## Duration:  97
**** Call ## 32 ## Duration:  90
**** Call ## 33 ## Duration:  78
**** Call ## 34 ## Duration:  83
**** Call ## 35 ## Duration:  96
**** Call ## 36 ## Duration:  77
**** Call ## 37 ## Duration:  91
**** Call ## 38 ## Duration:  68
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  70
**** Call ## 41 ## Duration:  79
**** Call ## 42 ## Duration:  78
**** Call ## 43 ## Duration:  80
**** Call ## 44 ## Duration:  79
**** Call ## 45 ## Duration:  83
**** Call ## 46 ## Duration:  71
**** Call ## 47 ## Duration:  78
**** Call ## 48 ## Duration:  52
**** Call ## 49 ## Duration:  75
**** Call ## 50 ## Duration:  75
**** Call ## 51 ## Duration:  491
      ✓ should list articles (491ms)
**** Call ## 52 ## Duration:  354
**** Call ## 53 ## Duration:  416
      ✓ should list articles with tag (771ms)
**** Call ## 54 ## Duration:  201
      ✓ should list articles by author (202ms)
**** Call ## 55 ## Duration:  88
      ✓ should list articles favorited by user (88ms)
**** Call ## 56 ## Duration:  83
**** Call ## 57 ## Duration:  81
      ✓ should list articles by limit/offset (164ms)
**** Call ## 58 ## Duration:  414
      ✓ should list articles when authenticated (414ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  81
**** Call ## 63 ## Duration:  113
**** Call ## 64 ## Duration:  300
**** Call ## 65 ## Duration:  122
**** Call ## 66 ## Duration:  398
      ✓ should get feed (1015ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  181
      ✓ should get tags (181ms)

  Comment
**** Call ## 69 ## Duration:  102
**** Call ## 70 ## Duration:  118
**** Call ## 71 ## Duration:  69
    Create
**** Call ## 72 ## Duration:  115
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  111
**** Call ## 75 ## Duration:  84
**** Call ## 76 ## Duration:  93
**** Call ## 77 ## Duration:  107
**** Call ## 78 ## Duration:  76
**** Call ## 79 ## Duration:  105
**** Call ## 80 ## Duration:  108
**** Call ## 81 ## Duration:  90
      ✓ should create comment (994ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (63ms)
    Get
**** Call ## 85 ## Duration:  254
      ✓ should get all comments for article (254ms)
    Delete
**** Call ## 86 ## Duration:  91
      ✓ should delete comment (91ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (62ms)

  User
    Create
**** Call ## 90 ## Duration:  113
      ✓ should create user (114ms)
**** Call ## 91 ## Duration:  33 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  74
      ✓ should login (75ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  42 (ERR)
      ✓ should disallow wrong password (43ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (79ms)
    Profile
**** Call ## 108 ## Duration:  59
      ✓ should get profile (60ms)
**** Call ## 109 ## Duration:  53 (ERR)
      ✓ should disallow unknown username (53ms)
**** Call ## 110 ## Duration:  101
**** Call ## 111 ## Duration:  100
**** Call ## 112 ## Duration:  131
**** Call ## 113 ## Duration:  73
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  97
**** Call ## 116 ## Duration:  109
**** Call ## 117 ## Duration:  139
**** Call ## 118 ## Duration:  101
**** Call ## 119 ## Duration:  101
      ✓ should follow/unfollow user (1011ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  84
**** Call ## 122 ## Duration:  64
**** Call ## 123 ## Duration:  49
**** Call ## 124 ## Duration:  49
      ✓ should update user (246ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  44 (ERR)
      ✓ should disallow missing token/email in update (62ms)
**** Call ## 127 ## Duration:  102
**** Call ## 128 ## Duration:  57 (ERR)
      ✓ should disallow reusing email (160ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  173
**** Call ## 1 ## Duration:  114
**** Call ## 2 ## Duration:  114
    Create
**** Call ## 3 ## Duration:  78
      ✓ should create article (80ms)
**** Call ## 4 ## Duration:  82
      ✓ should create article with tags (84ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  66 (ERR)
**** Call ## 8 ## Duration:  62 (ERR)
**** Call ## 9 ## Duration:  60 (ERR)
      ✓ should enforce required fields (258ms)
    Get
**** Call ## 10 ## Duration:  83
      ✓ should get article by slug (83ms)
**** Call ## 11 ## Duration:  80
      ✓ should get article with tags by slug (80ms)
**** Call ## 12 ## Duration:  33 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  150
**** Call ## 14 ## Duration:  178
**** Call ## 15 ## Duration:  140
      ✓ should update article (470ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  90 (ERR)
      ✓ should disallow updating non-existent article (90ms)
**** Call ## 20 ## Duration:  51 (ERR)
      ✓ should disallow non-author from updating (51ms)
    Favorite
**** Call ## 21 ## Duration:  187
**** Call ## 22 ## Duration:  126
      ✓ should favorite article (313ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  124
      ✓ should unfavorite article (125ms)
    Delete
**** Call ## 26 ## Duration:  93
**** Call ## 27 ## Duration:  37 (ERR)
      ✓ should delete article (130ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  54 (ERR)
      ✓ should disallow deleting article by non-author (54ms)
    List
**** Call ## 31 ## Duration:  96
**** Call ## 32 ## Duration:  89
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  74
**** Call ## 35 ## Duration:  124
**** Call ## 36 ## Duration:  82
**** Call ## 37 ## Duration:  63
**** Call ## 38 ## Duration:  94
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  67
**** Call ## 41 ## Duration:  72
**** Call ## 42 ## Duration:  88
**** Call ## 43 ## Duration:  78
**** Call ## 44 ## Duration:  74
**** Call ## 45 ## Duration:  56
**** Call ## 46 ## Duration:  88
**** Call ## 47 ## Duration:  90
**** Call ## 48 ## Duration:  76
**** Call ## 49 ## Duration:  56
**** Call ## 50 ## Duration:  65
**** Call ## 51 ## Duration:  448
      ✓ should list articles (448ms)
**** Call ## 52 ## Duration:  424
**** Call ## 53 ## Duration:  354
      ✓ should list articles with tag (778ms)
**** Call ## 54 ## Duration:  248
      ✓ should list articles by author (248ms)
**** Call ## 55 ## Duration:  93
      ✓ should list articles favorited by user (94ms)
**** Call ## 56 ## Duration:  76
**** Call ## 57 ## Duration:  93
      ✓ should list articles by limit/offset (170ms)
**** Call ## 58 ## Duration:  455
      ✓ should list articles when authenticated (455ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  82
**** Call ## 63 ## Duration:  136
**** Call ## 64 ## Duration:  324
**** Call ## 65 ## Duration:  110
**** Call ## 66 ## Duration:  367
      ✓ should get feed (1021ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  203
      ✓ should get tags (203ms)

  Comment
**** Call ## 69 ## Duration:  104
**** Call ## 70 ## Duration:  108
**** Call ## 71 ## Duration:  79
    Create
**** Call ## 72 ## Duration:  116
**** Call ## 73 ## Duration:  110
**** Call ## 74 ## Duration:  90
**** Call ## 75 ## Duration:  93
**** Call ## 76 ## Duration:  80
**** Call ## 77 ## Duration:  97
**** Call ## 78 ## Duration:  87
**** Call ## 79 ## Duration:  93
**** Call ## 80 ## Duration:  80
**** Call ## 81 ## Duration:  83
      ✓ should create comment (930ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  64 (ERR)
      ✓ should enforce comment body (64ms)
**** Call ## 84 ## Duration:  72 (ERR)
      ✓ should disallow non-existent article (72ms)
    Get
**** Call ## 85 ## Duration:  216
      ✓ should get all comments for article (216ms)
    Delete
**** Call ## 86 ## Duration:  100
      ✓ should delete comment (101ms)
**** Call ## 87 ## Duration:  68 (ERR)
      ✓ only comment author should be able to delete comment (68ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (66ms)

  User
    Create
**** Call ## 90 ## Duration:  98
      ✓ should create user (99ms)
**** Call ## 91 ## Duration:  61 (ERR)
      ✓ should disallow same username (61ms)
**** Call ## 92 ## Duration:  43 (ERR)
      ✓ should disallow same email (43ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  68
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (44ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  17 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (57ms)
    Get
**** Call ## 103 ## Duration:  82
      ✓ should get current user (82ms)
**** Call ## 104 ## Duration:  16 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  67
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  36 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  124
**** Call ## 111 ## Duration:  111
**** Call ## 112 ## Duration:  87
**** Call ## 113 ## Duration:  64
**** Call ## 114 ## Duration:  78
**** Call ## 115 ## Duration:  116
**** Call ## 116 ## Duration:  90
**** Call ## 117 ## Duration:  92
**** Call ## 118 ## Duration:  115
**** Call ## 119 ## Duration:  91
      ✓ should follow/unfollow user (969ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  79
**** Call ## 122 ## Duration:  73
**** Call ## 123 ## Duration:  51
**** Call ## 124 ## Duration:  57
      ✓ should update user (260ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  44 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  159
**** Call ## 128 ## Duration:  54 (ERR)
      ✓ should disallow reusing email (214ms)

  Util
    Ping
**** Call ## 129 ## Duration:  18
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  158
**** Call ## 1 ## Duration:  106
**** Call ## 2 ## Duration:  94
    Create
**** Call ## 3 ## Duration:  92
      ✓ should create article (94ms)
**** Call ## 4 ## Duration:  93
      ✓ should create article with tags (95ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  65 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  58 (ERR)
**** Call ## 9 ## Duration:  60 (ERR)
      ✓ should enforce required fields (245ms)
    Get
**** Call ## 10 ## Duration:  100
      ✓ should get article by slug (100ms)
**** Call ## 11 ## Duration:  75
      ✓ should get article with tags by slug (76ms)
**** Call ## 12 ## Duration:  38 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  154
**** Call ## 14 ## Duration:  127
**** Call ## 15 ## Duration:  114
      ✓ should update article (396ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  50 (ERR)
      ✓ should disallow non-author from updating (50ms)
    Favorite
**** Call ## 21 ## Duration:  151
**** Call ## 22 ## Duration:  106
      ✓ should favorite article (258ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  69 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (132ms)
    Delete
**** Call ## 26 ## Duration:  144
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (184ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (65ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  90
**** Call ## 32 ## Duration:  78
**** Call ## 33 ## Duration:  71
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  87
**** Call ## 36 ## Duration:  95
**** Call ## 37 ## Duration:  84
**** Call ## 38 ## Duration:  76
**** Call ## 39 ## Duration:  66
**** Call ## 40 ## Duration:  80
**** Call ## 41 ## Duration:  71
**** Call ## 42 ## Duration:  83
**** Call ## 43 ## Duration:  72
**** Call ## 44 ## Duration:  74
**** Call ## 45 ## Duration:  111
**** Call ## 46 ## Duration:  73
**** Call ## 47 ## Duration:  92
**** Call ## 48 ## Duration:  68
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  476
      ✓ should list articles (477ms)
**** Call ## 52 ## Duration:  480
**** Call ## 53 ## Duration:  366
      ✓ should list articles with tag (846ms)
**** Call ## 54 ## Duration:  254
      ✓ should list articles by author (254ms)
**** Call ## 55 ## Duration:  91
      ✓ should list articles favorited by user (91ms)
**** Call ## 56 ## Duration:  96
**** Call ## 57 ## Duration:  88
      ✓ should list articles by limit/offset (184ms)
**** Call ## 58 ## Duration:  459
      ✓ should list articles when authenticated (459ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  86
**** Call ## 63 ## Duration:  151
**** Call ## 64 ## Duration:  286
**** Call ## 65 ## Duration:  142
**** Call ## 66 ## Duration:  431
      ✓ should get feed (1096ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  182
      ✓ should get tags (182ms)

  Comment
**** Call ## 69 ## Duration:  91
**** Call ## 70 ## Duration:  101
**** Call ## 71 ## Duration:  83
    Create
**** Call ## 72 ## Duration:  112
**** Call ## 73 ## Duration:  141
**** Call ## 74 ## Duration:  102
**** Call ## 75 ## Duration:  99
**** Call ## 76 ## Duration:  84
**** Call ## 77 ## Duration:  107
**** Call ## 78 ## Duration:  97
**** Call ## 79 ## Duration:  106
**** Call ## 80 ## Duration:  85
**** Call ## 81 ## Duration:  99
      ✓ should create comment (1033ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  239
      ✓ should get all comments for article (239ms)
    Delete
**** Call ## 86 ## Duration:  118
      ✓ should delete comment (119ms)
**** Call ## 87 ## Duration:  69 (ERR)
      ✓ only comment author should be able to delete comment (69ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  135 (ERR)
      ✓ should disallow deleting unknown comment (136ms)

  User
    Create
**** Call ## 90 ## Duration:  114
      ✓ should create user (114ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  60 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  25 (ERR)
      ✓ should enforce required fields (88ms)
    Login
**** Call ## 97 ## Duration:  68
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (50ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  98
**** Call ## 111 ## Duration:  179
**** Call ## 112 ## Duration:  123
**** Call ## 113 ## Duration:  78
**** Call ## 114 ## Duration:  61
**** Call ## 115 ## Duration:  100
**** Call ## 116 ## Duration:  112
**** Call ## 117 ## Duration:  142
**** Call ## 118 ## Duration:  104
**** Call ## 119 ## Duration:  92
      ✓ should follow/unfollow user (1090ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  81
**** Call ## 122 ## Duration:  56
**** Call ## 123 ## Duration:  51
**** Call ## 124 ## Duration:  68
      ✓ should update user (256ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  45 (ERR)
      ✓ should disallow missing token/email in update (65ms)
**** Call ## 127 ## Duration:  100
**** Call ## 128 ## Duration:  68 (ERR)
      ✓ should disallow reusing email (170ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  142
**** Call ## 1 ## Duration:  114
**** Call ## 2 ## Duration:  95
    Create
**** Call ## 3 ## Duration:  152
      ✓ should create article (154ms)
**** Call ## 4 ## Duration:  73
      ✓ should create article with tags (76ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  74 (ERR)
**** Call ## 7 ## Duration:  58 (ERR)
**** Call ## 8 ## Duration:  53 (ERR)
**** Call ## 9 ## Duration:  54 (ERR)
      ✓ should enforce required fields (240ms)
    Get
**** Call ## 10 ## Duration:  88
      ✓ should get article by slug (89ms)
**** Call ## 11 ## Duration:  187
      ✓ should get article with tags by slug (187ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  163
**** Call ## 14 ## Duration:  130
      1) should update article

  7 passing (1s)
  1 failing

  1) Article
       Update
         should update article:

      AssertionError [ERR_ASSERTION]: 'Incididunt mollit ipsum incididunt cupidatat proident amet dolor nostrud dolor voluptate commodo enim amet nisi dolore et esse  == 'Nisi fugiat consectetur aliquip laborum sint et ad labore magna veniam exercitation nulla aute exercitation est velit eiusmod. 
      + expected - actual

      -Incididunt mollit ipsum incididunt cupidatat proident amet dolor nostrud dolor voluptate commodo enim amet nisi dolore et esse consectetur irure. Sit magna cillum nulla duis anim irure mollit dolore id incididunt enim nostrud. Adipisicing eu consequat elit ad nostrud consequat id dolore aliquip commodo officia ut proident irure est veniam. Voluptate officia quis consectetur dolor mollit ad sunt amet est culpa labore sint elit irure exercitation. Nostrud deserunt dolore excepteur magna adipisicing do veniam fugiat aliquip eiusmod labore pariatur ea ea eiusmod laborum. Laborum laboris nostrud excepteur qui exercitation adipisicing veniam. Adipisicing proident culpa non proident ea irure aliqua cupidatat mollit duis nulla. Sit est voluptate incididunt et do ad et incididunt dolor cillum. Ullamco do ea consectetur duis officia reprehenderit reprehenderit ipsum reprehenderit ad elit eu aliquip dolore ea exercitation est tempor cillum.
      +Nisi fugiat consectetur aliquip laborum sint et ad labore magna veniam exercitation nulla aute exercitation est velit eiusmod. Aliquip elit id occaecat ea eu quis nulla. Ullamco nisi irure labore velit quis veniam velit sunt reprehenderit. Duis eu dolor duis veniam exercitation laborum consequat laborum exercitation do occaecat consequat.
      
      at Context.it (test/test.Article.js:184:14)
      at <anonymous>
      at process._tickCallback (internal/process/next_tick.js:188:7)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T07_11_57_819Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  174
**** Call ## 1 ## Duration:  120
**** Call ## 2 ## Duration:  99
    Create
**** Call ## 3 ## Duration:  90
      ✓ should create article (92ms)
**** Call ## 4 ## Duration:  75
      ✓ should create article with tags (78ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  113 (ERR)
**** Call ## 7 ## Duration:  55 (ERR)
**** Call ## 8 ## Duration:  55 (ERR)
**** Call ## 9 ## Duration:  68 (ERR)
      ✓ should enforce required fields (292ms)
    Get
**** Call ## 10 ## Duration:  93
      ✓ should get article by slug (93ms)
**** Call ## 11 ## Duration:  86
      ✓ should get article with tags by slug (86ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  125
**** Call ## 14 ## Duration:  122
**** Call ## 15 ## Duration:  141
      ✓ should update article (390ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  78 (ERR)
      ✓ should disallow updating non-existent article (78ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (68ms)
    Favorite
**** Call ## 21 ## Duration:  145
**** Call ## 22 ## Duration:  157
      ✓ should favorite article (302ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  150 (ERR)
      ✓ should disallow favoriting unknown article (151ms)
**** Call ## 25 ## Duration:  124
      ✓ should unfavorite article (124ms)
    Delete
**** Call ## 26 ## Duration:  176
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (219ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  82 (ERR)
      ✓ should disallow deleting article by non-author (82ms)
    List
**** Call ## 31 ## Duration:  194
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  91
**** Call ## 34 ## Duration:  88
**** Call ## 35 ## Duration:  99
**** Call ## 36 ## Duration:  73
**** Call ## 37 ## Duration:  61
**** Call ## 38 ## Duration:  64
**** Call ## 39 ## Duration:  73
**** Call ## 40 ## Duration:  75
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  73
**** Call ## 43 ## Duration:  69
**** Call ## 44 ## Duration:  81
**** Call ## 45 ## Duration:  64
**** Call ## 46 ## Duration:  96
**** Call ## 47 ## Duration:  69
**** Call ## 48 ## Duration:  84
**** Call ## 49 ## Duration:  59
**** Call ## 50 ## Duration:  97
**** Call ## 51 ## Duration:  458
      ✓ should list articles (459ms)
**** Call ## 52 ## Duration:  468
**** Call ## 53 ## Duration:  361
      ✓ should list articles with tag (829ms)
**** Call ## 54 ## Duration:  338
      ✓ should list articles by author (338ms)
**** Call ## 55 ## Duration:  106
      ✓ should list articles favorited by user (106ms)
**** Call ## 56 ## Duration:  87
**** Call ## 57 ## Duration:  131
      ✓ should list articles by limit/offset (218ms)
**** Call ## 58 ## Duration:  438
      ✓ should list articles when authenticated (438ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  94
**** Call ## 63 ## Duration:  120
**** Call ## 64 ## Duration:  298
**** Call ## 65 ## Duration:  177
**** Call ## 66 ## Duration:  341
      ✓ should get feed (1031ms)
**** Call ## 67 ## Duration:  34 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  226
      ✓ should get tags (226ms)

  Comment
**** Call ## 69 ## Duration:  97
**** Call ## 70 ## Duration:  164
**** Call ## 71 ## Duration:  80
    Create
**** Call ## 72 ## Duration:  112
**** Call ## 73 ## Duration:  100
**** Call ## 74 ## Duration:  101
**** Call ## 75 ## Duration:  97
**** Call ## 76 ## Duration:  90
**** Call ## 77 ## Duration:  102
**** Call ## 78 ## Duration:  74
**** Call ## 79 ## Duration:  85
**** Call ## 80 ## Duration:  91
**** Call ## 81 ## Duration:  85
      ✓ should create comment (939ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (63ms)
    Get
**** Call ## 85 ## Duration:  245
      ✓ should get all comments for article (245ms)
    Delete
**** Call ## 86 ## Duration:  110
      ✓ should delete comment (111ms)
**** Call ## 87 ## Duration:  53 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  159 (ERR)
      ✓ should disallow deleting unknown comment (160ms)

  User
    Create
**** Call ## 90 ## Duration:  112
      ✓ should create user (114ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  27 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (89ms)
    Login
**** Call ## 97 ## Duration:  138
      ✓ should login (138ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  80 (ERR)
      ✓ should disallow wrong password (81ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  74
      ✓ should get profile (74ms)
**** Call ## 109 ## Duration:  98 (ERR)
      ✓ should disallow unknown username (98ms)
**** Call ## 110 ## Duration:  98
**** Call ## 111 ## Duration:  139
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  92
**** Call ## 114 ## Duration:  65
**** Call ## 115 ## Duration:  93
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  112
**** Call ## 118 ## Duration:  114
**** Call ## 119 ## Duration:  137
      ✓ should follow/unfollow user (1067ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  83
**** Call ## 122 ## Duration:  1057
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  68
      ✓ should update user (1262ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  97 (ERR)
      ✓ should disallow missing token/email in update (116ms)
**** Call ## 127 ## Duration:  101
**** Call ## 128 ## Duration:  66 (ERR)
      ✓ should disallow reusing email (168ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  154
**** Call ## 1 ## Duration:  113
**** Call ## 2 ## Duration:  103
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (105ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (90ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  64 (ERR)
**** Call ## 7 ## Duration:  58 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  51 (ERR)
      ✓ should enforce required fields (238ms)
    Get
**** Call ## 10 ## Duration:  93
      ✓ should get article by slug (94ms)
**** Call ## 11 ## Duration:  109
      ✓ should get article with tags by slug (109ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  197
**** Call ## 14 ## Duration:  164
**** Call ## 15 ## Duration:  132
      ✓ should update article (494ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  66 (ERR)
      ✓ should disallow updating non-existent article (66ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (62ms)
    Favorite
**** Call ## 21 ## Duration:  137
**** Call ## 22 ## Duration:  103
      ✓ should favorite article (242ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  143
      ✓ should unfavorite article (144ms)
    Delete
**** Call ## 26 ## Duration:  104
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (143ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  50 (ERR)
      ✓ should disallow deleting article by non-author (50ms)
    List
**** Call ## 31 ## Duration:  81
**** Call ## 32 ## Duration:  87
**** Call ## 33 ## Duration:  83
**** Call ## 34 ## Duration:  73
**** Call ## 35 ## Duration:  55
**** Call ## 36 ## Duration:  93
**** Call ## 37 ## Duration:  83
**** Call ## 38 ## Duration:  121
**** Call ## 39 ## Duration:  76
**** Call ## 40 ## Duration:  62
**** Call ## 41 ## Duration:  75
**** Call ## 42 ## Duration:  65
**** Call ## 43 ## Duration:  71
**** Call ## 44 ## Duration:  265
**** Call ## 45 ## Duration:  69
**** Call ## 46 ## Duration:  79
**** Call ## 47 ## Duration:  72
**** Call ## 48 ## Duration:  121
**** Call ## 49 ## Duration:  88
**** Call ## 50 ## Duration:  58
**** Call ## 51 ## Duration:  472
      ✓ should list articles (472ms)
**** Call ## 52 ## Duration:  477
**** Call ## 53 ## Duration:  332
      ✓ should list articles with tag (810ms)
**** Call ## 54 ## Duration:  215
      ✓ should list articles by author (215ms)
**** Call ## 55 ## Duration:  144
      ✓ should list articles favorited by user (144ms)
**** Call ## 56 ## Duration:  157
**** Call ## 57 ## Duration:  107
      ✓ should list articles by limit/offset (264ms)
**** Call ## 58 ## Duration:  503
      ✓ should list articles when authenticated (503ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 62 ## Duration:  97
**** Call ## 59 ## Duration:  156 (ERR)
**** Call ## 63 ## Duration:  113
**** Call ## 64 ## Duration:  318
**** Call ## 65 ## Duration:  118
**** Call ## 66 ## Duration:  435
      ✓ should get feed (1083ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  228
      ✓ should get tags (228ms)

  Comment
**** Call ## 69 ## Duration:  115
**** Call ## 70 ## Duration:  103
**** Call ## 71 ## Duration:  74
    Create
**** Call ## 72 ## Duration:  102
**** Call ## 73 ## Duration:  100
**** Call ## 74 ## Duration:  100
**** Call ## 75 ## Duration:  93
**** Call ## 76 ## Duration:  76
**** Call ## 77 ## Duration:  70
**** Call ## 78 ## Duration:  84
**** Call ## 79 ## Duration:  88
**** Call ## 80 ## Duration:  99
**** Call ## 81 ## Duration:  76
      ✓ should create comment (891ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  210
      ✓ should get all comments for article (210ms)
    Delete
**** Call ## 86 ## Duration:  152
      ✓ should delete comment (152ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  108
      ✓ should create user (110ms)
**** Call ## 91 ## Duration:  35 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  110 (ERR)
      ✓ should disallow same email (111ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  73
      ✓ should login (74ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  126
      ✓ should get profile (126ms)
**** Call ## 109 ## Duration:  33 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  105
**** Call ## 111 ## Duration:  116
**** Call ## 112 ## Duration:  116
**** Call ## 113 ## Duration:  79
**** Call ## 114 ## Duration:  56
**** Call ## 115 ## Duration:  159
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  132
**** Call ## 118 ## Duration:  86
**** Call ## 119 ## Duration:  82
      ✓ should follow/unfollow user (1038ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  89
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  43
**** Call ## 124 ## Duration:  69
      ✓ should update user (269ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  35 (ERR)
      ✓ should disallow missing token/email in update (54ms)
**** Call ## 127 ## Duration:  111
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (162ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://g2qy75ewvd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  164
**** Call ## 1 ## Duration:  108
**** Call ## 2 ## Duration:  109
    Create
**** Call ## 3 ## Duration:  135
      ✓ should create article (138ms)
**** Call ## 4 ## Duration:  83
      ✓ should create article with tags (87ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  62 (ERR)
**** Call ## 7 ## Duration:  55 (ERR)
**** Call ## 8 ## Duration:  51 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (228ms)
    Get
**** Call ## 10 ## Duration:  92
      ✓ should get article by slug (92ms)
**** Call ## 11 ## Duration:  83
      ✓ should get article with tags by slug (83ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  142
**** Call ## 15 ## Duration:  212
      ✓ should update article (512ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  56 (ERR)
      ✓ should disallow non-author from updating (56ms)
    Favorite
**** Call ## 21 ## Duration:  136
**** Call ## 22 ## Duration:  102
      ✓ should favorite article (238ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  139
      ✓ should unfavorite article (139ms)
    Delete
**** Call ## 26 ## Duration:  102
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (148ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  59 (ERR)
      ✓ should disallow deleting article by non-author (59ms)
    List
**** Call ## 31 ## Duration:  80
**** Call ## 32 ## Duration:  80
**** Call ## 33 ## Duration:  67
**** Call ## 34 ## Duration:  77
**** Call ## 35 ## Duration:  75
**** Call ## 36 ## Duration:  62
**** Call ## 37 ## Duration:  78
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  99
**** Call ## 40 ## Duration:  50
**** Call ## 41 ## Duration:  62
**** Call ## 42 ## Duration:  79
**** Call ## 43 ## Duration:  54
**** Call ## 44 ## Duration:  110
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  62
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  77
**** Call ## 49 ## Duration:  63
**** Call ## 50 ## Duration:  54
**** Call ## 51 ## Duration:  581
      ✓ should list articles (581ms)
**** Call ## 52 ## Duration:  477
**** Call ## 53 ## Duration:  384
      ✓ should list articles with tag (861ms)
**** Call ## 54 ## Duration:  300
      ✓ should list articles by author (300ms)
**** Call ## 55 ## Duration:  130
      ✓ should list articles favorited by user (131ms)
**** Call ## 56 ## Duration:  137
**** Call ## 57 ## Duration:  111
      ✓ should list articles by limit/offset (248ms)
**** Call ## 58 ## Duration:  430
      ✓ should list articles when authenticated (430ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 62 ## Duration:  85
**** Call ## 63 ## Duration:  99
**** Call ## 64 ## Duration:  277
**** Call ## 65 ## Duration:  90
**** Call ## 66 ## Duration:  377
      ✓ should get feed (928ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  188
      ✓ should get tags (188ms)

  Comment
**** Call ## 69 ## Duration:  105
**** Call ## 70 ## Duration:  103
**** Call ## 71 ## Duration:  75
    Create
**** Call ## 72 ## Duration:  108
**** Call ## 73 ## Duration:  117
**** Call ## 74 ## Duration:  107
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  87
**** Call ## 77 ## Duration:  87
**** Call ## 78 ## Duration:  107
**** Call ## 79 ## Duration:  82
**** Call ## 80 ## Duration:  108
**** Call ## 81 ## Duration:  67
      ✓ should create comment (973ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  213
      ✓ should get all comments for article (214ms)
    Delete
**** Call ## 86 ## Duration:  111
      ✓ should delete comment (111ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  122 (ERR)
      ✓ should disallow deleting unknown comment (122ms)

  User
    Create
**** Call ## 90 ## Duration:  108
      ✓ should create user (108ms)
**** Call ## 91 ## Duration:  37 (ERR)
      ✓ should disallow same username (38ms)
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  68
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (87ms)
    Profile
**** Call ## 108 ## Duration:  77
      ✓ should get profile (77ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  106
**** Call ## 111 ## Duration:  114
**** Call ## 112 ## Duration:  99
**** Call ## 113 ## Duration:  122
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  143
**** Call ## 116 ## Duration:  101
**** Call ## 117 ## Duration:  139
**** Call ## 118 ## Duration:  129
**** Call ## 119 ## Duration:  109
      ✓ should follow/unfollow user (1127ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  79
**** Call ## 122 ## Duration:  73
**** Call ## 123 ## Duration:  59
**** Call ## 124 ## Duration:  48
      ✓ should update user (260ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  108
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (170ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (12s)

results20191102043707/rec-res-5-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
.................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
