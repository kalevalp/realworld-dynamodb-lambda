Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
.....
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (25.41 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (25.41 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (25.41 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  1024
**** Call ## 1 ## Duration:  121
**** Call ## 2 ## Duration:  120
    Create
**** Call ## 3 ## Duration:  832
      ✓ should create article (836ms)
**** Call ## 4 ## Duration:  99
      ✓ should create article with tags (101ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  807 (ERR)
**** Call ## 7 ## Duration:  71 (ERR)
**** Call ## 8 ## Duration:  82 (ERR)
**** Call ## 9 ## Duration:  72 (ERR)
      ✓ should enforce required fields (1035ms)
    Get
**** Call ## 10 ## Duration:  820
      ✓ should get article by slug (820ms)
**** Call ## 11 ## Duration:  96
      ✓ should get article with tags by slug (96ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  872
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  157
      ✓ should update article (1176ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  538 (ERR)
      ✓ should disallow empty mutation (538ms)
**** Call ## 18 ## Duration:  51 (ERR)
      ✓ should disallow unauthenticated update (51ms)
**** Call ## 19 ## Duration:  171 (ERR)
      ✓ should disallow updating non-existent article (171ms)
**** Call ## 20 ## Duration:  72 (ERR)
      ✓ should disallow non-author from updating (73ms)
    Favorite
**** Call ## 21 ## Duration:  824
**** Call ## 22 ## Duration:  116
      ✓ should favorite article (941ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  61 (ERR)
      ✓ should disallow favoriting unknown article (61ms)
**** Call ## 25 ## Duration:  869
      ✓ should unfavorite article (869ms)
    Delete
**** Call ## 26 ## Duration:  840
**** Call ## 27 ## Duration:  50 (ERR)
      ✓ should delete article (891ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  76 (ERR)
      ✓ should disallow deleting unknown article (76ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (70ms)
    List
**** Call ## 31 ## Duration:  86
**** Call ## 32 ## Duration:  96
**** Call ## 33 ## Duration:  98
**** Call ## 34 ## Duration:  128
**** Call ## 35 ## Duration:  89
**** Call ## 36 ## Duration:  72
**** Call ## 37 ## Duration:  80
**** Call ## 38 ## Duration:  83
**** Call ## 39 ## Duration:  120
**** Call ## 40 ## Duration:  79
**** Call ## 41 ## Duration:  50
**** Call ## 42 ## Duration:  91
**** Call ## 43 ## Duration:  86
**** Call ## 44 ## Duration:  78
**** Call ## 45 ## Duration:  69
**** Call ## 46 ## Duration:  67
**** Call ## 47 ## Duration:  95
**** Call ## 48 ## Duration:  60
**** Call ## 49 ## Duration:  79
**** Call ## 50 ## Duration:  62
**** Call ## 51 ## Duration:  1129
      ✓ should list articles (1130ms)
**** Call ## 52 ## Duration:  97
**** Call ## 53 ## Duration:  165
      ✓ should list articles with tag (262ms)
**** Call ## 54 ## Duration:  209
      ✓ should list articles by author (209ms)
**** Call ## 55 ## Duration:  41
      ✓ should list articles favorited by user (41ms)
**** Call ## 56 ## Duration:  790
**** Call ## 57 ## Duration:  106
      ✓ should list articles by limit/offset (896ms)
**** Call ## 58 ## Duration:  392
      ✓ should list articles when authenticated (393ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  580 (ERR)
**** Call ## 62 ## Duration:  749
**** Call ## 63 ## Duration:  846
**** Call ## 64 ## Duration:  287
**** Call ## 65 ## Duration:  160
**** Call ## 66 ## Duration:  401
      ✓ should get feed (2444ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  758
      ✓ should get tags (758ms)

  Comment
**** Call ## 69 ## Duration:  164
**** Call ## 70 ## Duration:  127
**** Call ## 71 ## Duration:  142
    Create
**** Call ## 72 ## Duration:  707
**** Call ## 73 ## Duration:  123
**** Call ## 74 ## Duration:  140
**** Call ## 75 ## Duration:  115
**** Call ## 76 ## Duration:  100
**** Call ## 77 ## Duration:  113
**** Call ## 78 ## Duration:  107
**** Call ## 79 ## Duration:  645
**** Call ## 80 ## Duration:  142
**** Call ## 81 ## Duration:  108
      ✓ should create comment (2301ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  43 (ERR)
      ✓ should disallow non-existent article (44ms)
    Get
**** Call ## 85 ## Duration:  906
      ✓ should get all comments for article (906ms)
    Delete
**** Call ## 86 ## Duration:  709
      ✓ should delete comment (710ms)
**** Call ## 87 ## Duration:  49 (ERR)
      ✓ only comment author should be able to delete comment (49ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  635 (ERR)
      ✓ should disallow deleting unknown comment (635ms)

  User
    Create
**** Call ## 90 ## Duration:  177
      ✓ should create user (179ms)
**** Call ## 91 ## Duration:  47 (ERR)
      ✓ should disallow same username (48ms)
**** Call ## 92 ## Duration:  49 (ERR)
      ✓ should disallow same email (50ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  582 (ERR)
**** Call ## 95 ## Duration:  37 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (663ms)
    Login
**** Call ## 97 ## Duration:  830
      ✓ should login (830ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  124 (ERR)
      ✓ should disallow wrong password (124ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  635 (ERR)
**** Call ## 102 ## Duration:  40 (ERR)
      ✓ should enforce required fields (694ms)
    Get
**** Call ## 103 ## Duration:  761
      ✓ should get current user (762ms)
**** Call ## 104 ## Duration:  39 (ERR)
**** Call ## 105 ## Duration:  570 (ERR)
**** Call ## 106 ## Duration:  70 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (700ms)
    Profile
**** Call ## 108 ## Duration:  823
      ✓ should get profile (824ms)
**** Call ## 109 ## Duration:  72 (ERR)
      ✓ should disallow unknown username (72ms)
**** Call ## 110 ## Duration:  265
**** Call ## 111 ## Duration:  193
**** Call ## 112 ## Duration:  112
**** Call ## 113 ## Duration:  84
**** Call ## 114 ## Duration:  71
**** Call ## 115 ## Duration:  115
**** Call ## 116 ## Duration:  124
**** Call ## 117 ## Duration:  877
**** Call ## 118 ## Duration:  138
**** Call ## 119 ## Duration:  118
      ✓ should follow/unfollow user (2101ms)
**** Call ## 120 ## Duration:  48 (ERR)
      ✓ should disallow following with bad token (48ms)
    Update
**** Call ## 121 ## Duration:  851
**** Call ## 122 ## Duration:  108
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  62
      ✓ should update user (1083ms)
**** Call ## 125 ## Duration:  27 (ERR)
**** Call ## 126 ## Duration:  737 (ERR)
      ✓ should disallow missing token/email in update (764ms)
**** Call ## 127 ## Duration:  152
**** Call ## 128 ## Duration:  75 (ERR)
      ✓ should disallow reusing email (227ms)

  Util
    Ping
**** Call ## 129 ## Duration:  523
      ✓ should ping (523ms)


  58 passing (32s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  194
**** Call ## 1 ## Duration:  117
**** Call ## 2 ## Duration:  176
    Create
**** Call ## 3 ## Duration:  150
      ✓ should create article (152ms)
**** Call ## 4 ## Duration:  105
      ✓ should create article with tags (107ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  135 (ERR)
**** Call ## 7 ## Duration:  72 (ERR)
**** Call ## 8 ## Duration:  72 (ERR)
**** Call ## 9 ## Duration:  69 (ERR)
      ✓ should enforce required fields (348ms)
    Get
**** Call ## 10 ## Duration:  166
      ✓ should get article by slug (166ms)
**** Call ## 11 ## Duration:  95
      ✓ should get article with tags by slug (95ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  270
**** Call ## 14 ## Duration:  131
**** Call ## 15 ## Duration:  109
      ✓ should update article (514ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  51 (ERR)
      ✓ should disallow empty mutation (52ms)
**** Call ## 18 ## Duration:  29 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (72ms)
**** Call ## 20 ## Duration:  65 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  203
**** Call ## 22 ## Duration:  160
      ✓ should favorite article (363ms)
**** Call ## 23 ## Duration:  26 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (72ms)
**** Call ## 25 ## Duration:  195
      ✓ should unfavorite article (195ms)
    Delete
**** Call ## 26 ## Duration:  191
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (234ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (74ms)
**** Call ## 30 ## Duration:  73 (ERR)
      ✓ should disallow deleting article by non-author (74ms)
    List
**** Call ## 31 ## Duration:  123
**** Call ## 32 ## Duration:  123
**** Call ## 33 ## Duration:  98
**** Call ## 34 ## Duration:  102
**** Call ## 35 ## Duration:  77
**** Call ## 36 ## Duration:  79
**** Call ## 37 ## Duration:  78
**** Call ## 38 ## Duration:  101
**** Call ## 39 ## Duration:  71
**** Call ## 40 ## Duration:  96
**** Call ## 41 ## Duration:  72
**** Call ## 42 ## Duration:  117
**** Call ## 43 ## Duration:  89
**** Call ## 44 ## Duration:  89
**** Call ## 45 ## Duration:  93
**** Call ## 46 ## Duration:  98
**** Call ## 47 ## Duration:  66
**** Call ## 48 ## Duration:  66
**** Call ## 49 ## Duration:  73
**** Call ## 50 ## Duration:  89
**** Call ## 51 ## Duration:  551
      ✓ should list articles (551ms)
**** Call ## 52 ## Duration:  100
**** Call ## 53 ## Duration:  265
      ✓ should list articles with tag (365ms)
**** Call ## 54 ## Duration:  262
      ✓ should list articles by author (262ms)
**** Call ## 55 ## Duration:  42
      ✓ should list articles favorited by user (42ms)
**** Call ## 56 ## Duration:  205
**** Call ## 57 ## Duration:  105
      ✓ should list articles by limit/offset (310ms)
**** Call ## 58 ## Duration:  426
      ✓ should list articles when authenticated (426ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  49 (ERR)
**** Call ## 62 ## Duration:  138
**** Call ## 63 ## Duration:  125
**** Call ## 64 ## Duration:  278
**** Call ## 65 ## Duration:  95
**** Call ## 66 ## Duration:  407
      ✓ should get feed (1043ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  114
      ✓ should get tags (114ms)

  Comment
**** Call ## 69 ## Duration:  122
**** Call ## 70 ## Duration:  114
**** Call ## 71 ## Duration:  87
    Create
**** Call ## 72 ## Duration:  170
**** Call ## 73 ## Duration:  101
**** Call ## 74 ## Duration:  106
**** Call ## 75 ## Duration:  100
**** Call ## 76 ## Duration:  96
**** Call ## 77 ## Duration:  88
**** Call ## 78 ## Duration:  104
**** Call ## 79 ## Duration:  82
**** Call ## 80 ## Duration:  70
**** Call ## 81 ## Duration:  83
      ✓ should create comment (1003ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  141 (ERR)
      ✓ should enforce comment body (141ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  251
      ✓ should get all comments for article (252ms)
    Delete
**** Call ## 86 ## Duration:  116
      ✓ should delete comment (116ms)
**** Call ## 87 ## Duration:  64 (ERR)
      ✓ only comment author should be able to delete comment (64ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (67ms)

  User
    Create
**** Call ## 90 ## Duration:  129
      ✓ should create user (129ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  73 (ERR)
      ✓ should disallow same email (73ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  24 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  268
      ✓ should login (268ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  100 (ERR)
      ✓ should disallow wrong password (100ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  168
      ✓ should get current user (169ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  50 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (111ms)
    Profile
**** Call ## 108 ## Duration:  120
      ✓ should get profile (121ms)
**** Call ## 109 ## Duration:  48 (ERR)
      ✓ should disallow unknown username (49ms)
**** Call ## 110 ## Duration:  110
**** Call ## 111 ## Duration:  143
**** Call ## 112 ## Duration:  116
**** Call ## 113 ## Duration:  159
**** Call ## 114 ## Duration:  79
**** Call ## 115 ## Duration:  125
**** Call ## 116 ## Duration:  121
**** Call ## 117 ## Duration:  193
**** Call ## 118 ## Duration:  127
**** Call ## 119 ## Duration:  125
      ✓ should follow/unfollow user (1299ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  139
**** Call ## 122 ## Duration:  108
**** Call ## 123 ## Duration:  63
**** Call ## 124 ## Duration:  65
      ✓ should update user (376ms)
**** Call ## 125 ## Duration:  26 (ERR)
**** Call ## 126 ## Duration:  108 (ERR)
      ✓ should disallow missing token/email in update (134ms)
**** Call ## 127 ## Duration:  115
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (176ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  177
**** Call ## 1 ## Duration:  119
**** Call ## 2 ## Duration:  109
    Create
**** Call ## 3 ## Duration:  107
      ✓ should create article (109ms)
**** Call ## 4 ## Duration:  92
      ✓ should create article with tags (94ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  77 (ERR)
**** Call ## 7 ## Duration:  87 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  79 (ERR)
      ✓ should enforce required fields (303ms)
    Get
**** Call ## 10 ## Duration:  128
      ✓ should get article by slug (129ms)
**** Call ## 11 ## Duration:  91
      ✓ should get article with tags by slug (91ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  181
**** Call ## 14 ## Duration:  177
**** Call ## 15 ## Duration:  139
      ✓ should update article (499ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  60 (ERR)
      ✓ should disallow empty mutation (60ms)
**** Call ## 18 ## Duration:  70 (ERR)
      ✓ should disallow unauthenticated update (70ms)
**** Call ## 19 ## Duration:  77 (ERR)
      ✓ should disallow updating non-existent article (77ms)
**** Call ## 20 ## Duration:  87 (ERR)
      ✓ should disallow non-author from updating (87ms)
    Favorite
**** Call ## 21 ## Duration:  193
**** Call ## 22 ## Duration:  128
      ✓ should favorite article (322ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (72ms)
**** Call ## 25 ## Duration:  272
      ✓ should unfavorite article (272ms)
    Delete
**** Call ## 26 ## Duration:  171
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (211ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown article (73ms)
**** Call ## 30 ## Duration:  67 (ERR)
      ✓ should disallow deleting article by non-author (67ms)
    List
**** Call ## 31 ## Duration:  105
**** Call ## 32 ## Duration:  105
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  80
**** Call ## 35 ## Duration:  108
**** Call ## 36 ## Duration:  93
**** Call ## 37 ## Duration:  88
**** Call ## 38 ## Duration:  73
**** Call ## 39 ## Duration:  96
**** Call ## 40 ## Duration:  75
**** Call ## 41 ## Duration:  94
**** Call ## 42 ## Duration:  85
**** Call ## 43 ## Duration:  77
**** Call ## 44 ## Duration:  86
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  99
**** Call ## 47 ## Duration:  68
**** Call ## 48 ## Duration:  57
**** Call ## 49 ## Duration:  57
**** Call ## 50 ## Duration:  89
**** Call ## 51 ## Duration:  427
      ✓ should list articles (427ms)
**** Call ## 52 ## Duration:  106
**** Call ## 53 ## Duration:  311
      ✓ should list articles with tag (417ms)
**** Call ## 54 ## Duration:  301
      ✓ should list articles by author (301ms)
**** Call ## 55 ## Duration:  29
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  173
**** Call ## 57 ## Duration:  115
      ✓ should list articles by limit/offset (289ms)
**** Call ## 58 ## Duration:  480
      ✓ should list articles when authenticated (481ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  20 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  62 (ERR)
**** Call ## 62 ## Duration:  253
**** Call ## 63 ## Duration:  155
**** Call ## 64 ## Duration:  258
**** Call ## 65 ## Duration:  128
**** Call ## 66 ## Duration:  408
      ✓ should get feed (1203ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  109
      ✓ should get tags (109ms)

  Comment
**** Call ## 69 ## Duration:  131
**** Call ## 70 ## Duration:  125
**** Call ## 71 ## Duration:  100
    Create
**** Call ## 72 ## Duration:  148
**** Call ## 73 ## Duration:  98
**** Call ## 74 ## Duration:  108
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  106
**** Call ## 77 ## Duration:  98
**** Call ## 78 ## Duration:  82
**** Call ## 79 ## Duration:  86
**** Call ## 80 ## Duration:  95
**** Call ## 81 ## Duration:  85
      ✓ should create comment (1010ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  83 (ERR)
      ✓ should enforce comment body (84ms)
**** Call ## 84 ## Duration:  57 (ERR)
      ✓ should disallow non-existent article (57ms)
    Get
**** Call ## 85 ## Duration:  270
      ✓ should get all comments for article (270ms)
    Delete
**** Call ## 86 ## Duration:  105
      ✓ should delete comment (105ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (52ms)
**** Call ## 88 ## Duration:  43 (ERR)
      ✓ should disallow unauthenticated user (43ms)
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  108
      ✓ should create user (108ms)
**** Call ## 91 ## Duration:  27 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  129
      ✓ should login (129ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  92 (ERR)
      ✓ should disallow wrong password (92ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  17 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (55ms)
    Get
**** Call ## 103 ## Duration:  94
      ✓ should get current user (94ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  66 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (125ms)
    Profile
**** Call ## 108 ## Duration:  124
      ✓ should get profile (124ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  130
**** Call ## 111 ## Duration:  132
**** Call ## 112 ## Duration:  97
**** Call ## 113 ## Duration:  84
**** Call ## 114 ## Duration:  61
**** Call ## 115 ## Duration:  119
**** Call ## 116 ## Duration:  102
**** Call ## 117 ## Duration:  196
**** Call ## 118 ## Duration:  126
**** Call ## 119 ## Duration:  115
      ✓ should follow/unfollow user (1164ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  139
**** Call ## 122 ## Duration:  68
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  50
      ✓ should update user (323ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (121ms)
**** Call ## 127 ## Duration:  122
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (182ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  174
**** Call ## 1 ## Duration:  133
**** Call ## 2 ## Duration:  130
    Create
**** Call ## 3 ## Duration:  100
      ✓ should create article (103ms)
**** Call ## 4 ## Duration:  96
      ✓ should create article with tags (98ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  70 (ERR)
**** Call ## 7 ## Duration:  68 (ERR)
**** Call ## 8 ## Duration:  78 (ERR)
**** Call ## 9 ## Duration:  67 (ERR)
      ✓ should enforce required fields (286ms)
    Get
**** Call ## 10 ## Duration:  100
      ✓ should get article by slug (101ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (91ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  123
      ✓ should update article (426ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  63 (ERR)
      ✓ should disallow updating non-existent article (63ms)
**** Call ## 20 ## Duration:  58 (ERR)
      ✓ should disallow non-author from updating (58ms)
    Favorite
**** Call ## 21 ## Duration:  159
**** Call ## 22 ## Duration:  85
      ✓ should favorite article (245ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  156
      ✓ should unfavorite article (156ms)
    Delete
**** Call ## 26 ## Duration:  119
**** Call ## 27 ## Duration:  50 (ERR)
      ✓ should delete article (169ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  97
**** Call ## 32 ## Duration:  101
**** Call ## 33 ## Duration:  98
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  89
**** Call ## 37 ## Duration:  90
**** Call ## 38 ## Duration:  87
**** Call ## 39 ## Duration:  85
**** Call ## 40 ## Duration:  99
**** Call ## 41 ## Duration:  88
**** Call ## 42 ## Duration:  74
**** Call ## 43 ## Duration:  91
**** Call ## 44 ## Duration:  146
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  82
**** Call ## 47 ## Duration:  130
**** Call ## 48 ## Duration:  93
**** Call ## 49 ## Duration:  63
**** Call ## 50 ## Duration:  65
**** Call ## 51 ## Duration:  478
      ✓ should list articles (478ms)
**** Call ## 52 ## Duration:  117
**** Call ## 53 ## Duration:  478
      ✓ should list articles with tag (595ms)
**** Call ## 54 ## Duration:  210
      ✓ should list articles by author (210ms)
**** Call ## 55 ## Duration:  37
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  172
**** Call ## 57 ## Duration:  128
      ✓ should list articles by limit/offset (300ms)
**** Call ## 58 ## Duration:  513
      ✓ should list articles when authenticated (513ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 59 ## Duration:  27 (ERR)
**** Call ## 62 ## Duration:  94
**** Call ## 63 ## Duration:  136
**** Call ## 64 ## Duration:  262
**** Call ## 65 ## Duration:  130
**** Call ## 66 ## Duration:  547
      ✓ should get feed (1171ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  68
      ✓ should get tags (68ms)

  Comment
**** Call ## 69 ## Duration:  126
**** Call ## 70 ## Duration:  166
**** Call ## 71 ## Duration:  88
    Create
**** Call ## 72 ## Duration:  2186
**** Call ## 73 ## Duration:  113
**** Call ## 74 ## Duration:  150
**** Call ## 75 ## Duration:  112
**** Call ## 76 ## Duration:  97
**** Call ## 77 ## Duration:  114
**** Call ## 78 ## Duration:  124
**** Call ## 79 ## Duration:  107
**** Call ## 80 ## Duration:  114
**** Call ## 81 ## Duration:  108
      ✓ should create comment (3227ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  221
      ✓ should get all comments for article (222ms)
    Delete
**** Call ## 86 ## Duration:  160
      ✓ should delete comment (160ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  114 (ERR)
      ✓ should disallow deleting unknown comment (115ms)

  User
    Create
**** Call ## 90 ## Duration:  146
      ✓ should create user (146ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  61 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  29 (ERR)
      ✓ should enforce required fields (92ms)
    Login
**** Call ## 97 ## Duration:  63
      ✓ should login (63ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  70 (ERR)
      ✓ should disallow wrong password (71ms)
**** Call ## 100 ## Duration:  26 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (68ms)
    Get
**** Call ## 103 ## Duration:  41
      ✓ should get current user (42ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  90
      ✓ should get profile (90ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  115
**** Call ## 111 ## Duration:  151
**** Call ## 112 ## Duration:  135
**** Call ## 113 ## Duration:  87
**** Call ## 114 ## Duration:  60
**** Call ## 115 ## Duration:  104
**** Call ## 116 ## Duration:  117
**** Call ## 117 ## Duration:  148
**** Call ## 118 ## Duration:  126
**** Call ## 119 ## Duration:  136
      ✓ should follow/unfollow user (1181ms)
**** Call ## 120 ## Duration:  31 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  98
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  37
**** Call ## 124 ## Duration:  67
      ✓ should update user (269ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (61ms)
**** Call ## 127 ## Duration:  133
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (196ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  180
**** Call ## 1 ## Duration:  117
**** Call ## 2 ## Duration:  119
    Create
**** Call ## 3 ## Duration:  106
      ✓ should create article (108ms)
**** Call ## 4 ## Duration:  108
      ✓ should create article with tags (110ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  79 (ERR)
**** Call ## 7 ## Duration:  68 (ERR)
**** Call ## 8 ## Duration:  51 (ERR)
**** Call ## 9 ## Duration:  72 (ERR)
      ✓ should enforce required fields (272ms)
    Get
**** Call ## 10 ## Duration:  102
      ✓ should get article by slug (102ms)
**** Call ## 11 ## Duration:  95
      ✓ should get article with tags by slug (96ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  178
**** Call ## 14 ## Duration:  144
      1) should update article

  7 passing (2s)
  1 failing

  1) Article
       Update
         should update article:

      AssertionError [ERR_ASSERTION]: 'Eu adipisicing eiusmod amet est dolore et consectetur. Exercitation et laboris reprehenderit proident esse exercitation et offi == 'Quis et elit ea eu non esse enim et do aliquip occaecat ut. Sit magna commodo ea proident sunt labore cupidatat ipsum nulla exe
      + expected - actual

      -Eu adipisicing eiusmod amet est dolore et consectetur. Exercitation et laboris reprehenderit proident esse exercitation et officia Lorem amet consectetur non enim sint aliquip. Anim sit est tempor sunt culpa nostrud do minim non. Qui laboris deserunt aliquip occaecat in labore in sunt incididunt reprehenderit excepteur officia sint do duis deserunt reprehenderit pariatur reprehenderit. Magna minim do duis proident quis quis ex nostrud fugiat eu officia aute mollit occaecat. Sit commodo enim irure occaecat fugiat irure laborum officia anim irure. Nostrud dolor id amet dolor esse id amet duis elit magna. In et minim enim aute aute deserunt reprehenderit pariatur ad elit qui minim consequat tempor. Nulla pariatur fugiat officia laboris sint quis magna ad. In commodo minim velit mollit consectetur cupidatat incididunt quis. Ipsum irure magna voluptate excepteur labore quis qui esse qui excepteur anim ut ad in. Exercitation ex aliqua tempor aliquip deserunt commodo quis.
      +Quis et elit ea eu non esse enim et do aliquip occaecat ut. Sit magna commodo ea proident sunt labore cupidatat ipsum nulla exercitation dolor commodo quis. Sit consectetur Lorem tempor reprehenderit velit culpa do ipsum duis eiusmod exercitation officia laboris fugiat duis ullamco. Enim enim aute amet dolore laboris sit dolore aliquip enim ut duis tempor pariatur consequat esse est anim ut. Do proident incididunt laborum ea ad elit nulla nostrud.
      
      at Context.it (test/test.Article.js:184:14)
      at <anonymous>
      at process._tickCallback (internal/process/next_tick.js:188:7)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T07_31_17_889Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  167
**** Call ## 1 ## Duration:  116
**** Call ## 2 ## Duration:  82
    Create
**** Call ## 3 ## Duration:  155
      ✓ should create article (157ms)
**** Call ## 4 ## Duration:  87
      ✓ should create article with tags (88ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  75 (ERR)
**** Call ## 7 ## Duration:  68 (ERR)
**** Call ## 8 ## Duration:  75 (ERR)
**** Call ## 9 ## Duration:  62 (ERR)
      ✓ should enforce required fields (281ms)
    Get
**** Call ## 10 ## Duration:  102
      ✓ should get article by slug (102ms)
**** Call ## 11 ## Duration:  86
      ✓ should get article with tags by slug (86ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  205
**** Call ## 14 ## Duration:  168
**** Call ## 15 ## Duration:  157
      ✓ should update article (535ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  71 (ERR)
      ✓ should disallow updating non-existent article (71ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (62ms)
    Favorite
**** Call ## 21 ## Duration:  137
**** Call ## 22 ## Duration:  110
      ✓ should favorite article (249ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  152
      ✓ should unfavorite article (152ms)
    Delete
**** Call ## 26 ## Duration:  134
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (180ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  90
**** Call ## 32 ## Duration:  104
**** Call ## 33 ## Duration:  99
**** Call ## 34 ## Duration:  82
**** Call ## 35 ## Duration:  108
**** Call ## 36 ## Duration:  86
**** Call ## 37 ## Duration:  110
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  104
**** Call ## 40 ## Duration:  92
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  79
**** Call ## 43 ## Duration:  84
**** Call ## 44 ## Duration:  76
**** Call ## 45 ## Duration:  84
**** Call ## 46 ## Duration:  77
**** Call ## 47 ## Duration:  70
**** Call ## 48 ## Duration:  100
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  92
**** Call ## 51 ## Duration:  478
      ✓ should list articles (479ms)
**** Call ## 52 ## Duration:  133
**** Call ## 53 ## Duration:  421
      ✓ should list articles with tag (554ms)
**** Call ## 54 ## Duration:  251
      ✓ should list articles by author (251ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (62ms)
**** Call ## 56 ## Duration:  104
**** Call ## 57 ## Duration:  87
      ✓ should list articles by limit/offset (191ms)
**** Call ## 58 ## Duration:  480
      ✓ should list articles when authenticated (480ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  94
**** Call ## 63 ## Duration:  131
**** Call ## 64 ## Duration:  287
**** Call ## 65 ## Duration:  103
**** Call ## 66 ## Duration:  432
      ✓ should get feed (1047ms)
**** Call ## 67 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  93
      ✓ should get tags (93ms)

  Comment
**** Call ## 69 ## Duration:  159
**** Call ## 70 ## Duration:  181
**** Call ## 71 ## Duration:  86
    Create
**** Call ## 72 ## Duration:  121
**** Call ## 73 ## Duration:  116
**** Call ## 74 ## Duration:  101
**** Call ## 75 ## Duration:  88
**** Call ## 76 ## Duration:  93
**** Call ## 77 ## Duration:  122
**** Call ## 78 ## Duration:  90
**** Call ## 79 ## Duration:  84
**** Call ## 80 ## Duration:  91
**** Call ## 81 ## Duration:  87
      ✓ should create comment (994ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  213
      ✓ should get all comments for article (213ms)
    Delete
**** Call ## 86 ## Duration:  146
      ✓ should delete comment (146ms)
**** Call ## 87 ## Duration:  64 (ERR)
      ✓ only comment author should be able to delete comment (65ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  102 (ERR)
      ✓ should disallow deleting unknown comment (103ms)

  User
    Create
**** Call ## 90 ## Duration:  129
      ✓ should create user (130ms)
**** Call ## 91 ## Duration:  79 (ERR)
      ✓ should disallow same username (80ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  75
      ✓ should login (75ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  24 (ERR)
**** Call ## 107 ## Duration:  100 (ERR)
      ✓ should disallow bad tokens (166ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  113
**** Call ## 111 ## Duration:  151
**** Call ## 112 ## Duration:  133
**** Call ## 113 ## Duration:  74
**** Call ## 114 ## Duration:  86
**** Call ## 115 ## Duration:  120
**** Call ## 116 ## Duration:  116
**** Call ## 117 ## Duration:  146
**** Call ## 118 ## Duration:  130
**** Call ## 119 ## Duration:  108
      ✓ should follow/unfollow user (1177ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  161
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  49
**** Call ## 124 ## Duration:  50
      ✓ should update user (326ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  52 (ERR)
      ✓ should disallow missing token/email in update (71ms)
**** Call ## 127 ## Duration:  106
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (171ms)

  Util
    Ping
**** Call ## 129 ## Duration:  37
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  169
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  109
    Create
**** Call ## 3 ## Duration:  94
      ✓ should create article (97ms)
**** Call ## 4 ## Duration:  96
      ✓ should create article with tags (98ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  75 (ERR)
**** Call ## 7 ## Duration:  56 (ERR)
**** Call ## 8 ## Duration:  52 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (241ms)
    Get
**** Call ## 10 ## Duration:  108
      ✓ should get article by slug (108ms)
**** Call ## 11 ## Duration:  85
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  46 (ERR)
      ✓ should disallow unknown slug (48ms)
    Update
**** Call ## 13 ## Duration:  165
**** Call ## 14 ## Duration:  161
**** Call ## 15 ## Duration:  119
      ✓ should update article (446ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  76 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  79 (ERR)
      ✓ should disallow non-author from updating (79ms)
    Favorite
**** Call ## 21 ## Duration:  142
**** Call ## 22 ## Duration:  150
      ✓ should favorite article (292ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  61 (ERR)
      ✓ should disallow favoriting unknown article (61ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (135ms)
    Delete
**** Call ## 26 ## Duration:  121
**** Call ## 27 ## Duration:  27 (ERR)
      ✓ should delete article (149ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  78 (ERR)
      ✓ should disallow deleting article by non-author (78ms)
    List
**** Call ## 31 ## Duration:  100
**** Call ## 32 ## Duration:  92
**** Call ## 33 ## Duration:  89
**** Call ## 34 ## Duration:  75
**** Call ## 35 ## Duration:  72
**** Call ## 36 ## Duration:  81
**** Call ## 37 ## Duration:  96
**** Call ## 38 ## Duration:  125
**** Call ## 39 ## Duration:  88
**** Call ## 40 ## Duration:  66
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  100
**** Call ## 43 ## Duration:  86
**** Call ## 44 ## Duration:  64
**** Call ## 45 ## Duration:  68
**** Call ## 46 ## Duration:  65
**** Call ## 47 ## Duration:  63
**** Call ## 48 ## Duration:  74
**** Call ## 49 ## Duration:  66
**** Call ## 50 ## Duration:  72
**** Call ## 51 ## Duration:  422
      ✓ should list articles (422ms)
**** Call ## 52 ## Duration:  171
**** Call ## 53 ## Duration:  386
      ✓ should list articles with tag (557ms)
**** Call ## 54 ## Duration:  257
      ✓ should list articles by author (258ms)
**** Call ## 55 ## Duration:  65
      ✓ should list articles favorited by user (66ms)
**** Call ## 56 ## Duration:  111
**** Call ## 57 ## Duration:  95
      ✓ should list articles by limit/offset (206ms)
**** Call ## 58 ## Duration:  391
      ✓ should list articles when authenticated (391ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 61 ## Duration:  29 (ERR)
**** Call ## 59 ## Duration:  34 (ERR)
**** Call ## 62 ## Duration:  91
**** Call ## 63 ## Duration:  144
**** Call ## 64 ## Duration:  272
**** Call ## 65 ## Duration:  140
**** Call ## 66 ## Duration:  416
      ✓ should get feed (1065ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  95
      ✓ should get tags (96ms)

  Comment
**** Call ## 69 ## Duration:  140
**** Call ## 70 ## Duration:  96
**** Call ## 71 ## Duration:  86
    Create
**** Call ## 72 ## Duration:  118
**** Call ## 73 ## Duration:  107
**** Call ## 74 ## Duration:  116
**** Call ## 75 ## Duration:  87
**** Call ## 76 ## Duration:  101
**** Call ## 77 ## Duration:  103
**** Call ## 78 ## Duration:  106
**** Call ## 79 ## Duration:  115
**** Call ## 80 ## Duration:  98
**** Call ## 81 ## Duration:  84
      ✓ should create comment (1036ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  225
      ✓ should get all comments for article (225ms)
    Delete
**** Call ## 86 ## Duration:  149
      ✓ should delete comment (149ms)
**** Call ## 87 ## Duration:  56 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown comment (58ms)

  User
    Create
**** Call ## 90 ## Duration:  125
      ✓ should create user (127ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  25 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (88ms)
    Login
**** Call ## 97 ## Duration:  81
      ✓ should login (81ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  17 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (56ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  25 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (86ms)
    Profile
**** Call ## 108 ## Duration:  77
      ✓ should get profile (77ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (38ms)
**** Call ## 110 ## Duration:  119
**** Call ## 111 ## Duration:  121
**** Call ## 112 ## Duration:  123
**** Call ## 113 ## Duration:  93
**** Call ## 114 ## Duration:  78
**** Call ## 115 ## Duration:  84
**** Call ## 116 ## Duration:  117
**** Call ## 117 ## Duration:  137
**** Call ## 118 ## Duration:  105
**** Call ## 119 ## Duration:  110
      ✓ should follow/unfollow user (1087ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  99
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  105
      ✓ should update user (339ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  28 (ERR)
      ✓ should disallow missing token/email in update (48ms)
**** Call ## 127 ## Duration:  121
**** Call ## 128 ## Duration:  54 (ERR)
      ✓ should disallow reusing email (176ms)

  Util
    Ping
**** Call ## 129 ## Duration:  37
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  176
**** Call ## 1 ## Duration:  125
**** Call ## 2 ## Duration:  127
    Create
**** Call ## 3 ## Duration:  110
      ✓ should create article (113ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (83ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  218 (ERR)
**** Call ## 7 ## Duration:  50 (ERR)
**** Call ## 8 ## Duration:  66 (ERR)
**** Call ## 9 ## Duration:  55 (ERR)
      ✓ should enforce required fields (393ms)
    Get
**** Call ## 10 ## Duration:  88
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  99
      ✓ should get article with tags by slug (99ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  152
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  160
      ✓ should update article (448ms)
**** Call ## 16 ## Duration:  27 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  68 (ERR)
      ✓ should disallow updating non-existent article (68ms)
**** Call ## 20 ## Duration:  75 (ERR)
      ✓ should disallow non-author from updating (76ms)
    Favorite
**** Call ## 21 ## Duration:  141
**** Call ## 22 ## Duration:  111
      ✓ should favorite article (253ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  69 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  132
      ✓ should unfavorite article (132ms)
    Delete
**** Call ## 26 ## Duration:  122
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (163ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (70ms)
    List
**** Call ## 31 ## Duration:  96
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  90
**** Call ## 34 ## Duration:  95
**** Call ## 35 ## Duration:  70
**** Call ## 36 ## Duration:  96
**** Call ## 37 ## Duration:  73
**** Call ## 38 ## Duration:  79
**** Call ## 39 ## Duration:  91
**** Call ## 40 ## Duration:  75
**** Call ## 41 ## Duration:  84
**** Call ## 42 ## Duration:  75
**** Call ## 43 ## Duration:  104
**** Call ## 44 ## Duration:  64
**** Call ## 45 ## Duration:  92
**** Call ## 46 ## Duration:  80
**** Call ## 47 ## Duration:  65
**** Call ## 48 ## Duration:  79
**** Call ## 49 ## Duration:  87
**** Call ## 50 ## Duration:  109
**** Call ## 51 ## Duration:  489
      ✓ should list articles (489ms)
**** Call ## 52 ## Duration:  180
**** Call ## 53 ## Duration:  489
      ✓ should list articles with tag (669ms)
**** Call ## 54 ## Duration:  233
      ✓ should list articles by author (233ms)
**** Call ## 55 ## Duration:  46
      ✓ should list articles favorited by user (46ms)
**** Call ## 56 ## Duration:  111
**** Call ## 57 ## Duration:  81
      ✓ should list articles by limit/offset (192ms)
**** Call ## 58 ## Duration:  700
      ✓ should list articles when authenticated (700ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 62 ## Duration:  86
**** Call ## 63 ## Duration:  136
**** Call ## 64 ## Duration:  254
**** Call ## 65 ## Duration:  107
**** Call ## 66 ## Duration:  437
      ✓ should get feed (1021ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  107
      ✓ should get tags (107ms)

  Comment
**** Call ## 69 ## Duration:  107
**** Call ## 70 ## Duration:  94
**** Call ## 71 ## Duration:  89
    Create
**** Call ## 72 ## Duration:  127
**** Call ## 73 ## Duration:  113
**** Call ## 74 ## Duration:  128
**** Call ## 75 ## Duration:  116
**** Call ## 76 ## Duration:  75
**** Call ## 77 ## Duration:  148
**** Call ## 78 ## Duration:  110
**** Call ## 79 ## Duration:  91
**** Call ## 80 ## Duration:  116
**** Call ## 81 ## Duration:  104
      ✓ should create comment (1128ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  57 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  244
      ✓ should get all comments for article (244ms)
    Delete
**** Call ## 86 ## Duration:  103
      ✓ should delete comment (103ms)
**** Call ## 87 ## Duration:  68 (ERR)
      ✓ only comment author should be able to delete comment (69ms)
**** Call ## 88 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  75 (ERR)
      ✓ should disallow deleting unknown comment (75ms)

  User
    Create
**** Call ## 90 ## Duration:  126
      ✓ should create user (126ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  159 (ERR)
      ✓ should disallow same email (159ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  26 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  78
      ✓ should login (78ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  55 (ERR)
      ✓ should disallow wrong password (56ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  83
      ✓ should get profile (83ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  125
**** Call ## 111 ## Duration:  110
**** Call ## 112 ## Duration:  111
**** Call ## 113 ## Duration:  96
**** Call ## 114 ## Duration:  69
**** Call ## 115 ## Duration:  132
**** Call ## 116 ## Duration:  119
**** Call ## 117 ## Duration:  124
**** Call ## 118 ## Duration:  135
**** Call ## 119 ## Duration:  140
      ✓ should follow/unfollow user (1161ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  87
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  48
**** Call ## 124 ## Duration:  48
      ✓ should update user (249ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (76ms)
**** Call ## 127 ## Duration:  110
**** Call ## 128 ## Duration:  55 (ERR)
      ✓ should disallow reusing email (167ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  203
**** Call ## 1 ## Duration:  105
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  179
      ✓ should create article (182ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (92ms)
**** Call ## 5 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  65 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  48 (ERR)
**** Call ## 9 ## Duration:  51 (ERR)
      ✓ should enforce required fields (222ms)
    Get
**** Call ## 10 ## Duration:  99
      ✓ should get article by slug (100ms)
**** Call ## 11 ## Duration:  97
      ✓ should get article with tags by slug (97ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  222
**** Call ## 14 ## Duration:  132
**** Call ## 15 ## Duration:  140
      ✓ should update article (497ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  61 (ERR)
      ✓ should disallow non-author from updating (62ms)
    Favorite
**** Call ## 21 ## Duration:  144
**** Call ## 22 ## Duration:  131
      ✓ should favorite article (277ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  139
      ✓ should unfavorite article (139ms)
    Delete
**** Call ## 26 ## Duration:  117
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (163ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (66ms)
    List
**** Call ## 31 ## Duration:  77
**** Call ## 32 ## Duration:  90
**** Call ## 33 ## Duration:  90
**** Call ## 34 ## Duration:  95
**** Call ## 35 ## Duration:  78
**** Call ## 36 ## Duration:  83
**** Call ## 37 ## Duration:  88
**** Call ## 38 ## Duration:  72
**** Call ## 39 ## Duration:  96
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  86
**** Call ## 42 ## Duration:  90
**** Call ## 43 ## Duration:  94
**** Call ## 44 ## Duration:  86
**** Call ## 45 ## Duration:  86
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  86
**** Call ## 48 ## Duration:  98
**** Call ## 49 ## Duration:  65
**** Call ## 50 ## Duration:  85
**** Call ## 51 ## Duration:  532
      ✓ should list articles (532ms)
**** Call ## 52 ## Duration:  224
**** Call ## 53 ## Duration:  386
      ✓ should list articles with tag (611ms)
**** Call ## 54 ## Duration:  192
      ✓ should list articles by author (192ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  175
**** Call ## 57 ## Duration:  87
      ✓ should list articles by limit/offset (264ms)
**** Call ## 58 ## Duration:  1217
      ✓ should list articles when authenticated (1217ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  90
**** Call ## 63 ## Duration:  142
**** Call ## 64 ## Duration:  300
**** Call ## 65 ## Duration:  125
**** Call ## 66 ## Duration:  407
      ✓ should get feed (1065ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  117
      ✓ should get tags (117ms)

  Comment
**** Call ## 69 ## Duration:  118
**** Call ## 70 ## Duration:  113
**** Call ## 71 ## Duration:  72
    Create
**** Call ## 72 ## Duration:  98
**** Call ## 73 ## Duration:  88
**** Call ## 74 ## Duration:  89
**** Call ## 75 ## Duration:  87
**** Call ## 76 ## Duration:  114
**** Call ## 77 ## Duration:  104
**** Call ## 78 ## Duration:  97
**** Call ## 79 ## Duration:  97
**** Call ## 80 ## Duration:  93
**** Call ## 81 ## Duration:  70
      ✓ should create comment (938ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  39 (ERR)
      ✓ should enforce comment body (40ms)
**** Call ## 84 ## Duration:  53 (ERR)
      ✓ should disallow non-existent article (53ms)
    Get
**** Call ## 85 ## Duration:  200
      ✓ should get all comments for article (200ms)
    Delete
**** Call ## 86 ## Duration:  109
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  53 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  124
      ✓ should create user (124ms)
**** Call ## 91 ## Duration:  31 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  25 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (89ms)
    Login
**** Call ## 97 ## Duration:  68
      ✓ should login (69ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  134
      ✓ should get profile (134ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  110
**** Call ## 111 ## Duration:  172
**** Call ## 112 ## Duration:  97
**** Call ## 113 ## Duration:  87
**** Call ## 114 ## Duration:  70
**** Call ## 115 ## Duration:  117
**** Call ## 116 ## Duration:  152
**** Call ## 117 ## Duration:  134
**** Call ## 118 ## Duration:  111
**** Call ## 119 ## Duration:  85
      ✓ should follow/unfollow user (1136ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  89
**** Call ## 122 ## Duration:  49
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  56
      ✓ should update user (246ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  45 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  182
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (245ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  176
**** Call ## 1 ## Duration:  112
**** Call ## 2 ## Duration:  122
    Create
**** Call ## 3 ## Duration:  92
      ✓ should create article (95ms)
**** Call ## 4 ## Duration:  78
      ✓ should create article with tags (79ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  100 (ERR)
**** Call ## 7 ## Duration:  66 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  71 (ERR)
      ✓ should enforce required fields (299ms)
    Get
**** Call ## 10 ## Duration:  106
      ✓ should get article by slug (106ms)
**** Call ## 11 ## Duration:  105
      ✓ should get article with tags by slug (105ms)
**** Call ## 12 ## Duration:  53 (ERR)
      ✓ should disallow unknown slug (53ms)
    Update
**** Call ## 13 ## Duration:  159
**** Call ## 14 ## Duration:  176
**** Call ## 15 ## Duration:  160
      ✓ should update article (499ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  65 (ERR)
      ✓ should disallow updating non-existent article (65ms)
**** Call ## 20 ## Duration:  74 (ERR)
      ✓ should disallow non-author from updating (75ms)
    Favorite
**** Call ## 21 ## Duration:  136
**** Call ## 22 ## Duration:  108
      ✓ should favorite article (244ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  63 (ERR)
      ✓ should disallow favoriting unknown article (63ms)
**** Call ## 25 ## Duration:  133
      ✓ should unfavorite article (133ms)
    Delete
**** Call ## 26 ## Duration:  120
**** Call ## 27 ## Duration:  48 (ERR)
      ✓ should delete article (169ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (67ms)
**** Call ## 30 ## Duration:  64 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  86
**** Call ## 32 ## Duration:  99
**** Call ## 33 ## Duration:  82
**** Call ## 34 ## Duration:  84
**** Call ## 35 ## Duration:  63
**** Call ## 36 ## Duration:  101
**** Call ## 37 ## Duration:  85
**** Call ## 38 ## Duration:  81
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  80
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  97
**** Call ## 43 ## Duration:  93
**** Call ## 44 ## Duration:  75
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  85
**** Call ## 47 ## Duration:  62
**** Call ## 48 ## Duration:  66
**** Call ## 49 ## Duration:  84
**** Call ## 50 ## Duration:  84
**** Call ## 51 ## Duration:  492
      ✓ should list articles (492ms)
**** Call ## 52 ## Duration:  219
**** Call ## 53 ## Duration:  421
      ✓ should list articles with tag (640ms)
**** Call ## 54 ## Duration:  215
      ✓ should list articles by author (215ms)
**** Call ## 55 ## Duration:  59
      ✓ should list articles favorited by user (59ms)
**** Call ## 56 ## Duration:  82
**** Call ## 57 ## Duration:  81
      ✓ should list articles by limit/offset (163ms)
**** Call ## 58 ## Duration:  444
      ✓ should list articles when authenticated (444ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  95
**** Call ## 63 ## Duration:  138
**** Call ## 64 ## Duration:  251
**** Call ## 65 ## Duration:  135
**** Call ## 66 ## Duration:  436
      ✓ should get feed (1055ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  113
      ✓ should get tags (113ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  141
**** Call ## 71 ## Duration:  81
    Create
**** Call ## 72 ## Duration:  103
**** Call ## 73 ## Duration:  95
**** Call ## 74 ## Duration:  143
**** Call ## 75 ## Duration:  96
**** Call ## 76 ## Duration:  88
**** Call ## 77 ## Duration:  109
**** Call ## 78 ## Duration:  175
**** Call ## 79 ## Duration:  107
**** Call ## 80 ## Duration:  84
**** Call ## 81 ## Duration:  79
      ✓ should create comment (1080ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  239
      ✓ should get all comments for article (240ms)
    Delete
**** Call ## 86 ## Duration:  94
      ✓ should delete comment (94ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  97
      ✓ should create user (98ms)
**** Call ## 91 ## Duration:  31 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  74
      ✓ should login (74ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  17 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  60
      ✓ should get profile (60ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (38ms)
**** Call ## 110 ## Duration:  163
**** Call ## 111 ## Duration:  125
**** Call ## 112 ## Duration:  114
**** Call ## 113 ## Duration:  74
**** Call ## 114 ## Duration:  57
**** Call ## 115 ## Duration:  114
**** Call ## 116 ## Duration:  154
**** Call ## 117 ## Duration:  116
**** Call ## 118 ## Duration:  122
**** Call ## 119 ## Duration:  116
      ✓ should follow/unfollow user (1157ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  77
**** Call ## 122 ## Duration:  61
**** Call ## 123 ## Duration:  45
**** Call ## 124 ## Duration:  40
      ✓ should update user (224ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  38 (ERR)
      ✓ should disallow missing token/email in update (56ms)
**** Call ## 127 ## Duration:  94
**** Call ## 128 ## Duration:  70 (ERR)
      ✓ should disallow reusing email (164ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  159
**** Call ## 1 ## Duration:  109
**** Call ## 2 ## Duration:  126
    Create
**** Call ## 3 ## Duration:  92
      ✓ should create article (95ms)
**** Call ## 4 ## Duration:  90
      ✓ should create article with tags (93ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  73 (ERR)
**** Call ## 7 ## Duration:  55 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  99 (ERR)
      ✓ should enforce required fields (292ms)
    Get
**** Call ## 10 ## Duration:  93
      ✓ should get article by slug (93ms)
**** Call ## 11 ## Duration:  108
      ✓ should get article with tags by slug (109ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  193
**** Call ## 14 ## Duration:  159
**** Call ## 15 ## Duration:  138
      ✓ should update article (490ms)
**** Call ## 16 ## Duration:  29 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  76 (ERR)
      ✓ should disallow updating non-existent article (77ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  142
**** Call ## 22 ## Duration:  116
      ✓ should favorite article (258ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  137
      ✓ should unfavorite article (137ms)
    Delete
**** Call ## 26 ## Duration:  125
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (163ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (65ms)
**** Call ## 30 ## Duration:  57 (ERR)
      ✓ should disallow deleting article by non-author (58ms)
    List
**** Call ## 31 ## Duration:  132
**** Call ## 32 ## Duration:  79
**** Call ## 33 ## Duration:  87
**** Call ## 34 ## Duration:  88
**** Call ## 35 ## Duration:  70
**** Call ## 36 ## Duration:  64
**** Call ## 37 ## Duration:  74
**** Call ## 38 ## Duration:  82
**** Call ## 39 ## Duration:  62
**** Call ## 40 ## Duration:  70
**** Call ## 41 ## Duration:  84
**** Call ## 42 ## Duration:  81
**** Call ## 43 ## Duration:  70
**** Call ## 44 ## Duration:  307
**** Call ## 45 ## Duration:  120
**** Call ## 46 ## Duration:  67
**** Call ## 47 ## Duration:  84
**** Call ## 48 ## Duration:  85
**** Call ## 49 ## Duration:  55
**** Call ## 50 ## Duration:  93
**** Call ## 51 ## Duration:  394
      ✓ should list articles (394ms)
**** Call ## 52 ## Duration:  256
**** Call ## 53 ## Duration:  459
      ✓ should list articles with tag (715ms)
**** Call ## 54 ## Duration:  226
      ✓ should list articles by author (226ms)
**** Call ## 55 ## Duration:  66
      ✓ should list articles favorited by user (66ms)
**** Call ## 56 ## Duration:  72
**** Call ## 57 ## Duration:  80
      ✓ should list articles by limit/offset (154ms)
**** Call ## 58 ## Duration:  515
      ✓ should list articles when authenticated (515ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  81
**** Call ## 63 ## Duration:  130
**** Call ## 64 ## Duration:  302
**** Call ## 65 ## Duration:  126
**** Call ## 66 ## Duration:  451
      ✓ should get feed (1090ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  174
      ✓ should get tags (175ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  105
**** Call ## 71 ## Duration:  89
    Create
**** Call ## 72 ## Duration:  115
**** Call ## 73 ## Duration:  106
**** Call ## 74 ## Duration:  90
**** Call ## 75 ## Duration:  104
**** Call ## 76 ## Duration:  112
**** Call ## 77 ## Duration:  108
**** Call ## 78 ## Duration:  98
**** Call ## 79 ## Duration:  95
**** Call ## 80 ## Duration:  73
**** Call ## 81 ## Duration:  131
      ✓ should create comment (1033ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  88 (ERR)
      ✓ should disallow non-existent article (89ms)
    Get
**** Call ## 85 ## Duration:  220
      ✓ should get all comments for article (220ms)
    Delete
**** Call ## 86 ## Duration:  101
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  55 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  56 (ERR)
      ✓ should disallow deleting unknown comment (57ms)

  User
    Create
**** Call ## 90 ## Duration:  120
      ✓ should create user (120ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  50 (ERR)
      ✓ should disallow same email (50ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  26 (ERR)
      ✓ should enforce required fields (87ms)
    Login
**** Call ## 97 ## Duration:  78
      ✓ should login (78ms)
**** Call ## 98 ## Duration:  27 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  65 (ERR)
      ✓ should disallow wrong password (66ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  26 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  35 (ERR)
      ✓ should disallow bad tokens (103ms)
    Profile
**** Call ## 108 ## Duration:  66
      ✓ should get profile (67ms)
**** Call ## 109 ## Duration:  37 (ERR)
      ✓ should disallow unknown username (38ms)
**** Call ## 110 ## Duration:  111
**** Call ## 111 ## Duration:  143
**** Call ## 112 ## Duration:  100
**** Call ## 113 ## Duration:  77
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  103
**** Call ## 116 ## Duration:  124
**** Call ## 117 ## Duration:  123
**** Call ## 118 ## Duration:  100
**** Call ## 119 ## Duration:  140
      ✓ should follow/unfollow user (1085ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  85
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  58
**** Call ## 124 ## Duration:  66
      ✓ should update user (279ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (69ms)
**** Call ## 127 ## Duration:  112
**** Call ## 128 ## Duration:  74 (ERR)
      ✓ should disallow reusing email (186ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  171
**** Call ## 1 ## Duration:  140
**** Call ## 2 ## Duration:  105
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  95
      ✓ should create article with tags (97ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  82 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  111 (ERR)
      ✓ should enforce required fields (324ms)
    Get
**** Call ## 10 ## Duration:  92
      ✓ should get article by slug (92ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (90ms)
**** Call ## 12 ## Duration:  30 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  168
**** Call ## 14 ## Duration:  148
**** Call ## 15 ## Duration:  135
      ✓ should update article (456ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  60 (ERR)
      ✓ should disallow updating non-existent article (60ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  154
**** Call ## 22 ## Duration:  124
      ✓ should favorite article (279ms)
**** Call ## 23 ## Duration:  26 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  82 (ERR)
      ✓ should disallow favoriting unknown article (82ms)
**** Call ## 25 ## Duration:  151
      ✓ should unfavorite article (151ms)
    Delete
**** Call ## 26 ## Duration:  116
**** Call ## 27 ## Duration:  48 (ERR)
      ✓ should delete article (164ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  81 (ERR)
      ✓ should disallow deleting article by non-author (81ms)
    List
**** Call ## 31 ## Duration:  88
**** Call ## 32 ## Duration:  91
**** Call ## 33 ## Duration:  74
**** Call ## 34 ## Duration:  94
**** Call ## 35 ## Duration:  97
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  88
**** Call ## 38 ## Duration:  101
**** Call ## 39 ## Duration:  129
**** Call ## 40 ## Duration:  89
**** Call ## 41 ## Duration:  172
**** Call ## 42 ## Duration:  87
**** Call ## 43 ## Duration:  84
**** Call ## 44 ## Duration:  87
**** Call ## 45 ## Duration:  77
**** Call ## 46 ## Duration:  80
**** Call ## 47 ## Duration:  87
**** Call ## 48 ## Duration:  100
**** Call ## 49 ## Duration:  70
**** Call ## 50 ## Duration:  89
**** Call ## 51 ## Duration:  470
      ✓ should list articles (470ms)
**** Call ## 52 ## Duration:  272
**** Call ## 53 ## Duration:  297
      ✓ should list articles with tag (570ms)
**** Call ## 54 ## Duration:  234
      ✓ should list articles by author (234ms)
**** Call ## 55 ## Duration:  118
      ✓ should list articles favorited by user (118ms)
**** Call ## 56 ## Duration:  76
**** Call ## 57 ## Duration:  85
      ✓ should list articles by limit/offset (161ms)
**** Call ## 58 ## Duration:  514
      ✓ should list articles when authenticated (514ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  88
**** Call ## 63 ## Duration:  122
**** Call ## 64 ## Duration:  314
**** Call ## 65 ## Duration:  92
**** Call ## 66 ## Duration:  361
      ✓ should get feed (978ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  135
      ✓ should get tags (135ms)

  Comment
**** Call ## 69 ## Duration:  144
**** Call ## 70 ## Duration:  125
**** Call ## 71 ## Duration:  214
    Create
**** Call ## 72 ## Duration:  107
**** Call ## 73 ## Duration:  101
**** Call ## 74 ## Duration:  94
**** Call ## 75 ## Duration:  90
**** Call ## 76 ## Duration:  84
**** Call ## 77 ## Duration:  135
**** Call ## 78 ## Duration:  83
**** Call ## 79 ## Duration:  70
**** Call ## 80 ## Duration:  129
**** Call ## 81 ## Duration:  97
      ✓ should create comment (992ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  67 (ERR)
      ✓ should disallow non-existent article (67ms)
    Get
**** Call ## 85 ## Duration:  253
      ✓ should get all comments for article (253ms)
    Delete
**** Call ## 86 ## Duration:  110
      ✓ should delete comment (110ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  117
      ✓ should create user (117ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  42 (ERR)
      ✓ should disallow same email (42ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  74
      ✓ should login (74ms)
**** Call ## 98 ## Duration:  35 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (54ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (66ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  30 (ERR)
      ✓ should disallow bad tokens (91ms)
    Profile
**** Call ## 108 ## Duration:  82
      ✓ should get profile (82ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  115
**** Call ## 111 ## Duration:  110
**** Call ## 112 ## Duration:  102
**** Call ## 113 ## Duration:  86
**** Call ## 114 ## Duration:  57
**** Call ## 115 ## Duration:  116
**** Call ## 116 ## Duration:  88
**** Call ## 117 ## Duration:  125
**** Call ## 118 ## Duration:  121
**** Call ## 119 ## Duration:  106
      ✓ should follow/unfollow user (1027ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  92
**** Call ## 122 ## Duration:  54
**** Call ## 123 ## Duration:  45
**** Call ## 124 ## Duration:  70
      ✓ should update user (262ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (69ms)
**** Call ## 127 ## Duration:  91
**** Call ## 128 ## Duration:  48 (ERR)
      ✓ should disallow reusing email (139ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  165
**** Call ## 1 ## Duration:  99
**** Call ## 2 ## Duration:  106
    Create
**** Call ## 3 ## Duration:  97
      ✓ should create article (100ms)
**** Call ## 4 ## Duration:  107
      ✓ should create article with tags (111ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  76 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  67 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (271ms)
    Get
**** Call ## 10 ## Duration:  110
      ✓ should get article by slug (111ms)
**** Call ## 11 ## Duration:  151
      ✓ should get article with tags by slug (151ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  162
**** Call ## 14 ## Duration:  138
**** Call ## 15 ## Duration:  134
      ✓ should update article (435ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  76 (ERR)
      ✓ should disallow non-author from updating (77ms)
    Favorite
**** Call ## 21 ## Duration:  136
**** Call ## 22 ## Duration:  95
      ✓ should favorite article (232ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  76 (ERR)
      ✓ should disallow favoriting unknown article (76ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (135ms)
    Delete
**** Call ## 26 ## Duration:  117
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (156ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  70 (ERR)
      ✓ should disallow deleting article by non-author (70ms)
    List
**** Call ## 31 ## Duration:  95
**** Call ## 32 ## Duration:  117
**** Call ## 33 ## Duration:  97
**** Call ## 34 ## Duration:  88
**** Call ## 35 ## Duration:  137
**** Call ## 36 ## Duration:  93
**** Call ## 37 ## Duration:  53
**** Call ## 38 ## Duration:  94
**** Call ## 39 ## Duration:  170
**** Call ## 40 ## Duration:  93
**** Call ## 41 ## Duration:  159
**** Call ## 42 ## Duration:  117
**** Call ## 43 ## Duration:  65
**** Call ## 44 ## Duration:  211
**** Call ## 45 ## Duration:  78
**** Call ## 46 ## Duration:  59
**** Call ## 47 ## Duration:  73
**** Call ## 48 ## Duration:  66
**** Call ## 49 ## Duration:  75
**** Call ## 50 ## Duration:  51
**** Call ## 51 ## Duration:  503
      ✓ should list articles (503ms)
**** Call ## 52 ## Duration:  308
**** Call ## 53 ## Duration:  384
      ✓ should list articles with tag (692ms)
**** Call ## 54 ## Duration:  223
      ✓ should list articles by author (223ms)
**** Call ## 55 ## Duration:  63
      ✓ should list articles favorited by user (64ms)
**** Call ## 56 ## Duration:  87
**** Call ## 57 ## Duration:  101
      ✓ should list articles by limit/offset (188ms)
**** Call ## 58 ## Duration:  442
      ✓ should list articles when authenticated (444ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  83
**** Call ## 63 ## Duration:  97
**** Call ## 64 ## Duration:  275
**** Call ## 65 ## Duration:  111
**** Call ## 66 ## Duration:  437
      ✓ should get feed (1004ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  132
      ✓ should get tags (132ms)

  Comment
**** Call ## 69 ## Duration:  135
**** Call ## 70 ## Duration:  100
**** Call ## 71 ## Duration:  81
    Create
**** Call ## 72 ## Duration:  96
**** Call ## 73 ## Duration:  103
**** Call ## 74 ## Duration:  94
**** Call ## 75 ## Duration:  81
**** Call ## 76 ## Duration:  80
**** Call ## 77 ## Duration:  79
**** Call ## 78 ## Duration:  76
**** Call ## 79 ## Duration:  89
**** Call ## 80 ## Duration:  101
**** Call ## 81 ## Duration:  87
      ✓ should create comment (888ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  42 (ERR)
      ✓ should enforce comment body (42ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  271
      ✓ should get all comments for article (272ms)
    Delete
**** Call ## 86 ## Duration:  112
      ✓ should delete comment (112ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown comment (62ms)

  User
    Create
**** Call ## 90 ## Duration:  127
      ✓ should create user (127ms)
**** Call ## 91 ## Duration:  33 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  76
      ✓ should login (76ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  41 (ERR)
      ✓ should disallow wrong password (41ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  59
      ✓ should get profile (60ms)
**** Call ## 109 ## Duration:  32 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  103
**** Call ## 111 ## Duration:  124
**** Call ## 112 ## Duration:  95
**** Call ## 113 ## Duration:  66
**** Call ## 114 ## Duration:  64
**** Call ## 115 ## Duration:  117
**** Call ## 116 ## Duration:  125
**** Call ## 117 ## Duration:  127
**** Call ## 118 ## Duration:  116
**** Call ## 119 ## Duration:  120
      ✓ should follow/unfollow user (1059ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  78
**** Call ## 122 ## Duration:  58
**** Call ## 123 ## Duration:  35
**** Call ## 124 ## Duration:  70
      ✓ should update user (241ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  45 (ERR)
      ✓ should disallow missing token/email in update (65ms)
**** Call ## 127 ## Duration:  90
**** Call ## 128 ## Duration:  46 (ERR)
      ✓ should disallow reusing email (136ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  165
**** Call ## 1 ## Duration:  96
**** Call ## 2 ## Duration:  104
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (95ms)
**** Call ## 4 ## Duration:  77
      ✓ should create article with tags (80ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  66 (ERR)
**** Call ## 7 ## Duration:  51 (ERR)
**** Call ## 8 ## Duration:  48 (ERR)
**** Call ## 9 ## Duration:  60 (ERR)
      ✓ should enforce required fields (227ms)
    Get
**** Call ## 10 ## Duration:  114
      ✓ should get article by slug (114ms)
**** Call ## 11 ## Duration:  97
      ✓ should get article with tags by slug (98ms)
**** Call ## 12 ## Duration:  38 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  161
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  120
      ✓ should update article (426ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  37 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  71 (ERR)
      ✓ should disallow non-author from updating (71ms)
    Favorite
**** Call ## 21 ## Duration:  146
**** Call ## 22 ## Duration:  108
      ✓ should favorite article (254ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  144
      ✓ should unfavorite article (144ms)
    Delete
**** Call ## 26 ## Duration:  113
**** Call ## 27 ## Duration:  36 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  91
**** Call ## 32 ## Duration:  87
**** Call ## 33 ## Duration:  100
**** Call ## 34 ## Duration:  75
**** Call ## 35 ## Duration:  86
**** Call ## 36 ## Duration:  84
**** Call ## 37 ## Duration:  87
**** Call ## 38 ## Duration:  70
**** Call ## 39 ## Duration:  77
**** Call ## 40 ## Duration:  100
**** Call ## 41 ## Duration:  97
**** Call ## 42 ## Duration:  85
**** Call ## 43 ## Duration:  86
**** Call ## 44 ## Duration:  88
**** Call ## 45 ## Duration:  78
**** Call ## 46 ## Duration:  79
**** Call ## 47 ## Duration:  75
**** Call ## 48 ## Duration:  68
**** Call ## 49 ## Duration:  369
**** Call ## 50 ## Duration:  86
**** Call ## 51 ## Duration:  458
      ✓ should list articles (459ms)
**** Call ## 52 ## Duration:  285
**** Call ## 53 ## Duration:  402
      ✓ should list articles with tag (687ms)
**** Call ## 54 ## Duration:  208
      ✓ should list articles by author (208ms)
**** Call ## 55 ## Duration:  70
      ✓ should list articles favorited by user (70ms)
**** Call ## 56 ## Duration:  86
**** Call ## 57 ## Duration:  88
      ✓ should list articles by limit/offset (174ms)
**** Call ## 58 ## Duration:  408
      ✓ should list articles when authenticated (409ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  89
**** Call ## 63 ## Duration:  98
**** Call ## 64 ## Duration:  260
**** Call ## 65 ## Duration:  119
**** Call ## 66 ## Duration:  378
      ✓ should get feed (944ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  119
      ✓ should get tags (119ms)

  Comment
**** Call ## 69 ## Duration:  103
**** Call ## 70 ## Duration:  88
**** Call ## 71 ## Duration:  138
    Create
**** Call ## 72 ## Duration:  97
**** Call ## 73 ## Duration:  138
**** Call ## 74 ## Duration:  88
**** Call ## 75 ## Duration:  92
**** Call ## 76 ## Duration:  97
**** Call ## 77 ## Duration:  82
**** Call ## 78 ## Duration:  88
**** Call ## 79 ## Duration:  75
**** Call ## 80 ## Duration:  80
**** Call ## 81 ## Duration:  88
      ✓ should create comment (925ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  248
      ✓ should get all comments for article (248ms)
    Delete
**** Call ## 86 ## Duration:  111
      ✓ should delete comment (112ms)
**** Call ## 87 ## Duration:  50 (ERR)
      ✓ only comment author should be able to delete comment (51ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  165 (ERR)
      ✓ should disallow deleting unknown comment (165ms)

  User
    Create
**** Call ## 90 ## Duration:  105
      ✓ should create user (105ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  52 (ERR)
      ✓ should disallow same email (52ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  71
      ✓ should login (71ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  42 (ERR)
      ✓ should disallow wrong password (42ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  53
      ✓ should get current user (53ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  29 (ERR)
      ✓ should disallow bad tokens (91ms)
    Profile
**** Call ## 108 ## Duration:  59
      ✓ should get profile (59ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  103
**** Call ## 111 ## Duration:  125
**** Call ## 112 ## Duration:  93
**** Call ## 113 ## Duration:  87
**** Call ## 114 ## Duration:  69
**** Call ## 115 ## Duration:  105
**** Call ## 116 ## Duration:  94
**** Call ## 117 ## Duration:  117
**** Call ## 118 ## Duration:  109
**** Call ## 119 ## Duration:  95
      ✓ should follow/unfollow user (1000ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  86
**** Call ## 122 ## Duration:  58
**** Call ## 123 ## Duration:  59
**** Call ## 124 ## Duration:  66
      ✓ should update user (270ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (75ms)
**** Call ## 127 ## Duration:  100
**** Call ## 128 ## Duration:  52 (ERR)
      ✓ should disallow reusing email (152ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  229
**** Call ## 1 ## Duration:  95
**** Call ## 2 ## Duration:  89
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (96ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (86ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  74 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  46 (ERR)
      ✓ should enforce required fields (244ms)
    Get
**** Call ## 10 ## Duration:  103
      ✓ should get article by slug (104ms)
**** Call ## 11 ## Duration:  82
      ✓ should get article with tags by slug (83ms)
**** Call ## 12 ## Duration:  32 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  215
**** Call ## 14 ## Duration:  145
**** Call ## 15 ## Duration:  154
      ✓ should update article (514ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  49 (ERR)
      ✓ should disallow updating non-existent article (49ms)
**** Call ## 20 ## Duration:  69 (ERR)
      ✓ should disallow non-author from updating (70ms)
    Favorite
**** Call ## 21 ## Duration:  148
**** Call ## 22 ## Duration:  89
      ✓ should favorite article (237ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  60 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  150
      ✓ should unfavorite article (150ms)
    Delete
**** Call ## 26 ## Duration:  123
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (167ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  90 (ERR)
      ✓ should disallow deleting article by non-author (91ms)
    List
**** Call ## 31 ## Duration:  95
**** Call ## 32 ## Duration:  98
**** Call ## 33 ## Duration:  128
**** Call ## 34 ## Duration:  101
**** Call ## 35 ## Duration:  82
**** Call ## 36 ## Duration:  73
**** Call ## 37 ## Duration:  67
**** Call ## 38 ## Duration:  61
**** Call ## 39 ## Duration:  123
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  91
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  80
**** Call ## 44 ## Duration:  78
**** Call ## 45 ## Duration:  175
**** Call ## 46 ## Duration:  85
**** Call ## 47 ## Duration:  98
**** Call ## 48 ## Duration:  76
**** Call ## 49 ## Duration:  81
**** Call ## 50 ## Duration:  85
**** Call ## 51 ## Duration:  470
      ✓ should list articles (470ms)
**** Call ## 52 ## Duration:  292
**** Call ## 53 ## Duration:  476
      ✓ should list articles with tag (769ms)
**** Call ## 54 ## Duration:  220
      ✓ should list articles by author (220ms)
**** Call ## 55 ## Duration:  73
      ✓ should list articles favorited by user (73ms)
**** Call ## 56 ## Duration:  86
**** Call ## 57 ## Duration:  90
      ✓ should list articles by limit/offset (177ms)
**** Call ## 58 ## Duration:  434
      ✓ should list articles when authenticated (434ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  83
**** Call ## 63 ## Duration:  133
**** Call ## 64 ## Duration:  279
**** Call ## 65 ## Duration:  125
**** Call ## 66 ## Duration:  391
      ✓ should get feed (1012ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  200
      ✓ should get tags (200ms)

  Comment
**** Call ## 69 ## Duration:  114
**** Call ## 70 ## Duration:  97
**** Call ## 71 ## Duration:  78
    Create
**** Call ## 72 ## Duration:  100
**** Call ## 73 ## Duration:  86
**** Call ## 74 ## Duration:  94
**** Call ## 75 ## Duration:  70
**** Call ## 76 ## Duration:  85
**** Call ## 77 ## Duration:  100
**** Call ## 78 ## Duration:  80
**** Call ## 79 ## Duration:  68
**** Call ## 80 ## Duration:  65
**** Call ## 81 ## Duration:  81
      ✓ should create comment (830ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  267
      ✓ should get all comments for article (267ms)
    Delete
**** Call ## 86 ## Duration:  111
      ✓ should delete comment (111ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (67ms)

  User
    Create
**** Call ## 90 ## Duration:  92
      ✓ should create user (93ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  62 (ERR)
      ✓ should disallow same email (62ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  72
      ✓ should login (72ms)
**** Call ## 98 ## Duration:  35 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  41 (ERR)
      ✓ should disallow wrong password (42ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (57ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (79ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  36 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  101
**** Call ## 111 ## Duration:  124
**** Call ## 112 ## Duration:  103
**** Call ## 113 ## Duration:  81
**** Call ## 114 ## Duration:  55
**** Call ## 115 ## Duration:  113
**** Call ## 116 ## Duration:  126
**** Call ## 117 ## Duration:  124
**** Call ## 118 ## Duration:  94
**** Call ## 119 ## Duration:  135
      ✓ should follow/unfollow user (1057ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  92
**** Call ## 122 ## Duration:  58
**** Call ## 123 ## Duration:  51
**** Call ## 124 ## Duration:  65
      ✓ should update user (267ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  38 (ERR)
      ✓ should disallow missing token/email in update (59ms)
**** Call ## 127 ## Duration:  178
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (237ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  221
**** Call ## 1 ## Duration:  128
**** Call ## 2 ## Duration:  100
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (104ms)
**** Call ## 4 ## Duration:  92
      ✓ should create article with tags (95ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  87 (ERR)
**** Call ## 7 ## Duration:  71 (ERR)
**** Call ## 8 ## Duration:  69 (ERR)
**** Call ## 9 ## Duration:  64 (ERR)
      ✓ should enforce required fields (292ms)
    Get
**** Call ## 10 ## Duration:  96
      ✓ should get article by slug (96ms)
**** Call ## 11 ## Duration:  80
      ✓ should get article with tags by slug (81ms)
**** Call ## 12 ## Duration:  127 (ERR)
      ✓ should disallow unknown slug (127ms)
    Update
**** Call ## 13 ## Duration:  177
**** Call ## 14 ## Duration:  141
**** Call ## 15 ## Duration:  133
      ✓ should update article (451ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  55 (ERR)
      ✓ should disallow updating non-existent article (55ms)
**** Call ## 20 ## Duration:  56 (ERR)
      ✓ should disallow non-author from updating (56ms)
    Favorite
**** Call ## 21 ## Duration:  132
**** Call ## 22 ## Duration:  120
      ✓ should favorite article (252ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  69 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (135ms)
    Delete
**** Call ## 26 ## Duration:  120
**** Call ## 27 ## Duration:  31 (ERR)
      ✓ should delete article (151ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  71 (ERR)
      ✓ should disallow deleting article by non-author (72ms)
    List
**** Call ## 31 ## Duration:  96
**** Call ## 32 ## Duration:  87
**** Call ## 33 ## Duration:  128
**** Call ## 34 ## Duration:  88
**** Call ## 35 ## Duration:  100
**** Call ## 36 ## Duration:  100
**** Call ## 37 ## Duration:  91
**** Call ## 38 ## Duration:  83
**** Call ## 39 ## Duration:  72
**** Call ## 40 ## Duration:  116
**** Call ## 41 ## Duration:  91
**** Call ## 42 ## Duration:  76
**** Call ## 43 ## Duration:  66
**** Call ## 44 ## Duration:  74
**** Call ## 45 ## Duration:  87
**** Call ## 46 ## Duration:  90
**** Call ## 47 ## Duration:  66
**** Call ## 48 ## Duration:  82
**** Call ## 49 ## Duration:  78
**** Call ## 50 ## Duration:  89
**** Call ## 51 ## Duration:  415
      ✓ should list articles (415ms)
**** Call ## 52 ## Duration:  396
**** Call ## 53 ## Duration:  335
      ✓ should list articles with tag (733ms)
**** Call ## 54 ## Duration:  267
      ✓ should list articles by author (267ms)
**** Call ## 55 ## Duration:  115
      ✓ should list articles favorited by user (115ms)
**** Call ## 56 ## Duration:  97
**** Call ## 57 ## Duration:  203
      ✓ should list articles by limit/offset (301ms)
**** Call ## 58 ## Duration:  546
      ✓ should list articles when authenticated (546ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  89
**** Call ## 63 ## Duration:  112
**** Call ## 64 ## Duration:  289
**** Call ## 65 ## Duration:  89
**** Call ## 66 ## Duration:  321
      ✓ should get feed (901ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  194
      ✓ should get tags (194ms)

  Comment
**** Call ## 69 ## Duration:  127
**** Call ## 70 ## Duration:  126
**** Call ## 71 ## Duration:  95
    Create
**** Call ## 72 ## Duration:  125
**** Call ## 73 ## Duration:  201
**** Call ## 74 ## Duration:  117
**** Call ## 75 ## Duration:  126
**** Call ## 76 ## Duration:  111
**** Call ## 77 ## Duration:  77
**** Call ## 78 ## Duration:  98
**** Call ## 79 ## Duration:  95
**** Call ## 80 ## Duration:  102
**** Call ## 81 ## Duration:  113
      ✓ should create comment (1165ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (57ms)
    Get
**** Call ## 85 ## Duration:  214
      ✓ should get all comments for article (214ms)
    Delete
**** Call ## 86 ## Duration:  90
      ✓ should delete comment (90ms)
**** Call ## 87 ## Duration:  55 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  206
      ✓ should create user (206ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  60 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  79
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (44ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (57ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  78
      ✓ should get profile (79ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  98
**** Call ## 111 ## Duration:  132
**** Call ## 112 ## Duration:  123
**** Call ## 113 ## Duration:  81
**** Call ## 114 ## Duration:  55
**** Call ## 115 ## Duration:  85
**** Call ## 116 ## Duration:  114
**** Call ## 117 ## Duration:  146
**** Call ## 118 ## Duration:  99
**** Call ## 119 ## Duration:  107
      ✓ should follow/unfollow user (1042ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  81
**** Call ## 122 ## Duration:  78
**** Call ## 123 ## Duration:  51
**** Call ## 124 ## Duration:  66
      ✓ should update user (277ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (72ms)
**** Call ## 127 ## Duration:  148
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (210ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  183
**** Call ## 1 ## Duration:  125
**** Call ## 2 ## Duration:  100
    Create
**** Call ## 3 ## Duration:  101
      ✓ should create article (103ms)
**** Call ## 4 ## Duration:  83
      ✓ should create article with tags (84ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  65 (ERR)
**** Call ## 7 ## Duration:  53 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  54 (ERR)
      ✓ should enforce required fields (230ms)
    Get
**** Call ## 10 ## Duration:  84
      ✓ should get article by slug (84ms)
**** Call ## 11 ## Duration:  79
      ✓ should get article with tags by slug (80ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  187
**** Call ## 15 ## Duration:  148
      ✓ should update article (492ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  58 (ERR)
      ✓ should disallow updating non-existent article (58ms)
**** Call ## 20 ## Duration:  114 (ERR)
      ✓ should disallow non-author from updating (115ms)
    Favorite
**** Call ## 21 ## Duration:  147
**** Call ## 22 ## Duration:  106
      ✓ should favorite article (253ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  57 (ERR)
      ✓ should disallow favoriting unknown article (57ms)
**** Call ## 25 ## Duration:  125
      ✓ should unfavorite article (125ms)
    Delete
**** Call ## 26 ## Duration:  101
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (143ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  54 (ERR)
      ✓ should disallow deleting article by non-author (54ms)
    List
**** Call ## 31 ## Duration:  124
**** Call ## 32 ## Duration:  64
**** Call ## 33 ## Duration:  62
**** Call ## 34 ## Duration:  71
**** Call ## 35 ## Duration:  80
**** Call ## 36 ## Duration:  68
**** Call ## 37 ## Duration:  92
**** Call ## 38 ## Duration:  94
**** Call ## 39 ## Duration:  59
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  64
**** Call ## 42 ## Duration:  84
**** Call ## 43 ## Duration:  80
**** Call ## 44 ## Duration:  81
**** Call ## 45 ## Duration:  80
**** Call ## 46 ## Duration:  114
**** Call ## 47 ## Duration:  75
**** Call ## 48 ## Duration:  117
**** Call ## 49 ## Duration:  74
**** Call ## 50 ## Duration:  53
**** Call ## 51 ## Duration:  453
      ✓ should list articles (453ms)
**** Call ## 52 ## Duration:  448
**** Call ## 53 ## Duration:  405
      ✓ should list articles with tag (854ms)
**** Call ## 54 ## Duration:  244
      ✓ should list articles by author (244ms)
**** Call ## 55 ## Duration:  101
      ✓ should list articles favorited by user (102ms)
**** Call ## 56 ## Duration:  84
**** Call ## 57 ## Duration:  97
      ✓ should list articles by limit/offset (181ms)
**** Call ## 58 ## Duration:  461
      ✓ should list articles when authenticated (461ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  73
**** Call ## 63 ## Duration:  128
**** Call ## 64 ## Duration:  299
**** Call ## 65 ## Duration:  116
**** Call ## 66 ## Duration:  276 (ERR)
      1) should get feed

  28 passing (7s)
  1 failing

  1) Article
       Feed
         should get feed:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:18:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:202:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T07_46_26_020Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  156
**** Call ## 1 ## Duration:  214
**** Call ## 2 ## Duration:  107
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (105ms)
**** Call ## 4 ## Duration:  108
      ✓ should create article with tags (110ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  78 (ERR)
**** Call ## 7 ## Duration:  55 (ERR)
**** Call ## 8 ## Duration:  55 (ERR)
**** Call ## 9 ## Duration:  55 (ERR)
      ✓ should enforce required fields (243ms)
    Get
**** Call ## 10 ## Duration:  99
      ✓ should get article by slug (99ms)
**** Call ## 11 ## Duration:  77
      ✓ should get article with tags by slug (77ms)
**** Call ## 12 ## Duration:  47 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  166
**** Call ## 14 ## Duration:  150
**** Call ## 15 ## Duration:  138
      ✓ should update article (456ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  68 (ERR)
      ✓ should disallow updating non-existent article (68ms)
**** Call ## 20 ## Duration:  50 (ERR)
      ✓ should disallow non-author from updating (50ms)
    Favorite
**** Call ## 21 ## Duration:  151
**** Call ## 22 ## Duration:  164
      ✓ should favorite article (315ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  71 (ERR)
      ✓ should disallow favoriting unknown article (72ms)
**** Call ## 25 ## Duration:  129
      ✓ should unfavorite article (130ms)
    Delete
**** Call ## 26 ## Duration:  116
**** Call ## 27 ## Duration:  34 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  76 (ERR)
      ✓ should disallow deleting unknown article (76ms)
**** Call ## 30 ## Duration:  67 (ERR)
      ✓ should disallow deleting article by non-author (67ms)
    List
**** Call ## 31 ## Duration:  78
**** Call ## 32 ## Duration:  71
**** Call ## 33 ## Duration:  75
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  61
**** Call ## 36 ## Duration:  73
**** Call ## 37 ## Duration:  178
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  68
**** Call ## 41 ## Duration:  62
**** Call ## 42 ## Duration:  86
**** Call ## 43 ## Duration:  90
**** Call ## 44 ## Duration:  61
**** Call ## 45 ## Duration:  76
**** Call ## 46 ## Duration:  75
**** Call ## 47 ## Duration:  76
**** Call ## 48 ## Duration:  112
**** Call ## 49 ## Duration:  100
**** Call ## 50 ## Duration:  75
**** Call ## 51 ## Duration:  462
      ✓ should list articles (462ms)
**** Call ## 52 ## Duration:  314
**** Call ## 53 ## Duration:  408
      ✓ should list articles with tag (723ms)
**** Call ## 54 ## Duration:  250
      ✓ should list articles by author (251ms)
**** Call ## 55 ## Duration:  132
      ✓ should list articles favorited by user (132ms)
**** Call ## 56 ## Duration:  94
**** Call ## 57 ## Duration:  174
      ✓ should list articles by limit/offset (268ms)
**** Call ## 58 ## Duration:  422
      ✓ should list articles when authenticated (422ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  212
**** Call ## 63 ## Duration:  176
**** Call ## 64 ## Duration:  298
**** Call ## 65 ## Duration:  110
**** Call ## 66 ## Duration:  395
      ✓ should get feed (1191ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  168
      ✓ should get tags (169ms)

  Comment
**** Call ## 69 ## Duration:  115
**** Call ## 70 ## Duration:  103
**** Call ## 71 ## Duration:  83
    Create
**** Call ## 72 ## Duration:  116
**** Call ## 73 ## Duration:  103
**** Call ## 74 ## Duration:  97
**** Call ## 75 ## Duration:  92
**** Call ## 76 ## Duration:  97
**** Call ## 77 ## Duration:  78
**** Call ## 78 ## Duration:  104
**** Call ## 79 ## Duration:  87
**** Call ## 80 ## Duration:  100
**** Call ## 81 ## Duration:  71
      ✓ should create comment (948ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  49 (ERR)
      ✓ should disallow non-existent article (49ms)
    Get
**** Call ## 85 ## Duration:  278
      ✓ should get all comments for article (279ms)
    Delete
**** Call ## 86 ## Duration:  120
      ✓ should delete comment (120ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (66ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  124
      ✓ should create user (125ms)
**** Call ## 91 ## Duration:  29 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  70
      ✓ should login (70ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  69 (ERR)
      ✓ should disallow wrong password (70ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  57
      ✓ should get current user (57ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  137 (ERR)
      ✓ should disallow bad tokens (193ms)
    Profile
**** Call ## 108 ## Duration:  78
      ✓ should get profile (78ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  98
**** Call ## 111 ## Duration:  128
**** Call ## 112 ## Duration:  113
**** Call ## 113 ## Duration:  82
**** Call ## 114 ## Duration:  57
**** Call ## 115 ## Duration:  124
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  116
**** Call ## 118 ## Duration:  108
**** Call ## 119 ## Duration:  110
      ✓ should follow/unfollow user (1046ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  57
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  49
      ✓ should update user (261ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  44 (ERR)
      ✓ should disallow missing token/email in update (63ms)
**** Call ## 127 ## Duration:  113
**** Call ## 128 ## Duration:  66 (ERR)
      ✓ should disallow reusing email (179ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  173
**** Call ## 1 ## Duration:  163
**** Call ## 2 ## Duration:  245
    Create
**** Call ## 3 ## Duration:  89
      ✓ should create article (91ms)
**** Call ## 4 ## Duration:  94
      ✓ should create article with tags (96ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  53 (ERR)
**** Call ## 9 ## Duration:  53 (ERR)
      ✓ should enforce required fields (232ms)
    Get
**** Call ## 10 ## Duration:  105
      ✓ should get article by slug (105ms)
**** Call ## 11 ## Duration:  71
      ✓ should get article with tags by slug (72ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  189
**** Call ## 14 ## Duration:  132
**** Call ## 15 ## Duration:  151
      ✓ should update article (478ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  65 (ERR)
      ✓ should disallow updating non-existent article (66ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  121
**** Call ## 22 ## Duration:  121
      ✓ should favorite article (243ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  57 (ERR)
      ✓ should disallow favoriting unknown article (57ms)
**** Call ## 25 ## Duration:  137
      ✓ should unfavorite article (138ms)
    Delete
**** Call ## 26 ## Duration:  151
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (191ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown article (59ms)
**** Call ## 30 ## Duration:  60 (ERR)
      ✓ should disallow deleting article by non-author (61ms)
    List
**** Call ## 31 ## Duration:  89
**** Call ## 32 ## Duration:  101
**** Call ## 33 ## Duration:  75
**** Call ## 34 ## Duration:  93
**** Call ## 35 ## Duration:  94
**** Call ## 36 ## Duration:  135
**** Call ## 37 ## Duration:  77
**** Call ## 38 ## Duration:  68
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  77
**** Call ## 41 ## Duration:  96
**** Call ## 42 ## Duration:  80
**** Call ## 43 ## Duration:  69
**** Call ## 44 ## Duration:  76
**** Call ## 45 ## Duration:  87
**** Call ## 46 ## Duration:  61
**** Call ## 47 ## Duration:  197
**** Call ## 48 ## Duration:  66
**** Call ## 49 ## Duration:  64
**** Call ## 50 ## Duration:  149
**** Call ## 51 ## Duration:  454
      ✓ should list articles (454ms)
**** Call ## 52 ## Duration:  367
**** Call ## 53 ## Duration:  383
      ✓ should list articles with tag (750ms)
**** Call ## 54 ## Duration:  214
      ✓ should list articles by author (214ms)
**** Call ## 55 ## Duration:  87
      ✓ should list articles favorited by user (87ms)
**** Call ## 56 ## Duration:  85
**** Call ## 57 ## Duration:  97
      ✓ should list articles by limit/offset (182ms)
**** Call ## 58 ## Duration:  417
      ✓ should list articles when authenticated (417ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  77
**** Call ## 63 ## Duration:  100
**** Call ## 64 ## Duration:  329
**** Call ## 65 ## Duration:  99
**** Call ## 66 ## Duration:  326 (ERR)
      1) should get feed

  28 passing (8s)
  1 failing

  1) Article
       Feed
         should get feed:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:18:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:202:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T07_48_53_766Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  165
**** Call ## 1 ## Duration:  111
**** Call ## 2 ## Duration:  115
    Create
**** Call ## 3 ## Duration:  113
      ✓ should create article (115ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (90ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  72 (ERR)
**** Call ## 7 ## Duration:  62 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (255ms)
    Get
**** Call ## 10 ## Duration:  91
      ✓ should get article by slug (92ms)
**** Call ## 11 ## Duration:  82
      ✓ should get article with tags by slug (82ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  132
      ✓ should update article (434ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  63 (ERR)
      ✓ should disallow empty mutation (63ms)
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  63 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  45 (ERR)
      ✓ should disallow non-author from updating (46ms)
    Favorite
**** Call ## 21 ## Duration:  172
**** Call ## 22 ## Duration:  80
      ✓ should favorite article (253ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  55 (ERR)
      ✓ should disallow favoriting unknown article (55ms)
**** Call ## 25 ## Duration:  143
      ✓ should unfavorite article (143ms)
    Delete
**** Call ## 26 ## Duration:  101
**** Call ## 27 ## Duration:  44 (ERR)
      ✓ should delete article (146ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (63ms)
    List
**** Call ## 31 ## Duration:  110
**** Call ## 32 ## Duration:  75
**** Call ## 33 ## Duration:  90
**** Call ## 34 ## Duration:  97
**** Call ## 35 ## Duration:  77
**** Call ## 36 ## Duration:  102
**** Call ## 37 ## Duration:  82
**** Call ## 38 ## Duration:  76
**** Call ## 39 ## Duration:  69
**** Call ## 40 ## Duration:  62
**** Call ## 41 ## Duration:  68
**** Call ## 42 ## Duration:  71
**** Call ## 43 ## Duration:  83
**** Call ## 44 ## Duration:  99
**** Call ## 45 ## Duration:  84
**** Call ## 46 ## Duration:  71
**** Call ## 47 ## Duration:  66
**** Call ## 48 ## Duration:  79
**** Call ## 49 ## Duration:  66
**** Call ## 50 ## Duration:  80
**** Call ## 51 ## Duration:  441
      ✓ should list articles (441ms)
**** Call ## 52 ## Duration:  435
**** Call ## 53 ## Duration:  328
      ✓ should list articles with tag (765ms)
**** Call ## 54 ## Duration:  255
      ✓ should list articles by author (255ms)
**** Call ## 55 ## Duration:  76
      ✓ should list articles favorited by user (76ms)
**** Call ## 56 ## Duration:  82
**** Call ## 57 ## Duration:  78
      ✓ should list articles by limit/offset (161ms)
**** Call ## 58 ## Duration:  459
      ✓ should list articles when authenticated (459ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  27 (ERR)
**** Call ## 59 ## Duration:  29 (ERR)
**** Call ## 62 ## Duration:  227
**** Call ## 63 ## Duration:  135
**** Call ## 64 ## Duration:  291
**** Call ## 65 ## Duration:  128
**** Call ## 66 ## Duration:  385
      ✓ should get feed (1166ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  236
      ✓ should get tags (236ms)

  Comment
**** Call ## 69 ## Duration:  105
**** Call ## 70 ## Duration:  102
**** Call ## 71 ## Duration:  89
    Create
**** Call ## 72 ## Duration:  109
**** Call ## 73 ## Duration:  82
**** Call ## 74 ## Duration:  95
**** Call ## 75 ## Duration:  73
**** Call ## 76 ## Duration:  108
**** Call ## 77 ## Duration:  94
**** Call ## 78 ## Duration:  135
**** Call ## 79 ## Duration:  74
**** Call ## 80 ## Duration:  94
**** Call ## 81 ## Duration:  88
      ✓ should create comment (955ms)
**** Call ## 82 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  42 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  225
      ✓ should get all comments for article (225ms)
    Delete
**** Call ## 86 ## Duration:  114
      ✓ should delete comment (114ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (67ms)

  User
    Create
**** Call ## 90 ## Duration:  122
      ✓ should create user (122ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  56 (ERR)
      ✓ should disallow same email (57ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  79
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  43 (ERR)
      ✓ should disallow wrong password (43ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  50 (ERR)
      ✓ should enforce required fields (89ms)
    Get
**** Call ## 103 ## Duration:  40
      ✓ should get current user (40ms)
**** Call ## 104 ## Duration:  326 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  101 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (472ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  100
**** Call ## 111 ## Duration:  87
**** Call ## 112 ## Duration:  87
**** Call ## 113 ## Duration:  68
**** Call ## 114 ## Duration:  45
**** Call ## 115 ## Duration:  106
**** Call ## 116 ## Duration:  83
**** Call ## 117 ## Duration:  135
**** Call ## 118 ## Duration:  108
**** Call ## 119 ## Duration:  105
      ✓ should follow/unfollow user (925ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  96
**** Call ## 122 ## Duration:  60
**** Call ## 123 ## Duration:  43
**** Call ## 124 ## Duration:  51
      ✓ should update user (251ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (69ms)
**** Call ## 127 ## Duration:  98
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (158ms)

  Util
    Ping
**** Call ## 129 ## Duration:  26
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  173
**** Call ## 1 ## Duration:  109
**** Call ## 2 ## Duration:  99
    Create
**** Call ## 3 ## Duration:  100
      ✓ should create article (102ms)
**** Call ## 4 ## Duration:  90
      ✓ should create article with tags (93ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  60 (ERR)
**** Call ## 7 ## Duration:  60 (ERR)
**** Call ## 8 ## Duration:  55 (ERR)
**** Call ## 9 ## Duration:  62 (ERR)
      ✓ should enforce required fields (239ms)
    Get
**** Call ## 10 ## Duration:  100
      ✓ should get article by slug (100ms)
**** Call ## 11 ## Duration:  84
      ✓ should get article with tags by slug (84ms)
**** Call ## 12 ## Duration:  31 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  150
**** Call ## 14 ## Duration:  192
**** Call ## 15 ## Duration:  149
      ✓ should update article (493ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  75 (ERR)
      ✓ should disallow non-author from updating (75ms)
    Favorite
**** Call ## 21 ## Duration:  162
**** Call ## 22 ## Duration:  101
      ✓ should favorite article (264ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  81 (ERR)
      ✓ should disallow favoriting unknown article (81ms)
**** Call ## 25 ## Duration:  141
      ✓ should unfavorite article (142ms)
    Delete
**** Call ## 26 ## Duration:  114
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (154ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  53 (ERR)
      ✓ should disallow deleting unknown article (53ms)
**** Call ## 30 ## Duration:  71 (ERR)
      ✓ should disallow deleting article by non-author (71ms)
    List
**** Call ## 31 ## Duration:  85
**** Call ## 32 ## Duration:  74
**** Call ## 33 ## Duration:  81
**** Call ## 34 ## Duration:  77
**** Call ## 35 ## Duration:  74
**** Call ## 36 ## Duration:  140
**** Call ## 37 ## Duration:  94
**** Call ## 38 ## Duration:  71
**** Call ## 39 ## Duration:  85
**** Call ## 40 ## Duration:  78
**** Call ## 41 ## Duration:  84
**** Call ## 42 ## Duration:  75
**** Call ## 43 ## Duration:  79
**** Call ## 44 ## Duration:  78
**** Call ## 45 ## Duration:  70
**** Call ## 46 ## Duration:  65
**** Call ## 47 ## Duration:  63
**** Call ## 48 ## Duration:  75
**** Call ## 49 ## Duration:  74
**** Call ## 50 ## Duration:  66
**** Call ## 51 ## Duration:  601
      ✓ should list articles (601ms)
**** Call ## 52 ## Duration:  443
**** Call ## 53 ## Duration:  366
      ✓ should list articles with tag (810ms)
**** Call ## 54 ## Duration:  225
      ✓ should list articles by author (225ms)
**** Call ## 55 ## Duration:  96
      ✓ should list articles favorited by user (96ms)
**** Call ## 56 ## Duration:  132
**** Call ## 57 ## Duration:  89
      ✓ should list articles by limit/offset (221ms)
**** Call ## 58 ## Duration:  434
      ✓ should list articles when authenticated (435ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  85
**** Call ## 63 ## Duration:  140
**** Call ## 64 ## Duration:  316
**** Call ## 65 ## Duration:  119
**** Call ## 66 ## Duration:  440
      ✓ should get feed (1101ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  173
      ✓ should get tags (173ms)

  Comment
**** Call ## 69 ## Duration:  163
**** Call ## 70 ## Duration:  147
**** Call ## 71 ## Duration:  87
    Create
**** Call ## 72 ## Duration:  109
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  97
**** Call ## 75 ## Duration:  109
**** Call ## 76 ## Duration:  94
**** Call ## 77 ## Duration:  77
**** Call ## 78 ## Duration:  100
**** Call ## 79 ## Duration:  81
**** Call ## 80 ## Duration:  74
**** Call ## 81 ## Duration:  88
      ✓ should create comment (939ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (56ms)
    Get
**** Call ## 85 ## Duration:  285
      ✓ should get all comments for article (285ms)
    Delete
**** Call ## 86 ## Duration:  111
      ✓ should delete comment (112ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  115
      ✓ should create user (115ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  80
      ✓ should login (80ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  69
      ✓ should get profile (69ms)
**** Call ## 109 ## Duration:  47 (ERR)
      ✓ should disallow unknown username (48ms)
**** Call ## 110 ## Duration:  89
**** Call ## 111 ## Duration:  115
**** Call ## 112 ## Duration:  85
**** Call ## 113 ## Duration:  80
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  97
**** Call ## 116 ## Duration:  105
**** Call ## 117 ## Duration:  143
**** Call ## 118 ## Duration:  135
**** Call ## 119 ## Duration:  130
      ✓ should follow/unfollow user (1040ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  78
**** Call ## 122 ## Duration:  60
**** Call ## 123 ## Duration:  46
**** Call ## 124 ## Duration:  64
      ✓ should update user (248ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  34 (ERR)
      ✓ should disallow missing token/email in update (52ms)
**** Call ## 127 ## Duration:  95
**** Call ## 128 ## Duration:  40 (ERR)
      ✓ should disallow reusing email (135ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  168
**** Call ## 1 ## Duration:  106
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  84
      ✓ should create article (86ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (88ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  71 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  70 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (265ms)
    Get
**** Call ## 10 ## Duration:  82
      ✓ should get article by slug (82ms)
**** Call ## 11 ## Duration:  88
      ✓ should get article with tags by slug (88ms)
**** Call ## 12 ## Duration:  119 (ERR)
      ✓ should disallow unknown slug (120ms)
    Update
**** Call ## 13 ## Duration:  148
**** Call ## 14 ## Duration:  140
**** Call ## 15 ## Duration:  173
      ✓ should update article (462ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  70 (ERR)
      ✓ should disallow non-author from updating (70ms)
    Favorite
**** Call ## 21 ## Duration:  125
**** Call ## 22 ## Duration:  119
      ✓ should favorite article (244ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  58 (ERR)
      ✓ should disallow favoriting unknown article (58ms)
**** Call ## 25 ## Duration:  120
      ✓ should unfavorite article (120ms)
    Delete
**** Call ## 26 ## Duration:  118
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (161ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown article (70ms)
**** Call ## 30 ## Duration:  70 (ERR)
      ✓ should disallow deleting article by non-author (71ms)
    List
**** Call ## 31 ## Duration:  86
**** Call ## 32 ## Duration:  96
**** Call ## 33 ## Duration:  92
**** Call ## 34 ## Duration:  82
**** Call ## 35 ## Duration:  74
**** Call ## 36 ## Duration:  68
**** Call ## 37 ## Duration:  77
**** Call ## 38 ## Duration:  82
**** Call ## 39 ## Duration:  87
**** Call ## 40 ## Duration:  73
**** Call ## 41 ## Duration:  75
**** Call ## 42 ## Duration:  113
**** Call ## 43 ## Duration:  85
**** Call ## 44 ## Duration:  77
**** Call ## 45 ## Duration:  146
**** Call ## 46 ## Duration:  77
**** Call ## 47 ## Duration:  71
**** Call ## 48 ## Duration:  78
**** Call ## 49 ## Duration:  82
**** Call ## 50 ## Duration:  82
**** Call ## 51 ## Duration:  556
      ✓ should list articles (556ms)
**** Call ## 52 ## Duration:  463
**** Call ## 53 ## Duration:  388
      ✓ should list articles with tag (851ms)
**** Call ## 54 ## Duration:  209
      ✓ should list articles by author (209ms)
**** Call ## 55 ## Duration:  71
      ✓ should list articles favorited by user (71ms)
**** Call ## 56 ## Duration:  82
**** Call ## 57 ## Duration:  155
      ✓ should list articles by limit/offset (237ms)
**** Call ## 58 ## Duration:  430
      ✓ should list articles when authenticated (430ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  26 (ERR)
**** Call ## 60 ## Duration:  29 (ERR)
**** Call ## 62 ## Duration:  73
**** Call ## 63 ## Duration:  126
**** Call ## 64 ## Duration:  314
**** Call ## 65 ## Duration:  124
**** Call ## 66 ## Duration:  363
      ✓ should get feed (1000ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  241
      ✓ should get tags (241ms)

  Comment
**** Call ## 69 ## Duration:  107
**** Call ## 70 ## Duration:  115
**** Call ## 71 ## Duration:  80
    Create
**** Call ## 72 ## Duration:  102
**** Call ## 73 ## Duration:  82
**** Call ## 74 ## Duration:  120
**** Call ## 75 ## Duration:  108
**** Call ## 76 ## Duration:  76
**** Call ## 77 ## Duration:  72
**** Call ## 78 ## Duration:  97
**** Call ## 79 ## Duration:  93
**** Call ## 80 ## Duration:  86
**** Call ## 81 ## Duration:  74
      ✓ should create comment (911ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  243
      ✓ should get all comments for article (243ms)
    Delete
**** Call ## 86 ## Duration:  109
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  56 (ERR)
      ✓ should disallow deleting unknown comment (56ms)

  User
    Create
**** Call ## 90 ## Duration:  163
      ✓ should create user (164ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  48 (ERR)
      ✓ should disallow same email (49ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  71
      ✓ should login (72ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (57ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (73ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  115
**** Call ## 111 ## Duration:  131
**** Call ## 112 ## Duration:  121
**** Call ## 113 ## Duration:  76
**** Call ## 114 ## Duration:  68
**** Call ## 115 ## Duration:  109
**** Call ## 116 ## Duration:  127
**** Call ## 117 ## Duration:  123
**** Call ## 118 ## Duration:  104
**** Call ## 119 ## Duration:  166
      ✓ should follow/unfollow user (1141ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  85
**** Call ## 122 ## Duration:  62
**** Call ## 123 ## Duration:  48
**** Call ## 124 ## Duration:  68
      ✓ should update user (264ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  27 (ERR)
      ✓ should disallow missing token/email in update (51ms)
**** Call ## 127 ## Duration:  105
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (170ms)

  Util
    Ping
**** Call ## 129 ## Duration:  18
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  207
**** Call ## 1 ## Duration:  108
**** Call ## 2 ## Duration:  103
    Create
**** Call ## 3 ## Duration:  101
      ✓ should create article (103ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (94ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  53 (ERR)
**** Call ## 7 ## Duration:  53 (ERR)
**** Call ## 8 ## Duration:  51 (ERR)
**** Call ## 9 ## Duration:  51 (ERR)
      ✓ should enforce required fields (209ms)
    Get
**** Call ## 10 ## Duration:  91
      ✓ should get article by slug (91ms)
**** Call ## 11 ## Duration:  83
      ✓ should get article with tags by slug (83ms)
**** Call ## 12 ## Duration:  127 (ERR)
      ✓ should disallow unknown slug (127ms)
    Update
**** Call ## 13 ## Duration:  161
**** Call ## 14 ## Duration:  150
**** Call ## 15 ## Duration:  146
      ✓ should update article (458ms)
**** Call ## 16 ## Duration:  31 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  69 (ERR)
      ✓ should disallow updating non-existent article (69ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  138
**** Call ## 22 ## Duration:  114
      ✓ should favorite article (253ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  61 (ERR)
      ✓ should disallow favoriting unknown article (62ms)
**** Call ## 25 ## Duration:  139
      ✓ should unfavorite article (139ms)
    Delete
**** Call ## 26 ## Duration:  96
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (142ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  48 (ERR)
      ✓ should disallow deleting article by non-author (48ms)
    List
**** Call ## 31 ## Duration:  93
**** Call ## 32 ## Duration:  92
**** Call ## 33 ## Duration:  87
**** Call ## 34 ## Duration:  77
**** Call ## 35 ## Duration:  74
**** Call ## 36 ## Duration:  70
**** Call ## 37 ## Duration:  83
**** Call ## 38 ## Duration:  82
**** Call ## 39 ## Duration:  74
**** Call ## 40 ## Duration:  123
**** Call ## 41 ## Duration:  125
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  61
**** Call ## 44 ## Duration:  74
**** Call ## 45 ## Duration:  69
**** Call ## 46 ## Duration:  67
**** Call ## 47 ## Duration:  82
**** Call ## 48 ## Duration:  56
**** Call ## 49 ## Duration:  78
**** Call ## 50 ## Duration:  87
**** Call ## 51 ## Duration:  475
      ✓ should list articles (475ms)
**** Call ## 52 ## Duration:  512
**** Call ## 53 ## Duration:  320
      ✓ should list articles with tag (834ms)
**** Call ## 54 ## Duration:  376
      ✓ should list articles by author (376ms)
**** Call ## 55 ## Duration:  100
      ✓ should list articles favorited by user (100ms)
**** Call ## 56 ## Duration:  81
**** Call ## 57 ## Duration:  137
      ✓ should list articles by limit/offset (219ms)
**** Call ## 58 ## Duration:  438
      ✓ should list articles when authenticated (438ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  82
**** Call ## 63 ## Duration:  131
**** Call ## 64 ## Duration:  373
**** Call ## 65 ## Duration:  95
**** Call ## 66 ## Duration:  422
      ✓ should get feed (1105ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  191
      ✓ should get tags (192ms)

  Comment
**** Call ## 69 ## Duration:  116
**** Call ## 70 ## Duration:  100
**** Call ## 71 ## Duration:  102
    Create
**** Call ## 72 ## Duration:  115
**** Call ## 73 ## Duration:  183
**** Call ## 74 ## Duration:  86
**** Call ## 75 ## Duration:  119
**** Call ## 76 ## Duration:  106
**** Call ## 77 ## Duration:  91
**** Call ## 78 ## Duration:  98
**** Call ## 79 ## Duration:  76
**** Call ## 80 ## Duration:  64
**** Call ## 81 ## Duration:  93
      ✓ should create comment (1031ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  42 (ERR)
      ✓ should enforce comment body (42ms)
**** Call ## 84 ## Duration:  67 (ERR)
      ✓ should disallow non-existent article (68ms)
    Get
**** Call ## 85 ## Duration:  263
      ✓ should get all comments for article (263ms)
    Delete
**** Call ## 86 ## Duration:  101
      ✓ should delete comment (101ms)
**** Call ## 87 ## Duration:  55 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  76 (ERR)
      ✓ should disallow deleting unknown comment (77ms)

  User
    Create
**** Call ## 90 ## Duration:  100
      ✓ should create user (101ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  51 (ERR)
      ✓ should disallow same email (51ms)
**** Call ## 93 ## Duration:  29 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (91ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  26 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (92ms)
    Profile
**** Call ## 108 ## Duration:  63
      ✓ should get profile (63ms)
**** Call ## 109 ## Duration:  34 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  106
**** Call ## 111 ## Duration:  136
**** Call ## 112 ## Duration:  98
**** Call ## 113 ## Duration:  88
**** Call ## 114 ## Duration:  47
**** Call ## 115 ## Duration:  96
**** Call ## 116 ## Duration:  106
**** Call ## 117 ## Duration:  133
**** Call ## 118 ## Duration:  113
**** Call ## 119 ## Duration:  139
      ✓ should follow/unfollow user (1062ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  80
**** Call ## 122 ## Duration:  54
**** Call ## 123 ## Duration:  58
**** Call ## 124 ## Duration:  62
      ✓ should update user (254ms)
**** Call ## 125 ## Duration:  17 (ERR)
**** Call ## 126 ## Duration:  44 (ERR)
      ✓ should disallow missing token/email in update (62ms)
**** Call ## 127 ## Duration:  92
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (152ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  169
**** Call ## 1 ## Duration:  152
**** Call ## 2 ## Duration:  109
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (96ms)
**** Call ## 4 ## Duration:  75
      ✓ should create article with tags (78ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  73 (ERR)
**** Call ## 7 ## Duration:  56 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  47 (ERR)
      ✓ should enforce required fields (232ms)
    Get
**** Call ## 10 ## Duration:  122
      ✓ should get article by slug (122ms)
**** Call ## 11 ## Duration:  106
      ✓ should get article with tags by slug (106ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  152
**** Call ## 14 ## Duration:  138
**** Call ## 15 ## Duration:  121
      ✓ should update article (413ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  71 (ERR)
      ✓ should disallow updating non-existent article (72ms)
**** Call ## 20 ## Duration:  58 (ERR)
      ✓ should disallow non-author from updating (58ms)
    Favorite
**** Call ## 21 ## Duration:  140
**** Call ## 22 ## Duration:  108
      ✓ should favorite article (248ms)
**** Call ## 23 ## Duration:  31 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (66ms)
**** Call ## 25 ## Duration:  126
      ✓ should unfavorite article (127ms)
    Delete
**** Call ## 26 ## Duration:  115
**** Call ## 27 ## Duration:  73 (ERR)
      ✓ should delete article (188ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  79 (ERR)
      ✓ should disallow deleting unknown article (79ms)
**** Call ## 30 ## Duration:  64 (ERR)
      ✓ should disallow deleting article by non-author (64ms)
    List
**** Call ## 31 ## Duration:  94
**** Call ## 32 ## Duration:  95
**** Call ## 33 ## Duration:  83
**** Call ## 34 ## Duration:  91
**** Call ## 35 ## Duration:  78
**** Call ## 36 ## Duration:  131
**** Call ## 37 ## Duration:  76
**** Call ## 38 ## Duration:  91
**** Call ## 39 ## Duration:  84
**** Call ## 40 ## Duration:  78
**** Call ## 41 ## Duration:  70
**** Call ## 42 ## Duration:  86
**** Call ## 43 ## Duration:  75
**** Call ## 44 ## Duration:  78
**** Call ## 45 ## Duration:  93
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  70
**** Call ## 48 ## Duration:  84
**** Call ## 49 ## Duration:  87
**** Call ## 50 ## Duration:  86
**** Call ## 51 ## Duration:  434
      ✓ should list articles (434ms)
**** Call ## 52 ## Duration:  433
**** Call ## 53 ## Duration:  365
      ✓ should list articles with tag (798ms)
**** Call ## 54 ## Duration:  261
      ✓ should list articles by author (261ms)
**** Call ## 55 ## Duration:  110
      ✓ should list articles favorited by user (110ms)
**** Call ## 56 ## Duration:  87
**** Call ## 57 ## Duration:  84
      ✓ should list articles by limit/offset (171ms)
**** Call ## 58 ## Duration:  445
      ✓ should list articles when authenticated (445ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  113
**** Call ## 63 ## Duration:  117
**** Call ## 64 ## Duration:  297
**** Call ## 65 ## Duration:  116
**** Call ## 66 ## Duration:  439
      ✓ should get feed (1085ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  251
      ✓ should get tags (252ms)

  Comment
**** Call ## 69 ## Duration:  105
**** Call ## 70 ## Duration:  87
**** Call ## 71 ## Duration:  101
    Create
**** Call ## 72 ## Duration:  113
**** Call ## 73 ## Duration:  93
**** Call ## 74 ## Duration:  94
**** Call ## 75 ## Duration:  105
**** Call ## 76 ## Duration:  104
**** Call ## 77 ## Duration:  86
**** Call ## 78 ## Duration:  75
**** Call ## 79 ## Duration:  87
**** Call ## 80 ## Duration:  187
**** Call ## 81 ## Duration:  89
      ✓ should create comment (1034ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  53 (ERR)
      ✓ should enforce comment body (53ms)
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  211
      ✓ should get all comments for article (212ms)
    Delete
**** Call ## 86 ## Duration:  124
      ✓ should delete comment (124ms)
**** Call ## 87 ## Duration:  72 (ERR)
      ✓ only comment author should be able to delete comment (73ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  111
      ✓ should create user (111ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (58ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  75
      ✓ should login (75ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  81 (ERR)
      ✓ should disallow wrong password (82ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (70ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  26 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (91ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  69 (ERR)
      ✓ should disallow unknown username (69ms)
**** Call ## 110 ## Duration:  153
**** Call ## 111 ## Duration:  106
**** Call ## 112 ## Duration:  109
**** Call ## 113 ## Duration:  136
**** Call ## 114 ## Duration:  55
**** Call ## 115 ## Duration:  104
**** Call ## 116 ## Duration:  135
**** Call ## 117 ## Duration:  120
**** Call ## 118 ## Duration:  90
**** Call ## 119 ## Duration:  106
      ✓ should follow/unfollow user (1115ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  95
**** Call ## 122 ## Duration:  61
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  52
      ✓ should update user (277ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  81
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (147ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://tuyhs923c4.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  156
**** Call ## 1 ## Duration:  119
**** Call ## 2 ## Duration:  101
    Create
**** Call ## 3 ## Duration:  127
      ✓ should create article (129ms)
**** Call ## 4 ## Duration:  108
      ✓ should create article with tags (110ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  60 (ERR)
**** Call ## 7 ## Duration:  55 (ERR)
**** Call ## 8 ## Duration:  66 (ERR)
**** Call ## 9 ## Duration:  64 (ERR)
      ✓ should enforce required fields (247ms)
    Get
**** Call ## 10 ## Duration:  94
      ✓ should get article by slug (94ms)
**** Call ## 11 ## Duration:  75
      ✓ should get article with tags by slug (75ms)
**** Call ## 12 ## Duration:  35 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  154
**** Call ## 14 ## Duration:  139
**** Call ## 15 ## Duration:  143
      ✓ should update article (438ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  71 (ERR)
      ✓ should disallow updating non-existent article (71ms)
**** Call ## 20 ## Duration:  75 (ERR)
      ✓ should disallow non-author from updating (76ms)
    Favorite
**** Call ## 21 ## Duration:  203
**** Call ## 22 ## Duration:  126
      ✓ should favorite article (330ms)
**** Call ## 23 ## Duration:  26 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  58 (ERR)
      ✓ should disallow favoriting unknown article (58ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (135ms)
    Delete
**** Call ## 26 ## Duration:  101
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (139ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  95 (ERR)
      ✓ should disallow deleting article by non-author (96ms)
    List
**** Call ## 31 ## Duration:  86
**** Call ## 32 ## Duration:  149
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  90
**** Call ## 35 ## Duration:  75
**** Call ## 36 ## Duration:  64
**** Call ## 37 ## Duration:  73
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  115
**** Call ## 40 ## Duration:  78
**** Call ## 41 ## Duration:  82
**** Call ## 42 ## Duration:  81
**** Call ## 43 ## Duration:  77
**** Call ## 44 ## Duration:  72
**** Call ## 45 ## Duration:  58
**** Call ## 46 ## Duration:  68
**** Call ## 47 ## Duration:  90
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  73
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  465
      ✓ should list articles (465ms)
**** Call ## 52 ## Duration:  450
**** Call ## 53 ## Duration:  357
      ✓ should list articles with tag (807ms)
**** Call ## 54 ## Duration:  205
      ✓ should list articles by author (206ms)
**** Call ## 55 ## Duration:  85
      ✓ should list articles favorited by user (85ms)
**** Call ## 56 ## Duration:  84
**** Call ## 57 ## Duration:  87
      ✓ should list articles by limit/offset (172ms)
**** Call ## 58 ## Duration:  539
      ✓ should list articles when authenticated (539ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  45 (ERR)
**** Call ## 62 ## Duration:  83
**** Call ## 63 ## Duration:  108
**** Call ## 64 ## Duration:  297
**** Call ## 65 ## Duration:  107
**** Call ## 66 ## Duration:  409
      ✓ should get feed (1004ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  190
      ✓ should get tags (190ms)

  Comment
**** Call ## 69 ## Duration:  103
**** Call ## 70 ## Duration:  111
**** Call ## 71 ## Duration:  73
    Create
**** Call ## 72 ## Duration:  184
**** Call ## 73 ## Duration:  102
**** Call ## 74 ## Duration:  104
**** Call ## 75 ## Duration:  90
**** Call ## 76 ## Duration:  97
**** Call ## 77 ## Duration:  68
**** Call ## 78 ## Duration:  96
**** Call ## 79 ## Duration:  105
**** Call ## 80 ## Duration:  89
**** Call ## 81 ## Duration:  91
      ✓ should create comment (1028ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  232
      ✓ should get all comments for article (232ms)
    Delete
**** Call ## 86 ## Duration:  107
      ✓ should delete comment (107ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (65ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  125
      ✓ should create user (126ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (38ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  60
      ✓ should login (61ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  42 (ERR)
      ✓ should disallow wrong password (42ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  42
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  61
      ✓ should get profile (62ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  102
**** Call ## 111 ## Duration:  121
**** Call ## 112 ## Duration:  95
**** Call ## 113 ## Duration:  79
**** Call ## 114 ## Duration:  59
**** Call ## 115 ## Duration:  104
**** Call ## 116 ## Duration:  113
**** Call ## 117 ## Duration:  157
**** Call ## 118 ## Duration:  109
**** Call ## 119 ## Duration:  89
      ✓ should follow/unfollow user (1031ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  83
**** Call ## 122 ## Duration:  68
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  60
      ✓ should update user (277ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  40 (ERR)
      ✓ should disallow missing token/email in update (60ms)
**** Call ## 127 ## Duration:  137
**** Call ## 128 ## Duration:  81 (ERR)
      ✓ should disallow reusing email (218ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (12s)

results20191102043707/rec-res-7-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
.................................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
