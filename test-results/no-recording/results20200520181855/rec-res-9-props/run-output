Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
........
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (28.53 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
...............................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 176
WARNING:
  You have 176 resources in your service.
  CloudFormation has a hard limit of 200 resources in a service.
  For advice on avoiding this limit, check out this link: http://bit.ly/2IiYB38.
api keys:
  None
endpoints:
  POST - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  1144
**** Call ## 1 ## Duration:  157
**** Call ## 2 ## Duration:  172
    Create
**** Call ## 3 ## Duration:  967
      ✓ should create article (970ms)
**** Call ## 4 ## Duration:  149
      ✓ should create article with tags (151ms)
**** Call ## 5 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 6 ## Duration:  111 (ERR)
**** Call ## 7 ## Duration:  135 (ERR)
**** Call ## 8 ## Duration:  112 (ERR)
**** Call ## 9 ## Duration:  102 (ERR)
      ✓ should enforce required fields (461ms)
    Get
**** Call ## 10 ## Duration:  989
      ✓ should get article by slug (989ms)
**** Call ## 11 ## Duration:  155
      ✓ should get article with tags by slug (155ms)
**** Call ## 12 ## Duration:  106 (ERR)
      ✓ should disallow unknown slug (108ms)
    Update
**** Call ## 13 ## Duration:  1029
**** Call ## 14 ## Duration:  188
**** Call ## 15 ## Duration:  233
      ✓ should update article (1451ms)
**** Call ## 16 ## Duration:  92 (ERR)
      ✓ should disallow missing mutation (92ms)
**** Call ## 17 ## Duration:  132 (ERR)
      ✓ should disallow empty mutation (132ms)
**** Call ## 18 ## Duration:  109 (ERR)
      ✓ should disallow unauthenticated update (110ms)
**** Call ## 19 ## Duration:  111 (ERR)
      ✓ should disallow updating non-existent article (111ms)
**** Call ## 20 ## Duration:  127 (ERR)
      ✓ should disallow non-author from updating (128ms)
    Favorite
**** Call ## 21 ## Duration:  1087
**** Call ## 22 ## Duration:  158
      ✓ should favorite article (1246ms)
**** Call ## 23 ## Duration:  113 (ERR)
      ✓ should disallow favoriting by unauthenticated user (113ms)
**** Call ## 24 ## Duration:  150 (ERR)
      ✓ should disallow favoriting unknown article (150ms)
**** Call ## 25 ## Duration:  1020
      ✓ should unfavorite article (1020ms)
    Delete
**** Call ## 26 ## Duration:  1103
**** Call ## 27 ## Duration:  139 (ERR)
      ✓ should delete article (1243ms)
**** Call ## 28 ## Duration:  87 (ERR)
      ✓ should disallow deleting by unauthenticated user (88ms)
**** Call ## 29 ## Duration:  137 (ERR)
      ✓ should disallow deleting unknown article (137ms)
**** Call ## 30 ## Duration:  124 (ERR)
      ✓ should disallow deleting article by non-author (125ms)
    List
**** Call ## 31 ## Duration:  143
**** Call ## 32 ## Duration:  136
**** Call ## 33 ## Duration:  155
**** Call ## 34 ## Duration:  167
**** Call ## 35 ## Duration:  160
**** Call ## 36 ## Duration:  118
**** Call ## 37 ## Duration:  124
**** Call ## 38 ## Duration:  118
**** Call ## 39 ## Duration:  123
**** Call ## 40 ## Duration:  176
**** Call ## 41 ## Duration:  138
**** Call ## 42 ## Duration:  125
**** Call ## 43 ## Duration:  114
**** Call ## 44 ## Duration:  131
**** Call ## 45 ## Duration:  130
**** Call ## 46 ## Duration:  122
**** Call ## 47 ## Duration:  136
**** Call ## 48 ## Duration:  116
**** Call ## 49 ## Duration:  116
**** Call ## 50 ## Duration:  136
**** Call ## 51 ## Duration:  1218
      ✓ should list articles (1219ms)
**** Call ## 52 ## Duration:  214
**** Call ## 53 ## Duration:  212
      ✓ should list articles with tag (427ms)
**** Call ## 54 ## Duration:  203
      ✓ should list articles by author (203ms)
**** Call ## 55 ## Duration:  104
      ✓ should list articles favorited by user (104ms)
**** Call ## 56 ## Duration:  138
**** Call ## 57 ## Duration:  171
      ✓ should list articles by limit/offset (309ms)
**** Call ## 58 ## Duration:  268
      ✓ should list articles when authenticated (268ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  89 (ERR)
**** Call ## 59 ## Duration:  91 (ERR)
**** Call ## 60 ## Duration:  136 (ERR)
**** Call ## 62 ## Duration:  1028
**** Call ## 63 ## Duration:  1302
**** Call ## 64 ## Duration:  282
**** Call ## 65 ## Duration:  181
**** Call ## 66 ## Duration:  316
      ✓ should get feed (3113ms)
**** Call ## 67 ## Duration:  257 (ERR)
      ✓ should disallow unauthenticated feed (257ms)
    Tags
**** Call ## 68 ## Duration:  1317
      ✓ should get tags (1317ms)

  Comment
**** Call ## 69 ## Duration:  166
**** Call ## 70 ## Duration:  165
**** Call ## 71 ## Duration:  196
    Create
**** Call ## 72 ## Duration:  1039
**** Call ## 73 ## Duration:  171
**** Call ## 74 ## Duration:  165
**** Call ## 75 ## Duration:  142
**** Call ## 76 ## Duration:  149
**** Call ## 77 ## Duration:  213
**** Call ## 78 ## Duration:  161
**** Call ## 79 ## Duration:  159
**** Call ## 80 ## Duration:  147
**** Call ## 81 ## Duration:  127
      ✓ should create comment (2477ms)
**** Call ## 82 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 83 ## Duration:  140 (ERR)
      ✓ should enforce comment body (140ms)
**** Call ## 84 ## Duration:  129 (ERR)
      ✓ should disallow non-existent article (129ms)
    Get
**** Call ## 85 ## Duration:  1123
      ✓ should get all comments for article (1123ms)
    Delete
**** Call ## 86 ## Duration:  1013
      ✓ should delete comment (1013ms)
**** Call ## 87 ## Duration:  124 (ERR)
      ✓ only comment author should be able to delete comment (124ms)
**** Call ## 88 ## Duration:  89 (ERR)
      ✓ should disallow unauthenticated user (89ms)
**** Call ## 89 ## Duration:  127 (ERR)
      ✓ should disallow deleting unknown comment (127ms)

  User
    Create
**** Call ## 90 ## Duration:  157
      ✓ should create user (158ms)
**** Call ## 91 ## Duration:  105 (ERR)
      ✓ should disallow same username (105ms)
**** Call ## 92 ## Duration:  130 (ERR)
      ✓ should disallow same email (131ms)
**** Call ## 93 ## Duration:  114 (ERR)
**** Call ## 94 ## Duration:  114 (ERR)
**** Call ## 95 ## Duration:  92 (ERR)
**** Call ## 96 ## Duration:  92 (ERR)
      ✓ should enforce required fields (414ms)
    Login
**** Call ## 97 ## Duration:  1000
      ✓ should login (1000ms)
**** Call ## 98 ## Duration:  135 (ERR)
      ✓ should disallow unknown email (135ms)
**** Call ## 99 ## Duration:  112 (ERR)
      ✓ should disallow wrong password (112ms)
**** Call ## 100 ## Duration:  130 (ERR)
**** Call ## 101 ## Duration:  113 (ERR)
**** Call ## 102 ## Duration:  112 (ERR)
      ✓ should enforce required fields (357ms)
    Get
**** Call ## 103 ## Duration:  930
      ✓ should get current user (930ms)
**** Call ## 104 ## Duration:  114 (ERR)
**** Call ## 105 ## Duration:  85 (ERR)
**** Call ## 106 ## Duration:  88 (ERR)
**** Call ## 107 ## Duration:  82 (ERR)
      ✓ should disallow bad tokens (370ms)
    Profile
**** Call ## 108 ## Duration:  1036
      ✓ should get profile (1036ms)
**** Call ## 109 ## Duration:  107 (ERR)
      ✓ should disallow unknown username (108ms)
**** Call ## 110 ## Duration:  155
**** Call ## 111 ## Duration:  225
**** Call ## 112 ## Duration:  198
**** Call ## 113 ## Duration:  160
**** Call ## 114 ## Duration:  123
**** Call ## 115 ## Duration:  179
**** Call ## 116 ## Duration:  194
**** Call ## 117 ## Duration:  1023
**** Call ## 118 ## Duration:  189
**** Call ## 119 ## Duration:  164
      ✓ should follow/unfollow user (2612ms)
**** Call ## 120 ## Duration:  102 (ERR)
      ✓ should disallow following with bad token (102ms)
    Update
**** Call ## 121 ## Duration:  931
**** Call ## 122 ## Duration:  171
**** Call ## 123 ## Duration:  183
**** Call ## 124 ## Duration:  109
      ✓ should update user (1395ms)
**** Call ## 125 ## Duration:  87 (ERR)
**** Call ## 126 ## Duration:  127 (ERR)
      ✓ should disallow missing token/email in update (216ms)
**** Call ## 127 ## Duration:  160
**** Call ## 128 ## Duration:  137 (ERR)
      ✓ should disallow reusing email (297ms)

  Util
    Ping
**** Call ## 129 ## Duration:  821
      ✓ should ping (821ms)


  58 passing (37s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  206
**** Call ## 1 ## Duration:  258
**** Call ## 2 ## Duration:  150
    Create
**** Call ## 3 ## Duration:  167
      ✓ should create article (169ms)
**** Call ## 4 ## Duration:  129
      ✓ should create article with tags (131ms)
**** Call ## 5 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 6 ## Duration:  134 (ERR)
**** Call ## 7 ## Duration:  94 (ERR)
**** Call ## 8 ## Duration:  99 (ERR)
**** Call ## 9 ## Duration:  119 (ERR)
      ✓ should enforce required fields (447ms)
    Get
**** Call ## 10 ## Duration:  190
      ✓ should get article by slug (190ms)
**** Call ## 11 ## Duration:  137
      ✓ should get article with tags by slug (137ms)
**** Call ## 12 ## Duration:  108 (ERR)
      ✓ should disallow unknown slug (108ms)
    Update
**** Call ## 13 ## Duration:  208
**** Call ## 14 ## Duration:  185
**** Call ## 15 ## Duration:  195
      ✓ should update article (591ms)
**** Call ## 16 ## Duration:  89 (ERR)
      ✓ should disallow missing mutation (90ms)
**** Call ## 17 ## Duration:  81 (ERR)
      ✓ should disallow empty mutation (81ms)
**** Call ## 18 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated update (91ms)
**** Call ## 19 ## Duration:  147 (ERR)
      ✓ should disallow updating non-existent article (148ms)
**** Call ## 20 ## Duration:  153 (ERR)
      ✓ should disallow non-author from updating (153ms)
    Favorite
**** Call ## 21 ## Duration:  210
**** Call ## 22 ## Duration:  161
      ✓ should favorite article (372ms)
**** Call ## 23 ## Duration:  84 (ERR)
      ✓ should disallow favoriting by unauthenticated user (85ms)
**** Call ## 24 ## Duration:  140 (ERR)
      ✓ should disallow favoriting unknown article (141ms)
**** Call ## 25 ## Duration:  187
      ✓ should unfavorite article (187ms)
    Delete
**** Call ## 26 ## Duration:  149
**** Call ## 27 ## Duration:  106 (ERR)
      ✓ should delete article (255ms)
**** Call ## 28 ## Duration:  100 (ERR)
      ✓ should disallow deleting by unauthenticated user (101ms)
**** Call ## 29 ## Duration:  170 (ERR)
      ✓ should disallow deleting unknown article (170ms)
**** Call ## 30 ## Duration:  114 (ERR)
      ✓ should disallow deleting article by non-author (114ms)
    List
**** Call ## 31 ## Duration:  137
**** Call ## 32 ## Duration:  123
**** Call ## 33 ## Duration:  124
**** Call ## 34 ## Duration:  130
**** Call ## 35 ## Duration:  131
**** Call ## 36 ## Duration:  155
**** Call ## 37 ## Duration:  127
**** Call ## 38 ## Duration:  139
**** Call ## 39 ## Duration:  129
**** Call ## 40 ## Duration:  132
**** Call ## 41 ## Duration:  131
**** Call ## 42 ## Duration:  143
**** Call ## 43 ## Duration:  146
**** Call ## 44 ## Duration:  140
**** Call ## 45 ## Duration:  123
**** Call ## 46 ## Duration:  141
**** Call ## 47 ## Duration:  117
**** Call ## 48 ## Duration:  113
**** Call ## 49 ## Duration:  137
**** Call ## 50 ## Duration:  154
**** Call ## 51 ## Duration:  374
      ✓ should list articles (374ms)
**** Call ## 52 ## Duration:  112
**** Call ## 53 ## Duration:  233
      ✓ should list articles with tag (346ms)
**** Call ## 54 ## Duration:  182
      ✓ should list articles by author (182ms)
**** Call ## 55 ## Duration:  93
      ✓ should list articles favorited by user (93ms)
**** Call ## 56 ## Duration:  115
**** Call ## 57 ## Duration:  131
      ✓ should list articles by limit/offset (246ms)
**** Call ## 58 ## Duration:  332
      ✓ should list articles when authenticated (333ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  84 (ERR)
**** Call ## 59 ## Duration:  89 (ERR)
**** Call ## 61 ## Duration:  92 (ERR)
**** Call ## 62 ## Duration:  138
**** Call ## 63 ## Duration:  186
**** Call ## 64 ## Duration:  233
**** Call ## 65 ## Duration:  160
**** Call ## 66 ## Duration:  367
      ✓ should get feed (1086ms)
**** Call ## 67 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated feed (85ms)
    Tags
**** Call ## 68 ## Duration:  126
      ✓ should get tags (126ms)

  Comment
**** Call ## 69 ## Duration:  186
**** Call ## 70 ## Duration:  183
**** Call ## 71 ## Duration:  120
    Create
**** Call ## 72 ## Duration:  164
**** Call ## 73 ## Duration:  130
**** Call ## 74 ## Duration:  178
**** Call ## 75 ## Duration:  176
**** Call ## 76 ## Duration:  164
**** Call ## 77 ## Duration:  150
**** Call ## 78 ## Duration:  176
**** Call ## 79 ## Duration:  124
**** Call ## 80 ## Duration:  155
**** Call ## 81 ## Duration:  168
      ✓ should create comment (1587ms)
**** Call ## 82 ## Duration:  110 (ERR)
      ✓ should disallow unauthenticated user (110ms)
**** Call ## 83 ## Duration:  110 (ERR)
      ✓ should enforce comment body (110ms)
**** Call ## 84 ## Duration:  122 (ERR)
      ✓ should disallow non-existent article (123ms)
    Get
**** Call ## 85 ## Duration:  290
      ✓ should get all comments for article (291ms)
    Delete
**** Call ## 86 ## Duration:  178
      ✓ should delete comment (179ms)
**** Call ## 87 ## Duration:  112 (ERR)
      ✓ only comment author should be able to delete comment (112ms)
**** Call ## 88 ## Duration:  112 (ERR)
      ✓ should disallow unauthenticated user (113ms)
**** Call ## 89 ## Duration:  122 (ERR)
      ✓ should disallow deleting unknown comment (122ms)

  User
    Create
**** Call ## 90 ## Duration:  182
      ✓ should create user (182ms)
**** Call ## 91 ## Duration:  102 (ERR)
      ✓ should disallow same username (102ms)
**** Call ## 92 ## Duration:  108 (ERR)
      ✓ should disallow same email (110ms)
**** Call ## 93 ## Duration:  113 (ERR)
**** Call ## 94 ## Duration:  271 (ERR)
**** Call ## 95 ## Duration:  110 (ERR)
**** Call ## 96 ## Duration:  114 (ERR)
      ✓ should enforce required fields (610ms)
    Login
**** Call ## 97 ## Duration:  155
      ✓ should login (155ms)
**** Call ## 98 ## Duration:  160 (ERR)
      ✓ should disallow unknown email (160ms)
**** Call ## 99 ## Duration:  151 (ERR)
      ✓ should disallow wrong password (151ms)
**** Call ## 100 ## Duration:  90 (ERR)
**** Call ## 101 ## Duration:  134 (ERR)
**** Call ## 102 ## Duration:  111 (ERR)
      ✓ should enforce required fields (336ms)
    Get
**** Call ## 103 ## Duration:  154
      ✓ should get current user (154ms)
**** Call ## 104 ## Duration:  132 (ERR)
**** Call ## 105 ## Duration:  83 (ERR)
**** Call ## 106 ## Duration:  88 (ERR)
**** Call ## 107 ## Duration:  118 (ERR)
      ✓ should disallow bad tokens (421ms)
    Profile
**** Call ## 108 ## Duration:  172
      ✓ should get profile (172ms)
**** Call ## 109 ## Duration:  144 (ERR)
      ✓ should disallow unknown username (145ms)
**** Call ## 110 ## Duration:  147
**** Call ## 111 ## Duration:  212
**** Call ## 112 ## Duration:  169
**** Call ## 113 ## Duration:  122
**** Call ## 114 ## Duration:  156
**** Call ## 115 ## Duration:  155
**** Call ## 116 ## Duration:  173
**** Call ## 117 ## Duration:  195
**** Call ## 118 ## Duration:  212
**** Call ## 119 ## Duration:  243
      ✓ should follow/unfollow user (1787ms)
**** Call ## 120 ## Duration:  86 (ERR)
      ✓ should disallow following with bad token (86ms)
    Update
**** Call ## 121 ## Duration:  260
**** Call ## 122 ## Duration:  170
**** Call ## 123 ## Duration:  169
**** Call ## 124 ## Duration:  160
      ✓ should update user (759ms)
**** Call ## 125 ## Duration:  123 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (224ms)
**** Call ## 127 ## Duration:  186
**** Call ## 128 ## Duration:  154 (ERR)
      ✓ should disallow reusing email (341ms)

  Util
    Ping
**** Call ## 129 ## Duration:  86
      ✓ should ping (86ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  244
**** Call ## 1 ## Duration:  124
**** Call ## 2 ## Duration:  151
    Create
**** Call ## 3 ## Duration:  123
      ✓ should create article (124ms)
**** Call ## 4 ## Duration:  124
      ✓ should create article with tags (127ms)
**** Call ## 5 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 6 ## Duration:  112 (ERR)
**** Call ## 7 ## Duration:  104 (ERR)
**** Call ## 8 ## Duration:  104 (ERR)
**** Call ## 9 ## Duration:  100 (ERR)
      ✓ should enforce required fields (423ms)
    Get
**** Call ## 10 ## Duration:  146
      ✓ should get article by slug (146ms)
**** Call ## 11 ## Duration:  142
      ✓ should get article with tags by slug (142ms)
**** Call ## 12 ## Duration:  110 (ERR)
      ✓ should disallow unknown slug (110ms)
    Update
**** Call ## 13 ## Duration:  184
**** Call ## 14 ## Duration:  179
**** Call ## 15 ## Duration:  210
      ✓ should update article (577ms)
**** Call ## 16 ## Duration:  93 (ERR)
      ✓ should disallow missing mutation (94ms)
**** Call ## 17 ## Duration:  83 (ERR)
      ✓ should disallow empty mutation (83ms)
**** Call ## 18 ## Duration:  116 (ERR)
      ✓ should disallow unauthenticated update (116ms)
**** Call ## 19 ## Duration:  138 (ERR)
      ✓ should disallow updating non-existent article (140ms)
**** Call ## 20 ## Duration:  181 (ERR)
      ✓ should disallow non-author from updating (181ms)
    Favorite
**** Call ## 21 ## Duration:  194
**** Call ## 22 ## Duration:  146
      ✓ should favorite article (340ms)
**** Call ## 23 ## Duration:  82 (ERR)
      ✓ should disallow favoriting by unauthenticated user (82ms)
**** Call ## 24 ## Duration:  191 (ERR)
      ✓ should disallow favoriting unknown article (191ms)
**** Call ## 25 ## Duration:  186
      ✓ should unfavorite article (186ms)
    Delete
**** Call ## 26 ## Duration:  165
**** Call ## 27 ## Duration:  143 (ERR)
      ✓ should delete article (308ms)
**** Call ## 28 ## Duration:  118 (ERR)
      ✓ should disallow deleting by unauthenticated user (118ms)
**** Call ## 29 ## Duration:  165 (ERR)
      ✓ should disallow deleting unknown article (166ms)
**** Call ## 30 ## Duration:  110 (ERR)
      ✓ should disallow deleting article by non-author (110ms)
    List
**** Call ## 31 ## Duration:  125
**** Call ## 32 ## Duration:  130
**** Call ## 33 ## Duration:  154
**** Call ## 34 ## Duration:  128
**** Call ## 35 ## Duration:  124
**** Call ## 36 ## Duration:  146
**** Call ## 37 ## Duration:  136
**** Call ## 38 ## Duration:  106
**** Call ## 39 ## Duration:  123
**** Call ## 40 ## Duration:  149
**** Call ## 41 ## Duration:  132
**** Call ## 42 ## Duration:  131
**** Call ## 43 ## Duration:  134
**** Call ## 44 ## Duration:  121
**** Call ## 45 ## Duration:  121
**** Call ## 46 ## Duration:  141
**** Call ## 47 ## Duration:  123
**** Call ## 48 ## Duration:  194
**** Call ## 49 ## Duration:  146
**** Call ## 50 ## Duration:  128
**** Call ## 51 ## Duration:  387
      ✓ should list articles (387ms)
**** Call ## 52 ## Duration:  198
**** Call ## 53 ## Duration:  325
      ✓ should list articles with tag (523ms)
**** Call ## 54 ## Duration:  187
      ✓ should list articles by author (189ms)
**** Call ## 55 ## Duration:  89
      ✓ should list articles favorited by user (89ms)
**** Call ## 56 ## Duration:  132
**** Call ## 57 ## Duration:  149
      ✓ should list articles by limit/offset (282ms)
**** Call ## 58 ## Duration:  467
      ✓ should list articles when authenticated (467ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  84 (ERR)
**** Call ## 60 ## Duration:  85 (ERR)
**** Call ## 59 ## Duration:  88 (ERR)
**** Call ## 62 ## Duration:  156
**** Call ## 63 ## Duration:  220
**** Call ## 64 ## Duration:  213 (ERR)
      1) should get feed


  28 passing (10s)
  1 failing

  1) Article
       Feed
         should get feed:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:17:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:236:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)



npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2020-05-20T18_25_29_897Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  235
**** Call ## 1 ## Duration:  150
**** Call ## 2 ## Duration:  155
    Create
**** Call ## 3 ## Duration:  135
      ✓ should create article (137ms)
**** Call ## 4 ## Duration:  125
      ✓ should create article with tags (128ms)
**** Call ## 5 ## Duration:  92 (ERR)
      ✓ should disallow unauthenticated user (92ms)
**** Call ## 6 ## Duration:  102 (ERR)
**** Call ## 7 ## Duration:  100 (ERR)
**** Call ## 8 ## Duration:  97 (ERR)
**** Call ## 9 ## Duration:  103 (ERR)
      ✓ should enforce required fields (402ms)
    Get
**** Call ## 10 ## Duration:  182
      ✓ should get article by slug (183ms)
**** Call ## 11 ## Duration:  127
      ✓ should get article with tags by slug (127ms)
**** Call ## 12 ## Duration:  106 (ERR)
      ✓ should disallow unknown slug (106ms)
    Update
**** Call ## 13 ## Duration:  208
**** Call ## 14 ## Duration:  282
**** Call ## 15 ## Duration:  191
      ✓ should update article (683ms)
**** Call ## 16 ## Duration:  136 (ERR)
      ✓ should disallow missing mutation (136ms)
**** Call ## 17 ## Duration:  79 (ERR)
      ✓ should disallow empty mutation (79ms)
**** Call ## 18 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated update (80ms)
**** Call ## 19 ## Duration:  140 (ERR)
      ✓ should disallow updating non-existent article (141ms)
**** Call ## 20 ## Duration:  128 (ERR)
      ✓ should disallow non-author from updating (128ms)
    Favorite
**** Call ## 21 ## Duration:  185
**** Call ## 22 ## Duration:  209
      ✓ should favorite article (394ms)
**** Call ## 23 ## Duration:  83 (ERR)
      ✓ should disallow favoriting by unauthenticated user (83ms)
**** Call ## 24 ## Duration:  161 (ERR)
      ✓ should disallow favoriting unknown article (161ms)
**** Call ## 25 ## Duration:  182
      ✓ should unfavorite article (182ms)
    Delete
**** Call ## 26 ## Duration:  169
**** Call ## 27 ## Duration:  144 (ERR)
      ✓ should delete article (313ms)
**** Call ## 28 ## Duration:  115 (ERR)
      ✓ should disallow deleting by unauthenticated user (115ms)
**** Call ## 29 ## Duration:  120 (ERR)
      ✓ should disallow deleting unknown article (120ms)
**** Call ## 30 ## Duration:  124 (ERR)
      ✓ should disallow deleting article by non-author (125ms)
    List
**** Call ## 31 ## Duration:  120
**** Call ## 32 ## Duration:  126
**** Call ## 33 ## Duration:  125
**** Call ## 34 ## Duration:  114
**** Call ## 35 ## Duration:  118
**** Call ## 36 ## Duration:  122
**** Call ## 37 ## Duration:  166
**** Call ## 38 ## Duration:  135
**** Call ## 39 ## Duration:  181
**** Call ## 40 ## Duration:  153
**** Call ## 41 ## Duration:  140
**** Call ## 42 ## Duration:  123
**** Call ## 43 ## Duration:  143
**** Call ## 44 ## Duration:  158
**** Call ## 45 ## Duration:  162
**** Call ## 46 ## Duration:  130
**** Call ## 47 ## Duration:  103
**** Call ## 48 ## Duration:  129
**** Call ## 49 ## Duration:  136
**** Call ## 50 ## Duration:  123
**** Call ## 51 ## Duration:  511
      ✓ should list articles (512ms)
**** Call ## 52 ## Duration:  155
**** Call ## 53 ## Duration:  269
      ✓ should list articles with tag (424ms)
**** Call ## 54 ## Duration:  305
      ✓ should list articles by author (305ms)
**** Call ## 55 ## Duration:  98
      ✓ should list articles favorited by user (99ms)
**** Call ## 56 ## Duration:  152
**** Call ## 57 ## Duration:  180
      ✓ should list articles by limit/offset (333ms)
**** Call ## 58 ## Duration:  460
      ✓ should list articles when authenticated (460ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  85 (ERR)
**** Call ## 61 ## Duration:  86 (ERR)
**** Call ## 60 ## Duration:  91 (ERR)
**** Call ## 62 ## Duration:  190
**** Call ## 63 ## Duration:  205
**** Call ## 64 ## Duration:  246
**** Call ## 65 ## Duration:  206
**** Call ## 66 ## Duration:  331
      ✓ should get feed (1182ms)
**** Call ## 67 ## Duration:  119 (ERR)
      ✓ should disallow unauthenticated feed (120ms)
    Tags
**** Call ## 68 ## Duration:  116
      ✓ should get tags (116ms)

  Comment
**** Call ## 69 ## Duration:  169
**** Call ## 70 ## Duration:  155
**** Call ## 71 ## Duration:  133
    Create
**** Call ## 72 ## Duration:  149
**** Call ## 73 ## Duration:  142
**** Call ## 74 ## Duration:  120
**** Call ## 75 ## Duration:  145
**** Call ## 76 ## Duration:  145
**** Call ## 77 ## Duration:  144
**** Call ## 78 ## Duration:  153
**** Call ## 79 ## Duration:  147
**** Call ## 80 ## Duration:  134
**** Call ## 81 ## Duration:  121
      ✓ should create comment (1402ms)
**** Call ## 82 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated user (88ms)
**** Call ## 83 ## Duration:  106 (ERR)
      ✓ should enforce comment body (106ms)
**** Call ## 84 ## Duration:  104 (ERR)
      ✓ should disallow non-existent article (105ms)
    Get
**** Call ## 85 ## Duration:  313
      ✓ should get all comments for article (313ms)
    Delete
**** Call ## 86 ## Duration:  144
      ✓ should delete comment (145ms)
**** Call ## 87 ## Duration:  125 (ERR)
      ✓ only comment author should be able to delete comment (126ms)
**** Call ## 88 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 89 ## Duration:  119 (ERR)
      ✓ should disallow deleting unknown comment (119ms)

  User
    Create
**** Call ## 90 ## Duration:  188
      ✓ should create user (188ms)
**** Call ## 91 ## Duration:  125 (ERR)
      ✓ should disallow same username (125ms)
**** Call ## 92 ## Duration:  114 (ERR)
      ✓ should disallow same email (115ms)
**** Call ## 93 ## Duration:  84 (ERR)
**** Call ## 94 ## Duration:  88 (ERR)
**** Call ## 95 ## Duration:  82 (ERR)
**** Call ## 96 ## Duration:  122 (ERR)
      ✓ should enforce required fields (379ms)
    Login
**** Call ## 97 ## Duration:  109
      ✓ should login (110ms)
**** Call ## 98 ## Duration:  106 (ERR)
      ✓ should disallow unknown email (107ms)
**** Call ## 99 ## Duration:  148 (ERR)
      ✓ should disallow wrong password (149ms)
**** Call ## 100 ## Duration:  84 (ERR)
**** Call ## 101 ## Duration:  95 (ERR)
**** Call ## 102 ## Duration:  85 (ERR)
      ✓ should enforce required fields (265ms)
    Get
**** Call ## 103 ## Duration:  116
      ✓ should get current user (116ms)
**** Call ## 104 ## Duration:  187 (ERR)
**** Call ## 105 ## Duration:  77 (ERR)
**** Call ## 106 ## Duration:  78 (ERR)
**** Call ## 107 ## Duration:  89 (ERR)
      ✓ should disallow bad tokens (431ms)
    Profile
**** Call ## 108 ## Duration:  156
      ✓ should get profile (157ms)
**** Call ## 109 ## Duration:  111 (ERR)
      ✓ should disallow unknown username (111ms)
**** Call ## 110 ## Duration:  154
**** Call ## 111 ## Duration:  189
**** Call ## 112 ## Duration:  214
**** Call ## 113 ## Duration:  196
**** Call ## 114 ## Duration:  98
**** Call ## 115 ## Duration:  182
**** Call ## 116 ## Duration:  155
**** Call ## 117 ## Duration:  316
**** Call ## 118 ## Duration:  206
**** Call ## 119 ## Duration:  293
      ✓ should follow/unfollow user (2006ms)
**** Call ## 120 ## Duration:  84 (ERR)
      ✓ should disallow following with bad token (85ms)
    Update
**** Call ## 121 ## Duration:  174
**** Call ## 122 ## Duration:  123
**** Call ## 123 ## Duration:  123
**** Call ## 124 ## Duration:  155
      ✓ should update user (576ms)
**** Call ## 125 ## Duration:  130 (ERR)
**** Call ## 126 ## Duration:  134 (ERR)
      ✓ should disallow missing token/email in update (265ms)
**** Call ## 127 ## Duration:  158
**** Call ## 128 ## Duration:  109 (ERR)
      ✓ should disallow reusing email (267ms)

  Util
    Ping
**** Call ## 129 ## Duration:  84
      ✓ should ping (85ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  194
**** Call ## 1 ## Duration:  149
**** Call ## 2 ## Duration:  152
    Create
**** Call ## 3 ## Duration:  166
      ✓ should create article (169ms)
**** Call ## 4 ## Duration:  122
      ✓ should create article with tags (124ms)
**** Call ## 5 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 6 ## Duration:  105 (ERR)
**** Call ## 7 ## Duration:  104 (ERR)
**** Call ## 8 ## Duration:  160 (ERR)
**** Call ## 9 ## Duration:  98 (ERR)
      ✓ should enforce required fields (468ms)
    Get
**** Call ## 10 ## Duration:  141
      ✓ should get article by slug (141ms)
**** Call ## 11 ## Duration:  138
      ✓ should get article with tags by slug (139ms)
**** Call ## 12 ## Duration:  107 (ERR)
      ✓ should disallow unknown slug (107ms)
    Update
**** Call ## 13 ## Duration:  253
**** Call ## 14 ## Duration:  257
**** Call ## 15 ## Duration:  201
      ✓ should update article (714ms)
**** Call ## 16 ## Duration:  82 (ERR)
      ✓ should disallow missing mutation (83ms)
**** Call ## 17 ## Duration:  85 (ERR)
      ✓ should disallow empty mutation (85ms)
**** Call ## 18 ## Duration:  120 (ERR)
      ✓ should disallow unauthenticated update (120ms)
**** Call ## 19 ## Duration:  180 (ERR)
      ✓ should disallow updating non-existent article (181ms)
**** Call ## 20 ## Duration:  131 (ERR)
      ✓ should disallow non-author from updating (131ms)
    Favorite
**** Call ## 21 ## Duration:  225
**** Call ## 22 ## Duration:  150
      ✓ should favorite article (375ms)
**** Call ## 23 ## Duration:  111 (ERR)
      ✓ should disallow favoriting by unauthenticated user (112ms)
**** Call ## 24 ## Duration:  154 (ERR)
      ✓ should disallow favoriting unknown article (154ms)
**** Call ## 25 ## Duration:  173
      ✓ should unfavorite article (173ms)
    Delete
**** Call ## 26 ## Duration:  231
**** Call ## 27 ## Duration:  186 (ERR)
      ✓ should delete article (417ms)
**** Call ## 28 ## Duration:  82 (ERR)
      ✓ should disallow deleting by unauthenticated user (82ms)
**** Call ## 29 ## Duration:  146 (ERR)
      ✓ should disallow deleting unknown article (146ms)
**** Call ## 30 ## Duration:  179 (ERR)
      ✓ should disallow deleting article by non-author (179ms)
    List
**** Call ## 31 ## Duration:  129
**** Call ## 32 ## Duration:  133
**** Call ## 33 ## Duration:  139
**** Call ## 34 ## Duration:  133
**** Call ## 35 ## Duration:  126
**** Call ## 36 ## Duration:  129
**** Call ## 37 ## Duration:  211
**** Call ## 38 ## Duration:  153
**** Call ## 39 ## Duration:  124
**** Call ## 40 ## Duration:  229
**** Call ## 41 ## Duration:  118
**** Call ## 42 ## Duration:  105
**** Call ## 43 ## Duration:  100
**** Call ## 44 ## Duration:  314
**** Call ## 45 ## Duration:  134
**** Call ## 46 ## Duration:  130
**** Call ## 47 ## Duration:  121
**** Call ## 48 ## Duration:  128
**** Call ## 49 ## Duration:  145
**** Call ## 50 ## Duration:  118
**** Call ## 51 ## Duration:  500
      ✓ should list articles (500ms)
**** Call ## 52 ## Duration:  175
**** Call ## 53 ## Duration:  292
      ✓ should list articles with tag (468ms)
**** Call ## 54 ## Duration:  300
      ✓ should list articles by author (301ms)
**** Call ## 55 ## Duration:  118
      ✓ should list articles favorited by user (118ms)
**** Call ## 56 ## Duration:  174
**** Call ## 57 ## Duration:  164
      ✓ should list articles by limit/offset (338ms)
**** Call ## 58 ## Duration:  449
      ✓ should list articles when authenticated (449ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  82 (ERR)
**** Call ## 59 ## Duration:  91 (ERR)
**** Call ## 61 ## Duration:  92 (ERR)
**** Call ## 62 ## Duration:  148
**** Call ## 63 ## Duration:  183
**** Call ## 64 ## Duration:  237
**** Call ## 65 ## Duration:  158
**** Call ## 66 ## Duration:  437
      ✓ should get feed (1166ms)
**** Call ## 67 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated feed (83ms)
    Tags
**** Call ## 68 ## Duration:  139
      ✓ should get tags (139ms)

  Comment
**** Call ## 69 ## Duration:  157
**** Call ## 70 ## Duration:  195
**** Call ## 71 ## Duration:  148
    Create
**** Call ## 72 ## Duration:  176
**** Call ## 73 ## Duration:  132
**** Call ## 74 ## Duration:  134
**** Call ## 75 ## Duration:  196
**** Call ## 76 ## Duration:  130
**** Call ## 77 ## Duration:  146
**** Call ## 78 ## Duration:  134
**** Call ## 79 ## Duration:  170
**** Call ## 80 ## Duration:  152
**** Call ## 81 ## Duration:  159
      ✓ should create comment (1530ms)
**** Call ## 82 ## Duration:  115 (ERR)
      ✓ should disallow unauthenticated user (116ms)
**** Call ## 83 ## Duration:  98 (ERR)
      ✓ should enforce comment body (98ms)
**** Call ## 84 ## Duration:  117 (ERR)
      ✓ should disallow non-existent article (117ms)
    Get
**** Call ## 85 ## Duration:  370
      ✓ should get all comments for article (370ms)
    Delete
**** Call ## 86 ## Duration:  176
      ✓ should delete comment (177ms)
**** Call ## 87 ## Duration:  132 (ERR)
      ✓ only comment author should be able to delete comment (132ms)
**** Call ## 88 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 89 ## Duration:  140 (ERR)
      ✓ should disallow deleting unknown comment (140ms)

  User
    Create
**** Call ## 90 ## Duration:  922
      ✓ should create user (923ms)
**** Call ## 91 ## Duration:  98 (ERR)
      ✓ should disallow same username (98ms)
**** Call ## 92 ## Duration:  146 (ERR)
      ✓ should disallow same email (146ms)
**** Call ## 93 ## Duration:  78 (ERR)
**** Call ## 94 ## Duration:  82 (ERR)
**** Call ## 95 ## Duration:  129 (ERR)
**** Call ## 96 ## Duration:  84 (ERR)
      ✓ should enforce required fields (376ms)
    Login
**** Call ## 97 ## Duration:  142
      ✓ should login (142ms)
**** Call ## 98 ## Duration:  136 (ERR)
      ✓ should disallow unknown email (136ms)
**** Call ## 99 ## Duration:  111 (ERR)
      ✓ should disallow wrong password (111ms)
**** Call ## 100 ## Duration:  84 (ERR)
**** Call ## 101 ## Duration:  81 (ERR)
**** Call ## 102 ## Duration:  87 (ERR)
      ✓ should enforce required fields (252ms)
    Get
**** Call ## 103 ## Duration:  109
      ✓ should get current user (110ms)
**** Call ## 104 ## Duration:  87 (ERR)
**** Call ## 105 ## Duration:  94 (ERR)
**** Call ## 106 ## Duration:  84 (ERR)
**** Call ## 107 ## Duration:  89 (ERR)
      ✓ should disallow bad tokens (354ms)
    Profile
**** Call ## 108 ## Duration:  153
      ✓ should get profile (153ms)
**** Call ## 109 ## Duration:  113 (ERR)
      ✓ should disallow unknown username (114ms)
**** Call ## 110 ## Duration:  138
**** Call ## 111 ## Duration:  169
**** Call ## 112 ## Duration:  165
**** Call ## 113 ## Duration:  132
**** Call ## 114 ## Duration:  110
**** Call ## 115 ## Duration:  160
**** Call ## 116 ## Duration:  165
**** Call ## 117 ## Duration:  208
**** Call ## 118 ## Duration:  139
**** Call ## 119 ## Duration:  147
      ✓ should follow/unfollow user (1534ms)
**** Call ## 120 ## Duration:  87 (ERR)
      ✓ should disallow following with bad token (88ms)
    Update
**** Call ## 121 ## Duration:  142
**** Call ## 122 ## Duration:  160
**** Call ## 123 ## Duration:  113
**** Call ## 124 ## Duration:  131
      ✓ should update user (546ms)
**** Call ## 125 ## Duration:  116 (ERR)
**** Call ## 126 ## Duration:  91 (ERR)
      ✓ should disallow missing token/email in update (208ms)
**** Call ## 127 ## Duration:  215
**** Call ## 128 ## Duration:  136 (ERR)
      ✓ should disallow reusing email (352ms)

  Util
    Ping
**** Call ## 129 ## Duration:  87
      ✓ should ping (87ms)


  58 passing (20s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  231
**** Call ## 1 ## Duration:  159
**** Call ## 2 ## Duration:  144
    Create
**** Call ## 3 ## Duration:  155
      ✓ should create article (157ms)
**** Call ## 4 ## Duration:  124
      ✓ should create article with tags (127ms)
**** Call ## 5 ## Duration:  120 (ERR)
      ✓ should disallow unauthenticated user (121ms)
**** Call ## 6 ## Duration:  115 (ERR)
**** Call ## 7 ## Duration:  142 (ERR)
**** Call ## 8 ## Duration:  103 (ERR)
**** Call ## 9 ## Duration:  118 (ERR)
      ✓ should enforce required fields (480ms)
    Get
**** Call ## 10 ## Duration:  156
      ✓ should get article by slug (157ms)
**** Call ## 11 ## Duration:  126
      ✓ should get article with tags by slug (127ms)
**** Call ## 12 ## Duration:  89 (ERR)
      ✓ should disallow unknown slug (89ms)
    Update
**** Call ## 13 ## Duration:  216
**** Call ## 14 ## Duration:  175
**** Call ## 15 ## Duration:  196
      ✓ should update article (590ms)
**** Call ## 16 ## Duration:  97 (ERR)
      ✓ should disallow missing mutation (97ms)
**** Call ## 17 ## Duration:  79 (ERR)
      ✓ should disallow empty mutation (81ms)
**** Call ## 18 ## Duration:  117 (ERR)
      ✓ should disallow unauthenticated update (117ms)
**** Call ## 19 ## Duration:  112 (ERR)
      ✓ should disallow updating non-existent article (113ms)
**** Call ## 20 ## Duration:  130 (ERR)
      ✓ should disallow non-author from updating (130ms)
    Favorite
**** Call ## 21 ## Duration:  209
**** Call ## 22 ## Duration:  134
      ✓ should favorite article (345ms)
**** Call ## 23 ## Duration:  89 (ERR)
      ✓ should disallow favoriting by unauthenticated user (89ms)
**** Call ## 24 ## Duration:  123 (ERR)
      ✓ should disallow favoriting unknown article (123ms)
**** Call ## 25 ## Duration:  208
      ✓ should unfavorite article (208ms)
    Delete
**** Call ## 26 ## Duration:  248
**** Call ## 27 ## Duration:  103 (ERR)
      ✓ should delete article (351ms)
**** Call ## 28 ## Duration:  82 (ERR)
      ✓ should disallow deleting by unauthenticated user (82ms)
**** Call ## 29 ## Duration:  136 (ERR)
      ✓ should disallow deleting unknown article (136ms)
**** Call ## 30 ## Duration:  117 (ERR)
      ✓ should disallow deleting article by non-author (117ms)
    List
**** Call ## 31 ## Duration:  133
**** Call ## 32 ## Duration:  119
**** Call ## 33 ## Duration:  131
**** Call ## 34 ## Duration:  117
**** Call ## 35 ## Duration:  115
**** Call ## 36 ## Duration:  110
**** Call ## 37 ## Duration:  112
**** Call ## 38 ## Duration:  154
**** Call ## 39 ## Duration:  114
**** Call ## 40 ## Duration:  122
**** Call ## 41 ## Duration:  117
**** Call ## 42 ## Duration:  167
**** Call ## 43 ## Duration:  151
**** Call ## 44 ## Duration:  116
**** Call ## 45 ## Duration:  113
**** Call ## 46 ## Duration:  110
**** Call ## 47 ## Duration:  123
**** Call ## 48 ## Duration:  128
**** Call ## 49 ## Duration:  104
**** Call ## 50 ## Duration:  183
**** Call ## 51 ## Duration:  587
      ✓ should list articles (587ms)
**** Call ## 52 ## Duration:  195
**** Call ## 53 ## Duration:  335
      ✓ should list articles with tag (530ms)
**** Call ## 54 ## Duration:  258
      ✓ should list articles by author (259ms)
**** Call ## 55 ## Duration:  141
      ✓ should list articles favorited by user (142ms)
**** Call ## 56 ## Duration:  168
**** Call ## 57 ## Duration:  143
      ✓ should list articles by limit/offset (311ms)
**** Call ## 58 ## Duration:  423
      ✓ should list articles when authenticated (424ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  98 (ERR)
**** Call ## 61 ## Duration:  101 (ERR)
**** Call ## 62 ## Duration:  129
**** Call ## 59 ## Duration:  139 (ERR)
**** Call ## 63 ## Duration:  178
**** Call ## 64 ## Duration:  282
**** Call ## 65 ## Duration:  201
**** Call ## 66 ## Duration:  322
      ✓ should get feed (1115ms)
**** Call ## 67 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated feed (90ms)
    Tags
**** Call ## 68 ## Duration:  144
      ✓ should get tags (144ms)

  Comment
**** Call ## 69 ## Duration:  160
**** Call ## 70 ## Duration:  162
**** Call ## 71 ## Duration:  131
    Create
**** Call ## 72 ## Duration:  149
**** Call ## 73 ## Duration:  170
**** Call ## 74 ## Duration:  144
**** Call ## 75 ## Duration:  168
**** Call ## 76 ## Duration:  183
**** Call ## 77 ## Duration:  162
**** Call ## 78 ## Duration:  171
**** Call ## 79 ## Duration:  137
**** Call ## 80 ## Duration:  132
**** Call ## 81 ## Duration:  139
      ✓ should create comment (1558ms)
**** Call ## 82 ## Duration:  77 (ERR)
      ✓ should disallow unauthenticated user (79ms)
**** Call ## 83 ## Duration:  101 (ERR)
      ✓ should enforce comment body (101ms)
**** Call ## 84 ## Duration:  123 (ERR)
      ✓ should disallow non-existent article (123ms)
    Get
**** Call ## 85 ## Duration:  328
      ✓ should get all comments for article (329ms)
    Delete
**** Call ## 86 ## Duration:  191
      ✓ should delete comment (191ms)
**** Call ## 87 ## Duration:  116 (ERR)
      ✓ only comment author should be able to delete comment (117ms)
**** Call ## 88 ## Duration:  103 (ERR)
      ✓ should disallow unauthenticated user (104ms)
**** Call ## 89 ## Duration:  123 (ERR)
      ✓ should disallow deleting unknown comment (123ms)

  User
    Create
**** Call ## 90 ## Duration:  178
      ✓ should create user (178ms)
**** Call ## 91 ## Duration:  110 (ERR)
      ✓ should disallow same username (110ms)
**** Call ## 92 ## Duration:  176 (ERR)
      ✓ should disallow same email (176ms)
**** Call ## 93 ## Duration:  79 (ERR)
**** Call ## 94 ## Duration:  81 (ERR)
**** Call ## 95 ## Duration:  97 (ERR)
**** Call ## 96 ## Duration:  110 (ERR)
      ✓ should enforce required fields (370ms)
    Login
**** Call ## 97 ## Duration:  120
      ✓ should login (121ms)
**** Call ## 98 ## Duration:  94 (ERR)
      ✓ should disallow unknown email (95ms)
**** Call ## 99 ## Duration:  151 (ERR)
      ✓ should disallow wrong password (152ms)
**** Call ## 100 ## Duration:  120 (ERR)
**** Call ## 101 ## Duration:  80 (ERR)
**** Call ## 102 ## Duration:  77 (ERR)
      ✓ should enforce required fields (277ms)
    Get
**** Call ## 103 ## Duration:  106
      ✓ should get current user (106ms)
**** Call ## 104 ## Duration:  140 (ERR)
**** Call ## 105 ## Duration:  83 (ERR)
**** Call ## 106 ## Duration:  85 (ERR)
**** Call ## 107 ## Duration:  79 (ERR)
      ✓ should disallow bad tokens (388ms)
    Profile
**** Call ## 108 ## Duration:  111
      ✓ should get profile (111ms)
**** Call ## 109 ## Duration:  193 (ERR)
      ✓ should disallow unknown username (193ms)
**** Call ## 110 ## Duration:  158
**** Call ## 111 ## Duration:  152
**** Call ## 112 ## Duration:  151
**** Call ## 113 ## Duration:  133
**** Call ## 114 ## Duration:  135
**** Call ## 115 ## Duration:  162
**** Call ## 116 ## Duration:  157
**** Call ## 117 ## Duration:  190
**** Call ## 118 ## Duration:  158
**** Call ## 119 ## Duration:  126
      ✓ should follow/unfollow user (1526ms)
**** Call ## 120 ## Duration:  82 (ERR)
      ✓ should disallow following with bad token (82ms)
    Update
**** Call ## 121 ## Duration:  142
**** Call ## 122 ## Duration:  255
**** Call ## 123 ## Duration:  158
**** Call ## 124 ## Duration:  148
      ✓ should update user (705ms)
**** Call ## 125 ## Duration:  91 (ERR)
**** Call ## 126 ## Duration:  88 (ERR)
      ✓ should disallow missing token/email in update (181ms)
**** Call ## 127 ## Duration:  157
**** Call ## 128 ## Duration:  121 (ERR)
      ✓ should disallow reusing email (278ms)

  Util
    Ping
**** Call ## 129 ## Duration:  89
      ✓ should ping (89ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  197
**** Call ## 1 ## Duration:  160
**** Call ## 2 ## Duration:  157
    Create
**** Call ## 3 ## Duration:  162
      ✓ should create article (164ms)
**** Call ## 4 ## Duration:  128
      ✓ should create article with tags (130ms)
**** Call ## 5 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 6 ## Duration:  136 (ERR)
**** Call ## 7 ## Duration:  109 (ERR)
**** Call ## 8 ## Duration:  114 (ERR)
**** Call ## 9 ## Duration:  139 (ERR)
      ✓ should enforce required fields (500ms)
    Get
**** Call ## 10 ## Duration:  134
      ✓ should get article by slug (134ms)
**** Call ## 11 ## Duration:  121
      ✓ should get article with tags by slug (121ms)
**** Call ## 12 ## Duration:  135 (ERR)
      ✓ should disallow unknown slug (135ms)
    Update
**** Call ## 13 ## Duration:  199
**** Call ## 14 ## Duration:  268
**** Call ## 15 ## Duration:  151
      ✓ should update article (619ms)
**** Call ## 16 ## Duration:  87 (ERR)
      ✓ should disallow missing mutation (87ms)
**** Call ## 17 ## Duration:  80 (ERR)
      ✓ should disallow empty mutation (80ms)
**** Call ## 18 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated update (90ms)
**** Call ## 19 ## Duration:  97 (ERR)
      ✓ should disallow updating non-existent article (97ms)
**** Call ## 20 ## Duration:  124 (ERR)
      ✓ should disallow non-author from updating (124ms)
    Favorite
**** Call ## 21 ## Duration:  186
**** Call ## 22 ## Duration:  145
      ✓ should favorite article (331ms)
**** Call ## 23 ## Duration:  83 (ERR)
      ✓ should disallow favoriting by unauthenticated user (83ms)
**** Call ## 24 ## Duration:  140 (ERR)
      ✓ should disallow favoriting unknown article (140ms)
**** Call ## 25 ## Duration:  234
      ✓ should unfavorite article (235ms)
    Delete
**** Call ## 26 ## Duration:  205
**** Call ## 27 ## Duration:  105 (ERR)
      ✓ should delete article (310ms)
**** Call ## 28 ## Duration:  82 (ERR)
      ✓ should disallow deleting by unauthenticated user (82ms)
**** Call ## 29 ## Duration:  119 (ERR)
      ✓ should disallow deleting unknown article (119ms)
**** Call ## 30 ## Duration:  143 (ERR)
      ✓ should disallow deleting article by non-author (144ms)
    List
**** Call ## 31 ## Duration:  164
**** Call ## 32 ## Duration:  113
**** Call ## 33 ## Duration:  232
**** Call ## 34 ## Duration:  173
**** Call ## 35 ## Duration:  133
**** Call ## 36 ## Duration:  216
**** Call ## 37 ## Duration:  143
**** Call ## 38 ## Duration:  128
**** Call ## 39 ## Duration:  129
**** Call ## 40 ## Duration:  116
**** Call ## 41 ## Duration:  146
**** Call ## 42 ## Duration:  128
**** Call ## 43 ## Duration:  133
**** Call ## 44 ## Duration:  167
**** Call ## 45 ## Duration:  124
**** Call ## 46 ## Duration:  139
**** Call ## 47 ## Duration:  128
**** Call ## 48 ## Duration:  100
**** Call ## 49 ## Duration:  133
**** Call ## 50 ## Duration:  134
**** Call ## 51 ## Duration:  284
      ✓ should list articles (284ms)
**** Call ## 52 ## Duration:  193
**** Call ## 53 ## Duration:  292
      ✓ should list articles with tag (486ms)
**** Call ## 54 ## Duration:  231
      ✓ should list articles by author (232ms)
**** Call ## 55 ## Duration:  119
      ✓ should list articles favorited by user (120ms)
**** Call ## 56 ## Duration:  147
**** Call ## 57 ## Duration:  147
      ✓ should list articles by limit/offset (295ms)
**** Call ## 58 ## Duration:  388
      ✓ should list articles when authenticated (388ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  82 (ERR)
**** Call ## 61 ## Duration:  84 (ERR)
**** Call ## 59 ## Duration:  88 (ERR)
**** Call ## 62 ## Duration:  131
**** Call ## 63 ## Duration:  161
**** Call ## 64 ## Duration:  287
**** Call ## 65 ## Duration:  148
**** Call ## 66 ## Duration:  297
      ✓ should get feed (1025ms)
**** Call ## 67 ## Duration:  110 (ERR)
      ✓ should disallow unauthenticated feed (110ms)
    Tags
**** Call ## 68 ## Duration:  166
      ✓ should get tags (167ms)

  Comment
**** Call ## 69 ## Duration:  144
**** Call ## 70 ## Duration:  111
**** Call ## 71 ## Duration:  164
    Create
**** Call ## 72 ## Duration:  176
**** Call ## 73 ## Duration:  139
**** Call ## 74 ## Duration:  148
**** Call ## 75 ## Duration:  158
**** Call ## 76 ## Duration:  139
**** Call ## 77 ## Duration:  148
**** Call ## 78 ## Duration:  148
**** Call ## 79 ## Duration:  172
**** Call ## 80 ## Duration:  156
**** Call ## 81 ## Duration:  158
      ✓ should create comment (1546ms)
**** Call ## 82 ## Duration:  112 (ERR)
      ✓ should disallow unauthenticated user (112ms)
**** Call ## 83 ## Duration:  103 (ERR)
      ✓ should enforce comment body (104ms)
**** Call ## 84 ## Duration:  111 (ERR)
      ✓ should disallow non-existent article (111ms)
    Get
**** Call ## 85 ## Duration:  300
      ✓ should get all comments for article (300ms)
    Delete
**** Call ## 86 ## Duration:  250
      ✓ should delete comment (250ms)
**** Call ## 87 ## Duration:  134 (ERR)
      ✓ only comment author should be able to delete comment (134ms)
**** Call ## 88 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated user (91ms)
**** Call ## 89 ## Duration:  154 (ERR)
      ✓ should disallow deleting unknown comment (154ms)

  User
    Create
**** Call ## 90 ## Duration:  147
      ✓ should create user (147ms)
**** Call ## 91 ## Duration:  114 (ERR)
      ✓ should disallow same username (115ms)
**** Call ## 92 ## Duration:  126 (ERR)
      ✓ should disallow same email (128ms)
**** Call ## 93 ## Duration:  111 (ERR)
**** Call ## 94 ## Duration:  91 (ERR)
**** Call ## 95 ## Duration:  82 (ERR)
**** Call ## 96 ## Duration:  91 (ERR)
      ✓ should enforce required fields (376ms)
    Login
**** Call ## 97 ## Duration:  111
      ✓ should login (111ms)
**** Call ## 98 ## Duration:  100 (ERR)
      ✓ should disallow unknown email (101ms)
**** Call ## 99 ## Duration:  108 (ERR)
      ✓ should disallow wrong password (108ms)
**** Call ## 100 ## Duration:  113 (ERR)
**** Call ## 101 ## Duration:  84 (ERR)
**** Call ## 102 ## Duration:  85 (ERR)
      ✓ should enforce required fields (282ms)
    Get
**** Call ## 103 ## Duration:  132
      ✓ should get current user (133ms)
**** Call ## 104 ## Duration:  112 (ERR)
**** Call ## 105 ## Duration:  112 (ERR)
**** Call ## 106 ## Duration:  90 (ERR)
**** Call ## 107 ## Duration:  90 (ERR)
      ✓ should disallow bad tokens (405ms)
    Profile
**** Call ## 108 ## Duration:  159
      ✓ should get profile (159ms)
**** Call ## 109 ## Duration:  100 (ERR)
      ✓ should disallow unknown username (100ms)
**** Call ## 110 ## Duration:  154
**** Call ## 111 ## Duration:  174
**** Call ## 112 ## Duration:  177
**** Call ## 113 ## Duration:  133
**** Call ## 114 ## Duration:  111
**** Call ## 115 ## Duration:  143
**** Call ## 116 ## Duration:  212
**** Call ## 117 ## Duration:  176
**** Call ## 118 ## Duration:  179
**** Call ## 119 ## Duration:  357
      ✓ should follow/unfollow user (1818ms)
**** Call ## 120 ## Duration:  85 (ERR)
      ✓ should disallow following with bad token (85ms)
    Update
**** Call ## 121 ## Duration:  134
**** Call ## 122 ## Duration:  140
**** Call ## 123 ## Duration:  117
**** Call ## 124 ## Duration:  146
      ✓ should update user (537ms)
**** Call ## 125 ## Duration:  96 (ERR)
**** Call ## 126 ## Duration:  139 (ERR)
      ✓ should disallow missing token/email in update (237ms)
**** Call ## 127 ## Duration:  154
**** Call ## 128 ## Duration:  120 (ERR)
      ✓ should disallow reusing email (275ms)

  Util
    Ping
**** Call ## 129 ## Duration:  84
      ✓ should ping (84ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  203
**** Call ## 1 ## Duration:  190
**** Call ## 2 ## Duration:  140
    Create
**** Call ## 3 ## Duration:  166
      ✓ should create article (168ms)
**** Call ## 4 ## Duration:  136
      ✓ should create article with tags (138ms)
**** Call ## 5 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 6 ## Duration:  137 (ERR)
**** Call ## 7 ## Duration:  98 (ERR)
**** Call ## 8 ## Duration:  120 (ERR)
**** Call ## 9 ## Duration:  100 (ERR)
      ✓ should enforce required fields (457ms)
    Get
**** Call ## 10 ## Duration:  129
      ✓ should get article by slug (129ms)
**** Call ## 11 ## Duration:  152
      ✓ should get article with tags by slug (153ms)
**** Call ## 12 ## Duration:  95 (ERR)
      ✓ should disallow unknown slug (96ms)
    Update
**** Call ## 13 ## Duration:  204
**** Call ## 14 ## Duration:  177
**** Call ## 15 ## Duration:  197
      ✓ should update article (581ms)
**** Call ## 16 ## Duration:  90 (ERR)
      ✓ should disallow missing mutation (90ms)
**** Call ## 17 ## Duration:  84 (ERR)
      ✓ should disallow empty mutation (84ms)
**** Call ## 18 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated update (81ms)
**** Call ## 19 ## Duration:  108 (ERR)
      ✓ should disallow updating non-existent article (109ms)
**** Call ## 20 ## Duration:  124 (ERR)
      ✓ should disallow non-author from updating (124ms)
    Favorite
**** Call ## 21 ## Duration:  201
**** Call ## 22 ## Duration:  164
      ✓ should favorite article (366ms)
**** Call ## 23 ## Duration:  86 (ERR)
      ✓ should disallow favoriting by unauthenticated user (87ms)
**** Call ## 24 ## Duration:  141 (ERR)
      ✓ should disallow favoriting unknown article (141ms)
**** Call ## 25 ## Duration:  215
      ✓ should unfavorite article (215ms)
    Delete
**** Call ## 26 ## Duration:  179
**** Call ## 27 ## Duration:  108 (ERR)
      ✓ should delete article (287ms)
**** Call ## 28 ## Duration:  123 (ERR)
      ✓ should disallow deleting by unauthenticated user (123ms)
**** Call ## 29 ## Duration:  160 (ERR)
      ✓ should disallow deleting unknown article (160ms)
**** Call ## 30 ## Duration:  121 (ERR)
      ✓ should disallow deleting article by non-author (121ms)
    List
**** Call ## 31 ## Duration:  177
**** Call ## 32 ## Duration:  128
**** Call ## 33 ## Duration:  132
**** Call ## 34 ## Duration:  116
**** Call ## 35 ## Duration:  139
**** Call ## 36 ## Duration:  120
**** Call ## 37 ## Duration:  133
**** Call ## 38 ## Duration:  166
**** Call ## 39 ## Duration:  138
**** Call ## 40 ## Duration:  110
**** Call ## 41 ## Duration:  122
**** Call ## 42 ## Duration:  230
**** Call ## 43 ## Duration:  121
**** Call ## 44 ## Duration:  139
**** Call ## 45 ## Duration:  121
**** Call ## 46 ## Duration:  101
**** Call ## 47 ## Duration:  115
**** Call ## 48 ## Duration:  148
**** Call ## 49 ## Duration:  108
**** Call ## 50 ## Duration:  102
**** Call ## 51 ## Duration:  333
      ✓ should list articles (334ms)
**** Call ## 52 ## Duration:  207
**** Call ## 53 ## Duration:  250
      ✓ should list articles with tag (457ms)
**** Call ## 54 ## Duration:  213
      ✓ should list articles by author (213ms)
**** Call ## 55 ## Duration:  106
      ✓ should list articles favorited by user (107ms)
**** Call ## 56 ## Duration:  146
**** Call ## 57 ## Duration:  123
      ✓ should list articles by limit/offset (269ms)
**** Call ## 58 ## Duration:  410
      ✓ should list articles when authenticated (410ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  82 (ERR)
**** Call ## 59 ## Duration:  86 (ERR)
**** Call ## 60 ## Duration:  116 (ERR)
**** Call ## 62 ## Duration:  129
**** Call ## 63 ## Duration:  155
**** Call ## 64 ## Duration:  301
**** Call ## 65 ## Duration:  143
**** Call ## 66 ## Duration:  409
      ✓ should get feed (1141ms)
**** Call ## 67 ## Duration:  121 (ERR)
      ✓ should disallow unauthenticated feed (123ms)
    Tags
**** Call ## 68 ## Duration:  152
      ✓ should get tags (152ms)

  Comment
**** Call ## 69 ## Duration:  165
**** Call ## 70 ## Duration:  190
**** Call ## 71 ## Duration:  134
    Create
**** Call ## 72 ## Duration:  149
**** Call ## 73 ## Duration:  128
**** Call ## 74 ## Duration:  137
**** Call ## 75 ## Duration:  159
**** Call ## 76 ## Duration:  149
**** Call ## 77 ## Duration:  188
**** Call ## 78 ## Duration:  132
**** Call ## 79 ## Duration:  183
**** Call ## 80 ## Duration:  161
**** Call ## 81 ## Duration:  154
      ✓ should create comment (1540ms)
**** Call ## 82 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 83 ## Duration:  119 (ERR)
      ✓ should enforce comment body (120ms)
**** Call ## 84 ## Duration:  137 (ERR)
      ✓ should disallow non-existent article (137ms)
    Get
**** Call ## 85 ## Duration:  277
      ✓ should get all comments for article (277ms)
    Delete
**** Call ## 86 ## Duration:  217
      ✓ should delete comment (217ms)
**** Call ## 87 ## Duration:  110 (ERR)
      ✓ only comment author should be able to delete comment (111ms)
**** Call ## 88 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 89 ## Duration:  127 (ERR)
      ✓ should disallow deleting unknown comment (128ms)

  User
    Create
**** Call ## 90 ## Duration:  158
      ✓ should create user (159ms)
**** Call ## 91 ## Duration:  128 (ERR)
      ✓ should disallow same username (129ms)
**** Call ## 92 ## Duration:  127 (ERR)
      ✓ should disallow same email (128ms)
**** Call ## 93 ## Duration:  84 (ERR)
**** Call ## 94 ## Duration:  85 (ERR)
**** Call ## 95 ## Duration:  90 (ERR)
**** Call ## 96 ## Duration:  84 (ERR)
      ✓ should enforce required fields (344ms)
    Login
**** Call ## 97 ## Duration:  127
      ✓ should login (127ms)
**** Call ## 98 ## Duration:  98 (ERR)
      ✓ should disallow unknown email (99ms)
**** Call ## 99 ## Duration:  122 (ERR)
      ✓ should disallow wrong password (123ms)
**** Call ## 100 ## Duration:  91 (ERR)
**** Call ## 101 ## Duration:  111 (ERR)
**** Call ## 102 ## Duration:  79 (ERR)
      ✓ should enforce required fields (282ms)
    Get
**** Call ## 103 ## Duration:  110
      ✓ should get current user (110ms)
**** Call ## 104 ## Duration:  127 (ERR)
**** Call ## 105 ## Duration:  84 (ERR)
**** Call ## 106 ## Duration:  80 (ERR)
**** Call ## 107 ## Duration:  127 (ERR)
      ✓ should disallow bad tokens (419ms)
    Profile
**** Call ## 108 ## Duration:  116
      ✓ should get profile (116ms)
**** Call ## 109 ## Duration:  127 (ERR)
      ✓ should disallow unknown username (127ms)
**** Call ## 110 ## Duration:  147
**** Call ## 111 ## Duration:  144
**** Call ## 112 ## Duration:  167
**** Call ## 113 ## Duration:  122
**** Call ## 114 ## Duration:  109
**** Call ## 115 ## Duration:  195
**** Call ## 116 ## Duration:  161
**** Call ## 117 ## Duration:  162
**** Call ## 118 ## Duration:  143
**** Call ## 119 ## Duration:  149
      ✓ should follow/unfollow user (1502ms)
**** Call ## 120 ## Duration:  85 (ERR)
      ✓ should disallow following with bad token (85ms)
    Update
**** Call ## 121 ## Duration:  145
**** Call ## 122 ## Duration:  127
**** Call ## 123 ## Duration:  155
**** Call ## 124 ## Duration:  126
      ✓ should update user (556ms)
**** Call ## 125 ## Duration:  79 (ERR)
**** Call ## 126 ## Duration:  106 (ERR)
      ✓ should disallow missing token/email in update (187ms)
**** Call ## 127 ## Duration:  192
**** Call ## 128 ## Duration:  123 (ERR)
      ✓ should disallow reusing email (317ms)

  Util
    Ping
**** Call ## 129 ## Duration:  86
      ✓ should ping (86ms)


  58 passing (18s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  200
**** Call ## 1 ## Duration:  130
**** Call ## 2 ## Duration:  142
    Create
**** Call ## 3 ## Duration:  132
      ✓ should create article (135ms)
**** Call ## 4 ## Duration:  167
      ✓ should create article with tags (168ms)
**** Call ## 5 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 6 ## Duration:  109 (ERR)
**** Call ## 7 ## Duration:  89 (ERR)
**** Call ## 8 ## Duration:  139 (ERR)
**** Call ## 9 ## Duration:  96 (ERR)
      ✓ should enforce required fields (434ms)
    Get
**** Call ## 10 ## Duration:  130
      ✓ should get article by slug (130ms)
**** Call ## 11 ## Duration:  138
      ✓ should get article with tags by slug (138ms)
**** Call ## 12 ## Duration:  128 (ERR)
      ✓ should disallow unknown slug (129ms)
    Update
**** Call ## 13 ## Duration:  185
**** Call ## 14 ## Duration:  200
**** Call ## 15 ## Duration:  285
      ✓ should update article (673ms)
**** Call ## 16 ## Duration:  81 (ERR)
      ✓ should disallow missing mutation (81ms)
**** Call ## 17 ## Duration:  80 (ERR)
      ✓ should disallow empty mutation (82ms)
**** Call ## 18 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated update (81ms)
**** Call ## 19 ## Duration:  124 (ERR)
      ✓ should disallow updating non-existent article (124ms)
**** Call ## 20 ## Duration:  121 (ERR)
      ✓ should disallow non-author from updating (122ms)
    Favorite
**** Call ## 21 ## Duration:  156
**** Call ## 22 ## Duration:  208
      ✓ should favorite article (364ms)
**** Call ## 23 ## Duration:  152 (ERR)
      ✓ should disallow favoriting by unauthenticated user (153ms)
**** Call ## 24 ## Duration:  112 (ERR)
      ✓ should disallow favoriting unknown article (113ms)
**** Call ## 25 ## Duration:  207
      ✓ should unfavorite article (207ms)
    Delete
**** Call ## 26 ## Duration:  159
**** Call ## 27 ## Duration:  103 (ERR)
      ✓ should delete article (263ms)
**** Call ## 28 ## Duration:  86 (ERR)
      ✓ should disallow deleting by unauthenticated user (86ms)
**** Call ## 29 ## Duration:  115 (ERR)
      ✓ should disallow deleting unknown article (115ms)
**** Call ## 30 ## Duration:  132 (ERR)
      ✓ should disallow deleting article by non-author (132ms)
    List
**** Call ## 31 ## Duration:  159
**** Call ## 32 ## Duration:  128
**** Call ## 33 ## Duration:  216
**** Call ## 34 ## Duration:  270
**** Call ## 35 ## Duration:  115
**** Call ## 36 ## Duration:  130
**** Call ## 37 ## Duration:  122
**** Call ## 38 ## Duration:  126
**** Call ## 39 ## Duration:  125
**** Call ## 40 ## Duration:  114
**** Call ## 41 ## Duration:  121
**** Call ## 42 ## Duration:  135
**** Call ## 43 ## Duration:  144
**** Call ## 44 ## Duration:  136
**** Call ## 45 ## Duration:  144
**** Call ## 46 ## Duration:  127
**** Call ## 47 ## Duration:  123
**** Call ## 48 ## Duration:  465
**** Call ## 49 ## Duration:  121
**** Call ## 50 ## Duration:  118
**** Call ## 51 ## Duration:  385
      ✓ should list articles (386ms)
**** Call ## 52 ## Duration:  211
**** Call ## 53 ## Duration:  276
      ✓ should list articles with tag (487ms)
**** Call ## 54 ## Duration:  253
      ✓ should list articles by author (253ms)
**** Call ## 55 ## Duration:  113
      ✓ should list articles favorited by user (113ms)
**** Call ## 56 ## Duration:  142
**** Call ## 57 ## Duration:  181
      ✓ should list articles by limit/offset (323ms)
**** Call ## 58 ## Duration:  258 (ERR)
      1) should list articles when authenticated


  26 passing (9s)
  1 failing

  1) Article
       List
         should list articles when authenticated:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:17:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:236:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)



npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2020-05-20T18_28_44_216Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  194
**** Call ## 1 ## Duration:  140
**** Call ## 2 ## Duration:  177
    Create
**** Call ## 3 ## Duration:  134
      ✓ should create article (137ms)
**** Call ## 4 ## Duration:  176
      ✓ should create article with tags (179ms)
**** Call ## 5 ## Duration:  113 (ERR)
      ✓ should disallow unauthenticated user (114ms)
**** Call ## 6 ## Duration:  103 (ERR)
**** Call ## 7 ## Duration:  105 (ERR)
**** Call ## 8 ## Duration:  116 (ERR)
**** Call ## 9 ## Duration:  109 (ERR)
      ✓ should enforce required fields (435ms)
    Get
**** Call ## 10 ## Duration:  160
      ✓ should get article by slug (160ms)
**** Call ## 11 ## Duration:  158
      ✓ should get article with tags by slug (158ms)
**** Call ## 12 ## Duration:  98 (ERR)
      ✓ should disallow unknown slug (101ms)
    Update
**** Call ## 13 ## Duration:  224
**** Call ## 14 ## Duration:  191
**** Call ## 15 ## Duration:  214
      ✓ should update article (633ms)
**** Call ## 16 ## Duration:  112 (ERR)
      ✓ should disallow missing mutation (112ms)
**** Call ## 17 ## Duration:  81 (ERR)
      ✓ should disallow empty mutation (82ms)
**** Call ## 18 ## Duration:  122 (ERR)
      ✓ should disallow unauthenticated update (122ms)
**** Call ## 19 ## Duration:  145 (ERR)
      ✓ should disallow updating non-existent article (147ms)
**** Call ## 20 ## Duration:  188 (ERR)
      ✓ should disallow non-author from updating (188ms)
    Favorite
**** Call ## 21 ## Duration:  207
**** Call ## 22 ## Duration:  157
      ✓ should favorite article (366ms)
**** Call ## 23 ## Duration:  102 (ERR)
      ✓ should disallow favoriting by unauthenticated user (102ms)
**** Call ## 24 ## Duration:  125 (ERR)
      ✓ should disallow favoriting unknown article (125ms)
**** Call ## 25 ## Duration:  178
      ✓ should unfavorite article (178ms)
    Delete
**** Call ## 26 ## Duration:  142
**** Call ## 27 ## Duration:  117 (ERR)
      ✓ should delete article (260ms)
**** Call ## 28 ## Duration:  86 (ERR)
      ✓ should disallow deleting by unauthenticated user (86ms)
**** Call ## 29 ## Duration:  137 (ERR)
      ✓ should disallow deleting unknown article (137ms)
**** Call ## 30 ## Duration:  145 (ERR)
      ✓ should disallow deleting article by non-author (146ms)
    List
**** Call ## 31 ## Duration:  145
**** Call ## 32 ## Duration:  128
**** Call ## 33 ## Duration:  122
**** Call ## 34 ## Duration:  138
**** Call ## 35 ## Duration:  191
**** Call ## 36 ## Duration:  154
**** Call ## 37 ## Duration:  163
**** Call ## 38 ## Duration:  137
**** Call ## 39 ## Duration:  133
**** Call ## 40 ## Duration:  133
**** Call ## 41 ## Duration:  132
**** Call ## 42 ## Duration:  129
**** Call ## 43 ## Duration:  132
**** Call ## 44 ## Duration:  126
**** Call ## 45 ## Duration:  161
**** Call ## 46 ## Duration:  117
**** Call ## 47 ## Duration:  130
**** Call ## 48 ## Duration:  146
**** Call ## 49 ## Duration:  114
**** Call ## 50 ## Duration:  146
**** Call ## 51 ## Duration:  352
      ✓ should list articles (352ms)
**** Call ## 52 ## Duration:  209
**** Call ## 53 ## Duration:  274
      ✓ should list articles with tag (483ms)
**** Call ## 54 ## Duration:  279
      ✓ should list articles by author (279ms)
**** Call ## 55 ## Duration:  131
      ✓ should list articles favorited by user (132ms)
**** Call ## 56 ## Duration:  155
**** Call ## 57 ## Duration:  189
      ✓ should list articles by limit/offset (346ms)
**** Call ## 58 ## Duration:  400
      ✓ should list articles when authenticated (400ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  88 (ERR)
**** Call ## 59 ## Duration:  92 (ERR)
**** Call ## 61 ## Duration:  111 (ERR)
**** Call ## 62 ## Duration:  133
**** Call ## 63 ## Duration:  192
**** Call ## 64 ## Duration:  282
**** Call ## 65 ## Duration:  172
**** Call ## 66 ## Duration:  319
      ✓ should get feed (1099ms)
**** Call ## 67 ## Duration:  92 (ERR)
      ✓ should disallow unauthenticated feed (93ms)
    Tags
**** Call ## 68 ## Duration:  228
      ✓ should get tags (229ms)

  Comment
**** Call ## 69 ## Duration:  174
**** Call ## 70 ## Duration:  187
**** Call ## 71 ## Duration:  136
    Create
**** Call ## 72 ## Duration:  157
**** Call ## 73 ## Duration:  162
**** Call ## 74 ## Duration:  140
**** Call ## 75 ## Duration:  160
**** Call ## 76 ## Duration:  157
**** Call ## 77 ## Duration:  119
**** Call ## 78 ## Duration:  128
**** Call ## 79 ## Duration:  123
**** Call ## 80 ## Duration:  102
**** Call ## 81 ## Duration:  120
      ✓ should create comment (1372ms)
**** Call ## 82 ## Duration:  99 (ERR)
      ✓ should disallow unauthenticated user (100ms)
**** Call ## 83 ## Duration:  106 (ERR)
      ✓ should enforce comment body (106ms)
**** Call ## 84 ## Duration:  168 (ERR)
      ✓ should disallow non-existent article (169ms)
    Get
**** Call ## 85 ## Duration:  312
      ✓ should get all comments for article (313ms)
    Delete
**** Call ## 86 ## Duration:  142
      ✓ should delete comment (142ms)
**** Call ## 87 ## Duration:  124 (ERR)
      ✓ only comment author should be able to delete comment (124ms)
**** Call ## 88 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (86ms)
**** Call ## 89 ## Duration:  247 (ERR)
      ✓ should disallow deleting unknown comment (247ms)

  User
    Create
**** Call ## 90 ## Duration:  140
      ✓ should create user (141ms)
**** Call ## 91 ## Duration:  99 (ERR)
      ✓ should disallow same username (100ms)
**** Call ## 92 ## Duration:  162 (ERR)
      ✓ should disallow same email (162ms)
**** Call ## 93 ## Duration:  114 (ERR)
**** Call ## 94 ## Duration:  116 (ERR)
**** Call ## 95 ## Duration:  98 (ERR)
**** Call ## 96 ## Duration:  80 (ERR)
      ✓ should enforce required fields (409ms)
    Login
**** Call ## 97 ## Duration:  160
      ✓ should login (160ms)
**** Call ## 98 ## Duration:  99 (ERR)
      ✓ should disallow unknown email (99ms)
**** Call ## 99 ## Duration:  103 (ERR)
      ✓ should disallow wrong password (103ms)
**** Call ## 100 ## Duration:  91 (ERR)
**** Call ## 101 ## Duration:  82 (ERR)
**** Call ## 102 ## Duration:  87 (ERR)
      ✓ should enforce required fields (262ms)
    Get
**** Call ## 103 ## Duration:  111
      ✓ should get current user (113ms)
**** Call ## 104 ## Duration:  81 (ERR)
**** Call ## 105 ## Duration:  88 (ERR)
**** Call ## 106 ## Duration:  79 (ERR)
**** Call ## 107 ## Duration:  81 (ERR)
      ✓ should disallow bad tokens (331ms)
    Profile
**** Call ## 108 ## Duration:  168
      ✓ should get profile (168ms)
**** Call ## 109 ## Duration:  167 (ERR)
      ✓ should disallow unknown username (168ms)
**** Call ## 110 ## Duration:  152
**** Call ## 111 ## Duration:  174
**** Call ## 112 ## Duration:  169
**** Call ## 113 ## Duration:  163
**** Call ## 114 ## Duration:  108
**** Call ## 115 ## Duration:  178
**** Call ## 116 ## Duration:  180
**** Call ## 117 ## Duration:  192
**** Call ## 118 ## Duration:  164
**** Call ## 119 ## Duration:  166
      ✓ should follow/unfollow user (1648ms)
**** Call ## 120 ## Duration:  84 (ERR)
      ✓ should disallow following with bad token (84ms)
    Update
**** Call ## 121 ## Duration:  261
**** Call ## 122 ## Duration:  160
**** Call ## 123 ## Duration:  125
**** Call ## 124 ## Duration:  120
      ✓ should update user (667ms)
**** Call ## 125 ## Duration:  103 (ERR)
**** Call ## 126 ## Duration:  107 (ERR)
      ✓ should disallow missing token/email in update (211ms)
**** Call ## 127 ## Duration:  189
**** Call ## 128 ## Duration:  130 (ERR)
      ✓ should disallow reusing email (320ms)

  Util
    Ping
**** Call ## 129 ## Duration:  83
      ✓ should ping (83ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  193
**** Call ## 1 ## Duration:  160
**** Call ## 2 ## Duration:  183
    Create
**** Call ## 3 ## Duration:  166
      ✓ should create article (168ms)
**** Call ## 4 ## Duration:  123
      ✓ should create article with tags (124ms)
**** Call ## 5 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 6 ## Duration:  107 (ERR)
**** Call ## 7 ## Duration:  129 (ERR)
**** Call ## 8 ## Duration:  102 (ERR)
**** Call ## 9 ## Duration:  112 (ERR)
      ✓ should enforce required fields (452ms)
    Get
**** Call ## 10 ## Duration:  167
      ✓ should get article by slug (169ms)
**** Call ## 11 ## Duration:  120
      ✓ should get article with tags by slug (121ms)
**** Call ## 12 ## Duration:  131 (ERR)
      ✓ should disallow unknown slug (131ms)
    Update
**** Call ## 13 ## Duration:  268
**** Call ## 14 ## Duration:  247
**** Call ## 15 ## Duration:  185
      ✓ should update article (704ms)
**** Call ## 16 ## Duration:  81 (ERR)
      ✓ should disallow missing mutation (81ms)
**** Call ## 17 ## Duration:  83 (ERR)
      ✓ should disallow empty mutation (84ms)
**** Call ## 18 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated update (81ms)
**** Call ## 19 ## Duration:  136 (ERR)
      ✓ should disallow updating non-existent article (136ms)
**** Call ## 20 ## Duration:  147 (ERR)
      ✓ should disallow non-author from updating (147ms)
    Favorite
**** Call ## 21 ## Duration:  233
**** Call ## 22 ## Duration:  159
      ✓ should favorite article (393ms)
**** Call ## 23 ## Duration:  84 (ERR)
      ✓ should disallow favoriting by unauthenticated user (85ms)
**** Call ## 24 ## Duration:  118 (ERR)
      ✓ should disallow favoriting unknown article (119ms)
**** Call ## 25 ## Duration:  162
      ✓ should unfavorite article (162ms)
    Delete
**** Call ## 26 ## Duration:  137
**** Call ## 27 ## Duration:  105 (ERR)
      ✓ should delete article (242ms)
**** Call ## 28 ## Duration:  84 (ERR)
      ✓ should disallow deleting by unauthenticated user (85ms)
**** Call ## 29 ## Duration:  123 (ERR)
      ✓ should disallow deleting unknown article (123ms)
**** Call ## 30 ## Duration:  126 (ERR)
      ✓ should disallow deleting article by non-author (127ms)
    List
**** Call ## 31 ## Duration:  153
**** Call ## 32 ## Duration:  120
**** Call ## 33 ## Duration:  131
**** Call ## 34 ## Duration:  117
**** Call ## 35 ## Duration:  114
**** Call ## 36 ## Duration:  116
**** Call ## 37 ## Duration:  165
**** Call ## 38 ## Duration:  120
**** Call ## 39 ## Duration:  130
**** Call ## 40 ## Duration:  110
**** Call ## 41 ## Duration:  226
**** Call ## 42 ## Duration:  141
**** Call ## 43 ## Duration:  118
**** Call ## 44 ## Duration:  112
**** Call ## 45 ## Duration:  106
**** Call ## 46 ## Duration:  113
**** Call ## 47 ## Duration:  97
**** Call ## 48 ## Duration:  120
**** Call ## 49 ## Duration:  106
**** Call ## 50 ## Duration:  130
**** Call ## 51 ## Duration:  427
      ✓ should list articles (427ms)
**** Call ## 52 ## Duration:  266
**** Call ## 53 ## Duration:  288
      ✓ should list articles with tag (555ms)
**** Call ## 54 ## Duration:  230
      ✓ should list articles by author (230ms)
**** Call ## 55 ## Duration:  164
      ✓ should list articles favorited by user (164ms)
**** Call ## 56 ## Duration:  154
**** Call ## 57 ## Duration:  126
      ✓ should list articles by limit/offset (281ms)
**** Call ## 58 ## Duration:  424
      ✓ should list articles when authenticated (424ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  82 (ERR)
**** Call ## 60 ## Duration:  84 (ERR)
**** Call ## 59 ## Duration:  113 (ERR)
**** Call ## 62 ## Duration:  129
**** Call ## 63 ## Duration:  183
**** Call ## 64 ## Duration:  269
**** Call ## 65 ## Duration:  177
**** Call ## 66 ## Duration:  364
      ✓ should get feed (1122ms)
**** Call ## 67 ## Duration:  114 (ERR)
      ✓ should disallow unauthenticated feed (114ms)
    Tags
**** Call ## 68 ## Duration:  212
      ✓ should get tags (212ms)

  Comment
**** Call ## 69 ## Duration:  162
**** Call ## 70 ## Duration:  150
**** Call ## 71 ## Duration:  144
    Create
**** Call ## 72 ## Duration:  147
**** Call ## 73 ## Duration:  169
**** Call ## 74 ## Duration:  167
**** Call ## 75 ## Duration:  144
**** Call ## 76 ## Duration:  125
**** Call ## 77 ## Duration:  153
**** Call ## 78 ## Duration:  178
**** Call ## 79 ## Duration:  155
**** Call ## 80 ## Duration:  111
**** Call ## 81 ## Duration:  116
      ✓ should create comment (1467ms)
**** Call ## 82 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (79ms)
**** Call ## 83 ## Duration:  94 (ERR)
      ✓ should enforce comment body (94ms)
**** Call ## 84 ## Duration:  98 (ERR)
      ✓ should disallow non-existent article (98ms)
    Get
**** Call ## 85 ## Duration:  300
      ✓ should get all comments for article (301ms)
    Delete
**** Call ## 86 ## Duration:  246
      ✓ should delete comment (246ms)
**** Call ## 87 ## Duration:  149 (ERR)
      ✓ only comment author should be able to delete comment (150ms)
**** Call ## 88 ## Duration:  119 (ERR)
      ✓ should disallow unauthenticated user (119ms)
**** Call ## 89 ## Duration:  125 (ERR)
      ✓ should disallow deleting unknown comment (125ms)

  User
    Create
**** Call ## 90 ## Duration:  181
      ✓ should create user (181ms)
**** Call ## 91 ## Duration:  108 (ERR)
      ✓ should disallow same username (108ms)
**** Call ## 92 ## Duration:  117 (ERR)
      ✓ should disallow same email (117ms)
**** Call ## 93 ## Duration:  114 (ERR)
**** Call ## 94 ## Duration:  85 (ERR)
**** Call ## 95 ## Duration:  81 (ERR)
**** Call ## 96 ## Duration:  86 (ERR)
      ✓ should enforce required fields (368ms)
    Login
**** Call ## 97 ## Duration:  133
      ✓ should login (133ms)
**** Call ## 98 ## Duration:  87 (ERR)
      ✓ should disallow unknown email (87ms)
**** Call ## 99 ## Duration:  96 (ERR)
      ✓ should disallow wrong password (96ms)
**** Call ## 100 ## Duration:  81 (ERR)
**** Call ## 101 ## Duration:  107 (ERR)
**** Call ## 102 ## Duration:  115 (ERR)
      ✓ should enforce required fields (305ms)
    Get
**** Call ## 103 ## Duration:  142
      ✓ should get current user (142ms)
**** Call ## 104 ## Duration:  170 (ERR)
**** Call ## 105 ## Duration:  85 (ERR)
**** Call ## 106 ## Duration:  85 (ERR)
**** Call ## 107 ## Duration:  111 (ERR)
      ✓ should disallow bad tokens (451ms)
    Profile
**** Call ## 108 ## Duration:  163
      ✓ should get profile (163ms)
**** Call ## 109 ## Duration:  104 (ERR)
      ✓ should disallow unknown username (104ms)
**** Call ## 110 ## Duration:  147
**** Call ## 111 ## Duration:  156
**** Call ## 112 ## Duration:  198
**** Call ## 113 ## Duration:  139
**** Call ## 114 ## Duration:  136
**** Call ## 115 ## Duration:  171
**** Call ## 116 ## Duration:  155
**** Call ## 117 ## Duration:  187
**** Call ## 118 ## Duration:  234
**** Call ## 119 ## Duration:  159
      ✓ should follow/unfollow user (1683ms)
**** Call ## 120 ## Duration:  85 (ERR)
      ✓ should disallow following with bad token (85ms)
    Update
**** Call ## 121 ## Duration:  183
**** Call ## 122 ## Duration:  121
**** Call ## 123 ## Duration:  103
**** Call ## 124 ## Duration:  124
      ✓ should update user (532ms)
**** Call ## 125 ## Duration:  149 (ERR)
**** Call ## 126 ## Duration:  109 (ERR)
      ✓ should disallow missing token/email in update (258ms)
**** Call ## 127 ## Duration:  144
**** Call ## 128 ## Duration:  114 (ERR)
      ✓ should disallow reusing email (259ms)

  Util
    Ping
**** Call ## 129 ## Duration:  86
      ✓ should ping (87ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  223
**** Call ## 1 ## Duration:  151
**** Call ## 2 ## Duration:  164
    Create
**** Call ## 3 ## Duration:  155
      ✓ should create article (157ms)
**** Call ## 4 ## Duration:  143
      ✓ should create article with tags (144ms)
**** Call ## 5 ## Duration:  114 (ERR)
      ✓ should disallow unauthenticated user (114ms)
**** Call ## 6 ## Duration:  103 (ERR)
**** Call ## 7 ## Duration:  105 (ERR)
**** Call ## 8 ## Duration:  105 (ERR)
**** Call ## 9 ## Duration:  109 (ERR)
      ✓ should enforce required fields (423ms)
    Get
**** Call ## 10 ## Duration:  133
      ✓ should get article by slug (134ms)
**** Call ## 11 ## Duration:  161
      ✓ should get article with tags by slug (162ms)
**** Call ## 12 ## Duration:  110 (ERR)
      ✓ should disallow unknown slug (111ms)
    Update
**** Call ## 13 ## Duration:  240
**** Call ## 14 ## Duration:  275
**** Call ## 15 ## Duration:  215
      ✓ should update article (735ms)
**** Call ## 16 ## Duration:  112 (ERR)
      ✓ should disallow missing mutation (113ms)
**** Call ## 17 ## Duration:  137 (ERR)
      ✓ should disallow empty mutation (138ms)
**** Call ## 18 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated update (88ms)
**** Call ## 19 ## Duration:  118 (ERR)
      ✓ should disallow updating non-existent article (118ms)
**** Call ## 20 ## Duration:  133 (ERR)
      ✓ should disallow non-author from updating (134ms)
    Favorite
**** Call ## 21 ## Duration:  171
**** Call ## 22 ## Duration:  174
      ✓ should favorite article (346ms)
**** Call ## 23 ## Duration:  115 (ERR)
      ✓ should disallow favoriting by unauthenticated user (115ms)
**** Call ## 24 ## Duration:  126 (ERR)
      ✓ should disallow favoriting unknown article (128ms)
**** Call ## 25 ## Duration:  196
      ✓ should unfavorite article (196ms)
    Delete
**** Call ## 26 ## Duration:  183
**** Call ## 27 ## Duration:  110 (ERR)
      ✓ should delete article (294ms)
**** Call ## 28 ## Duration:  119 (ERR)
      ✓ should disallow deleting by unauthenticated user (119ms)
**** Call ## 29 ## Duration:  127 (ERR)
      ✓ should disallow deleting unknown article (127ms)
**** Call ## 30 ## Duration:  119 (ERR)
      ✓ should disallow deleting article by non-author (119ms)
    List
**** Call ## 31 ## Duration:  134
**** Call ## 32 ## Duration:  305
**** Call ## 33 ## Duration:  153
**** Call ## 34 ## Duration:  131
**** Call ## 35 ## Duration:  138
**** Call ## 36 ## Duration:  116
**** Call ## 37 ## Duration:  199
**** Call ## 38 ## Duration:  131
**** Call ## 39 ## Duration:  115
**** Call ## 40 ## Duration:  122
**** Call ## 41 ## Duration:  136
**** Call ## 42 ## Duration:  169
**** Call ## 43 ## Duration:  139
**** Call ## 44 ## Duration:  132
**** Call ## 45 ## Duration:  134
**** Call ## 46 ## Duration:  122
**** Call ## 47 ## Duration:  128
**** Call ## 48 ## Duration:  131
**** Call ## 49 ## Duration:  137
**** Call ## 50 ## Duration:  123
**** Call ## 51 ## Duration:  368
      ✓ should list articles (368ms)
**** Call ## 52 ## Duration:  289
**** Call ## 53 ## Duration:  316
      ✓ should list articles with tag (606ms)
**** Call ## 54 ## Duration:  265
      ✓ should list articles by author (265ms)
**** Call ## 55 ## Duration:  215
      ✓ should list articles favorited by user (216ms)
**** Call ## 56 ## Duration:  144
**** Call ## 57 ## Duration:  145
      ✓ should list articles by limit/offset (289ms)
**** Call ## 58 ## Duration:  430
      ✓ should list articles when authenticated (430ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  89 (ERR)
**** Call ## 61 ## Duration:  114 (ERR)
**** Call ## 60 ## Duration:  119 (ERR)
**** Call ## 62 ## Duration:  128
**** Call ## 63 ## Duration:  201
**** Call ## 64 ## Duration:  292
**** Call ## 65 ## Duration:  150
**** Call ## 66 ## Duration:  357
      ✓ should get feed (1130ms)
**** Call ## 67 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated feed (88ms)
    Tags
**** Call ## 68 ## Duration:  147
      ✓ should get tags (147ms)

  Comment
**** Call ## 69 ## Duration:  160
**** Call ## 70 ## Duration:  155
**** Call ## 71 ## Duration:  144
    Create
**** Call ## 72 ## Duration:  142
**** Call ## 73 ## Duration:  137
**** Call ## 74 ## Duration:  137
**** Call ## 75 ## Duration:  150
**** Call ## 76 ## Duration:  138
**** Call ## 77 ## Duration:  138
**** Call ## 78 ## Duration:  145
**** Call ## 79 ## Duration:  145
**** Call ## 80 ## Duration:  150
**** Call ## 81 ## Duration:  147
      ✓ should create comment (1433ms)
**** Call ## 82 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 83 ## Duration:  111 (ERR)
      ✓ should enforce comment body (112ms)
**** Call ## 84 ## Duration:  190 (ERR)
      ✓ should disallow non-existent article (190ms)
    Get
**** Call ## 85 ## Duration:  322
      ✓ should get all comments for article (322ms)
    Delete
**** Call ## 86 ## Duration:  531
      ✓ should delete comment (531ms)
**** Call ## 87 ## Duration:  123 (ERR)
      ✓ only comment author should be able to delete comment (123ms)
**** Call ## 88 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 89 ## Duration:  140 (ERR)
      ✓ should disallow deleting unknown comment (141ms)

  User
    Create
**** Call ## 90 ## Duration:  160
      ✓ should create user (161ms)
**** Call ## 91 ## Duration:  105 (ERR)
      ✓ should disallow same username (106ms)
**** Call ## 92 ## Duration:  136 (ERR)
      ✓ should disallow same email (136ms)
**** Call ## 93 ## Duration:  86 (ERR)
**** Call ## 94 ## Duration:  99 (ERR)
**** Call ## 95 ## Duration:  114 (ERR)
**** Call ## 96 ## Duration:  83 (ERR)
      ✓ should enforce required fields (383ms)
    Login
**** Call ## 97 ## Duration:  111
      ✓ should login (111ms)
**** Call ## 98 ## Duration:  108 (ERR)
      ✓ should disallow unknown email (108ms)
**** Call ## 99 ## Duration:  138 (ERR)
      ✓ should disallow wrong password (138ms)
**** Call ## 100 ## Duration:  79 (ERR)
**** Call ## 101 ## Duration:  82 (ERR)
**** Call ## 102 ## Duration:  95 (ERR)
      ✓ should enforce required fields (258ms)
    Get
**** Call ## 103 ## Duration:  119
      ✓ should get current user (119ms)
**** Call ## 104 ## Duration:  83 (ERR)
**** Call ## 105 ## Duration:  80 (ERR)
**** Call ## 106 ## Duration:  80 (ERR)
**** Call ## 107 ## Duration:  83 (ERR)
      ✓ should disallow bad tokens (327ms)
    Profile
**** Call ## 108 ## Duration:  149
      ✓ should get profile (150ms)
**** Call ## 109 ## Duration:  106 (ERR)
      ✓ should disallow unknown username (106ms)
**** Call ## 110 ## Duration:  163
**** Call ## 111 ## Duration:  156
**** Call ## 112 ## Duration:  141
**** Call ## 113 ## Duration:  111
**** Call ## 114 ## Duration:  108
**** Call ## 115 ## Duration:  129
**** Call ## 116 ## Duration:  156
**** Call ## 117 ## Duration:  174
**** Call ## 118 ## Duration:  155
**** Call ## 119 ## Duration:  145
      ✓ should follow/unfollow user (1439ms)
**** Call ## 120 ## Duration:  113 (ERR)
      ✓ should disallow following with bad token (114ms)
    Update
**** Call ## 121 ## Duration:  130
**** Call ## 122 ## Duration:  125
**** Call ## 123 ## Duration:  130
**** Call ## 124 ## Duration:  112
      ✓ should update user (498ms)
**** Call ## 125 ## Duration:  124 (ERR)
**** Call ## 126 ## Duration:  98 (ERR)
      ✓ should disallow missing token/email in update (223ms)
**** Call ## 127 ## Duration:  172
**** Call ## 128 ## Duration:  116 (ERR)
      ✓ should disallow reusing email (288ms)

  Util
    Ping
**** Call ## 129 ## Duration:  85
      ✓ should ping (85ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  239
**** Call ## 1 ## Duration:  184
**** Call ## 2 ## Duration:  156
    Create
**** Call ## 3 ## Duration:  137
      ✓ should create article (139ms)
**** Call ## 4 ## Duration:  145
      ✓ should create article with tags (146ms)
**** Call ## 5 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 6 ## Duration:  107 (ERR)
**** Call ## 7 ## Duration:  154 (ERR)
**** Call ## 8 ## Duration:  172 (ERR)
**** Call ## 9 ## Duration:  107 (ERR)
      ✓ should enforce required fields (542ms)
    Get
**** Call ## 10 ## Duration:  134
      ✓ should get article by slug (135ms)
**** Call ## 11 ## Duration:  128
      ✓ should get article with tags by slug (129ms)
**** Call ## 12 ## Duration:  95 (ERR)
      ✓ should disallow unknown slug (95ms)
    Update
**** Call ## 13 ## Duration:  253
**** Call ## 14 ## Duration:  187
**** Call ## 15 ## Duration:  196
      ✓ should update article (638ms)
**** Call ## 16 ## Duration:  86 (ERR)
      ✓ should disallow missing mutation (87ms)
**** Call ## 17 ## Duration:  123 (ERR)
      ✓ should disallow empty mutation (123ms)
**** Call ## 18 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated update (78ms)
**** Call ## 19 ## Duration:  130 (ERR)
      ✓ should disallow updating non-existent article (131ms)
**** Call ## 20 ## Duration:  135 (ERR)
      ✓ should disallow non-author from updating (136ms)
    Favorite
**** Call ## 21 ## Duration:  163
**** Call ## 22 ## Duration:  118
      ✓ should favorite article (281ms)
**** Call ## 23 ## Duration:  278 (ERR)
      ✓ should disallow favoriting by unauthenticated user (278ms)
**** Call ## 24 ## Duration:  121 (ERR)
      ✓ should disallow favoriting unknown article (121ms)
**** Call ## 25 ## Duration:  196
      ✓ should unfavorite article (197ms)
    Delete
**** Call ## 26 ## Duration:  147
**** Call ## 27 ## Duration:  102 (ERR)
      ✓ should delete article (249ms)
**** Call ## 28 ## Duration:  99 (ERR)
      ✓ should disallow deleting by unauthenticated user (99ms)
**** Call ## 29 ## Duration:  129 (ERR)
      ✓ should disallow deleting unknown article (129ms)
**** Call ## 30 ## Duration:  120 (ERR)
      ✓ should disallow deleting article by non-author (121ms)
    List
**** Call ## 31 ## Duration:  122
**** Call ## 32 ## Duration:  148
**** Call ## 33 ## Duration:  130
**** Call ## 34 ## Duration:  164
**** Call ## 35 ## Duration:  127
**** Call ## 36 ## Duration:  646
**** Call ## 37 ## Duration:  122
**** Call ## 38 ## Duration:  119
**** Call ## 39 ## Duration:  247
**** Call ## 40 ## Duration:  129
**** Call ## 41 ## Duration:  197
**** Call ## 42 ## Duration:  106
**** Call ## 43 ## Duration:  143
**** Call ## 44 ## Duration:  122
**** Call ## 45 ## Duration:  135
**** Call ## 46 ## Duration:  155
**** Call ## 47 ## Duration:  113
**** Call ## 48 ## Duration:  120
**** Call ## 49 ## Duration:  119
**** Call ## 50 ## Duration:  117
**** Call ## 51 ## Duration:  373
      ✓ should list articles (374ms)
**** Call ## 52 ## Duration:  221
**** Call ## 53 ## Duration:  364
      ✓ should list articles with tag (585ms)
**** Call ## 54 ## Duration:  217
      ✓ should list articles by author (217ms)
**** Call ## 55 ## Duration:  135
      ✓ should list articles favorited by user (135ms)
**** Call ## 56 ## Duration:  131
**** Call ## 57 ## Duration:  199
      ✓ should list articles by limit/offset (330ms)
**** Call ## 58 ## Duration:  358
      ✓ should list articles when authenticated (359ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  84 (ERR)
**** Call ## 59 ## Duration:  101 (ERR)
**** Call ## 60 ## Duration:  113 (ERR)
**** Call ## 62 ## Duration:  122
**** Call ## 63 ## Duration:  190
**** Call ## 64 ## Duration:  277
**** Call ## 65 ## Duration:  198
**** Call ## 66 ## Duration:  308
      ✓ should get feed (1098ms)
**** Call ## 67 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated feed (87ms)
    Tags
**** Call ## 68 ## Duration:  183
      ✓ should get tags (183ms)

  Comment
**** Call ## 69 ## Duration:  185
**** Call ## 70 ## Duration:  138
**** Call ## 71 ## Duration:  160
    Create
**** Call ## 72 ## Duration:  139
**** Call ## 73 ## Duration:  154
**** Call ## 74 ## Duration:  151
**** Call ## 75 ## Duration:  129
**** Call ## 76 ## Duration:  213
**** Call ## 77 ## Duration:  145
**** Call ## 78 ## Duration:  152
**** Call ## 79 ## Duration:  133
**** Call ## 80 ## Duration:  170
**** Call ## 81 ## Duration:  161
      ✓ should create comment (1548ms)
**** Call ## 82 ## Duration:  139 (ERR)
      ✓ should disallow unauthenticated user (139ms)
**** Call ## 83 ## Duration:  100 (ERR)
      ✓ should enforce comment body (100ms)
**** Call ## 84 ## Duration:  104 (ERR)
      ✓ should disallow non-existent article (104ms)
    Get
**** Call ## 85 ## Duration:  325
      ✓ should get all comments for article (325ms)
    Delete
**** Call ## 86 ## Duration:  142
      ✓ should delete comment (143ms)
**** Call ## 87 ## Duration:  117 (ERR)
      ✓ only comment author should be able to delete comment (117ms)
**** Call ## 88 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 89 ## Duration:  146 (ERR)
      ✓ should disallow deleting unknown comment (147ms)

  User
    Create
**** Call ## 90 ## Duration:  145
      ✓ should create user (146ms)
**** Call ## 91 ## Duration:  104 (ERR)
      ✓ should disallow same username (104ms)
**** Call ## 92 ## Duration:  142 (ERR)
      ✓ should disallow same email (143ms)
**** Call ## 93 ## Duration:  81 (ERR)
**** Call ## 94 ## Duration:  110 (ERR)
**** Call ## 95 ## Duration:  112 (ERR)
**** Call ## 96 ## Duration:  110 (ERR)
      ✓ should enforce required fields (414ms)
    Login
**** Call ## 97 ## Duration:  112
      ✓ should login (112ms)
**** Call ## 98 ## Duration:  100 (ERR)
      ✓ should disallow unknown email (101ms)
**** Call ## 99 ## Duration:  104 (ERR)
      ✓ should disallow wrong password (104ms)
**** Call ## 100 ## Duration:  83 (ERR)
**** Call ## 101 ## Duration:  79 (ERR)
**** Call ## 102 ## Duration:  78 (ERR)
      ✓ should enforce required fields (240ms)
    Get
**** Call ## 103 ## Duration:  105
      ✓ should get current user (105ms)
**** Call ## 104 ## Duration:  81 (ERR)
**** Call ## 105 ## Duration:  114 (ERR)
**** Call ## 106 ## Duration:  87 (ERR)
**** Call ## 107 ## Duration:  108 (ERR)
      ✓ should disallow bad tokens (391ms)
    Profile
**** Call ## 108 ## Duration:  129
      ✓ should get profile (129ms)
**** Call ## 109 ## Duration:  94 (ERR)
      ✓ should disallow unknown username (94ms)
**** Call ## 110 ## Duration:  138
**** Call ## 111 ## Duration:  173
**** Call ## 112 ## Duration:  197
**** Call ## 113 ## Duration:  114
**** Call ## 114 ## Duration:  115
**** Call ## 115 ## Duration:  136
**** Call ## 116 ## Duration:  162
**** Call ## 117 ## Duration:  160
**** Call ## 118 ## Duration:  138
**** Call ## 119 ## Duration:  167
      ✓ should follow/unfollow user (1502ms)
**** Call ## 120 ## Duration:  83 (ERR)
      ✓ should disallow following with bad token (84ms)
    Update
**** Call ## 121 ## Duration:  164
**** Call ## 122 ## Duration:  128
**** Call ## 123 ## Duration:  242
**** Call ## 124 ## Duration:  141
      ✓ should update user (676ms)
**** Call ## 125 ## Duration:  198 (ERR)
**** Call ## 126 ## Duration:  106 (ERR)
      ✓ should disallow missing token/email in update (305ms)
**** Call ## 127 ## Duration:  144
**** Call ## 128 ## Duration:  152 (ERR)
      ✓ should disallow reusing email (297ms)

  Util
    Ping
**** Call ## 129 ## Duration:  150
      ✓ should ping (150ms)


  58 passing (20s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  214
**** Call ## 1 ## Duration:  165
**** Call ## 2 ## Duration:  128
    Create
**** Call ## 3 ## Duration:  151
      ✓ should create article (153ms)
**** Call ## 4 ## Duration:  163
      ✓ should create article with tags (165ms)
**** Call ## 5 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 6 ## Duration:  105 (ERR)
**** Call ## 7 ## Duration:  132 (ERR)
**** Call ## 8 ## Duration:  139 (ERR)
**** Call ## 9 ## Duration:  108 (ERR)
      ✓ should enforce required fields (485ms)
    Get
**** Call ## 10 ## Duration:  126
      ✓ should get article by slug (126ms)
**** Call ## 11 ## Duration:  133
      ✓ should get article with tags by slug (133ms)
**** Call ## 12 ## Duration:  100 (ERR)
      ✓ should disallow unknown slug (100ms)
    Update
**** Call ## 13 ## Duration:  318
**** Call ## 14 ## Duration:  182
**** Call ## 15 ## Duration:  198
      ✓ should update article (702ms)
**** Call ## 16 ## Duration:  86 (ERR)
      ✓ should disallow missing mutation (86ms)
**** Call ## 17 ## Duration:  117 (ERR)
      ✓ should disallow empty mutation (117ms)
**** Call ## 18 ## Duration:  114 (ERR)
      ✓ should disallow unauthenticated update (114ms)
**** Call ## 19 ## Duration:  108 (ERR)
      ✓ should disallow updating non-existent article (108ms)
**** Call ## 20 ## Duration:  129 (ERR)
      ✓ should disallow non-author from updating (129ms)
    Favorite
**** Call ## 21 ## Duration:  196
**** Call ## 22 ## Duration:  149
      ✓ should favorite article (346ms)
**** Call ## 23 ## Duration:  89 (ERR)
      ✓ should disallow favoriting by unauthenticated user (89ms)
**** Call ## 24 ## Duration:  104 (ERR)
      ✓ should disallow favoriting unknown article (104ms)
**** Call ## 25 ## Duration:  146
      ✓ should unfavorite article (146ms)
    Delete
**** Call ## 26 ## Duration:  185
**** Call ## 27 ## Duration:  101 (ERR)
      ✓ should delete article (286ms)
**** Call ## 28 ## Duration:  82 (ERR)
      ✓ should disallow deleting by unauthenticated user (82ms)
**** Call ## 29 ## Duration:  137 (ERR)
      ✓ should disallow deleting unknown article (137ms)
**** Call ## 30 ## Duration:  134 (ERR)
      ✓ should disallow deleting article by non-author (134ms)
    List
**** Call ## 31 ## Duration:  175
**** Call ## 32 ## Duration:  190
**** Call ## 33 ## Duration:  138
**** Call ## 34 ## Duration:  114
**** Call ## 35 ## Duration:  113
**** Call ## 36 ## Duration:  128
**** Call ## 37 ## Duration:  137
**** Call ## 38 ## Duration:  129
**** Call ## 39 ## Duration:  119
**** Call ## 40 ## Duration:  132
**** Call ## 41 ## Duration:  145
**** Call ## 42 ## Duration:  127
**** Call ## 43 ## Duration:  127
**** Call ## 44 ## Duration:  157
**** Call ## 45 ## Duration:  113
**** Call ## 46 ## Duration:  129
**** Call ## 47 ## Duration:  128
**** Call ## 48 ## Duration:  120
**** Call ## 49 ## Duration:  124
**** Call ## 50 ## Duration:  152
**** Call ## 51 ## Duration:  416
      ✓ should list articles (416ms)
**** Call ## 52 ## Duration:  288
**** Call ## 53 ## Duration:  272
      ✓ should list articles with tag (560ms)
**** Call ## 54 ## Duration:  192
      ✓ should list articles by author (192ms)
**** Call ## 55 ## Duration:  143
      ✓ should list articles favorited by user (143ms)
**** Call ## 56 ## Duration:  161
**** Call ## 57 ## Duration:  134
      ✓ should list articles by limit/offset (295ms)
**** Call ## 58 ## Duration:  388
      ✓ should list articles when authenticated (388ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  87 (ERR)
**** Call ## 60 ## Duration:  101 (ERR)
**** Call ## 59 ## Duration:  135 (ERR)
**** Call ## 62 ## Duration:  159
**** Call ## 63 ## Duration:  160
**** Call ## 64 ## Duration:  289
**** Call ## 65 ## Duration:  161
**** Call ## 66 ## Duration:  346
      ✓ should get feed (1117ms)
**** Call ## 67 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated feed (83ms)
    Tags
**** Call ## 68 ## Duration:  169
      ✓ should get tags (169ms)

  Comment
**** Call ## 69 ## Duration:  165
**** Call ## 70 ## Duration:  138
**** Call ## 71 ## Duration:  147
    Create
**** Call ## 72 ## Duration:  151
**** Call ## 73 ## Duration:  135
**** Call ## 74 ## Duration:  153
**** Call ## 75 ## Duration:  128
**** Call ## 76 ## Duration:  153
**** Call ## 77 ## Duration:  164
**** Call ## 78 ## Duration:  128
**** Call ## 79 ## Duration:  161
**** Call ## 80 ## Duration:  114
**** Call ## 81 ## Duration:  126
      ✓ should create comment (1416ms)
**** Call ## 82 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 83 ## Duration:  103 (ERR)
      ✓ should enforce comment body (103ms)
**** Call ## 84 ## Duration:  128 (ERR)
      ✓ should disallow non-existent article (129ms)
    Get
**** Call ## 85 ## Duration:  343
      ✓ should get all comments for article (345ms)
    Delete
**** Call ## 86 ## Duration:  160
      ✓ should delete comment (160ms)
**** Call ## 87 ## Duration:  159 (ERR)
      ✓ only comment author should be able to delete comment (159ms)
**** Call ## 88 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 89 ## Duration:  122 (ERR)
      ✓ should disallow deleting unknown comment (122ms)

  User
    Create
**** Call ## 90 ## Duration:  234
      ✓ should create user (234ms)
**** Call ## 91 ## Duration:  97 (ERR)
      ✓ should disallow same username (97ms)
**** Call ## 92 ## Duration:  226 (ERR)
      ✓ should disallow same email (226ms)
**** Call ## 93 ## Duration:  84 (ERR)
**** Call ## 94 ## Duration:  90 (ERR)
**** Call ## 95 ## Duration:  452 (ERR)
**** Call ## 96 ## Duration:  80 (ERR)
      ✓ should enforce required fields (707ms)
    Login
**** Call ## 97 ## Duration:  113
      ✓ should login (113ms)
**** Call ## 98 ## Duration:  103 (ERR)
      ✓ should disallow unknown email (104ms)
**** Call ## 99 ## Duration:  99 (ERR)
      ✓ should disallow wrong password (99ms)
**** Call ## 100 ## Duration:  114 (ERR)
**** Call ## 101 ## Duration:  135 (ERR)
**** Call ## 102 ## Duration:  107 (ERR)
      ✓ should enforce required fields (358ms)
    Get
**** Call ## 103 ## Duration:  121
      ✓ should get current user (121ms)
**** Call ## 104 ## Duration:  134 (ERR)
**** Call ## 105 ## Duration:  92 (ERR)
**** Call ## 106 ## Duration:  84 (ERR)
**** Call ## 107 ## Duration:  84 (ERR)
      ✓ should disallow bad tokens (395ms)
    Profile
**** Call ## 108 ## Duration:  116
      ✓ should get profile (116ms)
**** Call ## 109 ## Duration:  134 (ERR)
      ✓ should disallow unknown username (135ms)
**** Call ## 110 ## Duration:  167
**** Call ## 111 ## Duration:  161
**** Call ## 112 ## Duration:  250
**** Call ## 113 ## Duration:  157
**** Call ## 114 ## Duration:  110
**** Call ## 115 ## Duration:  149
**** Call ## 116 ## Duration:  175
**** Call ## 117 ## Duration:  185
**** Call ## 118 ## Duration:  179
**** Call ## 119 ## Duration:  153
      ✓ should follow/unfollow user (1690ms)
**** Call ## 120 ## Duration:  81 (ERR)
      ✓ should disallow following with bad token (81ms)
    Update
**** Call ## 121 ## Duration:  192
**** Call ## 122 ## Duration:  138
**** Call ## 123 ## Duration:  1227
**** Call ## 124 ## Duration:  109
      ✓ should update user (1666ms)
**** Call ## 125 ## Duration:  83 (ERR)
**** Call ## 126 ## Duration:  117 (ERR)
      ✓ should disallow missing token/email in update (202ms)
**** Call ## 127 ## Duration:  158
**** Call ## 128 ## Duration:  112 (ERR)
      ✓ should disallow reusing email (271ms)

  Util
    Ping
**** Call ## 129 ## Duration:  103
      ✓ should ping (105ms)


  58 passing (20s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  200
**** Call ## 1 ## Duration:  137
**** Call ## 2 ## Duration:  136
    Create
**** Call ## 3 ## Duration:  157
      ✓ should create article (159ms)
**** Call ## 4 ## Duration:  146
      ✓ should create article with tags (148ms)
**** Call ## 5 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 6 ## Duration:  120 (ERR)
**** Call ## 7 ## Duration:  153 (ERR)
**** Call ## 8 ## Duration:  105 (ERR)
**** Call ## 9 ## Duration:  143 (ERR)
      ✓ should enforce required fields (522ms)
    Get
**** Call ## 10 ## Duration:  118
      ✓ should get article by slug (119ms)
**** Call ## 11 ## Duration:  125
      ✓ should get article with tags by slug (125ms)
**** Call ## 12 ## Duration:  103 (ERR)
      ✓ should disallow unknown slug (103ms)
    Update
**** Call ## 13 ## Duration:  204
**** Call ## 14 ## Duration:  213
**** Call ## 15 ## Duration:  199
      ✓ should update article (622ms)
**** Call ## 16 ## Duration:  120 (ERR)
      ✓ should disallow missing mutation (120ms)
**** Call ## 17 ## Duration:  91 (ERR)
      ✓ should disallow empty mutation (91ms)
**** Call ## 18 ## Duration:  91 (ERR)
      ✓ should disallow unauthenticated update (91ms)
**** Call ## 19 ## Duration:  109 (ERR)
      ✓ should disallow updating non-existent article (109ms)
**** Call ## 20 ## Duration:  128 (ERR)
      ✓ should disallow non-author from updating (128ms)
    Favorite
**** Call ## 21 ## Duration:  165
**** Call ## 22 ## Duration:  148
      ✓ should favorite article (313ms)
**** Call ## 23 ## Duration:  86 (ERR)
      ✓ should disallow favoriting by unauthenticated user (86ms)
**** Call ## 24 ## Duration:  134 (ERR)
      ✓ should disallow favoriting unknown article (134ms)
**** Call ## 25 ## Duration:  206
      ✓ should unfavorite article (206ms)
    Delete
**** Call ## 26 ## Duration:  134
**** Call ## 27 ## Duration:  103 (ERR)
      ✓ should delete article (238ms)
**** Call ## 28 ## Duration:  84 (ERR)
      ✓ should disallow deleting by unauthenticated user (84ms)
**** Call ## 29 ## Duration:  112 (ERR)
      ✓ should disallow deleting unknown article (112ms)
**** Call ## 30 ## Duration:  133 (ERR)
      ✓ should disallow deleting article by non-author (133ms)
    List
**** Call ## 31 ## Duration:  155
**** Call ## 32 ## Duration:  121
**** Call ## 33 ## Duration:  135
**** Call ## 34 ## Duration:  159
**** Call ## 35 ## Duration:  155
**** Call ## 36 ## Duration:  112
**** Call ## 37 ## Duration:  220
**** Call ## 38 ## Duration:  133
**** Call ## 39 ## Duration:  117
**** Call ## 40 ## Duration:  133
**** Call ## 41 ## Duration:  114
**** Call ## 42 ## Duration:  141
**** Call ## 43 ## Duration:  225
**** Call ## 44 ## Duration:  107
**** Call ## 45 ## Duration:  162
**** Call ## 46 ## Duration:  109
**** Call ## 47 ## Duration:  103
**** Call ## 48 ## Duration:  136
**** Call ## 49 ## Duration:  132
**** Call ## 50 ## Duration:  109
**** Call ## 51 ## Duration:  445
      ✓ should list articles (445ms)
**** Call ## 52 ## Duration:  412
**** Call ## 53 ## Duration:  332
      ✓ should list articles with tag (744ms)
**** Call ## 54 ## Duration:  259
      ✓ should list articles by author (260ms)
**** Call ## 55 ## Duration:  139
      ✓ should list articles favorited by user (139ms)
**** Call ## 56 ## Duration:  194
**** Call ## 57 ## Duration:  190
      ✓ should list articles by limit/offset (386ms)
**** Call ## 58 ## Duration:  426
      ✓ should list articles when authenticated (426ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  108 (ERR)
**** Call ## 59 ## Duration:  110 (ERR)
**** Call ## 61 ## Duration:  120 (ERR)
**** Call ## 62 ## Duration:  160
**** Call ## 63 ## Duration:  240
**** Call ## 64 ## Duration:  349
**** Call ## 65 ## Duration:  177
**** Call ## 66 ## Duration:  361
      ✓ should get feed (1288ms)
**** Call ## 67 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated feed (87ms)
    Tags
**** Call ## 68 ## Duration:  211
      ✓ should get tags (212ms)

  Comment
**** Call ## 69 ## Duration:  186
**** Call ## 70 ## Duration:  172
**** Call ## 71 ## Duration:  162
    Create
**** Call ## 72 ## Duration:  158
**** Call ## 73 ## Duration:  164
**** Call ## 74 ## Duration:  153
**** Call ## 75 ## Duration:  144
**** Call ## 76 ## Duration:  171
**** Call ## 77 ## Duration:  185
**** Call ## 78 ## Duration:  128
**** Call ## 79 ## Duration:  154
**** Call ## 80 ## Duration:  188
**** Call ## 81 ## Duration:  134
      ✓ should create comment (1582ms)
**** Call ## 82 ## Duration:  111 (ERR)
      ✓ should disallow unauthenticated user (111ms)
**** Call ## 83 ## Duration:  106 (ERR)
      ✓ should enforce comment body (107ms)
**** Call ## 84 ## Duration:  108 (ERR)
      ✓ should disallow non-existent article (109ms)
    Get
**** Call ## 85 ## Duration:  345
      ✓ should get all comments for article (345ms)
    Delete
**** Call ## 86 ## Duration:  149
      ✓ should delete comment (149ms)
**** Call ## 87 ## Duration:  125 (ERR)
      ✓ only comment author should be able to delete comment (127ms)
**** Call ## 88 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 89 ## Duration:  122 (ERR)
      ✓ should disallow deleting unknown comment (123ms)

  User
    Create
**** Call ## 90 ## Duration:  162
      ✓ should create user (162ms)
**** Call ## 91 ## Duration:  101 (ERR)
      ✓ should disallow same username (101ms)
**** Call ## 92 ## Duration:  152 (ERR)
      ✓ should disallow same email (153ms)
**** Call ## 93 ## Duration:  92 (ERR)
**** Call ## 94 ## Duration:  83 (ERR)
**** Call ## 95 ## Duration:  85 (ERR)
**** Call ## 96 ## Duration:  83 (ERR)
      ✓ should enforce required fields (343ms)
    Login
**** Call ## 97 ## Duration:  144
      ✓ should login (144ms)
**** Call ## 98 ## Duration:  111 (ERR)
      ✓ should disallow unknown email (112ms)
**** Call ## 99 ## Duration:  125 (ERR)
      ✓ should disallow wrong password (125ms)
**** Call ## 100 ## Duration:  120 (ERR)
**** Call ## 101 ## Duration:  90 (ERR)
**** Call ## 102 ## Duration:  77 (ERR)
      ✓ should enforce required fields (288ms)
    Get
**** Call ## 103 ## Duration:  125
      ✓ should get current user (126ms)
**** Call ## 104 ## Duration:  82 (ERR)
**** Call ## 105 ## Duration:  102 (ERR)
**** Call ## 106 ## Duration:  112 (ERR)
**** Call ## 107 ## Duration:  89 (ERR)
      ✓ should disallow bad tokens (388ms)
    Profile
**** Call ## 108 ## Duration:  105
      ✓ should get profile (105ms)
**** Call ## 109 ## Duration:  124 (ERR)
      ✓ should disallow unknown username (124ms)
**** Call ## 110 ## Duration:  163
**** Call ## 111 ## Duration:  204
**** Call ## 112 ## Duration:  182
**** Call ## 113 ## Duration:  149
**** Call ## 114 ## Duration:  95
**** Call ## 115 ## Duration:  186
**** Call ## 116 ## Duration:  226
**** Call ## 117 ## Duration:  223
**** Call ## 118 ## Duration:  156
**** Call ## 119 ## Duration:  211
      ✓ should follow/unfollow user (1797ms)
**** Call ## 120 ## Duration:  84 (ERR)
      ✓ should disallow following with bad token (84ms)
    Update
**** Call ## 121 ## Duration:  149
**** Call ## 122 ## Duration:  135
**** Call ## 123 ## Duration:  129
**** Call ## 124 ## Duration:  139
      ✓ should update user (553ms)
**** Call ## 125 ## Duration:  89 (ERR)
**** Call ## 126 ## Duration:  152 (ERR)
      ✓ should disallow missing token/email in update (241ms)
**** Call ## 127 ## Duration:  132
**** Call ## 128 ## Duration:  118 (ERR)
      ✓ should disallow reusing email (250ms)

  Util
    Ping
**** Call ## 129 ## Duration:  88
      ✓ should ping (89ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  258
**** Call ## 1 ## Duration:  143
**** Call ## 2 ## Duration:  145
    Create
**** Call ## 3 ## Duration:  255
      ✓ should create article (257ms)
**** Call ## 4 ## Duration:  123
      ✓ should create article with tags (126ms)
**** Call ## 5 ## Duration:  409 (ERR)
      ✓ should disallow unauthenticated user (410ms)
**** Call ## 6 ## Duration:  128 (ERR)
**** Call ## 7 ## Duration:  109 (ERR)
**** Call ## 8 ## Duration:  107 (ERR)
**** Call ## 9 ## Duration:  111 (ERR)
      ✓ should enforce required fields (457ms)
    Get
**** Call ## 10 ## Duration:  135
      ✓ should get article by slug (135ms)
**** Call ## 11 ## Duration:  117
      ✓ should get article with tags by slug (117ms)
**** Call ## 12 ## Duration:  136 (ERR)
      ✓ should disallow unknown slug (136ms)
    Update
**** Call ## 13 ## Duration:  280
**** Call ## 14 ## Duration:  177
**** Call ## 15 ## Duration:  198
      ✓ should update article (656ms)
**** Call ## 16 ## Duration:  130 (ERR)
      ✓ should disallow missing mutation (131ms)
**** Call ## 17 ## Duration:  92 (ERR)
      ✓ should disallow empty mutation (92ms)
**** Call ## 18 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated update (87ms)
**** Call ## 19 ## Duration:  123 (ERR)
      ✓ should disallow updating non-existent article (123ms)
**** Call ## 20 ## Duration:  138 (ERR)
      ✓ should disallow non-author from updating (138ms)
    Favorite
**** Call ## 21 ## Duration:  169
**** Call ## 22 ## Duration:  138
      ✓ should favorite article (307ms)
**** Call ## 23 ## Duration:  88 (ERR)
      ✓ should disallow favoriting by unauthenticated user (89ms)
**** Call ## 24 ## Duration:  123 (ERR)
      ✓ should disallow favoriting unknown article (123ms)
**** Call ## 25 ## Duration:  200
      ✓ should unfavorite article (200ms)
    Delete
**** Call ## 26 ## Duration:  146
**** Call ## 27 ## Duration:  158 (ERR)
      ✓ should delete article (305ms)
**** Call ## 28 ## Duration:  84 (ERR)
      ✓ should disallow deleting by unauthenticated user (85ms)
**** Call ## 29 ## Duration:  428 (ERR)
      ✓ should disallow deleting unknown article (428ms)
**** Call ## 30 ## Duration:  124 (ERR)
      ✓ should disallow deleting article by non-author (125ms)
    List
**** Call ## 31 ## Duration:  124
**** Call ## 32 ## Duration:  123
**** Call ## 33 ## Duration:  112
**** Call ## 34 ## Duration:  110
**** Call ## 35 ## Duration:  126
**** Call ## 36 ## Duration:  115
**** Call ## 37 ## Duration:  117
**** Call ## 38 ## Duration:  129
**** Call ## 39 ## Duration:  173
**** Call ## 40 ## Duration:  131
**** Call ## 41 ## Duration:  121
**** Call ## 42 ## Duration:  118
**** Call ## 43 ## Duration:  105
**** Call ## 44 ## Duration:  126
**** Call ## 45 ## Duration:  101
**** Call ## 46 ## Duration:  110
**** Call ## 47 ## Duration:  146
**** Call ## 48 ## Duration:  116
**** Call ## 49 ## Duration:  2107
**** Call ## 50 ## Duration:  127
**** Call ## 51 ## Duration:  458
      ✓ should list articles (459ms)
**** Call ## 52 ## Duration:  316
**** Call ## 53 ## Duration:  251
      ✓ should list articles with tag (567ms)
**** Call ## 54 ## Duration:  208
      ✓ should list articles by author (208ms)
**** Call ## 55 ## Duration:  120
      ✓ should list articles favorited by user (120ms)
**** Call ## 56 ## Duration:  201
**** Call ## 57 ## Duration:  137
      ✓ should list articles by limit/offset (338ms)
**** Call ## 58 ## Duration:  517
      ✓ should list articles when authenticated (518ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  91 (ERR)
**** Call ## 62 ## Duration:  123
**** Call ## 60 ## Duration:  138 (ERR)
**** Call ## 59 ## Duration:  148 (ERR)
**** Call ## 63 ## Duration:  193
**** Call ## 64 ## Duration:  309
**** Call ## 65 ## Duration:  191
**** Call ## 66 ## Duration:  334
      ✓ should get feed (1155ms)
**** Call ## 67 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated feed (84ms)
    Tags
**** Call ## 68 ## Duration:  190
      ✓ should get tags (190ms)

  Comment
**** Call ## 69 ## Duration:  148
**** Call ## 70 ## Duration:  140
**** Call ## 71 ## Duration:  351
    Create
**** Call ## 72 ## Duration:  173
**** Call ## 73 ## Duration:  156
**** Call ## 74 ## Duration:  148
**** Call ## 75 ## Duration:  145
**** Call ## 76 ## Duration:  144
**** Call ## 77 ## Duration:  166
**** Call ## 78 ## Duration:  165
**** Call ## 79 ## Duration:  137
**** Call ## 80 ## Duration:  136
**** Call ## 81 ## Duration:  152
      ✓ should create comment (1524ms)
**** Call ## 82 ## Duration:  127 (ERR)
      ✓ should disallow unauthenticated user (127ms)
**** Call ## 83 ## Duration:  94 (ERR)
      ✓ should enforce comment body (94ms)
**** Call ## 84 ## Duration:  114 (ERR)
      ✓ should disallow non-existent article (116ms)
    Get
**** Call ## 85 ## Duration:  323
      ✓ should get all comments for article (323ms)
    Delete
**** Call ## 86 ## Duration:  151
      ✓ should delete comment (151ms)
**** Call ## 87 ## Duration:  102 (ERR)
      ✓ only comment author should be able to delete comment (102ms)
**** Call ## 88 ## Duration:  77 (ERR)
      ✓ should disallow unauthenticated user (77ms)
**** Call ## 89 ## Duration:  141 (ERR)
      ✓ should disallow deleting unknown comment (141ms)

  User
    Create
**** Call ## 90 ## Duration:  155
      ✓ should create user (155ms)
**** Call ## 91 ## Duration:  139 (ERR)
      ✓ should disallow same username (139ms)
**** Call ## 92 ## Duration:  567 (ERR)
      ✓ should disallow same email (569ms)
**** Call ## 93 ## Duration:  115 (ERR)
**** Call ## 94 ## Duration:  82 (ERR)
**** Call ## 95 ## Duration:  108 (ERR)
**** Call ## 96 ## Duration:  80 (ERR)
      ✓ should enforce required fields (387ms)
    Login
**** Call ## 97 ## Duration:  193
      ✓ should login (193ms)
**** Call ## 98 ## Duration:  129 (ERR)
      ✓ should disallow unknown email (129ms)
**** Call ## 99 ## Duration:  108 (ERR)
      ✓ should disallow wrong password (108ms)
**** Call ## 100 ## Duration:  84 (ERR)
**** Call ## 101 ## Duration:  158 (ERR)
**** Call ## 102 ## Duration:  78 (ERR)
      ✓ should enforce required fields (320ms)
    Get
**** Call ## 103 ## Duration:  108
      ✓ should get current user (108ms)
**** Call ## 104 ## Duration:  127 (ERR)
**** Call ## 105 ## Duration:  100 (ERR)
**** Call ## 106 ## Duration:  81 (ERR)
**** Call ## 107 ## Duration:  117 (ERR)
      ✓ should disallow bad tokens (426ms)
    Profile
**** Call ## 108 ## Duration:  103
      ✓ should get profile (103ms)
**** Call ## 109 ## Duration:  102 (ERR)
      ✓ should disallow unknown username (104ms)
**** Call ## 110 ## Duration:  174
**** Call ## 111 ## Duration:  184
**** Call ## 112 ## Duration:  149
**** Call ## 113 ## Duration:  113
**** Call ## 114 ## Duration:  140
**** Call ## 115 ## Duration:  176
**** Call ## 116 ## Duration:  134
**** Call ## 117 ## Duration:  174
**** Call ## 118 ## Duration:  158
**** Call ## 119 ## Duration:  147
      ✓ should follow/unfollow user (1553ms)
**** Call ## 120 ## Duration:  81 (ERR)
      ✓ should disallow following with bad token (82ms)
    Update
**** Call ## 121 ## Duration:  141
**** Call ## 122 ## Duration:  119
**** Call ## 123 ## Duration:  115
**** Call ## 124 ## Duration:  165
      ✓ should update user (541ms)
**** Call ## 125 ## Duration:  82 (ERR)
**** Call ## 126 ## Duration:  101 (ERR)
      ✓ should disallow missing token/email in update (183ms)
**** Call ## 127 ## Duration:  161
**** Call ## 128 ## Duration:  148 (ERR)
      ✓ should disallow reusing email (310ms)

  Util
    Ping
**** Call ## 129 ## Duration:  84
      ✓ should ping (85ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  198
**** Call ## 1 ## Duration:  155
**** Call ## 2 ## Duration:  131
    Create
**** Call ## 3 ## Duration:  130
      ✓ should create article (132ms)
**** Call ## 4 ## Duration:  127
      ✓ should create article with tags (128ms)
**** Call ## 5 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 6 ## Duration:  92 (ERR)
**** Call ## 7 ## Duration:  135 (ERR)
**** Call ## 8 ## Duration:  97 (ERR)
**** Call ## 9 ## Duration:  184 (ERR)
      ✓ should enforce required fields (510ms)
    Get
**** Call ## 10 ## Duration:  118
      ✓ should get article by slug (119ms)
**** Call ## 11 ## Duration:  327
      ✓ should get article with tags by slug (327ms)
**** Call ## 12 ## Duration:  108 (ERR)
      ✓ should disallow unknown slug (108ms)
    Update
**** Call ## 13 ## Duration:  183
**** Call ## 14 ## Duration:  201
**** Call ## 15 ## Duration:  143
      ✓ should update article (532ms)
**** Call ## 16 ## Duration:  85 (ERR)
      ✓ should disallow missing mutation (86ms)
**** Call ## 17 ## Duration:  85 (ERR)
      ✓ should disallow empty mutation (85ms)
**** Call ## 18 ## Duration:  77 (ERR)
      ✓ should disallow unauthenticated update (79ms)
**** Call ## 19 ## Duration:  117 (ERR)
      ✓ should disallow updating non-existent article (118ms)
**** Call ## 20 ## Duration:  110 (ERR)
      ✓ should disallow non-author from updating (111ms)
    Favorite
**** Call ## 21 ## Duration:  166
**** Call ## 22 ## Duration:  147
      ✓ should favorite article (314ms)
**** Call ## 23 ## Duration:  90 (ERR)
      ✓ should disallow favoriting by unauthenticated user (90ms)
**** Call ## 24 ## Duration:  135 (ERR)
      ✓ should disallow favoriting unknown article (135ms)
**** Call ## 25 ## Duration:  178
      ✓ should unfavorite article (178ms)
    Delete
**** Call ## 26 ## Duration:  180
**** Call ## 27 ## Duration:  155 (ERR)
      ✓ should delete article (336ms)
**** Call ## 28 ## Duration:  103 (ERR)
      ✓ should disallow deleting by unauthenticated user (103ms)
**** Call ## 29 ## Duration:  1121 (ERR)
      ✓ should disallow deleting unknown article (1121ms)
**** Call ## 30 ## Duration:  113 (ERR)
      ✓ should disallow deleting article by non-author (114ms)
    List
**** Call ## 31 ## Duration:  196
**** Call ## 32 ## Duration:  139
**** Call ## 33 ## Duration:  125
**** Call ## 34 ## Duration:  127
**** Call ## 35 ## Duration:  128
**** Call ## 36 ## Duration:  140
**** Call ## 37 ## Duration:  142
**** Call ## 38 ## Duration:  123
**** Call ## 39 ## Duration:  114
**** Call ## 40 ## Duration:  192
**** Call ## 41 ## Duration:  145
**** Call ## 42 ## Duration:  171
**** Call ## 43 ## Duration:  137
**** Call ## 44 ## Duration:  120
**** Call ## 45 ## Duration:  147
**** Call ## 46 ## Duration:  163
**** Call ## 47 ## Duration:  152
**** Call ## 48 ## Duration:  123
**** Call ## 49 ## Duration:  130
**** Call ## 50 ## Duration:  125
**** Call ## 51 ## Duration:  380
      ✓ should list articles (380ms)
**** Call ## 52 ## Duration:  271
**** Call ## 53 ## Duration:  336
      ✓ should list articles with tag (607ms)
**** Call ## 54 ## Duration:  321
      ✓ should list articles by author (321ms)
**** Call ## 55 ## Duration:  170
      ✓ should list articles favorited by user (170ms)
**** Call ## 56 ## Duration:  131
**** Call ## 57 ## Duration:  200
      ✓ should list articles by limit/offset (331ms)
**** Call ## 58 ## Duration:  362
      ✓ should list articles when authenticated (363ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  81 (ERR)
**** Call ## 60 ## Duration:  88 (ERR)
**** Call ## 62 ## Duration:  129
**** Call ## 63 ## Duration:  122
**** Call ## 64 ## Duration:  306
**** Call ## 65 ## Duration:  143
**** Call ## 66 ## Duration:  309
      ✓ should get feed (1012ms)
**** Call ## 67 ## Duration:  125 (ERR)
      ✓ should disallow unauthenticated feed (125ms)
    Tags
**** Call ## 59 ## Duration:  1206 (ERR)
**** Call ## 68 ## Duration:  244
      ✓ should get tags (244ms)

  Comment
**** Call ## 69 ## Duration:  166
**** Call ## 70 ## Duration:  202
**** Call ## 71 ## Duration:  146
    Create
**** Call ## 72 ## Duration:  190
**** Call ## 73 ## Duration:  148
**** Call ## 74 ## Duration:  136
**** Call ## 75 ## Duration:  144
**** Call ## 76 ## Duration:  163
**** Call ## 77 ## Duration:  125
**** Call ## 78 ## Duration:  145
**** Call ## 79 ## Duration:  170
**** Call ## 80 ## Duration:  137
**** Call ## 81 ## Duration:  124
      ✓ should create comment (1484ms)
**** Call ## 82 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 83 ## Duration:  98 (ERR)
      ✓ should enforce comment body (99ms)
**** Call ## 84 ## Duration:  130 (ERR)
      ✓ should disallow non-existent article (130ms)
    Get
**** Call ## 85 ## Duration:  333
      ✓ should get all comments for article (334ms)
    Delete
**** Call ## 86 ## Duration:  149
      ✓ should delete comment (149ms)
**** Call ## 87 ## Duration:  120 (ERR)
      ✓ only comment author should be able to delete comment (120ms)
**** Call ## 88 ## Duration:  95 (ERR)
      ✓ should disallow unauthenticated user (97ms)
**** Call ## 89 ## Duration:  157 (ERR)
      ✓ should disallow deleting unknown comment (157ms)

  User
    Create
**** Call ## 90 ## Duration:  163
      ✓ should create user (164ms)
**** Call ## 91 ## Duration:  429 (ERR)
      ✓ should disallow same username (429ms)
**** Call ## 92 ## Duration:  123 (ERR)
      ✓ should disallow same email (123ms)
**** Call ## 93 ## Duration:  81 (ERR)
**** Call ## 94 ## Duration:  106 (ERR)
**** Call ## 95 ## Duration:  87 (ERR)
**** Call ## 96 ## Duration:  114 (ERR)
      ✓ should enforce required fields (389ms)
    Login
**** Call ## 97 ## Duration:  171
      ✓ should login (172ms)
**** Call ## 98 ## Duration:  98 (ERR)
      ✓ should disallow unknown email (98ms)
**** Call ## 99 ## Duration:  118 (ERR)
      ✓ should disallow wrong password (119ms)
**** Call ## 100 ## Duration:  89 (ERR)
**** Call ## 101 ## Duration:  114 (ERR)
**** Call ## 102 ## Duration:  137 (ERR)
      ✓ should enforce required fields (340ms)
    Get
**** Call ## 103 ## Duration:  109
      ✓ should get current user (109ms)
**** Call ## 104 ## Duration:  83 (ERR)
**** Call ## 105 ## Duration:  83 (ERR)
**** Call ## 106 ## Duration:  82 (ERR)
**** Call ## 107 ## Duration:  161 (ERR)
      ✓ should disallow bad tokens (409ms)
    Profile
**** Call ## 108 ## Duration:  97
      ✓ should get profile (99ms)
**** Call ## 109 ## Duration:  101 (ERR)
      ✓ should disallow unknown username (102ms)
**** Call ## 110 ## Duration:  175
**** Call ## 111 ## Duration:  167
**** Call ## 112 ## Duration:  146
**** Call ## 113 ## Duration:  108
**** Call ## 114 ## Duration:  109
**** Call ## 115 ## Duration:  148
**** Call ## 116 ## Duration:  157
**** Call ## 117 ## Duration:  174
**** Call ## 118 ## Duration:  190
**** Call ## 119 ## Duration:  133
      ✓ should follow/unfollow user (1509ms)
**** Call ## 120 ## Duration:  80 (ERR)
      ✓ should disallow following with bad token (80ms)
    Update
**** Call ## 121 ## Duration:  142
**** Call ## 122 ## Duration:  118
**** Call ## 123 ## Duration:  118
**** Call ## 124 ## Duration:  111
      ✓ should update user (491ms)
**** Call ## 125 ## Duration:  83 (ERR)
**** Call ## 126 ## Duration:  99 (ERR)
      ✓ should disallow missing token/email in update (182ms)
**** Call ## 127 ## Duration:  226
**** Call ## 128 ## Duration:  121 (ERR)
      ✓ should disallow reusing email (348ms)

  Util
    Ping
**** Call ## 129 ## Duration:  87
      ✓ should ping (87ms)


  58 passing (20s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  199
**** Call ## 1 ## Duration:  185
**** Call ## 2 ## Duration:  126
    Create
**** Call ## 3 ## Duration:  138
      ✓ should create article (140ms)
**** Call ## 4 ## Duration:  133
      ✓ should create article with tags (135ms)
**** Call ## 5 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated user (88ms)
**** Call ## 6 ## Duration:  104 (ERR)
**** Call ## 7 ## Duration:  130 (ERR)
**** Call ## 8 ## Duration:  99 (ERR)
**** Call ## 9 ## Duration:  107 (ERR)
      ✓ should enforce required fields (441ms)
    Get
**** Call ## 10 ## Duration:  140
      ✓ should get article by slug (140ms)
**** Call ## 11 ## Duration:  135
      ✓ should get article with tags by slug (135ms)
**** Call ## 12 ## Duration:  133 (ERR)
      ✓ should disallow unknown slug (135ms)
    Update
**** Call ## 13 ## Duration:  221
**** Call ## 14 ## Duration:  175
**** Call ## 15 ## Duration:  161
      ✓ should update article (560ms)
**** Call ## 16 ## Duration:  84 (ERR)
      ✓ should disallow missing mutation (85ms)
**** Call ## 17 ## Duration:  89 (ERR)
      ✓ should disallow empty mutation (90ms)
**** Call ## 18 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated update (82ms)
**** Call ## 19 ## Duration:  129 (ERR)
      ✓ should disallow updating non-existent article (130ms)
**** Call ## 20 ## Duration:  129 (ERR)
      ✓ should disallow non-author from updating (129ms)
    Favorite
**** Call ## 21 ## Duration:  198
**** Call ## 22 ## Duration:  144
      ✓ should favorite article (342ms)
**** Call ## 23 ## Duration:  111 (ERR)
      ✓ should disallow favoriting by unauthenticated user (111ms)
**** Call ## 24 ## Duration:  122 (ERR)
      ✓ should disallow favoriting unknown article (122ms)
**** Call ## 25 ## Duration:  157
      ✓ should unfavorite article (157ms)
    Delete
**** Call ## 26 ## Duration:  186
**** Call ## 27 ## Duration:  97 (ERR)
      ✓ should delete article (284ms)
**** Call ## 28 ## Duration:  81 (ERR)
      ✓ should disallow deleting by unauthenticated user (81ms)
**** Call ## 29 ## Duration:  151 (ERR)
      ✓ should disallow deleting unknown article (151ms)
**** Call ## 30 ## Duration:  125 (ERR)
      ✓ should disallow deleting article by non-author (125ms)
    List
**** Call ## 31 ## Duration:  112
**** Call ## 32 ## Duration:  116
**** Call ## 33 ## Duration:  263
**** Call ## 34 ## Duration:  138
**** Call ## 35 ## Duration:  125
**** Call ## 36 ## Duration:  158
**** Call ## 37 ## Duration:  209
**** Call ## 38 ## Duration:  114
**** Call ## 39 ## Duration:  126
**** Call ## 40 ## Duration:  145
**** Call ## 41 ## Duration:  172
**** Call ## 42 ## Duration:  112
**** Call ## 43 ## Duration:  117
**** Call ## 44 ## Duration:  146
**** Call ## 45 ## Duration:  113
**** Call ## 46 ## Duration:  104
**** Call ## 47 ## Duration:  167
**** Call ## 48 ## Duration:  112
**** Call ## 49 ## Duration:  116
**** Call ## 50 ## Duration:  154
**** Call ## 51 ## Duration:  315
      ✓ should list articles (317ms)
**** Call ## 52 ## Duration:  289
**** Call ## 53 ## Duration:  271
      ✓ should list articles with tag (561ms)
**** Call ## 54 ## Duration:  249
      ✓ should list articles by author (250ms)
**** Call ## 55 ## Duration:  125
      ✓ should list articles favorited by user (125ms)
**** Call ## 56 ## Duration:  112
**** Call ## 57 ## Duration:  131
      ✓ should list articles by limit/offset (244ms)
**** Call ## 58 ## Duration:  371
      ✓ should list articles when authenticated (371ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  85 (ERR)
**** Call ## 60 ## Duration:  90 (ERR)
**** Call ## 59 ## Duration:  96 (ERR)
**** Call ## 62 ## Duration:  134
**** Call ## 63 ## Duration:  234
**** Call ## 64 ## Duration:  284
**** Call ## 65 ## Duration:  183
**** Call ## 66 ## Duration:  356
      ✓ should get feed (1194ms)
**** Call ## 67 ## Duration:  93 (ERR)
      ✓ should disallow unauthenticated feed (93ms)
    Tags
**** Call ## 68 ## Duration:  225
      ✓ should get tags (226ms)

  Comment
**** Call ## 69 ## Duration:  155
**** Call ## 70 ## Duration:  128
**** Call ## 71 ## Duration:  128
    Create
**** Call ## 72 ## Duration:  170
**** Call ## 73 ## Duration:  136
**** Call ## 74 ## Duration:  148
**** Call ## 75 ## Duration:  142
**** Call ## 76 ## Duration:  153
**** Call ## 77 ## Duration:  172
**** Call ## 78 ## Duration:  127
**** Call ## 79 ## Duration:  144
**** Call ## 80 ## Duration:  153
**** Call ## 81 ## Duration:  137
      ✓ should create comment (1486ms)
**** Call ## 82 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 83 ## Duration:  102 (ERR)
      ✓ should enforce comment body (102ms)
**** Call ## 84 ## Duration:  287 (ERR)
      ✓ should disallow non-existent article (288ms)
    Get
**** Call ## 85 ## Duration:  294
      ✓ should get all comments for article (294ms)
    Delete
**** Call ## 86 ## Duration:  156
      ✓ should delete comment (156ms)
**** Call ## 87 ## Duration:  148 (ERR)
      ✓ only comment author should be able to delete comment (149ms)
**** Call ## 88 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 89 ## Duration:  129 (ERR)
      ✓ should disallow deleting unknown comment (129ms)

  User
    Create
**** Call ## 90 ## Duration:  178
      ✓ should create user (178ms)
**** Call ## 91 ## Duration:  103 (ERR)
      ✓ should disallow same username (103ms)
**** Call ## 92 ## Duration:  115 (ERR)
      ✓ should disallow same email (115ms)
**** Call ## 93 ## Duration:  83 (ERR)
**** Call ## 94 ## Duration:  80 (ERR)
**** Call ## 95 ## Duration:  81 (ERR)
**** Call ## 96 ## Duration:  102 (ERR)
      ✓ should enforce required fields (347ms)
    Login
**** Call ## 97 ## Duration:  156
      ✓ should login (156ms)
**** Call ## 98 ## Duration:  104 (ERR)
      ✓ should disallow unknown email (104ms)
**** Call ## 99 ## Duration:  110 (ERR)
      ✓ should disallow wrong password (110ms)
**** Call ## 100 ## Duration:  87 (ERR)
**** Call ## 101 ## Duration:  88 (ERR)
**** Call ## 102 ## Duration:  89 (ERR)
      ✓ should enforce required fields (266ms)
    Get
**** Call ## 103 ## Duration:  117
      ✓ should get current user (117ms)
**** Call ## 104 ## Duration:  91 (ERR)
**** Call ## 105 ## Duration:  106 (ERR)
**** Call ## 106 ## Duration:  82 (ERR)
**** Call ## 107 ## Duration:  83 (ERR)
      ✓ should disallow bad tokens (363ms)
    Profile
**** Call ## 108 ## Duration:  176
      ✓ should get profile (176ms)
**** Call ## 109 ## Duration:  124 (ERR)
      ✓ should disallow unknown username (124ms)
**** Call ## 110 ## Duration:  146
**** Call ## 111 ## Duration:  173
**** Call ## 112 ## Duration:  179
**** Call ## 113 ## Duration:  122
**** Call ## 114 ## Duration:  109
**** Call ## 115 ## Duration:  143
**** Call ## 116 ## Duration:  174
**** Call ## 117 ## Duration:  184
**** Call ## 118 ## Duration:  136
**** Call ## 119 ## Duration:  158
      ✓ should follow/unfollow user (1526ms)
**** Call ## 120 ## Duration:  81 (ERR)
      ✓ should disallow following with bad token (81ms)
    Update
**** Call ## 121 ## Duration:  142
**** Call ## 122 ## Duration:  164
**** Call ## 123 ## Duration:  114
**** Call ## 124 ## Duration:  114
      ✓ should update user (535ms)
**** Call ## 125 ## Duration:  86 (ERR)
**** Call ## 126 ## Duration:  91 (ERR)
      ✓ should disallow missing token/email in update (177ms)
**** Call ## 127 ## Duration:  138
**** Call ## 128 ## Duration:  116 (ERR)
      ✓ should disallow reusing email (257ms)

  Util
    Ping
**** Call ## 129 ## Duration:  113
      ✓ should ping (113ms)


  58 passing (18s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  214
**** Call ## 1 ## Duration:  135
**** Call ## 2 ## Duration:  268
    Create
**** Call ## 3 ## Duration:  160
      ✓ should create article (162ms)
**** Call ## 4 ## Duration:  121
      ✓ should create article with tags (125ms)
**** Call ## 5 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 6 ## Duration:  116 (ERR)
**** Call ## 7 ## Duration:  93 (ERR)
**** Call ## 8 ## Duration:  95 (ERR)
**** Call ## 9 ## Duration:  137 (ERR)
      ✓ should enforce required fields (443ms)
    Get
**** Call ## 10 ## Duration:  165
      ✓ should get article by slug (166ms)
**** Call ## 11 ## Duration:  119
      ✓ should get article with tags by slug (119ms)
**** Call ## 12 ## Duration:  119 (ERR)
      ✓ should disallow unknown slug (119ms)
    Update
**** Call ## 13 ## Duration:  195
**** Call ## 14 ## Duration:  185
**** Call ## 15 ## Duration:  196
      ✓ should update article (579ms)
**** Call ## 16 ## Duration:  84 (ERR)
      ✓ should disallow missing mutation (85ms)
**** Call ## 17 ## Duration:  80 (ERR)
      ✓ should disallow empty mutation (80ms)
**** Call ## 18 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated update (84ms)
**** Call ## 19 ## Duration:  130 (ERR)
      ✓ should disallow updating non-existent article (131ms)
**** Call ## 20 ## Duration:  130 (ERR)
      ✓ should disallow non-author from updating (130ms)
    Favorite
**** Call ## 21 ## Duration:  170
**** Call ## 22 ## Duration:  197
      ✓ should favorite article (367ms)
**** Call ## 23 ## Duration:  118 (ERR)
      ✓ should disallow favoriting by unauthenticated user (118ms)
**** Call ## 24 ## Duration:  121 (ERR)
      ✓ should disallow favoriting unknown article (122ms)
**** Call ## 25 ## Duration:  162
      ✓ should unfavorite article (162ms)
    Delete
**** Call ## 26 ## Duration:  145
**** Call ## 27 ## Duration:  106 (ERR)
      ✓ should delete article (251ms)
**** Call ## 28 ## Duration:  83 (ERR)
      ✓ should disallow deleting by unauthenticated user (85ms)
**** Call ## 29 ## Duration:  130 (ERR)
      ✓ should disallow deleting unknown article (130ms)
**** Call ## 30 ## Duration:  118 (ERR)
      ✓ should disallow deleting article by non-author (118ms)
    List
**** Call ## 31 ## Duration:  128
**** Call ## 32 ## Duration:  114
**** Call ## 33 ## Duration:  173
**** Call ## 34 ## Duration:  130
**** Call ## 35 ## Duration:  125
**** Call ## 36 ## Duration:  131
**** Call ## 37 ## Duration:  201
**** Call ## 38 ## Duration:  110
**** Call ## 39 ## Duration:  149
**** Call ## 40 ## Duration:  121
**** Call ## 41 ## Duration:  122
**** Call ## 42 ## Duration:  174
**** Call ## 43 ## Duration:  165
**** Call ## 44 ## Duration:  137
**** Call ## 45 ## Duration:  133
**** Call ## 46 ## Duration:  136
**** Call ## 47 ## Duration:  181
**** Call ## 48 ## Duration:  117
**** Call ## 49 ## Duration:  128
**** Call ## 50 ## Duration:  133
**** Call ## 51 ## Duration:  341
      ✓ should list articles (341ms)
**** Call ## 52 ## Duration:  291 (ERR)
      1) should list articles with tag


  22 passing (8s)
  1 failing

  1) Article
       List
         should list articles with tag:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:17:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:236:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)



npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2020-05-20T18_34_21_239Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  244
**** Call ## 1 ## Duration:  135
**** Call ## 2 ## Duration:  152
    Create
**** Call ## 3 ## Duration:  134
      ✓ should create article (136ms)
**** Call ## 4 ## Duration:  124
      ✓ should create article with tags (126ms)
**** Call ## 5 ## Duration:  108 (ERR)
      ✓ should disallow unauthenticated user (110ms)
**** Call ## 6 ## Duration:  144 (ERR)
**** Call ## 7 ## Duration:  138 (ERR)
**** Call ## 8 ## Duration:  92 (ERR)
**** Call ## 9 ## Duration:  101 (ERR)
      ✓ should enforce required fields (475ms)
    Get
**** Call ## 10 ## Duration:  133
      ✓ should get article by slug (133ms)
**** Call ## 11 ## Duration:  118
      ✓ should get article with tags by slug (119ms)
**** Call ## 12 ## Duration:  113 (ERR)
      ✓ should disallow unknown slug (114ms)
    Update
**** Call ## 13 ## Duration:  214
**** Call ## 14 ## Duration:  164
**** Call ## 15 ## Duration:  213
      ✓ should update article (596ms)
**** Call ## 16 ## Duration:  93 (ERR)
      ✓ should disallow missing mutation (93ms)
**** Call ## 17 ## Duration:  83 (ERR)
      ✓ should disallow empty mutation (84ms)
**** Call ## 18 ## Duration:  98 (ERR)
      ✓ should disallow unauthenticated update (98ms)
**** Call ## 19 ## Duration:  118 (ERR)
      ✓ should disallow updating non-existent article (118ms)
**** Call ## 20 ## Duration:  117 (ERR)
      ✓ should disallow non-author from updating (117ms)
    Favorite
**** Call ## 21 ## Duration:  201
**** Call ## 22 ## Duration:  156
      ✓ should favorite article (358ms)
**** Call ## 23 ## Duration:  90 (ERR)
      ✓ should disallow favoriting by unauthenticated user (90ms)
**** Call ## 24 ## Duration:  127 (ERR)
      ✓ should disallow favoriting unknown article (127ms)
**** Call ## 25 ## Duration:  185
      ✓ should unfavorite article (185ms)
    Delete
**** Call ## 26 ## Duration:  183
**** Call ## 27 ## Duration:  108 (ERR)
      ✓ should delete article (292ms)
**** Call ## 28 ## Duration:  159 (ERR)
      ✓ should disallow deleting by unauthenticated user (159ms)
**** Call ## 29 ## Duration:  151 (ERR)
      ✓ should disallow deleting unknown article (152ms)
**** Call ## 30 ## Duration:  115 (ERR)
      ✓ should disallow deleting article by non-author (115ms)
    List
**** Call ## 31 ## Duration:  140
**** Call ## 32 ## Duration:  130
**** Call ## 33 ## Duration:  130
**** Call ## 34 ## Duration:  136
**** Call ## 35 ## Duration:  122
**** Call ## 36 ## Duration:  116
**** Call ## 37 ## Duration:  129
**** Call ## 38 ## Duration:  134
**** Call ## 39 ## Duration:  111
**** Call ## 40 ## Duration:  102
**** Call ## 41 ## Duration:  161
**** Call ## 42 ## Duration:  126
**** Call ## 43 ## Duration:  106
**** Call ## 44 ## Duration:  126
**** Call ## 45 ## Duration:  121
**** Call ## 46 ## Duration:  129
**** Call ## 47 ## Duration:  116
**** Call ## 48 ## Duration:  111
**** Call ## 49 ## Duration:  103
**** Call ## 50 ## Duration:  103
**** Call ## 51 ## Duration:  385
      ✓ should list articles (385ms)
**** Call ## 52 ## Duration:  372
**** Call ## 53 ## Duration:  437
      ✓ should list articles with tag (809ms)
**** Call ## 54 ## Duration:  259
      ✓ should list articles by author (259ms)
**** Call ## 55 ## Duration:  200
      ✓ should list articles favorited by user (201ms)
**** Call ## 56 ## Duration:  139
**** Call ## 57 ## Duration:  131
      ✓ should list articles by limit/offset (271ms)
**** Call ## 58 ## Duration:  313
      ✓ should list articles when authenticated (313ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  82 (ERR)
**** Call ## 60 ## Duration:  84 (ERR)
**** Call ## 59 ## Duration:  88 (ERR)
**** Call ## 62 ## Duration:  140
**** Call ## 63 ## Duration:  228
**** Call ## 64 ## Duration:  296
**** Call ## 65 ## Duration:  189
**** Call ## 66 ## Duration:  1360
      ✓ should get feed (2216ms)
**** Call ## 67 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated feed (82ms)
    Tags
**** Call ## 68 ## Duration:  234
      ✓ should get tags (234ms)

  Comment
**** Call ## 69 ## Duration:  146
**** Call ## 70 ## Duration:  175
**** Call ## 71 ## Duration:  152
    Create
**** Call ## 72 ## Duration:  148
**** Call ## 73 ## Duration:  145
**** Call ## 74 ## Duration:  142
**** Call ## 75 ## Duration:  138
**** Call ## 76 ## Duration:  144
**** Call ## 77 ## Duration:  143
**** Call ## 78 ## Duration:  132
**** Call ## 79 ## Duration:  179
**** Call ## 80 ## Duration:  146
**** Call ## 81 ## Duration:  112
      ✓ should create comment (1430ms)
**** Call ## 82 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 83 ## Duration:  128 (ERR)
      ✓ should enforce comment body (128ms)
**** Call ## 84 ## Duration:  121 (ERR)
      ✓ should disallow non-existent article (121ms)
    Get
**** Call ## 85 ## Duration:  264
      ✓ should get all comments for article (264ms)
    Delete
**** Call ## 86 ## Duration:  146
      ✓ should delete comment (146ms)
**** Call ## 87 ## Duration:  116 (ERR)
      ✓ only comment author should be able to delete comment (117ms)
**** Call ## 88 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 89 ## Duration:  106 (ERR)
      ✓ should disallow deleting unknown comment (107ms)

  User
    Create
**** Call ## 90 ## Duration:  162
      ✓ should create user (162ms)
**** Call ## 91 ## Duration:  137 (ERR)
      ✓ should disallow same username (137ms)
**** Call ## 92 ## Duration:  138 (ERR)
      ✓ should disallow same email (138ms)
**** Call ## 93 ## Duration:  80 (ERR)
**** Call ## 94 ## Duration:  110 (ERR)
**** Call ## 95 ## Duration:  92 (ERR)
**** Call ## 96 ## Duration:  90 (ERR)
      ✓ should enforce required fields (374ms)
    Login
**** Call ## 97 ## Duration:  114
      ✓ should login (115ms)
**** Call ## 98 ## Duration:  103 (ERR)
      ✓ should disallow unknown email (103ms)
**** Call ## 99 ## Duration:  98 (ERR)
      ✓ should disallow wrong password (98ms)
**** Call ## 100 ## Duration:  102 (ERR)
**** Call ## 101 ## Duration:  93 (ERR)
**** Call ## 102 ## Duration:  98 (ERR)
      ✓ should enforce required fields (293ms)
    Get
**** Call ## 103 ## Duration:  148
      ✓ should get current user (148ms)
**** Call ## 104 ## Duration:  79 (ERR)
**** Call ## 105 ## Duration:  128 (ERR)
**** Call ## 106 ## Duration:  170 (ERR)
**** Call ## 107 ## Duration:  81 (ERR)
      ✓ should disallow bad tokens (462ms)
    Profile
**** Call ## 108 ## Duration:  141
      ✓ should get profile (141ms)
**** Call ## 109 ## Duration:  103 (ERR)
      ✓ should disallow unknown username (104ms)
**** Call ## 110 ## Duration:  148
**** Call ## 111 ## Duration:  168
**** Call ## 112 ## Duration:  162
**** Call ## 113 ## Duration:  118
**** Call ## 114 ## Duration:  109
**** Call ## 115 ## Duration:  133
**** Call ## 116 ## Duration:  150
**** Call ## 117 ## Duration:  174
**** Call ## 118 ## Duration:  158
**** Call ## 119 ## Duration:  141
      ✓ should follow/unfollow user (1463ms)
**** Call ## 120 ## Duration:  104 (ERR)
      ✓ should disallow following with bad token (104ms)
    Update
**** Call ## 121 ## Duration:  165
**** Call ## 122 ## Duration:  152
**** Call ## 123 ## Duration:  128
**** Call ## 124 ## Duration:  395
      ✓ should update user (840ms)
**** Call ## 125 ## Duration:  183 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (283ms)
**** Call ## 127 ## Duration:  313
**** Call ## 128 ## Duration:  125 (ERR)
      ✓ should disallow reusing email (439ms)

  Util
    Ping
**** Call ## 129 ## Duration:  99
      ✓ should ping (99ms)


  58 passing (20s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  206
**** Call ## 1 ## Duration:  183
**** Call ## 2 ## Duration:  132
    Create
**** Call ## 3 ## Duration:  137
      ✓ should create article (139ms)
**** Call ## 4 ## Duration:  128
      ✓ should create article with tags (130ms)
**** Call ## 5 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated user (88ms)
**** Call ## 6 ## Duration:  109 (ERR)
**** Call ## 7 ## Duration:  106 (ERR)
**** Call ## 8 ## Duration:  103 (ERR)
**** Call ## 9 ## Duration:  98 (ERR)
      ✓ should enforce required fields (418ms)
    Get
**** Call ## 10 ## Duration:  158
      ✓ should get article by slug (158ms)
**** Call ## 11 ## Duration:  107
      ✓ should get article with tags by slug (107ms)
**** Call ## 12 ## Duration:  101 (ERR)
      ✓ should disallow unknown slug (102ms)
    Update
**** Call ## 13 ## Duration:  203
**** Call ## 14 ## Duration:  183
**** Call ## 15 ## Duration:  189
      ✓ should update article (577ms)
**** Call ## 16 ## Duration:  103 (ERR)
      ✓ should disallow missing mutation (104ms)
**** Call ## 17 ## Duration:  117 (ERR)
      ✓ should disallow empty mutation (117ms)
**** Call ## 18 ## Duration:  104 (ERR)
      ✓ should disallow unauthenticated update (104ms)
**** Call ## 19 ## Duration:  137 (ERR)
      ✓ should disallow updating non-existent article (137ms)
**** Call ## 20 ## Duration:  142 (ERR)
      ✓ should disallow non-author from updating (142ms)
    Favorite
**** Call ## 21 ## Duration:  171
**** Call ## 22 ## Duration:  189
      ✓ should favorite article (361ms)
**** Call ## 23 ## Duration:  83 (ERR)
      ✓ should disallow favoriting by unauthenticated user (83ms)
**** Call ## 24 ## Duration:  117 (ERR)
      ✓ should disallow favoriting unknown article (118ms)
**** Call ## 25 ## Duration:  180
      ✓ should unfavorite article (180ms)
    Delete
**** Call ## 26 ## Duration:  155
**** Call ## 27 ## Duration:  111 (ERR)
      ✓ should delete article (266ms)
**** Call ## 28 ## Duration:  85 (ERR)
      ✓ should disallow deleting by unauthenticated user (86ms)
**** Call ## 29 ## Duration:  142 (ERR)
      ✓ should disallow deleting unknown article (143ms)
**** Call ## 30 ## Duration:  123 (ERR)
      ✓ should disallow deleting article by non-author (124ms)
    List
**** Call ## 31 ## Duration:  143
**** Call ## 32 ## Duration:  116
**** Call ## 33 ## Duration:  124
**** Call ## 34 ## Duration:  123
**** Call ## 35 ## Duration:  125
**** Call ## 36 ## Duration:  122
**** Call ## 37 ## Duration:  121
**** Call ## 38 ## Duration:  137
**** Call ## 39 ## Duration:  120
**** Call ## 40 ## Duration:  118
**** Call ## 41 ## Duration:  135
**** Call ## 42 ## Duration:  721
**** Call ## 43 ## Duration:  138
**** Call ## 44 ## Duration:  124
**** Call ## 45 ## Duration:  131
**** Call ## 46 ## Duration:  128
**** Call ## 47 ## Duration:  176
**** Call ## 48 ## Duration:  151
**** Call ## 49 ## Duration:  125
**** Call ## 50 ## Duration:  128
**** Call ## 51 ## Duration:  359
      ✓ should list articles (359ms)
**** Call ## 52 ## Duration:  341
**** Call ## 53 ## Duration:  374
      ✓ should list articles with tag (715ms)
**** Call ## 54 ## Duration:  327
      ✓ should list articles by author (327ms)
**** Call ## 55 ## Duration:  188
      ✓ should list articles favorited by user (188ms)
**** Call ## 56 ## Duration:  136
**** Call ## 57 ## Duration:  147
      ✓ should list articles by limit/offset (283ms)
**** Call ## 58 ## Duration:  438
      ✓ should list articles when authenticated (438ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  86 (ERR)
**** Call ## 61 ## Duration:  87 (ERR)
**** Call ## 60 ## Duration:  93 (ERR)
**** Call ## 62 ## Duration:  177
**** Call ## 63 ## Duration:  189
**** Call ## 64 ## Duration:  360
**** Call ## 65 ## Duration:  210
**** Call ## 66 ## Duration:  351
      ✓ should get feed (1291ms)
**** Call ## 67 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated feed (81ms)
    Tags
**** Call ## 68 ## Duration:  195
      ✓ should get tags (196ms)

  Comment
**** Call ## 69 ## Duration:  155
**** Call ## 70 ## Duration:  169
**** Call ## 71 ## Duration:  113
    Create
**** Call ## 72 ## Duration:  192
**** Call ## 73 ## Duration:  159
**** Call ## 74 ## Duration:  176
**** Call ## 75 ## Duration:  135
**** Call ## 76 ## Duration:  160
**** Call ## 77 ## Duration:  180
**** Call ## 78 ## Duration:  119
**** Call ## 79 ## Duration:  140
**** Call ## 80 ## Duration:  220
**** Call ## 81 ## Duration:  405
      ✓ should create comment (1887ms)
**** Call ## 82 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (86ms)
**** Call ## 83 ## Duration:  132 (ERR)
      ✓ should enforce comment body (132ms)
**** Call ## 84 ## Duration:  129 (ERR)
      ✓ should disallow non-existent article (130ms)
    Get
**** Call ## 85 ## Duration:  255
      ✓ should get all comments for article (255ms)
    Delete
**** Call ## 86 ## Duration:  149
      ✓ should delete comment (149ms)
**** Call ## 87 ## Duration:  153 (ERR)
      ✓ only comment author should be able to delete comment (153ms)
**** Call ## 88 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 89 ## Duration:  124 (ERR)
      ✓ should disallow deleting unknown comment (124ms)

  User
    Create
**** Call ## 90 ## Duration:  169
      ✓ should create user (169ms)
**** Call ## 91 ## Duration:  104 (ERR)
      ✓ should disallow same username (104ms)
**** Call ## 92 ## Duration:  114 (ERR)
      ✓ should disallow same email (114ms)
**** Call ## 93 ## Duration:  94 (ERR)
**** Call ## 94 ## Duration:  112 (ERR)
**** Call ## 95 ## Duration:  102 (ERR)
**** Call ## 96 ## Duration:  81 (ERR)
      ✓ should enforce required fields (390ms)
    Login
**** Call ## 97 ## Duration:  135
      ✓ should login (136ms)
**** Call ## 98 ## Duration:  100 (ERR)
      ✓ should disallow unknown email (100ms)
**** Call ## 99 ## Duration:  100 (ERR)
      ✓ should disallow wrong password (100ms)
**** Call ## 100 ## Duration:  113 (ERR)
**** Call ## 101 ## Duration:  82 (ERR)
**** Call ## 102 ## Duration:  82 (ERR)
      ✓ should enforce required fields (279ms)
    Get
**** Call ## 103 ## Duration:  167
      ✓ should get current user (167ms)
**** Call ## 104 ## Duration:  87 (ERR)
**** Call ## 105 ## Duration:  80 (ERR)
**** Call ## 106 ## Duration:  81 (ERR)
**** Call ## 107 ## Duration:  115 (ERR)
      ✓ should disallow bad tokens (364ms)
    Profile
**** Call ## 108 ## Duration:  109
      ✓ should get profile (109ms)
**** Call ## 109 ## Duration:  2340 (ERR)
      ✓ should disallow unknown username (2340ms)
**** Call ## 110 ## Duration:  206
**** Call ## 111 ## Duration:  150
**** Call ## 112 ## Duration:  161
**** Call ## 113 ## Duration:  149
**** Call ## 114 ## Duration:  105
**** Call ## 115 ## Duration:  166
**** Call ## 116 ## Duration:  149
**** Call ## 117 ## Duration:  175
**** Call ## 118 ## Duration:  149
**** Call ## 119 ## Duration:  158
      ✓ should follow/unfollow user (1570ms)
**** Call ## 120 ## Duration:  82 (ERR)
      ✓ should disallow following with bad token (82ms)
    Update
**** Call ## 121 ## Duration:  307
**** Call ## 122 ## Duration:  121
**** Call ## 123 ## Duration:  119
**** Call ## 124 ## Duration:  176
      ✓ should update user (725ms)
**** Call ## 125 ## Duration:  107 (ERR)
**** Call ## 126 ## Duration:  106 (ERR)
      ✓ should disallow missing token/email in update (213ms)
**** Call ## 127 ## Duration:  142
**** Call ## 128 ## Duration:  117 (ERR)
      ✓ should disallow reusing email (261ms)

  Util
    Ping
**** Call ## 129 ## Duration:  84
      ✓ should ping (85ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  263
**** Call ## 1 ## Duration:  170
**** Call ## 2 ## Duration:  191
    Create
**** Call ## 3 ## Duration:  133
      ✓ should create article (134ms)
**** Call ## 4 ## Duration:  117
      ✓ should create article with tags (119ms)
**** Call ## 5 ## Duration:  139 (ERR)
      ✓ should disallow unauthenticated user (139ms)
**** Call ## 6 ## Duration:  106 (ERR)
**** Call ## 7 ## Duration:  111 (ERR)
**** Call ## 8 ## Duration:  124 (ERR)
**** Call ## 9 ## Duration:  104 (ERR)
      ✓ should enforce required fields (445ms)
    Get
**** Call ## 10 ## Duration:  179
      ✓ should get article by slug (180ms)
**** Call ## 11 ## Duration:  166
      ✓ should get article with tags by slug (166ms)
**** Call ## 12 ## Duration:  107 (ERR)
      ✓ should disallow unknown slug (108ms)
    Update
**** Call ## 13 ## Duration:  170
**** Call ## 14 ## Duration:  194
**** Call ## 15 ## Duration:  172
      ✓ should update article (537ms)
**** Call ## 16 ## Duration:  83 (ERR)
      ✓ should disallow missing mutation (83ms)
**** Call ## 17 ## Duration:  83 (ERR)
      ✓ should disallow empty mutation (83ms)
**** Call ## 18 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated update (86ms)
**** Call ## 19 ## Duration:  142 (ERR)
      ✓ should disallow updating non-existent article (142ms)
**** Call ## 20 ## Duration:  124 (ERR)
      ✓ should disallow non-author from updating (125ms)
    Favorite
**** Call ## 21 ## Duration:  240
**** Call ## 22 ## Duration:  165
      ✓ should favorite article (405ms)
**** Call ## 23 ## Duration:  79 (ERR)
      ✓ should disallow favoriting by unauthenticated user (80ms)
**** Call ## 24 ## Duration:  130 (ERR)
      ✓ should disallow favoriting unknown article (130ms)
**** Call ## 25 ## Duration:  187
      ✓ should unfavorite article (187ms)
    Delete
**** Call ## 26 ## Duration:  137
**** Call ## 27 ## Duration:  137 (ERR)
      ✓ should delete article (274ms)
**** Call ## 28 ## Duration:  100 (ERR)
      ✓ should disallow deleting by unauthenticated user (100ms)
**** Call ## 29 ## Duration:  155 (ERR)
      ✓ should disallow deleting unknown article (155ms)
**** Call ## 30 ## Duration:  110 (ERR)
      ✓ should disallow deleting article by non-author (110ms)
    List
**** Call ## 31 ## Duration:  142
**** Call ## 32 ## Duration:  131
**** Call ## 33 ## Duration:  169
**** Call ## 34 ## Duration:  114
**** Call ## 35 ## Duration:  116
**** Call ## 36 ## Duration:  120
**** Call ## 37 ## Duration:  123
**** Call ## 38 ## Duration:  115
**** Call ## 39 ## Duration:  128
**** Call ## 40 ## Duration:  124
**** Call ## 41 ## Duration:  123
**** Call ## 42 ## Duration:  150
**** Call ## 43 ## Duration:  120
**** Call ## 44 ## Duration:  115
**** Call ## 45 ## Duration:  302
**** Call ## 46 ## Duration:  129
**** Call ## 47 ## Duration:  143
**** Call ## 48 ## Duration:  109
**** Call ## 49 ## Duration:  152
**** Call ## 50 ## Duration:  134
**** Call ## 51 ## Duration:  337
      ✓ should list articles (337ms)
**** Call ## 52 ## Duration:  313
**** Call ## 53 ## Duration:  302
      ✓ should list articles with tag (615ms)
**** Call ## 54 ## Duration:  265
      ✓ should list articles by author (265ms)
**** Call ## 55 ## Duration:  148
      ✓ should list articles favorited by user (148ms)
**** Call ## 56 ## Duration:  163
**** Call ## 57 ## Duration:  162
      ✓ should list articles by limit/offset (327ms)
**** Call ## 58 ## Duration:  345
      ✓ should list articles when authenticated (345ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  92 (ERR)
**** Call ## 60 ## Duration:  99 (ERR)
**** Call ## 59 ## Duration:  114 (ERR)
**** Call ## 62 ## Duration:  144
**** Call ## 63 ## Duration:  173
**** Call ## 64 ## Duration:  308
**** Call ## 65 ## Duration:  154
**** Call ## 66 ## Duration:  382
      ✓ should get feed (1162ms)
**** Call ## 67 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated feed (82ms)
    Tags
**** Call ## 68 ## Duration:  225
      ✓ should get tags (226ms)

  Comment
**** Call ## 69 ## Duration:  178
**** Call ## 70 ## Duration:  193
**** Call ## 71 ## Duration:  156
    Create
**** Call ## 72 ## Duration:  181
**** Call ## 73 ## Duration:  144
**** Call ## 74 ## Duration:  421
**** Call ## 75 ## Duration:  148
**** Call ## 76 ## Duration:  114
**** Call ## 77 ## Duration:  178
**** Call ## 78 ## Duration:  163
**** Call ## 79 ## Duration:  157
**** Call ## 80 ## Duration:  165
**** Call ## 81 ## Duration:  141
      ✓ should create comment (1812ms)
**** Call ## 82 ## Duration:  111 (ERR)
      ✓ should disallow unauthenticated user (111ms)
**** Call ## 83 ## Duration:  235 (ERR)
      ✓ should enforce comment body (235ms)
**** Call ## 84 ## Duration:  141 (ERR)
      ✓ should disallow non-existent article (142ms)
    Get
**** Call ## 85 ## Duration:  322
      ✓ should get all comments for article (323ms)
    Delete
**** Call ## 86 ## Duration:  184
      ✓ should delete comment (184ms)
**** Call ## 87 ## Duration:  129 (ERR)
      ✓ only comment author should be able to delete comment (129ms)
**** Call ## 88 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 89 ## Duration:  138 (ERR)
      ✓ should disallow deleting unknown comment (139ms)

  User
    Create
**** Call ## 90 ## Duration:  171
      ✓ should create user (171ms)
**** Call ## 91 ## Duration:  104 (ERR)
      ✓ should disallow same username (104ms)
**** Call ## 92 ## Duration:  146 (ERR)
      ✓ should disallow same email (146ms)
**** Call ## 93 ## Duration:  82 (ERR)
**** Call ## 94 ## Duration:  82 (ERR)
**** Call ## 95 ## Duration:  82 (ERR)
**** Call ## 96 ## Duration:  92 (ERR)
      ✓ should enforce required fields (340ms)
    Login
**** Call ## 97 ## Duration:  111
      ✓ should login (111ms)
**** Call ## 98 ## Duration:  139 (ERR)
      ✓ should disallow unknown email (139ms)
**** Call ## 99 ## Duration:  138 (ERR)
      ✓ should disallow wrong password (138ms)
**** Call ## 100 ## Duration:  86 (ERR)
**** Call ## 101 ## Duration:  116 (ERR)
**** Call ## 102 ## Duration:  78 (ERR)
      ✓ should enforce required fields (281ms)
    Get
**** Call ## 103 ## Duration:  155
      ✓ should get current user (155ms)
**** Call ## 104 ## Duration:  84 (ERR)
**** Call ## 105 ## Duration:  117 (ERR)
**** Call ## 106 ## Duration:  83 (ERR)
**** Call ## 107 ## Duration:  103 (ERR)
      ✓ should disallow bad tokens (387ms)
    Profile
**** Call ## 108 ## Duration:  106
      ✓ should get profile (106ms)
**** Call ## 109 ## Duration:  96 (ERR)
      ✓ should disallow unknown username (97ms)
**** Call ## 110 ## Duration:  171
**** Call ## 111 ## Duration:  167
**** Call ## 112 ## Duration:  162
**** Call ## 113 ## Duration:  107
**** Call ## 114 ## Duration:  95
**** Call ## 115 ## Duration:  169
**** Call ## 116 ## Duration:  180
**** Call ## 117 ## Duration:  156
**** Call ## 118 ## Duration:  168
**** Call ## 119 ## Duration:  194
      ✓ should follow/unfollow user (1570ms)
**** Call ## 120 ## Duration:  155 (ERR)
      ✓ should disallow following with bad token (155ms)
    Update
**** Call ## 121 ## Duration:  152
**** Call ## 122 ## Duration:  136
**** Call ## 123 ## Duration:  122
**** Call ## 124 ## Duration:  148
      ✓ should update user (559ms)
**** Call ## 125 ## Duration:  79 (ERR)
**** Call ## 126 ## Duration:  105 (ERR)
      ✓ should disallow missing token/email in update (184ms)
**** Call ## 127 ## Duration:  163
**** Call ## 128 ## Duration:  120 (ERR)
      ✓ should disallow reusing email (283ms)

  Util
    Ping
**** Call ## 129 ## Duration:  109
      ✓ should ping (109ms)


  58 passing (19s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  187
**** Call ## 1 ## Duration:  171
**** Call ## 2 ## Duration:  151
    Create
**** Call ## 3 ## Duration:  153
      ✓ should create article (155ms)
**** Call ## 4 ## Duration:  136
      ✓ should create article with tags (139ms)
**** Call ## 5 ## Duration:  662 (ERR)
      ✓ should disallow unauthenticated user (663ms)
**** Call ## 6 ## Duration:  104 (ERR)
**** Call ## 7 ## Duration:  92 (ERR)
**** Call ## 8 ## Duration:  103 (ERR)
**** Call ## 9 ## Duration:  101 (ERR)
      ✓ should enforce required fields (400ms)
    Get
**** Call ## 10 ## Duration:  130
      ✓ should get article by slug (130ms)
**** Call ## 11 ## Duration:  133
      ✓ should get article with tags by slug (135ms)
**** Call ## 12 ## Duration:  108 (ERR)
      ✓ should disallow unknown slug (109ms)
    Update
**** Call ## 13 ## Duration:  183
**** Call ## 14 ## Duration:  175
**** Call ## 15 ## Duration:  240
      ✓ should update article (600ms)
**** Call ## 16 ## Duration:  79 (ERR)
      ✓ should disallow missing mutation (79ms)
**** Call ## 17 ## Duration:  112 (ERR)
      ✓ should disallow empty mutation (113ms)
**** Call ## 18 ## Duration:  109 (ERR)
      ✓ should disallow unauthenticated update (109ms)
**** Call ## 19 ## Duration:  116 (ERR)
      ✓ should disallow updating non-existent article (116ms)
**** Call ## 20 ## Duration:  1134 (ERR)
      ✓ should disallow non-author from updating (1135ms)
    Favorite
**** Call ## 21 ## Duration:  166
**** Call ## 22 ## Duration:  138
      ✓ should favorite article (305ms)
**** Call ## 23 ## Duration:  91 (ERR)
      ✓ should disallow favoriting by unauthenticated user (91ms)
**** Call ## 24 ## Duration:  104 (ERR)
      ✓ should disallow favoriting unknown article (104ms)
**** Call ## 25 ## Duration:  175
      ✓ should unfavorite article (175ms)
    Delete
**** Call ## 26 ## Duration:  138
**** Call ## 27 ## Duration:  108 (ERR)
      ✓ should delete article (246ms)
**** Call ## 28 ## Duration:  114 (ERR)
      ✓ should disallow deleting by unauthenticated user (114ms)
**** Call ## 29 ## Duration:  152 (ERR)
      ✓ should disallow deleting unknown article (152ms)
**** Call ## 30 ## Duration:  132 (ERR)
      ✓ should disallow deleting article by non-author (132ms)
    List
**** Call ## 31 ## Duration:  168
**** Call ## 32 ## Duration:  127
**** Call ## 33 ## Duration:  122
**** Call ## 34 ## Duration:  126
**** Call ## 35 ## Duration:  141
**** Call ## 36 ## Duration:  233
**** Call ## 37 ## Duration:  137
**** Call ## 38 ## Duration:  139
**** Call ## 39 ## Duration:  122
**** Call ## 40 ## Duration:  161
**** Call ## 41 ## Duration:  251
**** Call ## 42 ## Duration:  151
**** Call ## 43 ## Duration:  118
**** Call ## 44 ## Duration:  111
**** Call ## 45 ## Duration:  118
**** Call ## 46 ## Duration:  130
**** Call ## 47 ## Duration:  117
**** Call ## 48 ## Duration:  150
**** Call ## 49 ## Duration:  139
**** Call ## 50 ## Duration:  152
**** Call ## 51 ## Duration:  389
      ✓ should list articles (390ms)
**** Call ## 52 ## Duration:  318
**** Call ## 53 ## Duration:  298
      ✓ should list articles with tag (617ms)
**** Call ## 54 ## Duration:  222
      ✓ should list articles by author (223ms)
**** Call ## 55 ## Duration:  159
      ✓ should list articles favorited by user (159ms)
**** Call ## 56 ## Duration:  110
**** Call ## 57 ## Duration:  112
      ✓ should list articles by limit/offset (224ms)
**** Call ## 58 ## Duration:  381
      ✓ should list articles when authenticated (382ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  87 (ERR)
**** Call ## 60 ## Duration:  87 (ERR)
**** Call ## 59 ## Duration:  96 (ERR)
**** Call ## 62 ## Duration:  141
**** Call ## 63 ## Duration:  153
**** Call ## 64 ## Duration:  404
**** Call ## 65 ## Duration:  144
**** Call ## 66 ## Duration:  342
      ✓ should get feed (1187ms)
**** Call ## 67 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated feed (88ms)
    Tags
**** Call ## 68 ## Duration:  188
      ✓ should get tags (188ms)

  Comment
**** Call ## 69 ## Duration:  147
**** Call ## 70 ## Duration:  188
**** Call ## 71 ## Duration:  123
    Create
**** Call ## 72 ## Duration:  179
**** Call ## 73 ## Duration:  140
**** Call ## 74 ## Duration:  144
**** Call ## 75 ## Duration:  139
**** Call ## 76 ## Duration:  136
**** Call ## 77 ## Duration:  175
**** Call ## 78 ## Duration:  192
**** Call ## 79 ## Duration:  136
**** Call ## 80 ## Duration:  158
**** Call ## 81 ## Duration:  131
      ✓ should create comment (1532ms)
**** Call ## 82 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 83 ## Duration:  107 (ERR)
      ✓ should enforce comment body (107ms)
**** Call ## 84 ## Duration:  110 (ERR)
      ✓ should disallow non-existent article (110ms)
    Get
**** Call ## 85 ## Duration:  280
      ✓ should get all comments for article (280ms)
    Delete
**** Call ## 86 ## Duration:  153
      ✓ should delete comment (153ms)
**** Call ## 87 ## Duration:  125 (ERR)
      ✓ only comment author should be able to delete comment (126ms)
**** Call ## 88 ## Duration:  170 (ERR)
      ✓ should disallow unauthenticated user (171ms)
**** Call ## 89 ## Duration:  110 (ERR)
      ✓ should disallow deleting unknown comment (110ms)

  User
    Create
**** Call ## 90 ## Duration:  148
      ✓ should create user (148ms)
**** Call ## 91 ## Duration:  101 (ERR)
      ✓ should disallow same username (101ms)
**** Call ## 92 ## Duration:  131 (ERR)
      ✓ should disallow same email (131ms)
**** Call ## 93 ## Duration:  79 (ERR)
**** Call ## 94 ## Duration:  115 (ERR)
**** Call ## 95 ## Duration:  86 (ERR)
**** Call ## 96 ## Duration:  116 (ERR)
      ✓ should enforce required fields (396ms)
    Login
**** Call ## 97 ## Duration:  116
      ✓ should login (116ms)
**** Call ## 98 ## Duration:  90 (ERR)
      ✓ should disallow unknown email (91ms)
**** Call ## 99 ## Duration:  157 (ERR)
      ✓ should disallow wrong password (157ms)
**** Call ## 100 ## Duration:  84 (ERR)
**** Call ## 101 ## Duration:  129 (ERR)
**** Call ## 102 ## Duration:  116 (ERR)
      ✓ should enforce required fields (331ms)
    Get
**** Call ## 103 ## Duration:  131
      ✓ should get current user (132ms)
**** Call ## 104 ## Duration:  132 (ERR)
**** Call ## 105 ## Duration:  84 (ERR)
**** Call ## 106 ## Duration:  94 (ERR)
**** Call ## 107 ## Duration:  79 (ERR)
      ✓ should disallow bad tokens (391ms)
    Profile
**** Call ## 108 ## Duration:  113
      ✓ should get profile (113ms)
**** Call ## 109 ## Duration:  105 (ERR)
      ✓ should disallow unknown username (105ms)
**** Call ## 110 ## Duration:  139
**** Call ## 111 ## Duration:  169
**** Call ## 112 ## Duration:  174
**** Call ## 113 ## Duration:  129
**** Call ## 114 ## Duration:  108
**** Call ## 115 ## Duration:  143
**** Call ## 116 ## Duration:  187
**** Call ## 117 ## Duration:  181
**** Call ## 118 ## Duration:  158
**** Call ## 119 ## Duration:  162
      ✓ should follow/unfollow user (1554ms)
**** Call ## 120 ## Duration:  92 (ERR)
      ✓ should disallow following with bad token (92ms)
    Update
**** Call ## 121 ## Duration:  153
**** Call ## 122 ## Duration:  124
**** Call ## 123 ## Duration:  119
**** Call ## 124 ## Duration:  111
      ✓ should update user (507ms)
**** Call ## 125 ## Duration:  95 (ERR)
**** Call ## 126 ## Duration:  109 (ERR)
      ✓ should disallow missing token/email in update (205ms)
**** Call ## 127 ## Duration:  143
**** Call ## 128 ## Duration:  124 (ERR)
      ✓ should disallow reusing email (268ms)

  Util
    Ping
**** Call ## 129 ## Duration:  110
      ✓ should ping (110ms)


  58 passing (20s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  241
**** Call ## 1 ## Duration:  164
**** Call ## 2 ## Duration:  179
    Create
**** Call ## 3 ## Duration:  204
      ✓ should create article (206ms)
**** Call ## 4 ## Duration:  128
      ✓ should create article with tags (130ms)
**** Call ## 5 ## Duration:  323 (ERR)
      ✓ should disallow unauthenticated user (323ms)
**** Call ## 6 ## Duration:  99 (ERR)
**** Call ## 7 ## Duration:  144 (ERR)
**** Call ## 8 ## Duration:  100 (ERR)
**** Call ## 9 ## Duration:  110 (ERR)
      ✓ should enforce required fields (456ms)
    Get
**** Call ## 10 ## Duration:  133
      ✓ should get article by slug (134ms)
**** Call ## 11 ## Duration:  152
      ✓ should get article with tags by slug (152ms)
**** Call ## 12 ## Duration:  119 (ERR)
      ✓ should disallow unknown slug (119ms)
    Update
**** Call ## 13 ## Duration:  151
**** Call ## 14 ## Duration:  153
**** Call ## 15 ## Duration:  162
      ✓ should update article (468ms)
**** Call ## 16 ## Duration:  119 (ERR)
      ✓ should disallow missing mutation (120ms)
**** Call ## 17 ## Duration:  86 (ERR)
      ✓ should disallow empty mutation (86ms)
**** Call ## 18 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated update (79ms)
**** Call ## 19 ## Duration:  105 (ERR)
      ✓ should disallow updating non-existent article (105ms)
**** Call ## 20 ## Duration:  149 (ERR)
      ✓ should disallow non-author from updating (150ms)
    Favorite
**** Call ## 21 ## Duration:  167
**** Call ## 22 ## Duration:  120
      ✓ should favorite article (288ms)
**** Call ## 23 ## Duration:  88 (ERR)
      ✓ should disallow favoriting by unauthenticated user (88ms)
**** Call ## 24 ## Duration:  162 (ERR)
      ✓ should disallow favoriting unknown article (163ms)
**** Call ## 25 ## Duration:  199
      ✓ should unfavorite article (200ms)
    Delete
**** Call ## 26 ## Duration:  164
**** Call ## 27 ## Duration:  109 (ERR)
      ✓ should delete article (273ms)
**** Call ## 28 ## Duration:  83 (ERR)
      ✓ should disallow deleting by unauthenticated user (83ms)
**** Call ## 29 ## Duration:  127 (ERR)
      ✓ should disallow deleting unknown article (127ms)
**** Call ## 30 ## Duration:  131 (ERR)
      ✓ should disallow deleting article by non-author (131ms)
    List
**** Call ## 31 ## Duration:  186
**** Call ## 32 ## Duration:  133
**** Call ## 33 ## Duration:  131
**** Call ## 34 ## Duration:  126
**** Call ## 35 ## Duration:  115
**** Call ## 36 ## Duration:  118
**** Call ## 37 ## Duration:  114
**** Call ## 38 ## Duration:  128
**** Call ## 39 ## Duration:  167
**** Call ## 40 ## Duration:  117
**** Call ## 41 ## Duration:  131
**** Call ## 42 ## Duration:  166
**** Call ## 43 ## Duration:  111
**** Call ## 44 ## Duration:  129
**** Call ## 45 ## Duration:  112
**** Call ## 46 ## Duration:  124
**** Call ## 47 ## Duration:  128
**** Call ## 48 ## Duration:  132
**** Call ## 49 ## Duration:  151
**** Call ## 50 ## Duration:  133
**** Call ## 51 ## Duration:  339
      ✓ should list articles (339ms)
**** Call ## 52 ## Duration:  355
**** Call ## 53 ## Duration:  351
      ✓ should list articles with tag (706ms)
**** Call ## 54 ## Duration:  289
      ✓ should list articles by author (290ms)
**** Call ## 55 ## Duration:  152
      ✓ should list articles favorited by user (152ms)
**** Call ## 56 ## Duration:  126
**** Call ## 57 ## Duration:  260
      ✓ should list articles by limit/offset (386ms)
**** Call ## 58 ## Duration:  365
      ✓ should list articles when authenticated (365ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  81 (ERR)
**** Call ## 60 ## Duration:  88 (ERR)
**** Call ## 59 ## Duration:  94 (ERR)
**** Call ## 62 ## Duration:  117
**** Call ## 63 ## Duration:  178
**** Call ## 64 ## Duration:  268
**** Call ## 65 ## Duration:  139
**** Call ## 66 ## Duration:  327
      ✓ should get feed (1030ms)
**** Call ## 67 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated feed (82ms)
    Tags
**** Call ## 68 ## Duration:  203
      ✓ should get tags (203ms)

  Comment
**** Call ## 69 ## Duration:  139
**** Call ## 70 ## Duration:  162
**** Call ## 71 ## Duration:  132
    Create
**** Call ## 72 ## Duration:  212
**** Call ## 73 ## Duration:  157
**** Call ## 74 ## Duration:  121
**** Call ## 75 ## Duration:  160
**** Call ## 76 ## Duration:  143
**** Call ## 77 ## Duration:  146
**** Call ## 78 ## Duration:  130
**** Call ## 79 ## Duration:  127
**** Call ## 80 ## Duration:  125
**** Call ## 81 ## Duration:  113
      ✓ should create comment (1438ms)
**** Call ## 82 ## Duration:  217 (ERR)
      ✓ should disallow unauthenticated user (218ms)
**** Call ## 83 ## Duration:  103 (ERR)
      ✓ should enforce comment body (103ms)
**** Call ## 84 ## Duration:  107 (ERR)
      ✓ should disallow non-existent article (107ms)
    Get
**** Call ## 85 ## Duration:  284
      ✓ should get all comments for article (284ms)
    Delete
**** Call ## 86 ## Duration:  783
      ✓ should delete comment (783ms)
**** Call ## 87 ## Duration:  117 (ERR)
      ✓ only comment author should be able to delete comment (118ms)
**** Call ## 88 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (86ms)
**** Call ## 89 ## Duration:  109 (ERR)
      ✓ should disallow deleting unknown comment (109ms)

  User
    Create
**** Call ## 90 ## Duration:  155
      ✓ should create user (155ms)
**** Call ## 91 ## Duration:  113 (ERR)
      ✓ should disallow same username (113ms)
**** Call ## 92 ## Duration:  113 (ERR)
      ✓ should disallow same email (114ms)
**** Call ## 93 ## Duration:  79 (ERR)
**** Call ## 94 ## Duration:  81 (ERR)
**** Call ## 95 ## Duration:  88 (ERR)
**** Call ## 96 ## Duration:  87 (ERR)
      ✓ should enforce required fields (336ms)
    Login
**** Call ## 97 ## Duration:  114
      ✓ should login (114ms)
**** Call ## 98 ## Duration:  97 (ERR)
      ✓ should disallow unknown email (97ms)
**** Call ## 99 ## Duration:  107 (ERR)
      ✓ should disallow wrong password (108ms)
**** Call ## 100 ## Duration:  91 (ERR)
**** Call ## 101 ## Duration:  79 (ERR)
**** Call ## 102 ## Duration:  247 (ERR)
      ✓ should enforce required fields (419ms)
    Get
**** Call ## 103 ## Duration:  100
      ✓ should get current user (100ms)
**** Call ## 104 ## Duration:  78 (ERR)
**** Call ## 105 ## Duration:  158 (ERR)
**** Call ## 106 ## Duration:  112 (ERR)
**** Call ## 107 ## Duration:  87 (ERR)
      ✓ should disallow bad tokens (436ms)
    Profile
**** Call ## 108 ## Duration:  1471
      ✓ should get profile (1473ms)
**** Call ## 109 ## Duration:  106 (ERR)
      ✓ should disallow unknown username (107ms)
**** Call ## 110 ## Duration:  148
**** Call ## 111 ## Duration:  156
**** Call ## 112 ## Duration:  141
**** Call ## 113 ## Duration:  107
**** Call ## 114 ## Duration:  106
**** Call ## 115 ## Duration:  135
**** Call ## 116 ## Duration:  197
**** Call ## 117 ## Duration:  211
**** Call ## 118 ## Duration:  167
**** Call ## 119 ## Duration:  165
      ✓ should follow/unfollow user (1534ms)
**** Call ## 120 ## Duration:  79 (ERR)
      ✓ should disallow following with bad token (79ms)
    Update
**** Call ## 121 ## Duration:  128
**** Call ## 122 ## Duration:  112
**** Call ## 123 ## Duration:  105
**** Call ## 124 ## Duration:  143
      ✓ should update user (488ms)
**** Call ## 125 ## Duration:  109 (ERR)
**** Call ## 126 ## Duration:  104 (ERR)
      ✓ should disallow missing token/email in update (214ms)
**** Call ## 127 ## Duration:  152
**** Call ## 128 ## Duration:  106 (ERR)
      ✓ should disallow reusing email (259ms)

  Util
    Ping
**** Call ## 129 ## Duration:  82
      ✓ should ping (82ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://1r9d7syfaj.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  181
**** Call ## 1 ## Duration:  189
**** Call ## 2 ## Duration:  128
    Create
**** Call ## 3 ## Duration:  118
      ✓ should create article (120ms)
**** Call ## 4 ## Duration:  127
      ✓ should create article with tags (129ms)
**** Call ## 5 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 6 ## Duration:  101 (ERR)
**** Call ## 7 ## Duration:  95 (ERR)
**** Call ## 8 ## Duration:  152 (ERR)
**** Call ## 9 ## Duration:  102 (ERR)
      ✓ should enforce required fields (451ms)
    Get
**** Call ## 10 ## Duration:  113
      ✓ should get article by slug (114ms)
**** Call ## 11 ## Duration:  124
      ✓ should get article with tags by slug (124ms)
**** Call ## 12 ## Duration:  131 (ERR)
      ✓ should disallow unknown slug (131ms)
    Update
**** Call ## 13 ## Duration:  197
**** Call ## 14 ## Duration:  185
**** Call ## 15 ## Duration:  189
      ✓ should update article (574ms)
**** Call ## 16 ## Duration:  84 (ERR)
      ✓ should disallow missing mutation (84ms)
**** Call ## 17 ## Duration:  81 (ERR)
      ✓ should disallow empty mutation (81ms)
**** Call ## 18 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated update (81ms)
**** Call ## 19 ## Duration:  114 (ERR)
      ✓ should disallow updating non-existent article (115ms)
**** Call ## 20 ## Duration:  139 (ERR)
      ✓ should disallow non-author from updating (139ms)
    Favorite
**** Call ## 21 ## Duration:  159
**** Call ## 22 ## Duration:  134
      ✓ should favorite article (294ms)
**** Call ## 23 ## Duration:  85 (ERR)
      ✓ should disallow favoriting by unauthenticated user (85ms)
**** Call ## 24 ## Duration:  213 (ERR)
      ✓ should disallow favoriting unknown article (213ms)
**** Call ## 25 ## Duration:  166
      ✓ should unfavorite article (166ms)
    Delete
**** Call ## 26 ## Duration:  159
**** Call ## 27 ## Duration:  126 (ERR)
      ✓ should delete article (285ms)
**** Call ## 28 ## Duration:  109 (ERR)
      ✓ should disallow deleting by unauthenticated user (109ms)
**** Call ## 29 ## Duration:  128 (ERR)
      ✓ should disallow deleting unknown article (129ms)
**** Call ## 30 ## Duration:  121 (ERR)
      ✓ should disallow deleting article by non-author (122ms)
    List
**** Call ## 31 ## Duration:  130
**** Call ## 32 ## Duration:  139
**** Call ## 33 ## Duration:  137
**** Call ## 34 ## Duration:  130
**** Call ## 35 ## Duration:  141
**** Call ## 36 ## Duration:  111
**** Call ## 37 ## Duration:  132
**** Call ## 38 ## Duration:  129
**** Call ## 39 ## Duration:  135
**** Call ## 40 ## Duration:  150
**** Call ## 41 ## Duration:  127
**** Call ## 42 ## Duration:  127
**** Call ## 43 ## Duration:  136
**** Call ## 44 ## Duration:  127
**** Call ## 45 ## Duration:  130
**** Call ## 46 ## Duration:  144
**** Call ## 47 ## Duration:  123
**** Call ## 48 ## Duration:  154
**** Call ## 49 ## Duration:  129
**** Call ## 50 ## Duration:  117
**** Call ## 51 ## Duration:  348
      ✓ should list articles (349ms)
**** Call ## 52 ## Duration:  298
**** Call ## 53 ## Duration:  248
      ✓ should list articles with tag (546ms)
**** Call ## 54 ## Duration:  239
      ✓ should list articles by author (239ms)
**** Call ## 55 ## Duration:  238
      ✓ should list articles favorited by user (238ms)
**** Call ## 56 ## Duration:  140
**** Call ## 57 ## Duration:  164
      ✓ should list articles by limit/offset (304ms)
**** Call ## 58 ## Duration:  372
      ✓ should list articles when authenticated (372ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  84 (ERR)
**** Call ## 59 ## Duration:  85 (ERR)
**** Call ## 60 ## Duration:  88 (ERR)
**** Call ## 62 ## Duration:  126
**** Call ## 63 ## Duration:  231
**** Call ## 64 ## Duration:  319
**** Call ## 65 ## Duration:  136
**** Call ## 66 ## Duration:  300
      ✓ should get feed (1113ms)
**** Call ## 67 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated feed (84ms)
    Tags
**** Call ## 68 ## Duration:  229
      ✓ should get tags (229ms)

  Comment
**** Call ## 69 ## Duration:  182
**** Call ## 70 ## Duration:  133
**** Call ## 71 ## Duration:  122
    Create
**** Call ## 72 ## Duration:  204
**** Call ## 73 ## Duration:  131
**** Call ## 74 ## Duration:  147
**** Call ## 75 ## Duration:  138
**** Call ## 76 ## Duration:  137
**** Call ## 77 ## Duration:  135
**** Call ## 78 ## Duration:  124
**** Call ## 79 ## Duration:  125
**** Call ## 80 ## Duration:  131
**** Call ## 81 ## Duration:  149
      ✓ should create comment (1422ms)
**** Call ## 82 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 83 ## Duration:  98 (ERR)
      ✓ should enforce comment body (98ms)
**** Call ## 84 ## Duration:  108 (ERR)
      ✓ should disallow non-existent article (108ms)
    Get
**** Call ## 85 ## Duration:  237
      ✓ should get all comments for article (237ms)
    Delete
**** Call ## 86 ## Duration:  154
      ✓ should delete comment (154ms)
**** Call ## 87 ## Duration:  113 (ERR)
      ✓ only comment author should be able to delete comment (113ms)
**** Call ## 88 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated user (89ms)
**** Call ## 89 ## Duration:  139 (ERR)
      ✓ should disallow deleting unknown comment (140ms)

  User
    Create
**** Call ## 90 ## Duration:  171
      ✓ should create user (171ms)
**** Call ## 91 ## Duration:  116 (ERR)
      ✓ should disallow same username (116ms)
**** Call ## 92 ## Duration:  248 (ERR)
      ✓ should disallow same email (248ms)
**** Call ## 93 ## Duration:  101 (ERR)
**** Call ## 94 ## Duration:  87 (ERR)
**** Call ## 95 ## Duration:  122 (ERR)
**** Call ## 96 ## Duration:  106 (ERR)
      ✓ should enforce required fields (418ms)
    Login
**** Call ## 97 ## Duration:  117
      ✓ should login (117ms)
**** Call ## 98 ## Duration:  95 (ERR)
      ✓ should disallow unknown email (96ms)
**** Call ## 99 ## Duration:  106 (ERR)
      ✓ should disallow wrong password (106ms)
**** Call ## 100 ## Duration:  82 (ERR)
**** Call ## 101 ## Duration:  114 (ERR)
**** Call ## 102 ## Duration:  86 (ERR)
      ✓ should enforce required fields (282ms)
    Get
**** Call ## 103 ## Duration:  133
      ✓ should get current user (133ms)
**** Call ## 104 ## Duration:  80 (ERR)
**** Call ## 105 ## Duration:  80 (ERR)
**** Call ## 106 ## Duration:  256 (ERR)
**** Call ## 107 ## Duration:  80 (ERR)
      ✓ should disallow bad tokens (496ms)
    Profile
**** Call ## 108 ## Duration:  113
      ✓ should get profile (113ms)
**** Call ## 109 ## Duration:  104 (ERR)
      ✓ should disallow unknown username (105ms)
**** Call ## 110 ## Duration:  147
**** Call ## 111 ## Duration:  189
**** Call ## 112 ## Duration:  146
**** Call ## 113 ## Duration:  109
**** Call ## 114 ## Duration:  94
**** Call ## 115 ## Duration:  147
**** Call ## 116 ## Duration:  202
**** Call ## 117 ## Duration:  164
**** Call ## 118 ## Duration:  155
**** Call ## 119 ## Duration:  156
      ✓ should follow/unfollow user (1511ms)
**** Call ## 120 ## Duration:  88 (ERR)
      ✓ should disallow following with bad token (88ms)
    Update
**** Call ## 121 ## Duration:  156
**** Call ## 122 ## Duration:  152
**** Call ## 123 ## Duration:  121
**** Call ## 124 ## Duration:  115
      ✓ should update user (545ms)
**** Call ## 125 ## Duration:  84 (ERR)
**** Call ## 126 ## Duration:  114 (ERR)
      ✓ should disallow missing token/email in update (198ms)
**** Call ## 127 ## Duration:  141
**** Call ## 128 ## Duration:  153 (ERR)
      ✓ should disallow reusing email (295ms)

  Util
    Ping
**** Call ## 129 ## Duration:  119
      ✓ should ping (120ms)


  58 passing (18s)

results20200520181855/rec-res-9-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
......................................................................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
