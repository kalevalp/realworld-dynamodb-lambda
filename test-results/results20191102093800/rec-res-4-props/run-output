Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
.....
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (26.24 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
..........................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (26.24 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (26.24 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  962
**** Call ## 1 ## Duration:  136
**** Call ## 2 ## Duration:  97
    Create
**** Call ## 3 ## Duration:  794
      ✓ should create article (798ms)
**** Call ## 4 ## Duration:  103
      ✓ should create article with tags (105ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  712 (ERR)
**** Call ## 7 ## Duration:  86 (ERR)
**** Call ## 8 ## Duration:  77 (ERR)
**** Call ## 9 ## Duration:  69 (ERR)
      ✓ should enforce required fields (945ms)
    Get
**** Call ## 10 ## Duration:  853
      ✓ should get article by slug (854ms)
**** Call ## 11 ## Duration:  92
      ✓ should get article with tags by slug (92ms)
**** Call ## 12 ## Duration:  46 (ERR)
      ✓ should disallow unknown slug (46ms)
    Update
**** Call ## 13 ## Duration:  961
**** Call ## 14 ## Duration:  158
**** Call ## 15 ## Duration:  149
      ✓ should update article (1272ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  599 (ERR)
      ✓ should disallow empty mutation (599ms)
**** Call ## 18 ## Duration:  50 (ERR)
      ✓ should disallow unauthenticated update (50ms)
**** Call ## 19 ## Duration:  158 (ERR)
      ✓ should disallow updating non-existent article (158ms)
**** Call ## 20 ## Duration:  77 (ERR)
      ✓ should disallow non-author from updating (77ms)
    Favorite
**** Call ## 21 ## Duration:  838
**** Call ## 22 ## Duration:  106
      ✓ should favorite article (944ms)
**** Call ## 23 ## Duration:  30 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  75 (ERR)
      ✓ should disallow favoriting unknown article (75ms)
**** Call ## 25 ## Duration:  829
      ✓ should unfavorite article (829ms)
    Delete
**** Call ## 26 ## Duration:  802
**** Call ## 27 ## Duration:  48 (ERR)
      ✓ should delete article (850ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  76 (ERR)
      ✓ should disallow deleting unknown article (76ms)
**** Call ## 30 ## Duration:  78 (ERR)
      ✓ should disallow deleting article by non-author (79ms)
    List
**** Call ## 31 ## Duration:  130
**** Call ## 32 ## Duration:  98
**** Call ## 33 ## Duration:  106
**** Call ## 34 ## Duration:  92
**** Call ## 35 ## Duration:  70
**** Call ## 36 ## Duration:  90
**** Call ## 37 ## Duration:  148
**** Call ## 38 ## Duration:  59
**** Call ## 39 ## Duration:  106
**** Call ## 40 ## Duration:  89
**** Call ## 41 ## Duration:  86
**** Call ## 42 ## Duration:  97
**** Call ## 43 ## Duration:  87
**** Call ## 44 ## Duration:  103
**** Call ## 45 ## Duration:  88
**** Call ## 46 ## Duration:  100
**** Call ## 47 ## Duration:  114
**** Call ## 48 ## Duration:  62
**** Call ## 49 ## Duration:  90
**** Call ## 50 ## Duration:  83
**** Call ## 51 ## Duration:  1146
      ✓ should list articles (1146ms)
**** Call ## 52 ## Duration:  93
**** Call ## 53 ## Duration:  148
      ✓ should list articles with tag (241ms)
**** Call ## 54 ## Duration:  194
      ✓ should list articles by author (194ms)
**** Call ## 55 ## Duration:  34
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  800
**** Call ## 57 ## Duration:  124
      ✓ should list articles by limit/offset (924ms)
**** Call ## 58 ## Duration:  370
      ✓ should list articles when authenticated (370ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  563 (ERR)
**** Call ## 62 ## Duration:  870
**** Call ## 63 ## Duration:  957
**** Call ## 64 ## Duration:  285
**** Call ## 65 ## Duration:  156
**** Call ## 66 ## Duration:  378
      ✓ should get feed (2649ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  748
      ✓ should get tags (748ms)

  Comment
**** Call ## 69 ## Duration:  173
**** Call ## 70 ## Duration:  121
**** Call ## 71 ## Duration:  124
    Create
**** Call ## 72 ## Duration:  734
**** Call ## 73 ## Duration:  112
**** Call ## 74 ## Duration:  143
**** Call ## 75 ## Duration:  143
**** Call ## 76 ## Duration:  99
**** Call ## 77 ## Duration:  106
**** Call ## 78 ## Duration:  119
**** Call ## 79 ## Duration:  92
**** Call ## 80 ## Duration:  101
**** Call ## 81 ## Duration:  100
      ✓ should create comment (1752ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  629 (ERR)
      ✓ should enforce comment body (630ms)
**** Call ## 84 ## Duration:  77 (ERR)
      ✓ should disallow non-existent article (78ms)
    Get
**** Call ## 85 ## Duration:  893
      ✓ should get all comments for article (893ms)
    Delete
**** Call ## 86 ## Duration:  731
      ✓ should delete comment (731ms)
**** Call ## 87 ## Duration:  67 (ERR)
      ✓ only comment author should be able to delete comment (69ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  662 (ERR)
      ✓ should disallow deleting unknown comment (662ms)

  User
    Create
**** Call ## 90 ## Duration:  254
      ✓ should create user (255ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  151 (ERR)
      ✓ should disallow same email (151ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  576 (ERR)
**** Call ## 95 ## Duration:  62 (ERR)
**** Call ## 96 ## Duration:  24 (ERR)
      ✓ should enforce required fields (685ms)
    Login
**** Call ## 97 ## Duration:  871
      ✓ should login (871ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  789 (ERR)
      ✓ should disallow wrong password (790ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (64ms)
    Get
**** Call ## 103 ## Duration:  800
      ✓ should get current user (800ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  616 (ERR)
**** Call ## 106 ## Duration:  52 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (712ms)
    Profile
**** Call ## 108 ## Duration:  811
      ✓ should get profile (812ms)
**** Call ## 109 ## Duration:  46 (ERR)
      ✓ should disallow unknown username (46ms)
**** Call ## 110 ## Duration:  233
**** Call ## 111 ## Duration:  190
**** Call ## 112 ## Duration:  120
**** Call ## 113 ## Duration:  105
**** Call ## 114 ## Duration:  57
**** Call ## 115 ## Duration:  161
**** Call ## 116 ## Duration:  145
**** Call ## 117 ## Duration:  849
**** Call ## 118 ## Duration:  148
**** Call ## 119 ## Duration:  117
      ✓ should follow/unfollow user (2127ms)
**** Call ## 120 ## Duration:  61 (ERR)
      ✓ should disallow following with bad token (61ms)
    Update
**** Call ## 121 ## Duration:  936
**** Call ## 122 ## Duration:  142
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  67
      ✓ should update user (1200ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  759 (ERR)
      ✓ should disallow missing token/email in update (781ms)
**** Call ## 127 ## Duration:  235
**** Call ## 128 ## Duration:  68 (ERR)
      ✓ should disallow reusing email (304ms)

  Util
    Ping
**** Call ## 129 ## Duration:  474
      ✓ should ping (474ms)


  58 passing (33s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  222
**** Call ## 1 ## Duration:  130
**** Call ## 2 ## Duration:  128
    Create
**** Call ## 3 ## Duration:  111
      ✓ should create article (114ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (93ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  137 (ERR)
**** Call ## 7 ## Duration:  68 (ERR)
**** Call ## 8 ## Duration:  67 (ERR)
**** Call ## 9 ## Duration:  77 (ERR)
      ✓ should enforce required fields (350ms)
    Get
**** Call ## 10 ## Duration:  149
      ✓ should get article by slug (149ms)
**** Call ## 11 ## Duration:  92
      ✓ should get article with tags by slug (93ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  221
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  133
      ✓ should update article (503ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  58 (ERR)
      ✓ should disallow empty mutation (59ms)
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  75 (ERR)
      ✓ should disallow non-author from updating (75ms)
    Favorite
**** Call ## 21 ## Duration:  191
**** Call ## 22 ## Duration:  148
      ✓ should favorite article (340ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  74 (ERR)
      ✓ should disallow favoriting unknown article (74ms)
**** Call ## 25 ## Duration:  203
      ✓ should unfavorite article (204ms)
    Delete
**** Call ## 26 ## Duration:  184
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (223ms)
**** Call ## 28 ## Duration:  31 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  80 (ERR)
      ✓ should disallow deleting unknown article (81ms)
**** Call ## 30 ## Duration:  60 (ERR)
      ✓ should disallow deleting article by non-author (60ms)
    List
**** Call ## 31 ## Duration:  121
**** Call ## 32 ## Duration:  86
**** Call ## 33 ## Duration:  90
**** Call ## 34 ## Duration:  248
**** Call ## 35 ## Duration:  90
**** Call ## 36 ## Duration:  90
**** Call ## 37 ## Duration:  88
**** Call ## 38 ## Duration:  105
**** Call ## 39 ## Duration:  144
**** Call ## 40 ## Duration:  76
**** Call ## 41 ## Duration:  88
**** Call ## 42 ## Duration:  85
**** Call ## 43 ## Duration:  94
**** Call ## 44 ## Duration:  67
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  97
**** Call ## 47 ## Duration:  87
**** Call ## 48 ## Duration:  98
**** Call ## 49 ## Duration:  157
**** Call ## 50 ## Duration:  94
**** Call ## 51 ## Duration:  522
      ✓ should list articles (522ms)
**** Call ## 52 ## Duration:  73
**** Call ## 53 ## Duration:  217
      ✓ should list articles with tag (290ms)
**** Call ## 54 ## Duration:  101 (ERR)
      1) should list articles by author

  23 passing (6s)
  1 failing

  1) Article
       List
         should list articles by author:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:18:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:202:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T11_09_29_198Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  196
**** Call ## 1 ## Duration:  123
**** Call ## 2 ## Duration:  125
    Create
**** Call ## 3 ## Duration:  110
      ✓ should create article (112ms)
**** Call ## 4 ## Duration:  116
      ✓ should create article with tags (118ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  85 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  69 (ERR)
**** Call ## 9 ## Duration:  54 (ERR)
      ✓ should enforce required fields (278ms)
    Get
**** Call ## 10 ## Duration:  113
      ✓ should get article by slug (113ms)
**** Call ## 11 ## Duration:  99
      ✓ should get article with tags by slug (99ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  184
**** Call ## 14 ## Duration:  148
**** Call ## 15 ## Duration:  136
      ✓ should update article (469ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  62 (ERR)
      ✓ should disallow empty mutation (62ms)
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (72ms)
**** Call ## 20 ## Duration:  74 (ERR)
      ✓ should disallow non-author from updating (74ms)
    Favorite
**** Call ## 21 ## Duration:  314
**** Call ## 22 ## Duration:  127
      ✓ should favorite article (441ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  201
      ✓ should unfavorite article (201ms)
    Delete
**** Call ## 26 ## Duration:  158
**** Call ## 27 ## Duration:  48 (ERR)
      ✓ should delete article (207ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  70 (ERR)
      ✓ should disallow deleting article by non-author (70ms)
    List
**** Call ## 31 ## Duration:  95
**** Call ## 32 ## Duration:  96
**** Call ## 33 ## Duration:  83
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  77
**** Call ## 36 ## Duration:  76
**** Call ## 37 ## Duration:  76
**** Call ## 38 ## Duration:  73
**** Call ## 39 ## Duration:  76
**** Call ## 40 ## Duration:  67
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  100
**** Call ## 43 ## Duration:  87
**** Call ## 44 ## Duration:  101
**** Call ## 45 ## Duration:  72
**** Call ## 46 ## Duration:  169
**** Call ## 47 ## Duration:  83
**** Call ## 48 ## Duration:  85
**** Call ## 49 ## Duration:  79
**** Call ## 50 ## Duration:  86
**** Call ## 51 ## Duration:  538
      ✓ should list articles (538ms)
**** Call ## 52 ## Duration:  93
**** Call ## 53 ## Duration:  411
      ✓ should list articles with tag (504ms)
**** Call ## 54 ## Duration:  332
      ✓ should list articles by author (332ms)
**** Call ## 55 ## Duration:  49
      ✓ should list articles favorited by user (49ms)
**** Call ## 56 ## Duration:  106
**** Call ## 57 ## Duration:  171
      ✓ should list articles by limit/offset (278ms)
**** Call ## 58 ## Duration:  474
      ✓ should list articles when authenticated (474ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 61 ## Duration:  64 (ERR)
**** Call ## 60 ## Duration:  65 (ERR)
**** Call ## 62 ## Duration:  195
**** Call ## 63 ## Duration:  156
**** Call ## 64 ## Duration:  254
**** Call ## 65 ## Duration:  135
**** Call ## 66 ## Duration:  396
      ✓ should get feed (1138ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  116
      ✓ should get tags (116ms)

  Comment
**** Call ## 69 ## Duration:  152
**** Call ## 70 ## Duration:  150
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  119
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  131
**** Call ## 75 ## Duration:  112
**** Call ## 76 ## Duration:  99
**** Call ## 77 ## Duration:  103
**** Call ## 78 ## Duration:  104
**** Call ## 79 ## Duration:  116
**** Call ## 80 ## Duration:  81
**** Call ## 81 ## Duration:  97
      ✓ should create comment (1072ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  112 (ERR)
      ✓ should enforce comment body (112ms)
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  288
      ✓ should get all comments for article (290ms)
    Delete
**** Call ## 86 ## Duration:  176
      ✓ should delete comment (177ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  40 (ERR)
      ✓ should disallow unauthenticated user (40ms)
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  123
      ✓ should create user (124ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  54 (ERR)
      ✓ should disallow same email (55ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  26 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (97ms)
    Login
**** Call ## 97 ## Duration:  140
      ✓ should login (140ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  105 (ERR)
      ✓ should disallow wrong password (106ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  170
      ✓ should get current user (170ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  59 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  39 (ERR)
      ✓ should disallow bad tokens (140ms)
    Profile
**** Call ## 108 ## Duration:  133
      ✓ should get profile (134ms)
**** Call ## 109 ## Duration:  52 (ERR)
      ✓ should disallow unknown username (53ms)
**** Call ## 110 ## Duration:  108
**** Call ## 111 ## Duration:  127
**** Call ## 112 ## Duration:  133
**** Call ## 113 ## Duration:  112
**** Call ## 114 ## Duration:  69
**** Call ## 115 ## Duration:  133
**** Call ## 116 ## Duration:  99
**** Call ## 117 ## Duration:  197
**** Call ## 118 ## Duration:  121
**** Call ## 119 ## Duration:  103
      ✓ should follow/unfollow user (1204ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  148
**** Call ## 122 ## Duration:  104
**** Call ## 123 ## Duration:  76
**** Call ## 124 ## Duration:  64
      ✓ should update user (393ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  114 (ERR)
      ✓ should disallow missing token/email in update (134ms)
**** Call ## 127 ## Duration:  99
**** Call ## 128 ## Duration:  43 (ERR)
      ✓ should disallow reusing email (143ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  168
**** Call ## 1 ## Duration:  139
**** Call ## 2 ## Duration:  127
    Create
**** Call ## 3 ## Duration:  85
      ✓ should create article (87ms)
**** Call ## 4 ## Duration:  98
      ✓ should create article with tags (100ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  75 (ERR)
**** Call ## 7 ## Duration:  72 (ERR)
**** Call ## 8 ## Duration:  70 (ERR)
**** Call ## 9 ## Duration:  75 (ERR)
      ✓ should enforce required fields (292ms)
    Get
**** Call ## 10 ## Duration:  88
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (90ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  162
**** Call ## 14 ## Duration:  171
**** Call ## 15 ## Duration:  276
      ✓ should update article (611ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  80 (ERR)
      ✓ should disallow updating non-existent article (81ms)
**** Call ## 20 ## Duration:  73 (ERR)
      ✓ should disallow non-author from updating (73ms)
    Favorite
**** Call ## 21 ## Duration:  162
**** Call ## 22 ## Duration:  113
      ✓ should favorite article (276ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  57 (ERR)
      ✓ should disallow favoriting unknown article (57ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (132ms)
    Delete
**** Call ## 26 ## Duration:  119
**** Call ## 27 ## Duration:  30 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  26 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  62 (ERR)
      ✓ should disallow deleting article by non-author (62ms)
    List
**** Call ## 31 ## Duration:  111
**** Call ## 32 ## Duration:  101
**** Call ## 33 ## Duration:  181
**** Call ## 34 ## Duration:  119
**** Call ## 35 ## Duration:  94
**** Call ## 36 ## Duration:  103
**** Call ## 37 ## Duration:  89
**** Call ## 38 ## Duration:  78
**** Call ## 39 ## Duration:  91
**** Call ## 40 ## Duration:  85
**** Call ## 41 ## Duration:  79
**** Call ## 42 ## Duration:  134
**** Call ## 43 ## Duration:  75
**** Call ## 44 ## Duration:  95
**** Call ## 45 ## Duration:  104
**** Call ## 46 ## Duration:  85
**** Call ## 47 ## Duration:  106
**** Call ## 48 ## Duration:  76
**** Call ## 49 ## Duration:  83
**** Call ## 50 ## Duration:  71
**** Call ## 51 ## Duration:  468
      ✓ should list articles (468ms)
**** Call ## 52 ## Duration:  133
**** Call ## 53 ## Duration:  430
      ✓ should list articles with tag (564ms)
**** Call ## 54 ## Duration:  211
      ✓ should list articles by author (211ms)
**** Call ## 55 ## Duration:  42
      ✓ should list articles favorited by user (42ms)
**** Call ## 56 ## Duration:  87
**** Call ## 57 ## Duration:  108
      ✓ should list articles by limit/offset (196ms)
**** Call ## 58 ## Duration:  452
      ✓ should list articles when authenticated (453ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  42 (ERR)
**** Call ## 59 ## Duration:  53 (ERR)
**** Call ## 62 ## Duration:  140
**** Call ## 63 ## Duration:  142
**** Call ## 64 ## Duration:  255
**** Call ## 65 ## Duration:  118
**** Call ## 66 ## Duration:  370
      ✓ should get feed (1026ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  90
      ✓ should get tags (90ms)

  Comment
**** Call ## 69 ## Duration:  126
**** Call ## 70 ## Duration:  129
**** Call ## 71 ## Duration:  97
    Create
**** Call ## 72 ## Duration:  147
**** Call ## 73 ## Duration:  115
**** Call ## 74 ## Duration:  87
**** Call ## 75 ## Duration:  84
**** Call ## 76 ## Duration:  113
**** Call ## 77 ## Duration:  107
**** Call ## 78 ## Duration:  138
**** Call ## 79 ## Duration:  104
**** Call ## 80 ## Duration:  103
**** Call ## 81 ## Duration:  86
      ✓ should create comment (1087ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  93 (ERR)
      ✓ should enforce comment body (93ms)
**** Call ## 84 ## Duration:  68 (ERR)
      ✓ should disallow non-existent article (69ms)
    Get
**** Call ## 85 ## Duration:  276
      ✓ should get all comments for article (277ms)
    Delete
**** Call ## 86 ## Duration:  106
      ✓ should delete comment (106ms)
**** Call ## 87 ## Duration:  78 (ERR)
      ✓ only comment author should be able to delete comment (78ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (66ms)

  User
    Create
**** Call ## 90 ## Duration:  117
      ✓ should create user (117ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (58ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (92ms)
    Login
**** Call ## 97 ## Duration:  121
      ✓ should login (121ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  93 (ERR)
      ✓ should disallow wrong password (93ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  105
      ✓ should get current user (105ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  64 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  28 (ERR)
      ✓ should disallow bad tokens (130ms)
    Profile
**** Call ## 108 ## Duration:  120
      ✓ should get profile (120ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  129
**** Call ## 111 ## Duration:  148
**** Call ## 112 ## Duration:  112
**** Call ## 113 ## Duration:  84
**** Call ## 114 ## Duration:  66
**** Call ## 115 ## Duration:  118
**** Call ## 116 ## Duration:  142
**** Call ## 117 ## Duration:  181
**** Call ## 118 ## Duration:  120
**** Call ## 119 ## Duration:  177
      ✓ should follow/unfollow user (1278ms)
**** Call ## 120 ## Duration:  24 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  144
**** Call ## 122 ## Duration:  57
**** Call ## 123 ## Duration:  59
**** Call ## 124 ## Duration:  61
      ✓ should update user (323ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  98 (ERR)
      ✓ should disallow missing token/email in update (121ms)
**** Call ## 127 ## Duration:  117
**** Call ## 128 ## Duration:  93 (ERR)
      ✓ should disallow reusing email (211ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  177
**** Call ## 1 ## Duration:  131
**** Call ## 2 ## Duration:  124
    Create
**** Call ## 3 ## Duration:  101
      ✓ should create article (104ms)
**** Call ## 4 ## Duration:  109
      ✓ should create article with tags (110ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  107 (ERR)
**** Call ## 7 ## Duration:  65 (ERR)
**** Call ## 8 ## Duration:  77 (ERR)
**** Call ## 9 ## Duration:  70 (ERR)
      ✓ should enforce required fields (319ms)
    Get
**** Call ## 10 ## Duration:  98
      ✓ should get article by slug (99ms)
**** Call ## 11 ## Duration:  98
      ✓ should get article with tags by slug (98ms)
**** Call ## 12 ## Duration:  35 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  175
**** Call ## 14 ## Duration:  158
**** Call ## 15 ## Duration:  118
      ✓ should update article (455ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  62 (ERR)
      ✓ should disallow updating non-existent article (63ms)
**** Call ## 20 ## Duration:  48 (ERR)
      ✓ should disallow non-author from updating (48ms)
    Favorite
**** Call ## 21 ## Duration:  152
**** Call ## 22 ## Duration:  103
      ✓ should favorite article (255ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (72ms)
**** Call ## 25 ## Duration:  141
      ✓ should unfavorite article (141ms)
    Delete
**** Call ## 26 ## Duration:  123
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (165ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  73 (ERR)
      ✓ should disallow deleting article by non-author (73ms)
    List
**** Call ## 31 ## Duration:  98
**** Call ## 32 ## Duration:  104
**** Call ## 33 ## Duration:  266
**** Call ## 34 ## Duration:  99
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  126
**** Call ## 37 ## Duration:  85
**** Call ## 38 ## Duration:  90
**** Call ## 39 ## Duration:  95
**** Call ## 40 ## Duration:  89
**** Call ## 41 ## Duration:  95
**** Call ## 42 ## Duration:  125
**** Call ## 43 ## Duration:  89
**** Call ## 44 ## Duration:  69
**** Call ## 45 ## Duration:  67
**** Call ## 46 ## Duration:  81
**** Call ## 47 ## Duration:  93
**** Call ## 48 ## Duration:  89
**** Call ## 49 ## Duration:  77
**** Call ## 50 ## Duration:  135
**** Call ## 51 ## Duration:  505
      ✓ should list articles (505ms)
**** Call ## 52 ## Duration:  145
**** Call ## 53 ## Duration:  391
      ✓ should list articles with tag (537ms)
**** Call ## 54 ## Duration:  187
      ✓ should list articles by author (187ms)
**** Call ## 55 ## Duration:  47
      ✓ should list articles favorited by user (47ms)
**** Call ## 56 ## Duration:  90
**** Call ## 57 ## Duration:  138
      ✓ should list articles by limit/offset (228ms)
**** Call ## 58 ## Duration:  374
      ✓ should list articles when authenticated (374ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  29 (ERR)
**** Call ## 62 ## Duration:  106
**** Call ## 63 ## Duration:  138
**** Call ## 64 ## Duration:  295
**** Call ## 65 ## Duration:  138
**** Call ## 66 ## Duration:  444
      ✓ should get feed (1121ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  113
      ✓ should get tags (113ms)

  Comment
**** Call ## 69 ## Duration:  108
**** Call ## 70 ## Duration:  102
**** Call ## 71 ## Duration:  104
    Create
**** Call ## 72 ## Duration:  146
**** Call ## 73 ## Duration:  100
**** Call ## 74 ## Duration:  95
**** Call ## 75 ## Duration:  87
**** Call ## 76 ## Duration:  104
**** Call ## 77 ## Duration:  92
**** Call ## 78 ## Duration:  92
**** Call ## 79 ## Duration:  73
**** Call ## 80 ## Duration:  86
**** Call ## 81 ## Duration:  85
      ✓ should create comment (962ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  278
      ✓ should get all comments for article (278ms)
    Delete
**** Call ## 86 ## Duration:  119
      ✓ should delete comment (119ms)
**** Call ## 87 ## Duration:  85 (ERR)
      ✓ only comment author should be able to delete comment (85ms)
**** Call ## 88 ## Duration:  31 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  105 (ERR)
      ✓ should disallow deleting unknown comment (105ms)

  User
    Create
**** Call ## 90 ## Duration:  100
      ✓ should create user (101ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (81ms)
    Login
**** Call ## 97 ## Duration:  82
      ✓ should login (82ms)
**** Call ## 98 ## Duration:  43 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (86ms)
    Profile
**** Call ## 108 ## Duration:  73
      ✓ should get profile (73ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  155
**** Call ## 111 ## Duration:  142
**** Call ## 112 ## Duration:  128
**** Call ## 113 ## Duration:  93
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  149
**** Call ## 116 ## Duration:  132
**** Call ## 117 ## Duration:  143
**** Call ## 118 ## Duration:  142
**** Call ## 119 ## Duration:  129
      ✓ should follow/unfollow user (1277ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  97
**** Call ## 122 ## Duration:  53
**** Call ## 123 ## Duration:  50
**** Call ## 124 ## Duration:  53
      ✓ should update user (254ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (71ms)
**** Call ## 127 ## Duration:  125
**** Call ## 128 ## Duration:  45 (ERR)
      ✓ should disallow reusing email (170ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  185
**** Call ## 1 ## Duration:  124
**** Call ## 2 ## Duration:  174
    Create
**** Call ## 3 ## Duration:  118
      ✓ should create article (121ms)
**** Call ## 4 ## Duration:  100
      ✓ should create article with tags (101ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  74 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  123 (ERR)
**** Call ## 9 ## Duration:  87 (ERR)
      ✓ should enforce required fields (355ms)
    Get
**** Call ## 10 ## Duration:  96
      ✓ should get article by slug (96ms)
**** Call ## 11 ## Duration:  102
      ✓ should get article with tags by slug (102ms)
**** Call ## 12 ## Duration:  35 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  166
**** Call ## 14 ## Duration:  137
**** Call ## 15 ## Duration:  135
      ✓ should update article (442ms)
**** Call ## 16 ## Duration:  18 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  28 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  78 (ERR)
      ✓ should disallow updating non-existent article (78ms)
**** Call ## 20 ## Duration:  144 (ERR)
      ✓ should disallow non-author from updating (145ms)
    Favorite
**** Call ## 21 ## Duration:  146
**** Call ## 22 ## Duration:  109
      ✓ should favorite article (255ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  80 (ERR)
      ✓ should disallow favoriting unknown article (80ms)
**** Call ## 25 ## Duration:  159
      ✓ should unfavorite article (159ms)
    Delete
**** Call ## 26 ## Duration:  132
**** Call ## 27 ## Duration:  47 (ERR)
      ✓ should delete article (179ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (67ms)
**** Call ## 30 ## Duration:  67 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  124
**** Call ## 32 ## Duration:  73
**** Call ## 33 ## Duration:  101
**** Call ## 34 ## Duration:  95
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  90
**** Call ## 37 ## Duration:  103
**** Call ## 38 ## Duration:  86
**** Call ## 39 ## Duration:  78
**** Call ## 40 ## Duration:  92
**** Call ## 41 ## Duration:  105
**** Call ## 42 ## Duration:  87
**** Call ## 43 ## Duration:  86
**** Call ## 44 ## Duration:  79
**** Call ## 45 ## Duration:  81
**** Call ## 46 ## Duration:  72
**** Call ## 47 ## Duration:  75
**** Call ## 48 ## Duration:  72
**** Call ## 49 ## Duration:  75
**** Call ## 50 ## Duration:  78
**** Call ## 51 ## Duration:  611
      ✓ should list articles (611ms)
**** Call ## 52 ## Duration:  140
**** Call ## 53 ## Duration:  373
      ✓ should list articles with tag (513ms)
**** Call ## 54 ## Duration:  192
      ✓ should list articles by author (192ms)
**** Call ## 55 ## Duration:  44
      ✓ should list articles favorited by user (45ms)
**** Call ## 56 ## Duration:  106
**** Call ## 57 ## Duration:  81
      ✓ should list articles by limit/offset (188ms)
**** Call ## 58 ## Duration:  446
      ✓ should list articles when authenticated (446ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  253
**** Call ## 63 ## Duration:  131
**** Call ## 64 ## Duration:  425
**** Call ## 65 ## Duration:  118
**** Call ## 66 ## Duration:  383
      ✓ should get feed (1312ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  94
      ✓ should get tags (94ms)

  Comment
**** Call ## 69 ## Duration:  277
**** Call ## 70 ## Duration:  130
**** Call ## 71 ## Duration:  79
    Create
**** Call ## 72 ## Duration:  107
**** Call ## 73 ## Duration:  83
**** Call ## 74 ## Duration:  90
**** Call ## 75 ## Duration:  95
**** Call ## 76 ## Duration:  94
**** Call ## 77 ## Duration:  90
**** Call ## 78 ## Duration:  113
**** Call ## 79 ## Duration:  96
**** Call ## 80 ## Duration:  108
**** Call ## 81 ## Duration:  138
      ✓ should create comment (1017ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  67 (ERR)
      ✓ should disallow non-existent article (67ms)
    Get
**** Call ## 85 ## Duration:  310
      ✓ should get all comments for article (310ms)
    Delete
**** Call ## 86 ## Duration:  167
      ✓ should delete comment (168ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  208 (ERR)
      ✓ should disallow deleting unknown comment (208ms)

  User
    Create
**** Call ## 90 ## Duration:  120
      ✓ should create user (120ms)
**** Call ## 91 ## Duration:  50 (ERR)
      ✓ should disallow same username (50ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (58ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  114 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (177ms)
    Login
**** Call ## 97 ## Duration:  93
      ✓ should login (93ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (88ms)
    Profile
**** Call ## 108 ## Duration:  64
      ✓ should get profile (64ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  121
**** Call ## 111 ## Duration:  119
**** Call ## 112 ## Duration:  134
**** Call ## 113 ## Duration:  108
**** Call ## 114 ## Duration:  68
**** Call ## 115 ## Duration:  95
**** Call ## 116 ## Duration:  124
**** Call ## 117 ## Duration:  134
**** Call ## 118 ## Duration:  131
**** Call ## 119 ## Duration:  112
      ✓ should follow/unfollow user (1147ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  68
**** Call ## 122 ## Duration:  52
**** Call ## 123 ## Duration:  47
**** Call ## 124 ## Duration:  64
      ✓ should update user (232ms)
**** Call ## 125 ## Duration:  30 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (74ms)
**** Call ## 127 ## Duration:  104
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (165ms)

  Util
    Ping
**** Call ## 129 ## Duration:  31
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  163
**** Call ## 1 ## Duration:  135
**** Call ## 2 ## Duration:  133
    Create
**** Call ## 3 ## Duration:  188
      ✓ should create article (190ms)
**** Call ## 4 ## Duration:  97
      ✓ should create article with tags (99ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  79 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  55 (ERR)
**** Call ## 9 ## Duration:  132 (ERR)
      ✓ should enforce required fields (337ms)
    Get
**** Call ## 10 ## Duration:  101
      ✓ should get article by slug (101ms)
**** Call ## 11 ## Duration:  95
      ✓ should get article with tags by slug (95ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  176
**** Call ## 14 ## Duration:  176
**** Call ## 15 ## Duration:  151
      ✓ should update article (504ms)
**** Call ## 16 ## Duration:  25 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  89 (ERR)
      ✓ should disallow updating non-existent article (89ms)
**** Call ## 20 ## Duration:  57 (ERR)
      ✓ should disallow non-author from updating (57ms)
    Favorite
**** Call ## 21 ## Duration:  154
**** Call ## 22 ## Duration:  113
      ✓ should favorite article (267ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  148
      ✓ should unfavorite article (148ms)
    Delete
**** Call ## 26 ## Duration:  122
**** Call ## 27 ## Duration:  44 (ERR)
      ✓ should delete article (166ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (66ms)
    List
**** Call ## 31 ## Duration:  98
**** Call ## 32 ## Duration:  95
**** Call ## 33 ## Duration:  113
**** Call ## 34 ## Duration:  115
**** Call ## 35 ## Duration:  95
**** Call ## 36 ## Duration:  88
**** Call ## 37 ## Duration:  89
**** Call ## 38 ## Duration:  125
**** Call ## 39 ## Duration:  86
**** Call ## 40 ## Duration:  77
**** Call ## 41 ## Duration:  85
**** Call ## 42 ## Duration:  69
**** Call ## 43 ## Duration:  76
**** Call ## 44 ## Duration:  94
**** Call ## 45 ## Duration:  94
**** Call ## 46 ## Duration:  88
**** Call ## 47 ## Duration:  105
**** Call ## 48 ## Duration:  124
**** Call ## 49 ## Duration:  76
**** Call ## 50 ## Duration:  87
**** Call ## 51 ## Duration:  491
      ✓ should list articles (492ms)
**** Call ## 52 ## Duration:  173
**** Call ## 53 ## Duration:  385
      ✓ should list articles with tag (558ms)
**** Call ## 54 ## Duration:  213
      ✓ should list articles by author (213ms)
**** Call ## 55 ## Duration:  84
      ✓ should list articles favorited by user (84ms)
**** Call ## 56 ## Duration:  88
**** Call ## 57 ## Duration:  83
      ✓ should list articles by limit/offset (171ms)
**** Call ## 58 ## Duration:  471
      ✓ should list articles when authenticated (471ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  27 (ERR)
**** Call ## 62 ## Duration:  141
**** Call ## 63 ## Duration:  112
**** Call ## 64 ## Duration:  254
**** Call ## 65 ## Duration:  95
**** Call ## 66 ## Duration:  394
      ✓ should get feed (997ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  93
      ✓ should get tags (93ms)

  Comment
**** Call ## 69 ## Duration:  129
**** Call ## 70 ## Duration:  151
**** Call ## 71 ## Duration:  117
    Create
**** Call ## 72 ## Duration:  105
**** Call ## 73 ## Duration:  127
**** Call ## 74 ## Duration:  251
**** Call ## 75 ## Duration:  107
**** Call ## 76 ## Duration:  115
**** Call ## 77 ## Duration:  92
**** Call ## 78 ## Duration:  101
**** Call ## 79 ## Duration:  76
**** Call ## 80 ## Duration:  88
**** Call ## 81 ## Duration:  162
      ✓ should create comment (1228ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  245
      ✓ should get all comments for article (245ms)
    Delete
**** Call ## 86 ## Duration:  156
      ✓ should delete comment (157ms)
**** Call ## 87 ## Duration:  53 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  133
      ✓ should create user (134ms)
**** Call ## 91 ## Duration:  49 (ERR)
      ✓ should disallow same username (49ms)
**** Call ## 92 ## Duration:  61 (ERR)
      ✓ should disallow same email (61ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (91ms)
    Login
**** Call ## 97 ## Duration:  73
      ✓ should login (73ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (87ms)
    Profile
**** Call ## 108 ## Duration:  203
      ✓ should get profile (203ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  129
**** Call ## 111 ## Duration:  132
**** Call ## 112 ## Duration:  113
**** Call ## 113 ## Duration:  89
**** Call ## 114 ## Duration:  62
**** Call ## 115 ## Duration:  113
**** Call ## 116 ## Duration:  89
**** Call ## 117 ## Duration:  203
**** Call ## 118 ## Duration:  120
**** Call ## 119 ## Duration:  119
      ✓ should follow/unfollow user (1169ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  94
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  59
      ✓ should update user (282ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  115
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (181ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  174
**** Call ## 1 ## Duration:  114
**** Call ## 2 ## Duration:  108
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (95ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (86ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  85 (ERR)
**** Call ## 7 ## Duration:  66 (ERR)
**** Call ## 8 ## Duration:  65 (ERR)
**** Call ## 9 ## Duration:  71 (ERR)
      ✓ should enforce required fields (290ms)
    Get
**** Call ## 10 ## Duration:  93
      ✓ should get article by slug (93ms)
**** Call ## 11 ## Duration:  93
      ✓ should get article with tags by slug (93ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  147
**** Call ## 14 ## Duration:  122
**** Call ## 15 ## Duration:  143
      ✓ should update article (413ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  74 (ERR)
      ✓ should disallow updating non-existent article (74ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  144
**** Call ## 22 ## Duration:  122
      ✓ should favorite article (266ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  75 (ERR)
      ✓ should disallow favoriting unknown article (75ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (135ms)
    Delete
**** Call ## 26 ## Duration:  122
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (163ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  80 (ERR)
      ✓ should disallow deleting unknown article (80ms)
**** Call ## 30 ## Duration:  72 (ERR)
      ✓ should disallow deleting article by non-author (72ms)
    List
**** Call ## 31 ## Duration:  138
**** Call ## 32 ## Duration:  91
**** Call ## 33 ## Duration:  102
**** Call ## 34 ## Duration:  72
**** Call ## 35 ## Duration:  87
**** Call ## 36 ## Duration:  78
**** Call ## 37 ## Duration:  117
**** Call ## 38 ## Duration:  83
**** Call ## 39 ## Duration:  68
**** Call ## 40 ## Duration:  147
**** Call ## 41 ## Duration:  75
**** Call ## 42 ## Duration:  80
**** Call ## 43 ## Duration:  92
**** Call ## 44 ## Duration:  87
**** Call ## 45 ## Duration:  98
**** Call ## 46 ## Duration:  66
**** Call ## 47 ## Duration:  71
**** Call ## 48 ## Duration:  65
**** Call ## 49 ## Duration:  82
**** Call ## 50 ## Duration:  86
**** Call ## 51 ## Duration:  454
      ✓ should list articles (455ms)
**** Call ## 52 ## Duration:  176
**** Call ## 53 ## Duration:  408
      ✓ should list articles with tag (584ms)
**** Call ## 54 ## Duration:  203
      ✓ should list articles by author (203ms)
**** Call ## 55 ## Duration:  64
      ✓ should list articles favorited by user (64ms)
**** Call ## 56 ## Duration:  70
**** Call ## 57 ## Duration:  83
      ✓ should list articles by limit/offset (153ms)
**** Call ## 58 ## Duration:  472
      ✓ should list articles when authenticated (472ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 59 ## Duration:  26 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  148
**** Call ## 63 ## Duration:  128
**** Call ## 64 ## Duration:  328
**** Call ## 65 ## Duration:  130
**** Call ## 66 ## Duration:  407
      ✓ should get feed (1141ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  93
      ✓ should get tags (93ms)

  Comment
**** Call ## 69 ## Duration:  125
**** Call ## 70 ## Duration:  105
**** Call ## 71 ## Duration:  86
    Create
**** Call ## 72 ## Duration:  121
**** Call ## 73 ## Duration:  100
**** Call ## 74 ## Duration:  110
**** Call ## 75 ## Duration:  123
**** Call ## 76 ## Duration:  108
**** Call ## 77 ## Duration:  135
**** Call ## 78 ## Duration:  91
**** Call ## 79 ## Duration:  107
**** Call ## 80 ## Duration:  111
**** Call ## 81 ## Duration:  90
      ✓ should create comment (1099ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  56 (ERR)
      ✓ should enforce comment body (58ms)
**** Call ## 84 ## Duration:  68 (ERR)
      ✓ should disallow non-existent article (68ms)
    Get
**** Call ## 85 ## Duration:  215
      ✓ should get all comments for article (215ms)
    Delete
**** Call ## 86 ## Duration:  146
      ✓ should delete comment (147ms)
**** Call ## 87 ## Duration:  56 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  108
      ✓ should create user (108ms)
**** Call ## 91 ## Duration:  48 (ERR)
      ✓ should disallow same username (49ms)
**** Call ## 92 ## Duration:  73 (ERR)
      ✓ should disallow same email (73ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  75
      ✓ should login (75ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (56ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  26 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  111
      ✓ should get profile (112ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  129
**** Call ## 111 ## Duration:  125
**** Call ## 112 ## Duration:  124
**** Call ## 113 ## Duration:  120
**** Call ## 114 ## Duration:  52
**** Call ## 115 ## Duration:  104
**** Call ## 116 ## Duration:  141
**** Call ## 117 ## Duration:  132
**** Call ## 118 ## Duration:  82
**** Call ## 119 ## Duration:  128
      ✓ should follow/unfollow user (1138ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  87
**** Call ## 122 ## Duration:  53
**** Call ## 123 ## Duration:  42
**** Call ## 124 ## Duration:  65
      ✓ should update user (247ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  76 (ERR)
      ✓ should disallow missing token/email in update (95ms)
**** Call ## 127 ## Duration:  121
**** Call ## 128 ## Duration:  48 (ERR)
      ✓ should disallow reusing email (170ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  171
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  100
    Create
**** Call ## 3 ## Duration:  173
      ✓ should create article (176ms)
**** Call ## 4 ## Duration:  102
      ✓ should create article with tags (104ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  63 (ERR)
**** Call ## 7 ## Duration:  53 (ERR)
**** Call ## 8 ## Duration:  100 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (273ms)
    Get
**** Call ## 10 ## Duration:  94
      ✓ should get article by slug (95ms)
**** Call ## 11 ## Duration:  98
      ✓ should get article with tags by slug (98ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  178
**** Call ## 14 ## Duration:  132
**** Call ## 15 ## Duration:  140
      ✓ should update article (452ms)
**** Call ## 16 ## Duration:  29 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  128 (ERR)
      ✓ should disallow updating non-existent article (128ms)
**** Call ## 20 ## Duration:  76 (ERR)
      ✓ should disallow non-author from updating (77ms)
    Favorite
**** Call ## 21 ## Duration:  140
**** Call ## 22 ## Duration:  131
      ✓ should favorite article (271ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  55 (ERR)
      ✓ should disallow favoriting unknown article (56ms)
**** Call ## 25 ## Duration:  146
      ✓ should unfavorite article (146ms)
    Delete
**** Call ## 26 ## Duration:  121
**** Call ## 27 ## Duration:  82 (ERR)
      ✓ should delete article (203ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  75 (ERR)
      ✓ should disallow deleting unknown article (75ms)
**** Call ## 30 ## Duration:  54 (ERR)
      ✓ should disallow deleting article by non-author (54ms)
    List
**** Call ## 31 ## Duration:  69
**** Call ## 32 ## Duration:  99
**** Call ## 33 ## Duration:  90
**** Call ## 34 ## Duration:  83
**** Call ## 35 ## Duration:  94
**** Call ## 36 ## Duration:  83
**** Call ## 37 ## Duration:  81
**** Call ## 38 ## Duration:  64
**** Call ## 39 ## Duration:  65
**** Call ## 40 ## Duration:  87
**** Call ## 41 ## Duration:  87
**** Call ## 42 ## Duration:  57
**** Call ## 43 ## Duration:  107
**** Call ## 44 ## Duration:  72
**** Call ## 45 ## Duration:  82
**** Call ## 46 ## Duration:  78
**** Call ## 47 ## Duration:  69
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  77
**** Call ## 50 ## Duration:  78
**** Call ## 51 ## Duration:  381
      ✓ should list articles (381ms)
**** Call ## 52 ## Duration:  221
**** Call ## 53 ## Duration:  311
      ✓ should list articles with tag (533ms)
**** Call ## 54 ## Duration:  201
      ✓ should list articles by author (201ms)
**** Call ## 55 ## Duration:  50
      ✓ should list articles favorited by user (50ms)
**** Call ## 56 ## Duration:  77
**** Call ## 57 ## Duration:  87
      ✓ should list articles by limit/offset (165ms)
**** Call ## 58 ## Duration:  422
      ✓ should list articles when authenticated (422ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  84
**** Call ## 63 ## Duration:  153
**** Call ## 64 ## Duration:  299
**** Call ## 65 ## Duration:  153
**** Call ## 66 ## Duration:  492
      ✓ should get feed (1182ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  121
      ✓ should get tags (121ms)

  Comment
**** Call ## 69 ## Duration:  120
**** Call ## 70 ## Duration:  119
**** Call ## 71 ## Duration:  77
    Create
**** Call ## 72 ## Duration:  99
**** Call ## 73 ## Duration:  102
**** Call ## 74 ## Duration:  93
**** Call ## 75 ## Duration:  93
**** Call ## 76 ## Duration:  104
**** Call ## 77 ## Duration:  98
**** Call ## 78 ## Duration:  79
**** Call ## 79 ## Duration:  66
**** Call ## 80 ## Duration:  87
**** Call ## 81 ## Duration:  119
      ✓ should create comment (942ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (51ms)
**** Call ## 84 ## Duration:  69 (ERR)
      ✓ should disallow non-existent article (70ms)
    Get
**** Call ## 85 ## Duration:  235
      ✓ should get all comments for article (235ms)
    Delete
**** Call ## 86 ## Duration:  116
      ✓ should delete comment (116ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown comment (70ms)

  User
    Create
**** Call ## 90 ## Duration:  150
      ✓ should create user (151ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  105 (ERR)
      ✓ should disallow same email (105ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (88ms)
    Login
**** Call ## 97 ## Duration:  85
      ✓ should login (85ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  30 (ERR)
      ✓ should enforce required fields (72ms)
    Get
**** Call ## 103 ## Duration:  58
      ✓ should get current user (58ms)
**** Call ## 104 ## Duration:  28 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (90ms)
    Profile
**** Call ## 108 ## Duration:  105
      ✓ should get profile (106ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  118
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  113
**** Call ## 113 ## Duration:  76
**** Call ## 114 ## Duration:  55
**** Call ## 115 ## Duration:  87
**** Call ## 116 ## Duration:  130
**** Call ## 117 ## Duration:  141
**** Call ## 118 ## Duration:  131
**** Call ## 119 ## Duration:  122
      ✓ should follow/unfollow user (1109ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  103
**** Call ## 122 ## Duration:  55
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  73
      ✓ should update user (297ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  129 (ERR)
      ✓ should disallow missing token/email in update (147ms)
**** Call ## 127 ## Duration:  107
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (172ms)

  Util
    Ping
**** Call ## 129 ## Duration:  29
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  185
**** Call ## 1 ## Duration:  123
**** Call ## 2 ## Duration:  286
    Create
**** Call ## 3 ## Duration:  89
      ✓ should create article (92ms)
**** Call ## 4 ## Duration:  75
      ✓ should create article with tags (78ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  113 (ERR)
**** Call ## 7 ## Duration:  81 (ERR)
**** Call ## 8 ## Duration:  58 (ERR)
**** Call ## 9 ## Duration:  76 (ERR)
      ✓ should enforce required fields (331ms)
    Get
**** Call ## 10 ## Duration:  104
      ✓ should get article by slug (105ms)
**** Call ## 11 ## Duration:  84
      ✓ should get article with tags by slug (84ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  144
**** Call ## 14 ## Duration:  133
**** Call ## 15 ## Duration:  148
      ✓ should update article (427ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  65 (ERR)
      ✓ should disallow updating non-existent article (65ms)
**** Call ## 20 ## Duration:  55 (ERR)
      ✓ should disallow non-author from updating (55ms)
    Favorite
**** Call ## 21 ## Duration:  180
**** Call ## 22 ## Duration:  110
      ✓ should favorite article (290ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (66ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (135ms)
    Delete
**** Call ## 26 ## Duration:  108
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (151ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  77 (ERR)
      ✓ should disallow deleting article by non-author (77ms)
    List
**** Call ## 31 ## Duration:  90
**** Call ## 32 ## Duration:  87
**** Call ## 33 ## Duration:  109
**** Call ## 34 ## Duration:  82
**** Call ## 35 ## Duration:  86
**** Call ## 36 ## Duration:  119
**** Call ## 37 ## Duration:  136
**** Call ## 38 ## Duration:  64
**** Call ## 39 ## Duration:  72
**** Call ## 40 ## Duration:  73
**** Call ## 41 ## Duration:  75
**** Call ## 42 ## Duration:  90
**** Call ## 43 ## Duration:  71
**** Call ## 44 ## Duration:  67
**** Call ## 45 ## Duration:  74
**** Call ## 46 ## Duration:  64
**** Call ## 47 ## Duration:  62
**** Call ## 48 ## Duration:  81
**** Call ## 49 ## Duration:  66
**** Call ## 50 ## Duration:  56
**** Call ## 51 ## Duration:  435
      ✓ should list articles (436ms)
**** Call ## 52 ## Duration:  222
**** Call ## 53 ## Duration:  354
      ✓ should list articles with tag (578ms)
**** Call ## 54 ## Duration:  214
      ✓ should list articles by author (215ms)
**** Call ## 55 ## Duration:  66
      ✓ should list articles favorited by user (66ms)
**** Call ## 56 ## Duration:  87
**** Call ## 57 ## Duration:  66
      ✓ should list articles by limit/offset (153ms)
**** Call ## 58 ## Duration:  403
      ✓ should list articles when authenticated (403ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  58 (ERR)
**** Call ## 62 ## Duration:  95
**** Call ## 63 ## Duration:  185
**** Call ## 64 ## Duration:  277
**** Call ## 65 ## Duration:  112
**** Call ## 66 ## Duration:  377
      ✓ should get feed (1048ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  171
      ✓ should get tags (171ms)

  Comment
**** Call ## 69 ## Duration:  108
**** Call ## 70 ## Duration:  107
**** Call ## 71 ## Duration:  85
    Create
**** Call ## 72 ## Duration:  128
**** Call ## 73 ## Duration:  110
**** Call ## 74 ## Duration:  109
**** Call ## 75 ## Duration:  189
**** Call ## 76 ## Duration:  104
**** Call ## 77 ## Duration:  95
**** Call ## 78 ## Duration:  99
**** Call ## 79 ## Duration:  95
**** Call ## 80 ## Duration:  92
**** Call ## 81 ## Duration:  108
      ✓ should create comment (1130ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  76 (ERR)
      ✓ should disallow non-existent article (77ms)
    Get
**** Call ## 85 ## Duration:  200
      ✓ should get all comments for article (200ms)
    Delete
**** Call ## 86 ## Duration:  112
      ✓ should delete comment (112ms)
**** Call ## 87 ## Duration:  160 (ERR)
      ✓ only comment author should be able to delete comment (160ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  104
      ✓ should create user (104ms)
**** Call ## 91 ## Duration:  26 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (87ms)
    Login
**** Call ## 97 ## Duration:  61
      ✓ should login (62ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  26 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (89ms)
    Profile
**** Call ## 108 ## Duration:  71
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  34 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  108
**** Call ## 111 ## Duration:  125
**** Call ## 112 ## Duration:  116
**** Call ## 113 ## Duration:  81
**** Call ## 114 ## Duration:  52
**** Call ## 115 ## Duration:  76
**** Call ## 116 ## Duration:  123
**** Call ## 117 ## Duration:  125
**** Call ## 118 ## Duration:  138
**** Call ## 119 ## Duration:  122
      ✓ should follow/unfollow user (1067ms)
**** Call ## 120 ## Duration:  198 (ERR)
      ✓ should disallow following with bad token (199ms)
    Update
**** Call ## 121 ## Duration:  85
**** Call ## 122 ## Duration:  93
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  62
      ✓ should update user (302ms)
**** Call ## 125 ## Duration:  44 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (94ms)
**** Call ## 127 ## Duration:  132
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (195ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  175
**** Call ## 1 ## Duration:  114
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  85
      ✓ should create article (88ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (93ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  80 (ERR)
**** Call ## 7 ## Duration:  72 (ERR)
**** Call ## 8 ## Duration:  70 (ERR)
**** Call ## 9 ## Duration:  68 (ERR)
      ✓ should enforce required fields (292ms)
    Get
**** Call ## 10 ## Duration:  100
      ✓ should get article by slug (100ms)
**** Call ## 11 ## Duration:  80
      ✓ should get article with tags by slug (80ms)
**** Call ## 12 ## Duration:  28 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  162
**** Call ## 14 ## Duration:  134
**** Call ## 15 ## Duration:  138
      ✓ should update article (438ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  73 (ERR)
      ✓ should disallow non-author from updating (75ms)
    Favorite
**** Call ## 21 ## Duration:  131
**** Call ## 22 ## Duration:  119
      ✓ should favorite article (250ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  56 (ERR)
      ✓ should disallow favoriting unknown article (56ms)
**** Call ## 25 ## Duration:  115
      ✓ should unfavorite article (115ms)
    Delete
**** Call ## 26 ## Duration:  108
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (148ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (66ms)
    List
**** Call ## 31 ## Duration:  90
**** Call ## 32 ## Duration:  265
**** Call ## 33 ## Duration:  94
**** Call ## 34 ## Duration:  96
**** Call ## 35 ## Duration:  78
**** Call ## 36 ## Duration:  77
**** Call ## 37 ## Duration:  76
**** Call ## 38 ## Duration:  96
**** Call ## 39 ## Duration:  64
**** Call ## 40 ## Duration:  82
**** Call ## 41 ## Duration:  169
**** Call ## 42 ## Duration:  90
**** Call ## 43 ## Duration:  105
**** Call ## 44 ## Duration:  135
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  78
**** Call ## 47 ## Duration:  79
**** Call ## 48 ## Duration:  75
**** Call ## 49 ## Duration:  116
**** Call ## 50 ## Duration:  81
**** Call ## 51 ## Duration:  435
      ✓ should list articles (435ms)
**** Call ## 52 ## Duration:  304
**** Call ## 53 ## Duration:  352
      ✓ should list articles with tag (656ms)
**** Call ## 54 ## Duration:  224
      ✓ should list articles by author (224ms)
**** Call ## 55 ## Duration:  68
      ✓ should list articles favorited by user (68ms)
**** Call ## 56 ## Duration:  83
**** Call ## 57 ## Duration:  80
      ✓ should list articles by limit/offset (163ms)
**** Call ## 58 ## Duration:  559
      ✓ should list articles when authenticated (559ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 59 ## Duration:  66 (ERR)
**** Call ## 62 ## Duration:  78
**** Call ## 63 ## Duration:  128
**** Call ## 64 ## Duration:  307
**** Call ## 65 ## Duration:  192
**** Call ## 66 ## Duration:  457
      ✓ should get feed (1162ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  123
      ✓ should get tags (123ms)

  Comment
**** Call ## 69 ## Duration:  134
**** Call ## 70 ## Duration:  116
**** Call ## 71 ## Duration:  97
    Create
**** Call ## 72 ## Duration:  120
**** Call ## 73 ## Duration:  105
**** Call ## 74 ## Duration:  99
**** Call ## 75 ## Duration:  95
**** Call ## 76 ## Duration:  114
**** Call ## 77 ## Duration:  91
**** Call ## 78 ## Duration:  127
**** Call ## 79 ## Duration:  71
**** Call ## 80 ## Duration:  81
**** Call ## 81 ## Duration:  107
      ✓ should create comment (1010ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  54 (ERR)
      ✓ should disallow non-existent article (54ms)
    Get
**** Call ## 85 ## Duration:  252
      ✓ should get all comments for article (253ms)
    Delete
**** Call ## 86 ## Duration:  112
      ✓ should delete comment (112ms)
**** Call ## 87 ## Duration:  64 (ERR)
      ✓ only comment author should be able to delete comment (64ms)
**** Call ## 88 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (67ms)

  User
    Create
**** Call ## 90 ## Duration:  117
      ✓ should create user (117ms)
**** Call ## 91 ## Duration:  25 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  60 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  77
      ✓ should login (77ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  73
      ✓ should get profile (73ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  115
**** Call ## 111 ## Duration:  117
**** Call ## 112 ## Duration:  110
**** Call ## 113 ## Duration:  95
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  109
**** Call ## 116 ## Duration:  106
**** Call ## 117 ## Duration:  114
**** Call ## 118 ## Duration:  138
**** Call ## 119 ## Duration:  105
      ✓ should follow/unfollow user (1075ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  101
**** Call ## 122 ## Duration:  56
**** Call ## 123 ## Duration:  57
**** Call ## 124 ## Duration:  48
      ✓ should update user (263ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  45 (ERR)
      ✓ should disallow missing token/email in update (65ms)
**** Call ## 127 ## Duration:  113
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (176ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  217
**** Call ## 1 ## Duration:  123
**** Call ## 2 ## Duration:  101
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  110
      ✓ should create article with tags (112ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  80 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  72 (ERR)
**** Call ## 9 ## Duration:  73 (ERR)
      ✓ should enforce required fields (289ms)
    Get
**** Call ## 10 ## Duration:  93
      ✓ should get article by slug (93ms)
**** Call ## 11 ## Duration:  71
      ✓ should get article with tags by slug (71ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  253
**** Call ## 14 ## Duration:  128
**** Call ## 15 ## Duration:  131
      ✓ should update article (515ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  27 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  61 (ERR)
      ✓ should disallow updating non-existent article (61ms)
**** Call ## 20 ## Duration:  58 (ERR)
      ✓ should disallow non-author from updating (58ms)
    Favorite
**** Call ## 21 ## Duration:  157
**** Call ## 22 ## Duration:  113
      ✓ should favorite article (271ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  77 (ERR)
      ✓ should disallow favoriting unknown article (77ms)
**** Call ## 25 ## Duration:  278
      ✓ should unfavorite article (278ms)
    Delete
**** Call ## 26 ## Duration:  130
**** Call ## 27 ## Duration:  47 (ERR)
      ✓ should delete article (178ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (74ms)
**** Call ## 30 ## Duration:  67 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  111
**** Call ## 32 ## Duration:  100
**** Call ## 33 ## Duration:  76
**** Call ## 34 ## Duration:  70
**** Call ## 35 ## Duration:  87
**** Call ## 36 ## Duration:  169
**** Call ## 37 ## Duration:  97
**** Call ## 38 ## Duration:  77
**** Call ## 39 ## Duration:  94
**** Call ## 40 ## Duration:  89
**** Call ## 41 ## Duration:  74
**** Call ## 42 ## Duration:  91
**** Call ## 43 ## Duration:  78
**** Call ## 44 ## Duration:  178
**** Call ## 45 ## Duration:  80
**** Call ## 46 ## Duration:  74
**** Call ## 47 ## Duration:  73
**** Call ## 48 ## Duration:  83
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  59
**** Call ## 51 ## Duration:  1265
      ✓ should list articles (1265ms)
**** Call ## 52 ## Duration:  488
**** Call ## 53 ## Duration:  318
      ✓ should list articles with tag (806ms)
**** Call ## 54 ## Duration:  212
      ✓ should list articles by author (213ms)
**** Call ## 55 ## Duration:  56
      ✓ should list articles favorited by user (56ms)
**** Call ## 56 ## Duration:  73
**** Call ## 57 ## Duration:  67
      ✓ should list articles by limit/offset (144ms)
**** Call ## 58 ## Duration:  449
      ✓ should list articles when authenticated (450ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  100
**** Call ## 63 ## Duration:  104
**** Call ## 64 ## Duration:  303
**** Call ## 65 ## Duration:  117
**** Call ## 66 ## Duration:  361
      ✓ should get feed (985ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  160
      ✓ should get tags (160ms)

  Comment
**** Call ## 69 ## Duration:  160
**** Call ## 70 ## Duration:  87
**** Call ## 71 ## Duration:  99
    Create
**** Call ## 72 ## Duration:  158
**** Call ## 73 ## Duration:  92
**** Call ## 74 ## Duration:  87
**** Call ## 75 ## Duration:  104
**** Call ## 76 ## Duration:  95
**** Call ## 77 ## Duration:  93
**** Call ## 78 ## Duration:  67
**** Call ## 79 ## Duration:  83
**** Call ## 80 ## Duration:  80
**** Call ## 81 ## Duration:  71
      ✓ should create comment (933ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  51 (ERR)
      ✓ should enforce comment body (51ms)
**** Call ## 84 ## Duration:  68 (ERR)
      ✓ should disallow non-existent article (68ms)
    Get
**** Call ## 85 ## Duration:  190
      ✓ should get all comments for article (192ms)
    Delete
**** Call ## 86 ## Duration:  102
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (67ms)

  User
    Create
**** Call ## 90 ## Duration:  128
      ✓ should create user (128ms)
**** Call ## 91 ## Duration:  82 (ERR)
      ✓ should disallow same username (82ms)
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  81
      ✓ should login (82ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (83ms)
    Profile
**** Call ## 108 ## Duration:  62
      ✓ should get profile (62ms)
**** Call ## 109 ## Duration:  36 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  89
**** Call ## 111 ## Duration:  113
**** Call ## 112 ## Duration:  122
**** Call ## 113 ## Duration:  88
**** Call ## 114 ## Duration:  86
**** Call ## 115 ## Duration:  96
**** Call ## 116 ## Duration:  108
**** Call ## 117 ## Duration:  112
**** Call ## 118 ## Duration:  118
**** Call ## 119 ## Duration:  115
      ✓ should follow/unfollow user (1052ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  96
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  65
      ✓ should update user (290ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (59ms)
**** Call ## 127 ## Duration:  120
**** Call ## 128 ## Duration:  57 (ERR)
      ✓ should disallow reusing email (178ms)

  Util
    Ping
**** Call ## 129 ## Duration:  27
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  180
**** Call ## 1 ## Duration:  96
**** Call ## 2 ## Duration:  92
    Create
**** Call ## 3 ## Duration:  90
      ✓ should create article (93ms)
**** Call ## 4 ## Duration:  81
      ✓ should create article with tags (83ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  83 (ERR)
**** Call ## 7 ## Duration:  56 (ERR)
**** Call ## 8 ## Duration:  53 (ERR)
**** Call ## 9 ## Duration:  121 (ERR)
      ✓ should enforce required fields (314ms)
    Get
**** Call ## 10 ## Duration:  140
      ✓ should get article by slug (140ms)
**** Call ## 11 ## Duration:  89
      ✓ should get article with tags by slug (89ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  178
**** Call ## 14 ## Duration:  158
**** Call ## 15 ## Duration:  148
      ✓ should update article (485ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  82 (ERR)
      ✓ should disallow updating non-existent article (82ms)
**** Call ## 20 ## Duration:  125 (ERR)
      ✓ should disallow non-author from updating (126ms)
    Favorite
**** Call ## 21 ## Duration:  122
**** Call ## 22 ## Duration:  114
      ✓ should favorite article (236ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  73 (ERR)
      ✓ should disallow favoriting unknown article (73ms)
**** Call ## 25 ## Duration:  189
      ✓ should unfavorite article (189ms)
    Delete
**** Call ## 26 ## Duration:  248
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (284ms)
**** Call ## 28 ## Duration:  25 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (66ms)
    List
**** Call ## 31 ## Duration:  82
**** Call ## 32 ## Duration:  89
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  79
**** Call ## 35 ## Duration:  70
**** Call ## 36 ## Duration:  69
**** Call ## 37 ## Duration:  92
**** Call ## 38 ## Duration:  78
**** Call ## 39 ## Duration:  72
**** Call ## 40 ## Duration:  76
**** Call ## 41 ## Duration:  94
**** Call ## 42 ## Duration:  103
**** Call ## 43 ## Duration:  89
**** Call ## 44 ## Duration:  82
**** Call ## 45 ## Duration:  87
**** Call ## 46 ## Duration:  103
**** Call ## 47 ## Duration:  79
**** Call ## 48 ## Duration:  74
**** Call ## 49 ## Duration:  90
**** Call ## 50 ## Duration:  73
**** Call ## 51 ## Duration:  444
      ✓ should list articles (444ms)
**** Call ## 52 ## Duration:  290
**** Call ## 53 ## Duration:  314
      ✓ should list articles with tag (604ms)
**** Call ## 54 ## Duration:  286
      ✓ should list articles by author (286ms)
**** Call ## 55 ## Duration:  63
      ✓ should list articles favorited by user (63ms)
**** Call ## 56 ## Duration:  83
**** Call ## 57 ## Duration:  74
      ✓ should list articles by limit/offset (157ms)
**** Call ## 58 ## Duration:  371
      ✓ should list articles when authenticated (371ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 62 ## Duration:  84
**** Call ## 63 ## Duration:  155
**** Call ## 64 ## Duration:  316
**** Call ## 65 ## Duration:  129
**** Call ## 66 ## Duration:  443
      ✓ should get feed (1129ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  140
      ✓ should get tags (140ms)

  Comment
**** Call ## 69 ## Duration:  141
**** Call ## 70 ## Duration:  159
**** Call ## 71 ## Duration:  80
    Create
**** Call ## 72 ## Duration:  121
**** Call ## 73 ## Duration:  107
**** Call ## 74 ## Duration:  106
**** Call ## 75 ## Duration:  196
**** Call ## 76 ## Duration:  73
**** Call ## 77 ## Duration:  105
**** Call ## 78 ## Duration:  93
**** Call ## 79 ## Duration:  92
**** Call ## 80 ## Duration:  105
**** Call ## 81 ## Duration:  104
      ✓ should create comment (1104ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  55 (ERR)
      ✓ should enforce comment body (55ms)
**** Call ## 84 ## Duration:  54 (ERR)
      ✓ should disallow non-existent article (55ms)
    Get
**** Call ## 85 ## Duration:  243
      ✓ should get all comments for article (243ms)
    Delete
**** Call ## 86 ## Duration:  138
      ✓ should delete comment (138ms)
**** Call ## 87 ## Duration:  68 (ERR)
      ✓ only comment author should be able to delete comment (69ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  108
      ✓ should create user (108ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  66 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  17 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (87ms)
    Login
**** Call ## 97 ## Duration:  73
      ✓ should login (74ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  94
      ✓ should get current user (94ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  27 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  35 (ERR)
      ✓ should disallow bad tokens (105ms)
    Profile
**** Call ## 108 ## Duration:  196
      ✓ should get profile (196ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (38ms)
**** Call ## 110 ## Duration:  89
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  114
**** Call ## 113 ## Duration:  85
**** Call ## 114 ## Duration:  46
**** Call ## 115 ## Duration:  98
**** Call ## 116 ## Duration:  114
**** Call ## 117 ## Duration:  127
**** Call ## 118 ## Duration:  103
**** Call ## 119 ## Duration:  135
      ✓ should follow/unfollow user (1047ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  53
      ✓ should update user (279ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  78 (ERR)
      ✓ should disallow missing token/email in update (100ms)
**** Call ## 127 ## Duration:  105
**** Call ## 128 ## Duration:  67 (ERR)
      ✓ should disallow reusing email (173ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  211
**** Call ## 1 ## Duration:  109
**** Call ## 2 ## Duration:  90
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (104ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (89ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  64 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  60 (ERR)
      ✓ should enforce required fields (242ms)
    Get
**** Call ## 10 ## Duration:  104
      ✓ should get article by slug (106ms)
**** Call ## 11 ## Duration:  86
      ✓ should get article with tags by slug (87ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  143
**** Call ## 14 ## Duration:  129
**** Call ## 15 ## Duration:  150
      ✓ should update article (424ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  26 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  74 (ERR)
      ✓ should disallow non-author from updating (74ms)
    Favorite
**** Call ## 21 ## Duration:  154
**** Call ## 22 ## Duration:  139
      ✓ should favorite article (294ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (66ms)
**** Call ## 25 ## Duration:  199
      ✓ should unfavorite article (200ms)
    Delete
**** Call ## 26 ## Duration:  110
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (148ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  96 (ERR)
      ✓ should disallow deleting article by non-author (98ms)
    List
**** Call ## 31 ## Duration:  108
**** Call ## 32 ## Duration:  67
**** Call ## 33 ## Duration:  102
**** Call ## 34 ## Duration:  90
**** Call ## 35 ## Duration:  81
**** Call ## 36 ## Duration:  76
**** Call ## 37 ## Duration:  135
**** Call ## 38 ## Duration:  93
**** Call ## 39 ## Duration:  80
**** Call ## 40 ## Duration:  91
**** Call ## 41 ## Duration:  91
**** Call ## 42 ## Duration:  74
**** Call ## 43 ## Duration:  76
**** Call ## 44 ## Duration:  76
**** Call ## 45 ## Duration:  105
**** Call ## 46 ## Duration:  68
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  92
**** Call ## 49 ## Duration:  80
**** Call ## 50 ## Duration:  61
**** Call ## 51 ## Duration:  439
      ✓ should list articles (440ms)
**** Call ## 52 ## Duration:  314
**** Call ## 53 ## Duration:  342
      ✓ should list articles with tag (656ms)
**** Call ## 54 ## Duration:  213
      ✓ should list articles by author (213ms)
**** Call ## 55 ## Duration:  60
      ✓ should list articles favorited by user (60ms)
**** Call ## 56 ## Duration:  67
**** Call ## 57 ## Duration:  62
      ✓ should list articles by limit/offset (130ms)
**** Call ## 58 ## Duration:  426
      ✓ should list articles when authenticated (426ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  90
**** Call ## 63 ## Duration:  132
**** Call ## 64 ## Duration:  266
**** Call ## 65 ## Duration:  108
**** Call ## 66 ## Duration:  383
      ✓ should get feed (979ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  193
      ✓ should get tags (193ms)

  Comment
**** Call ## 69 ## Duration:  134
**** Call ## 70 ## Duration:  91
**** Call ## 71 ## Duration:  87
    Create
**** Call ## 72 ## Duration:  111
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  99
**** Call ## 75 ## Duration:  94
**** Call ## 76 ## Duration:  108
**** Call ## 77 ## Duration:  109
**** Call ## 78 ## Duration:  97
**** Call ## 79 ## Duration:  87
**** Call ## 80 ## Duration:  90
**** Call ## 81 ## Duration:  92
      ✓ should create comment (997ms)
**** Call ## 82 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (65ms)
    Get
**** Call ## 85 ## Duration:  219
      ✓ should get all comments for article (220ms)
    Delete
**** Call ## 86 ## Duration:  132
      ✓ should delete comment (132ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown comment (65ms)

  User
    Create
**** Call ## 90 ## Duration:  115
      ✓ should create user (115ms)
**** Call ## 91 ## Duration:  50 (ERR)
      ✓ should disallow same username (50ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (58ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  26 (ERR)
      ✓ should enforce required fields (90ms)
    Login
**** Call ## 97 ## Duration:  95
      ✓ should login (95ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (67ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  119
      ✓ should get profile (119ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  92
**** Call ## 111 ## Duration:  127
**** Call ## 112 ## Duration:  126
**** Call ## 113 ## Duration:  92
**** Call ## 114 ## Duration:  60
**** Call ## 115 ## Duration:  90
**** Call ## 116 ## Duration:  97
**** Call ## 117 ## Duration:  134
**** Call ## 118 ## Duration:  124
**** Call ## 119 ## Duration:  133
      ✓ should follow/unfollow user (1077ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  78
**** Call ## 122 ## Duration:  78
**** Call ## 123 ## Duration:  47
**** Call ## 124 ## Duration:  70
      ✓ should update user (275ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  27 (ERR)
      ✓ should disallow missing token/email in update (49ms)
**** Call ## 127 ## Duration:  109
**** Call ## 128 ## Duration:  67 (ERR)
      ✓ should disallow reusing email (176ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  176
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  96
    Create
**** Call ## 3 ## Duration:  86
      ✓ should create article (89ms)
**** Call ## 4 ## Duration:  71
      ✓ should create article with tags (72ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  80 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  62 (ERR)
**** Call ## 9 ## Duration:  48 (ERR)
      ✓ should enforce required fields (255ms)
    Get
**** Call ## 10 ## Duration:  103
      ✓ should get article by slug (103ms)
**** Call ## 11 ## Duration:  111
      ✓ should get article with tags by slug (111ms)
**** Call ## 12 ## Duration:  47 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  185
**** Call ## 15 ## Duration:  205
      ✓ should update article (548ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (68ms)
    Favorite
**** Call ## 21 ## Duration:  153
**** Call ## 22 ## Duration:  127
      ✓ should favorite article (281ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  70 (ERR)
      ✓ should disallow favoriting unknown article (70ms)
**** Call ## 25 ## Duration:  138
      ✓ should unfavorite article (138ms)
    Delete
**** Call ## 26 ## Duration:  124
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (171ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  77 (ERR)
      ✓ should disallow deleting unknown article (78ms)
**** Call ## 30 ## Duration:  55 (ERR)
      ✓ should disallow deleting article by non-author (56ms)
    List
**** Call ## 31 ## Duration:  86
**** Call ## 32 ## Duration:  97
**** Call ## 33 ## Duration:  79
**** Call ## 34 ## Duration:  79
**** Call ## 35 ## Duration:  146
**** Call ## 36 ## Duration:  90
**** Call ## 37 ## Duration:  76
**** Call ## 38 ## Duration:  91
**** Call ## 39 ## Duration:  86
**** Call ## 40 ## Duration:  138
**** Call ## 41 ## Duration:  86
**** Call ## 42 ## Duration:  87
**** Call ## 43 ## Duration:  78
**** Call ## 44 ## Duration:  66
**** Call ## 45 ## Duration:  66
**** Call ## 46 ## Duration:  68
**** Call ## 47 ## Duration:  83
**** Call ## 48 ## Duration:  70
**** Call ## 49 ## Duration:  114
**** Call ## 50 ## Duration:  71
**** Call ## 51 ## Duration:  443
      ✓ should list articles (443ms)
**** Call ## 52 ## Duration:  286
**** Call ## 53 ## Duration:  396
      ✓ should list articles with tag (682ms)
**** Call ## 54 ## Duration:  256
      ✓ should list articles by author (256ms)
**** Call ## 55 ## Duration:  83
      ✓ should list articles favorited by user (83ms)
**** Call ## 56 ## Duration:  76
**** Call ## 57 ## Duration:  90
      ✓ should list articles by limit/offset (166ms)
**** Call ## 58 ## Duration:  435
      ✓ should list articles when authenticated (435ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  96
**** Call ## 63 ## Duration:  150
**** Call ## 64 ## Duration:  327
**** Call ## 65 ## Duration:  229
**** Call ## 66 ## Duration:  377
      ✓ should get feed (1181ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  120
      ✓ should get tags (120ms)

  Comment
**** Call ## 69 ## Duration:  116
**** Call ## 70 ## Duration:  232
**** Call ## 71 ## Duration:  89
    Create
**** Call ## 72 ## Duration:  122
**** Call ## 73 ## Duration:  115
**** Call ## 74 ## Duration:  105
**** Call ## 75 ## Duration:  101
**** Call ## 76 ## Duration:  110
**** Call ## 77 ## Duration:  91
**** Call ## 78 ## Duration:  94
**** Call ## 79 ## Duration:  94
**** Call ## 80 ## Duration:  92
**** Call ## 81 ## Duration:  94
      ✓ should create comment (1021ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  73 (ERR)
      ✓ should disallow non-existent article (74ms)
    Get
**** Call ## 85 ## Duration:  223
      ✓ should get all comments for article (223ms)
    Delete
**** Call ## 86 ## Duration:  149
      ✓ should delete comment (150ms)
**** Call ## 87 ## Duration:  73 (ERR)
      ✓ only comment author should be able to delete comment (73ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (70ms)

  User
    Create
**** Call ## 90 ## Duration:  107
      ✓ should create user (107ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (70ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  101
      ✓ should login (101ms)
**** Call ## 98 ## Duration:  46 (ERR)
      ✓ should disallow unknown email (47ms)
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  130
      ✓ should get profile (130ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  110
**** Call ## 111 ## Duration:  133
**** Call ## 112 ## Duration:  117
**** Call ## 113 ## Duration:  70
**** Call ## 114 ## Duration:  68
**** Call ## 115 ## Duration:  122
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  216
**** Call ## 118 ## Duration:  124
**** Call ## 119 ## Duration:  188
      ✓ should follow/unfollow user (1259ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  98
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  63
**** Call ## 124 ## Duration:  49
      ✓ should update user (279ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  55 (ERR)
      ✓ should disallow missing token/email in update (76ms)
**** Call ## 127 ## Duration:  183
**** Call ## 128 ## Duration:  43 (ERR)
      ✓ should disallow reusing email (227ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  228
**** Call ## 1 ## Duration:  202
**** Call ## 2 ## Duration:  107
    Create
**** Call ## 3 ## Duration:  104
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  87
      ✓ should create article with tags (88ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  74 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  63 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (259ms)
    Get
**** Call ## 10 ## Duration:  83
      ✓ should get article by slug (83ms)
**** Call ## 11 ## Duration:  77
      ✓ should get article with tags by slug (77ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  151
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  141
      ✓ should update article (436ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  51 (ERR)
      ✓ should disallow updating non-existent article (52ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  184
**** Call ## 22 ## Duration:  94
      ✓ should favorite article (278ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  63 (ERR)
      ✓ should disallow favoriting unknown article (63ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (135ms)
    Delete
**** Call ## 26 ## Duration:  161
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (201ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  57 (ERR)
      ✓ should disallow deleting article by non-author (57ms)
    List
**** Call ## 31 ## Duration:  80
**** Call ## 32 ## Duration:  83
**** Call ## 33 ## Duration:  82
**** Call ## 34 ## Duration:  122
**** Call ## 35 ## Duration:  82
**** Call ## 36 ## Duration:  64
**** Call ## 37 ## Duration:  95
**** Call ## 38 ## Duration:  83
**** Call ## 39 ## Duration:  84
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  109
**** Call ## 43 ## Duration:  81
**** Call ## 44 ## Duration:  54
**** Call ## 45 ## Duration:  56
**** Call ## 46 ## Duration:  126
**** Call ## 47 ## Duration:  65
**** Call ## 48 ## Duration:  67
**** Call ## 49 ## Duration:  76
**** Call ## 50 ## Duration:  51
**** Call ## 51 ## Duration:  434
      ✓ should list articles (435ms)
**** Call ## 52 ## Duration:  315
**** Call ## 53 ## Duration:  337
      ✓ should list articles with tag (652ms)
**** Call ## 54 ## Duration:  212
      ✓ should list articles by author (212ms)
**** Call ## 55 ## Duration:  87
      ✓ should list articles favorited by user (87ms)
**** Call ## 56 ## Duration:  143
**** Call ## 57 ## Duration:  80
      ✓ should list articles by limit/offset (224ms)
**** Call ## 58 ## Duration:  413
      ✓ should list articles when authenticated (413ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  87
**** Call ## 63 ## Duration:  114
**** Call ## 64 ## Duration:  271
**** Call ## 65 ## Duration:  127
**** Call ## 66 ## Duration:  362
      ✓ should get feed (962ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  168
      ✓ should get tags (168ms)

  Comment
**** Call ## 69 ## Duration:  116
**** Call ## 70 ## Duration:  98
**** Call ## 71 ## Duration:  54
    Create
**** Call ## 72 ## Duration:  159
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  99
**** Call ## 75 ## Duration:  108
**** Call ## 76 ## Duration:  108
**** Call ## 77 ## Duration:  116
**** Call ## 78 ## Duration:  79
**** Call ## 79 ## Duration:  96
**** Call ## 80 ## Duration:  82
**** Call ## 81 ## Duration:  173
      ✓ should create comment (1126ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  39 (ERR)
      ✓ should enforce comment body (40ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  225
      ✓ should get all comments for article (225ms)
    Delete
**** Call ## 86 ## Duration:  116
      ✓ should delete comment (116ms)
**** Call ## 87 ## Duration:  55 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (66ms)

  User
    Create
**** Call ## 90 ## Duration:  130
      ✓ should create user (130ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  70 (ERR)
      ✓ should disallow same email (70ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  79
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (64ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  80
      ✓ should get profile (80ms)
**** Call ## 109 ## Duration:  60 (ERR)
      ✓ should disallow unknown username (60ms)
**** Call ## 110 ## Duration:  109
**** Call ## 111 ## Duration:  146
**** Call ## 112 ## Duration:  102
**** Call ## 113 ## Duration:  95
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  102
**** Call ## 116 ## Duration:  179
**** Call ## 117 ## Duration:  104
**** Call ## 118 ## Duration:  99
**** Call ## 119 ## Duration:  87
      ✓ should follow/unfollow user (1087ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  94
**** Call ## 122 ## Duration:  139
**** Call ## 123 ## Duration:  81
**** Call ## 124 ## Duration:  77
      ✓ should update user (391ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (60ms)
**** Call ## 127 ## Duration:  118
**** Call ## 128 ## Duration:  52 (ERR)
      ✓ should disallow reusing email (170ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  171
**** Call ## 1 ## Duration:  129
**** Call ## 2 ## Duration:  125
    Create
**** Call ## 3 ## Duration:  99
      ✓ should create article (102ms)
**** Call ## 4 ## Duration:  97
      ✓ should create article with tags (100ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  208 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  63 (ERR)
      ✓ should enforce required fields (401ms)
    Get
**** Call ## 10 ## Duration:  90
      ✓ should get article by slug (90ms)
**** Call ## 11 ## Duration:  89
      ✓ should get article with tags by slug (89ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  144
**** Call ## 14 ## Duration:  150
**** Call ## 15 ## Duration:  138
      ✓ should update article (434ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  56 (ERR)
      ✓ should disallow non-author from updating (57ms)
    Favorite
**** Call ## 21 ## Duration:  134
**** Call ## 22 ## Duration:  101
      ✓ should favorite article (235ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  63 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  144
      ✓ should unfavorite article (145ms)
    Delete
**** Call ## 26 ## Duration:  111
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  100 (ERR)
      ✓ should disallow deleting article by non-author (100ms)
    List
**** Call ## 31 ## Duration:  90
**** Call ## 32 ## Duration:  96
**** Call ## 33 ## Duration:  95
**** Call ## 34 ## Duration:  114
**** Call ## 35 ## Duration:  80
**** Call ## 36 ## Duration:  89
**** Call ## 37 ## Duration:  86
**** Call ## 38 ## Duration:  84
**** Call ## 39 ## Duration:  71
**** Call ## 40 ## Duration:  67
**** Call ## 41 ## Duration:  92
**** Call ## 42 ## Duration:  67
**** Call ## 43 ## Duration:  80
**** Call ## 44 ## Duration:  80
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  95
**** Call ## 47 ## Duration:  82
**** Call ## 48 ## Duration:  77
**** Call ## 49 ## Duration:  66
**** Call ## 50 ## Duration:  64
**** Call ## 51 ## Duration:  558
      ✓ should list articles (558ms)
**** Call ## 52 ## Duration:  412
**** Call ## 53 ## Duration:  349
      ✓ should list articles with tag (761ms)
**** Call ## 54 ## Duration:  274
      ✓ should list articles by author (275ms)
**** Call ## 55 ## Duration:  75
      ✓ should list articles favorited by user (75ms)
**** Call ## 56 ## Duration:  72
**** Call ## 57 ## Duration:  81
      ✓ should list articles by limit/offset (153ms)
**** Call ## 58 ## Duration:  579
      ✓ should list articles when authenticated (581ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  89
**** Call ## 63 ## Duration:  128
**** Call ## 64 ## Duration:  270
**** Call ## 65 ## Duration:  124
**** Call ## 66 ## Duration:  441
      ✓ should get feed (1053ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  222
      ✓ should get tags (222ms)

  Comment
**** Call ## 69 ## Duration:  121
**** Call ## 70 ## Duration:  92
**** Call ## 71 ## Duration:  90
    Create
**** Call ## 72 ## Duration:  112
**** Call ## 73 ## Duration:  101
**** Call ## 74 ## Duration:  100
**** Call ## 75 ## Duration:  91
**** Call ## 76 ## Duration:  96
**** Call ## 77 ## Duration:  115
**** Call ## 78 ## Duration:  91
**** Call ## 79 ## Duration:  101
**** Call ## 80 ## Duration:  114
**** Call ## 81 ## Duration:  80
      ✓ should create comment (1004ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  230
      ✓ should get all comments for article (230ms)
    Delete
**** Call ## 86 ## Duration:  87
      ✓ should delete comment (88ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (66ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  115
      ✓ should create user (115ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  27 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (92ms)
    Login
**** Call ## 97 ## Duration:  69
      ✓ should login (69ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  26 (ERR)
**** Call ## 102 ## Duration:  25 (ERR)
      ✓ should enforce required fields (70ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  17 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  85
      ✓ should get profile (85ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  134
**** Call ## 111 ## Duration:  167
**** Call ## 112 ## Duration:  130
**** Call ## 113 ## Duration:  97
**** Call ## 114 ## Duration:  60
**** Call ## 115 ## Duration:  99
**** Call ## 116 ## Duration:  118
**** Call ## 117 ## Duration:  138
**** Call ## 118 ## Duration:  96
**** Call ## 119 ## Duration:  100
      ✓ should follow/unfollow user (1140ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  104
**** Call ## 122 ## Duration:  74
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  54
      ✓ should update user (285ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  99
**** Call ## 128 ## Duration:  49 (ERR)
      ✓ should disallow reusing email (149ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  168
**** Call ## 1 ## Duration:  122
**** Call ## 2 ## Duration:  115
    Create
**** Call ## 3 ## Duration:  157
      ✓ should create article (159ms)
**** Call ## 4 ## Duration:  93
      ✓ should create article with tags (94ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  59 (ERR)
**** Call ## 7 ## Duration:  46 (ERR)
**** Call ## 8 ## Duration:  70 (ERR)
**** Call ## 9 ## Duration:  65 (ERR)
      ✓ should enforce required fields (243ms)
    Get
**** Call ## 10 ## Duration:  106
      ✓ should get article by slug (106ms)
**** Call ## 11 ## Duration:  82
      ✓ should get article with tags by slug (82ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  162
**** Call ## 14 ## Duration:  108
**** Call ## 15 ## Duration:  118
      ✓ should update article (392ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  65 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  157
**** Call ## 22 ## Duration:  90
      ✓ should favorite article (247ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  91 (ERR)
      ✓ should disallow favoriting unknown article (93ms)
**** Call ## 25 ## Duration:  172
      ✓ should unfavorite article (172ms)
    Delete
**** Call ## 26 ## Duration:  120
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (159ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (67ms)
**** Call ## 30 ## Duration:  76 (ERR)
      ✓ should disallow deleting article by non-author (77ms)
    List
**** Call ## 31 ## Duration:  84
**** Call ## 32 ## Duration:  78
**** Call ## 33 ## Duration:  70
**** Call ## 34 ## Duration:  59
**** Call ## 35 ## Duration:  104
**** Call ## 36 ## Duration:  80
**** Call ## 37 ## Duration:  78
**** Call ## 38 ## Duration:  52
**** Call ## 39 ## Duration:  77
**** Call ## 40 ## Duration:  78
**** Call ## 41 ## Duration:  82
**** Call ## 42 ## Duration:  102
**** Call ## 43 ## Duration:  100
**** Call ## 44 ## Duration:  102
**** Call ## 45 ## Duration:  56
**** Call ## 46 ## Duration:  66
**** Call ## 47 ## Duration:  54
**** Call ## 48 ## Duration:  76
**** Call ## 49 ## Duration:  60
**** Call ## 50 ## Duration:  56
**** Call ## 51 ## Duration:  484
      ✓ should list articles (485ms)
**** Call ## 52 ## Duration:  325
**** Call ## 53 ## Duration:  337
      ✓ should list articles with tag (663ms)
**** Call ## 54 ## Duration:  214
      ✓ should list articles by author (214ms)
**** Call ## 55 ## Duration:  65
      ✓ should list articles favorited by user (65ms)
**** Call ## 56 ## Duration:  135
**** Call ## 57 ## Duration:  119
      ✓ should list articles by limit/offset (254ms)
**** Call ## 58 ## Duration:  423
      ✓ should list articles when authenticated (423ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  68 (ERR)
**** Call ## 62 ## Duration:  117
**** Call ## 63 ## Duration:  138
**** Call ## 64 ## Duration:  407
**** Call ## 65 ## Duration:  107
**** Call ## 66 ## Duration:  354
      ✓ should get feed (1123ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  174
      ✓ should get tags (175ms)

  Comment
**** Call ## 69 ## Duration:  114
**** Call ## 70 ## Duration:  96
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  140
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  82
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  103
**** Call ## 77 ## Duration:  96
**** Call ## 78 ## Duration:  98
**** Call ## 79 ## Duration:  85
**** Call ## 80 ## Duration:  82
**** Call ## 81 ## Duration:  93
      ✓ should create comment (994ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  48 (ERR)
      ✓ should disallow non-existent article (48ms)
    Get
**** Call ## 85 ## Duration:  248
      ✓ should get all comments for article (249ms)
    Delete
**** Call ## 86 ## Duration:  99
      ✓ should delete comment (99ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  112
      ✓ should create user (112ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (38ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  74
      ✓ should login (74ms)
**** Call ## 98 ## Duration:  54 (ERR)
      ✓ should disallow unknown email (55ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  99
      ✓ should get current user (100ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (83ms)
    Profile
**** Call ## 108 ## Duration:  137
      ✓ should get profile (137ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  112
**** Call ## 111 ## Duration:  129
**** Call ## 112 ## Duration:  120
**** Call ## 113 ## Duration:  63
**** Call ## 114 ## Duration:  68
**** Call ## 115 ## Duration:  103
**** Call ## 116 ## Duration:  115
**** Call ## 117 ## Duration:  113
**** Call ## 118 ## Duration:  111
**** Call ## 119 ## Duration:  124
      ✓ should follow/unfollow user (1061ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  79
**** Call ## 122 ## Duration:  63
**** Call ## 123 ## Duration:  55
**** Call ## 124 ## Duration:  58
      ✓ should update user (255ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (65ms)
**** Call ## 127 ## Duration:  121
**** Call ## 128 ## Duration:  57 (ERR)
      ✓ should disallow reusing email (179ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  172
**** Call ## 1 ## Duration:  157
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  96
      ✓ should create article (98ms)
**** Call ## 4 ## Duration:  81
      ✓ should create article with tags (83ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  105 (ERR)
**** Call ## 7 ## Duration:  73 (ERR)
**** Call ## 8 ## Duration:  66 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (301ms)
    Get
**** Call ## 10 ## Duration:  95
      ✓ should get article by slug (95ms)
**** Call ## 11 ## Duration:  64
      ✓ should get article with tags by slug (65ms)
**** Call ## 12 ## Duration:  32 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  148
**** Call ## 14 ## Duration:  126
**** Call ## 15 ## Duration:  356
      ✓ should update article (634ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  76 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  52 (ERR)
      ✓ should disallow non-author from updating (53ms)
    Favorite
**** Call ## 21 ## Duration:  173
**** Call ## 22 ## Duration:  91
      ✓ should favorite article (265ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  52 (ERR)
      ✓ should disallow favoriting unknown article (54ms)
**** Call ## 25 ## Duration:  123
      ✓ should unfavorite article (123ms)
    Delete
**** Call ## 26 ## Duration:  97
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (136ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  54 (ERR)
      ✓ should disallow deleting unknown article (54ms)
**** Call ## 30 ## Duration:  56 (ERR)
      ✓ should disallow deleting article by non-author (57ms)
    List
**** Call ## 31 ## Duration:  128
**** Call ## 32 ## Duration:  94
**** Call ## 33 ## Duration:  107
**** Call ## 34 ## Duration:  88
**** Call ## 35 ## Duration:  76
**** Call ## 36 ## Duration:  88
**** Call ## 37 ## Duration:  58
**** Call ## 38 ## Duration:  125
**** Call ## 39 ## Duration:  79
**** Call ## 40 ## Duration:  71
**** Call ## 41 ## Duration:  84
**** Call ## 42 ## Duration:  68
**** Call ## 43 ## Duration:  85
**** Call ## 44 ## Duration:  89
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  85
**** Call ## 47 ## Duration:  64
**** Call ## 48 ## Duration:  58
**** Call ## 49 ## Duration:  69
**** Call ## 50 ## Duration:  69
**** Call ## 51 ## Duration:  482
      ✓ should list articles (482ms)
**** Call ## 52 ## Duration:  381
**** Call ## 53 ## Duration:  309
      ✓ should list articles with tag (690ms)
**** Call ## 54 ## Duration:  216
      ✓ should list articles by author (217ms)
**** Call ## 55 ## Duration:  162
      ✓ should list articles favorited by user (163ms)
**** Call ## 56 ## Duration:  80
**** Call ## 57 ## Duration:  94
      ✓ should list articles by limit/offset (174ms)
**** Call ## 58 ## Duration:  469
      ✓ should list articles when authenticated (469ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  28 (ERR)
**** Call ## 62 ## Duration:  81
**** Call ## 63 ## Duration:  150
**** Call ## 64 ## Duration:  298
**** Call ## 65 ## Duration:  126
**** Call ## 66 ## Duration:  420
      ✓ should get feed (1075ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  185
      ✓ should get tags (185ms)

  Comment
**** Call ## 69 ## Duration:  113
**** Call ## 70 ## Duration:  101
**** Call ## 71 ## Duration:  103
    Create
**** Call ## 72 ## Duration:  122
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  138
**** Call ## 75 ## Duration:  118
**** Call ## 76 ## Duration:  93
**** Call ## 77 ## Duration:  93
**** Call ## 78 ## Duration:  108
**** Call ## 79 ## Duration:  76
**** Call ## 80 ## Duration:  91
**** Call ## 81 ## Duration:  92
      ✓ should create comment (1035ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  234
      ✓ should get all comments for article (234ms)
    Delete
**** Call ## 86 ## Duration:  111
      ✓ should delete comment (112ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  132
      ✓ should create user (132ms)
**** Call ## 91 ## Duration:  50 (ERR)
      ✓ should disallow same username (50ms)
**** Call ## 92 ## Duration:  51 (ERR)
      ✓ should disallow same email (52ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  26 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (90ms)
    Login
**** Call ## 97 ## Duration:  78
      ✓ should login (78ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  102 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (144ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  26 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (89ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  98
**** Call ## 111 ## Duration:  111
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  91
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  114
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  172
**** Call ## 118 ## Duration:  111
**** Call ## 119 ## Duration:  120
      ✓ should follow/unfollow user (1096ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  94
**** Call ## 122 ## Duration:  62
**** Call ## 123 ## Duration:  64
**** Call ## 124 ## Duration:  59
      ✓ should update user (280ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  45 (ERR)
      ✓ should disallow missing token/email in update (65ms)
**** Call ## 127 ## Duration:  135
**** Call ## 128 ## Duration:  53 (ERR)
      ✓ should disallow reusing email (189ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  194
**** Call ## 1 ## Duration:  101
**** Call ## 2 ## Duration:  100
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  85
      ✓ should create article with tags (87ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  81 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  65 (ERR)
**** Call ## 9 ## Duration:  144 (ERR)
      ✓ should enforce required fields (356ms)
    Get
**** Call ## 10 ## Duration:  84
      ✓ should get article by slug (84ms)
**** Call ## 11 ## Duration:  95
      ✓ should get article with tags by slug (95ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  154
**** Call ## 15 ## Duration:  221
      ✓ should update article (535ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  71 (ERR)
      ✓ should disallow updating non-existent article (71ms)
**** Call ## 20 ## Duration:  65 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  279
**** Call ## 22 ## Duration:  101
      ✓ should favorite article (380ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  144
      ✓ should unfavorite article (145ms)
    Delete
**** Call ## 26 ## Duration:  134
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (176ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (74ms)
**** Call ## 30 ## Duration:  67 (ERR)
      ✓ should disallow deleting article by non-author (67ms)
    List
**** Call ## 31 ## Duration:  99
**** Call ## 32 ## Duration:  102
**** Call ## 33 ## Duration:  73
**** Call ## 34 ## Duration:  91
**** Call ## 35 ## Duration:  172
**** Call ## 36 ## Duration:  88
**** Call ## 37 ## Duration:  73
**** Call ## 38 ## Duration:  89
**** Call ## 39 ## Duration:  80
**** Call ## 40 ## Duration:  83
**** Call ## 41 ## Duration:  94
**** Call ## 42 ## Duration:  75
**** Call ## 43 ## Duration:  75
**** Call ## 44 ## Duration:  105
**** Call ## 45 ## Duration:  76
**** Call ## 46 ## Duration:  79
**** Call ## 47 ## Duration:  75
**** Call ## 48 ## Duration:  72
**** Call ## 49 ## Duration:  59
**** Call ## 50 ## Duration:  112
**** Call ## 51 ## Duration:  463
      ✓ should list articles (463ms)
**** Call ## 52 ## Duration:  375
**** Call ## 53 ## Duration:  422
      ✓ should list articles with tag (797ms)
**** Call ## 54 ## Duration:  234
      ✓ should list articles by author (234ms)
**** Call ## 55 ## Duration:  70
      ✓ should list articles favorited by user (70ms)
**** Call ## 56 ## Duration:  64
**** Call ## 57 ## Duration:  93
      ✓ should list articles by limit/offset (158ms)
**** Call ## 58 ## Duration:  418
      ✓ should list articles when authenticated (419ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  20 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  75
**** Call ## 63 ## Duration:  109
**** Call ## 64 ## Duration:  327
**** Call ## 65 ## Duration:  96
**** Call ## 66 ## Duration:  358
      ✓ should get feed (965ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  216
      ✓ should get tags (217ms)

  Comment
**** Call ## 69 ## Duration:  112
**** Call ## 70 ## Duration:  111
**** Call ## 71 ## Duration:  74
    Create
**** Call ## 72 ## Duration:  105
**** Call ## 73 ## Duration:  112
**** Call ## 74 ## Duration:  105
**** Call ## 75 ## Duration:  84
**** Call ## 76 ## Duration:  80
**** Call ## 77 ## Duration:  90
**** Call ## 78 ## Duration:  88
**** Call ## 79 ## Duration:  93
**** Call ## 80 ## Duration:  76
**** Call ## 81 ## Duration:  81
      ✓ should create comment (916ms)
**** Call ## 82 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  243
      ✓ should get all comments for article (243ms)
    Delete
**** Call ## 86 ## Duration:  93
      ✓ should delete comment (94ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  56 (ERR)
      ✓ should disallow deleting unknown comment (57ms)

  User
    Create
**** Call ## 90 ## Duration:  109
      ✓ should create user (109ms)
**** Call ## 91 ## Duration:  37 (ERR)
      ✓ should disallow same username (38ms)
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (69ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (67ms)
**** Call ## 98 ## Duration:  35 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  44 (ERR)
      1) should disallow wrong password

  46 passing (10s)
  1 failing

  1) User
       Login
         should disallow wrong password:

      AssertionError [ERR_ASSERTION]: Expected: [/Wrong password/], Actual: [Email not found: [user1-0.bj1nn6i5ogw@email.com]]
      + expected - actual

      -false
      +true
      
      at Object.assertError (test/TestUtil.js:9:5)
      at axios.post.catch.res (test/test.User.js:92:18)
      at <anonymous>
      at process._tickCallback (internal/process/next_tick.js:188:7)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T11_32_21_781Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  169
**** Call ## 1 ## Duration:  108
**** Call ## 2 ## Duration:  115
    Create
**** Call ## 3 ## Duration:  158
      ✓ should create article (160ms)
**** Call ## 4 ## Duration:  92
      ✓ should create article with tags (94ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  67 (ERR)
**** Call ## 7 ## Duration:  59 (ERR)
**** Call ## 8 ## Duration:  63 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (247ms)
    Get
**** Call ## 10 ## Duration:  91
      ✓ should get article by slug (91ms)
**** Call ## 11 ## Duration:  68
      ✓ should get article with tags by slug (68ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  163
**** Call ## 14 ## Duration:  150
**** Call ## 15 ## Duration:  152
      ✓ should update article (469ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  69 (ERR)
      ✓ should disallow updating non-existent article (69ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  152
**** Call ## 22 ## Duration:  98
      ✓ should favorite article (250ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  113
      ✓ should unfavorite article (113ms)
    Delete
**** Call ## 26 ## Duration:  116
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (158ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (65ms)
**** Call ## 30 ## Duration:  85 (ERR)
      ✓ should disallow deleting article by non-author (86ms)
    List
**** Call ## 31 ## Duration:  101
**** Call ## 32 ## Duration:  88
**** Call ## 33 ## Duration:  107
**** Call ## 34 ## Duration:  80
**** Call ## 35 ## Duration:  75
**** Call ## 36 ## Duration:  84
**** Call ## 37 ## Duration:  74
**** Call ## 38 ## Duration:  80
**** Call ## 39 ## Duration:  79
**** Call ## 40 ## Duration:  60
**** Call ## 41 ## Duration:  75
**** Call ## 42 ## Duration:  82
**** Call ## 43 ## Duration:  73
**** Call ## 44 ## Duration:  127
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  79
**** Call ## 47 ## Duration:  85
**** Call ## 48 ## Duration:  71
**** Call ## 49 ## Duration:  71
**** Call ## 50 ## Duration:  68
**** Call ## 51 ## Duration:  403
      ✓ should list articles (403ms)
**** Call ## 52 ## Duration:  436
**** Call ## 53 ## Duration:  384
      ✓ should list articles with tag (822ms)
**** Call ## 54 ## Duration:  323
      ✓ should list articles by author (323ms)
**** Call ## 55 ## Duration:  121
      ✓ should list articles favorited by user (121ms)
**** Call ## 56 ## Duration:  86
**** Call ## 57 ## Duration:  85
      ✓ should list articles by limit/offset (172ms)
**** Call ## 58 ## Duration:  343
      ✓ should list articles when authenticated (343ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  127
**** Call ## 63 ## Duration:  121
**** Call ## 64 ## Duration:  302
**** Call ## 65 ## Duration:  113
**** Call ## 66 ## Duration:  413
      ✓ should get feed (1076ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  207
      ✓ should get tags (207ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  158
**** Call ## 71 ## Duration:  126
    Create
**** Call ## 72 ## Duration:  108
**** Call ## 73 ## Duration:  103
**** Call ## 74 ## Duration:  82
**** Call ## 75 ## Duration:  80
**** Call ## 76 ## Duration:  84
**** Call ## 77 ## Duration:  75
**** Call ## 78 ## Duration:  85
**** Call ## 79 ## Duration:  88
**** Call ## 80 ## Duration:  96
**** Call ## 81 ## Duration:  90
      ✓ should create comment (891ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (51ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  194
      ✓ should get all comments for article (195ms)
    Delete
**** Call ## 86 ## Duration:  107
      ✓ should delete comment (107ms)
**** Call ## 87 ## Duration:  65 (ERR)
      ✓ only comment author should be able to delete comment (65ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown comment (69ms)

  User
    Create
**** Call ## 90 ## Duration:  120
      ✓ should create user (121ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  17 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (79ms)
    Login
**** Call ## 97 ## Duration:  79
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (68ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  65
      ✓ should get profile (65ms)
**** Call ## 109 ## Duration:  36 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  126
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  134
**** Call ## 113 ## Duration:  103
**** Call ## 114 ## Duration:  60
**** Call ## 115 ## Duration:  136
**** Call ## 116 ## Duration:  119
**** Call ## 117 ## Duration:  130
**** Call ## 118 ## Duration:  121
**** Call ## 119 ## Duration:  82
      ✓ should follow/unfollow user (1148ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  84
**** Call ## 122 ## Duration:  62
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  49
      ✓ should update user (249ms)
**** Call ## 125 ## Duration:  26 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (75ms)
**** Call ## 127 ## Duration:  114
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (175ms)

  Util
    Ping
**** Call ## 129 ## Duration:  29
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  181
**** Call ## 1 ## Duration:  113
**** Call ## 2 ## Duration:  104
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  87
      ✓ should create article with tags (89ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  92 (ERR)
**** Call ## 7 ## Duration:  66 (ERR)
**** Call ## 8 ## Duration:  63 (ERR)
**** Call ## 9 ## Duration:  60 (ERR)
      ✓ should enforce required fields (283ms)
    Get
**** Call ## 10 ## Duration:  103
      ✓ should get article by slug (103ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (90ms)
**** Call ## 12 ## Duration:  31 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  160
**** Call ## 14 ## Duration:  154
**** Call ## 15 ## Duration:  108
      ✓ should update article (425ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  66 (ERR)
      ✓ should disallow updating non-existent article (67ms)
**** Call ## 20 ## Duration:  58 (ERR)
      ✓ should disallow non-author from updating (58ms)
    Favorite
**** Call ## 21 ## Duration:  136
**** Call ## 22 ## Duration:  137
      ✓ should favorite article (274ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  60 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  126
      ✓ should unfavorite article (126ms)
    Delete
**** Call ## 26 ## Duration:  96
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (134ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  54 (ERR)
      ✓ should disallow deleting unknown article (55ms)
**** Call ## 30 ## Duration:  73 (ERR)
      ✓ should disallow deleting article by non-author (73ms)
    List
**** Call ## 31 ## Duration:  131
**** Call ## 32 ## Duration:  84
**** Call ## 33 ## Duration:  79
**** Call ## 34 ## Duration:  90
**** Call ## 35 ## Duration:  79
**** Call ## 36 ## Duration:  73
**** Call ## 37 ## Duration:  67
**** Call ## 38 ## Duration:  70
**** Call ## 39 ## Duration:  88
**** Call ## 40 ## Duration:  68
**** Call ## 41 ## Duration:  69
**** Call ## 42 ## Duration:  57
**** Call ## 43 ## Duration:  76
**** Call ## 44 ## Duration:  59
**** Call ## 45 ## Duration:  74
**** Call ## 46 ## Duration:  67
**** Call ## 47 ## Duration:  64
**** Call ## 48 ## Duration:  66
**** Call ## 49 ## Duration:  111
**** Call ## 50 ## Duration:  57
**** Call ## 51 ## Duration:  417
      ✓ should list articles (417ms)
**** Call ## 52 ## Duration:  371
**** Call ## 53 ## Duration:  370
      ✓ should list articles with tag (741ms)
**** Call ## 54 ## Duration:  238
      ✓ should list articles by author (238ms)
**** Call ## 55 ## Duration:  106
      ✓ should list articles favorited by user (107ms)
**** Call ## 56 ## Duration:  104
**** Call ## 57 ## Duration:  85
      ✓ should list articles by limit/offset (189ms)
**** Call ## 58 ## Duration:  419
      ✓ should list articles when authenticated (419ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  76
**** Call ## 63 ## Duration:  118
**** Call ## 64 ## Duration:  378
**** Call ## 65 ## Duration:  155
**** Call ## 66 ## Duration:  391
      ✓ should get feed (1118ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  222
      ✓ should get tags (223ms)

  Comment
**** Call ## 69 ## Duration:  160
**** Call ## 70 ## Duration:  103
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  132
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  79
**** Call ## 75 ## Duration:  95
**** Call ## 76 ## Duration:  120
**** Call ## 77 ## Duration:  127
**** Call ## 78 ## Duration:  97
**** Call ## 79 ## Duration:  147
**** Call ## 80 ## Duration:  67
**** Call ## 81 ## Duration:  98
      ✓ should create comment (1070ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  241
      ✓ should get all comments for article (241ms)
    Delete
**** Call ## 86 ## Duration:  99
      ✓ should delete comment (99ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  111
      ✓ should create user (111ms)
**** Call ## 91 ## Duration:  34 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  25 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  64
      ✓ should login (65ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  42
      ✓ should get current user (43ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  69
      ✓ should get profile (69ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  84
**** Call ## 111 ## Duration:  132
**** Call ## 112 ## Duration:  126
**** Call ## 113 ## Duration:  80
**** Call ## 114 ## Duration:  56
**** Call ## 115 ## Duration:  93
**** Call ## 116 ## Duration:  134
**** Call ## 117 ## Duration:  154
**** Call ## 118 ## Duration:  104
**** Call ## 119 ## Duration:  112
      ✓ should follow/unfollow user (1078ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  93
**** Call ## 122 ## Duration:  75
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  58
      ✓ should update user (296ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (62ms)
**** Call ## 127 ## Duration:  99
**** Call ## 128 ## Duration:  38 (ERR)
      ✓ should disallow reusing email (137ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  165
**** Call ## 1 ## Duration:  96
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  81
      ✓ should create article (83ms)
**** Call ## 4 ## Duration:  72
      ✓ should create article with tags (73ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  63 (ERR)
**** Call ## 7 ## Duration:  60 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  56 (ERR)
      ✓ should enforce required fields (238ms)
    Get
**** Call ## 10 ## Duration:  87
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  59
      ✓ should get article with tags by slug (59ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  117
**** Call ## 14 ## Duration:  118
**** Call ## 15 ## Duration:  153
      ✓ should update article (393ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  18 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  50 (ERR)
      ✓ should disallow updating non-existent article (50ms)
**** Call ## 20 ## Duration:  54 (ERR)
      ✓ should disallow non-author from updating (55ms)
    Favorite
**** Call ## 21 ## Duration:  136
**** Call ## 22 ## Duration:  104
      ✓ should favorite article (242ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  84 (ERR)
      ✓ should disallow favoriting unknown article (84ms)
**** Call ## 25 ## Duration:  125
      ✓ should unfavorite article (125ms)
    Delete
**** Call ## 26 ## Duration:  95
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (134ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown article (58ms)
**** Call ## 30 ## Duration:  53 (ERR)
      ✓ should disallow deleting article by non-author (53ms)
    List
**** Call ## 31 ## Duration:  79
**** Call ## 32 ## Duration:  76
**** Call ## 33 ## Duration:  75
**** Call ## 34 ## Duration:  95
**** Call ## 35 ## Duration:  71
**** Call ## 36 ## Duration:  89
**** Call ## 37 ## Duration:  103
**** Call ## 38 ## Duration:  81
**** Call ## 39 ## Duration:  80
**** Call ## 40 ## Duration:  82
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  82
**** Call ## 43 ## Duration:  96
**** Call ## 44 ## Duration:  84
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  75
**** Call ## 47 ## Duration:  77
**** Call ## 48 ## Duration:  60
**** Call ## 49 ## Duration:  62
**** Call ## 50 ## Duration:  62
**** Call ## 51 ## Duration:  415
      ✓ should list articles (415ms)
**** Call ## 52 ## Duration:  492
**** Call ## 53 ## Duration:  383
      ✓ should list articles with tag (876ms)
**** Call ## 54 ## Duration:  226
      ✓ should list articles by author (226ms)
**** Call ## 55 ## Duration:  82
      ✓ should list articles favorited by user (82ms)
**** Call ## 56 ## Duration:  61
**** Call ## 57 ## Duration:  71
      ✓ should list articles by limit/offset (132ms)
**** Call ## 58 ## Duration:  409
      ✓ should list articles when authenticated (409ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 59 ## Duration:  66 (ERR)
**** Call ## 62 ## Duration:  87
**** Call ## 63 ## Duration:  167
**** Call ## 64 ## Duration:  317
**** Call ## 65 ## Duration:  124
**** Call ## 66 ## Duration:  415
      ✓ should get feed (1111ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  191
      ✓ should get tags (191ms)

  Comment
**** Call ## 69 ## Duration:  115
**** Call ## 70 ## Duration:  135
**** Call ## 71 ## Duration:  102
    Create
**** Call ## 72 ## Duration:  118
**** Call ## 73 ## Duration:  110
**** Call ## 74 ## Duration:  95
**** Call ## 75 ## Duration:  117
**** Call ## 76 ## Duration:  111
**** Call ## 77 ## Duration:  92
**** Call ## 78 ## Duration:  92
**** Call ## 79 ## Duration:  100
**** Call ## 80 ## Duration:  86
**** Call ## 81 ## Duration:  80
      ✓ should create comment (1005ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  130 (ERR)
      ✓ should enforce comment body (130ms)
**** Call ## 84 ## Duration:  45 (ERR)
      ✓ should disallow non-existent article (46ms)
    Get
**** Call ## 85 ## Duration:  242
      ✓ should get all comments for article (242ms)
    Delete
**** Call ## 86 ## Duration:  165
      ✓ should delete comment (165ms)
**** Call ## 87 ## Duration:  49 (ERR)
      ✓ only comment author should be able to delete comment (50ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  78 (ERR)
      ✓ should disallow deleting unknown comment (78ms)

  User
    Create
**** Call ## 90 ## Duration:  113
      ✓ should create user (113ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  66 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  85
      ✓ should login (86ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  42 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  27 (ERR)
      ✓ should enforce required fields (92ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  124 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (192ms)
    Profile
**** Call ## 108 ## Duration:  69
      ✓ should get profile (70ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  104
**** Call ## 111 ## Duration:  105
**** Call ## 112 ## Duration:  100
**** Call ## 113 ## Duration:  81
**** Call ## 114 ## Duration:  62
**** Call ## 115 ## Duration:  110
**** Call ## 116 ## Duration:  99
**** Call ## 117 ## Duration:  117
**** Call ## 118 ## Duration:  87
**** Call ## 119 ## Duration:  112
      ✓ should follow/unfollow user (978ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  39
**** Call ## 124 ## Duration:  64
      ✓ should update user (253ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  40 (ERR)
      ✓ should disallow missing token/email in update (62ms)
**** Call ## 127 ## Duration:  103
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (155ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  169
**** Call ## 1 ## Duration:  111
**** Call ## 2 ## Duration:  76
    Create
**** Call ## 3 ## Duration:  139
      ✓ should create article (141ms)
**** Call ## 4 ## Duration:  72
      ✓ should create article with tags (74ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  67 (ERR)
**** Call ## 7 ## Duration:  60 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  63 (ERR)
      ✓ should enforce required fields (255ms)
    Get
**** Call ## 10 ## Duration:  100
      ✓ should get article by slug (100ms)
**** Call ## 11 ## Duration:  86
      ✓ should get article with tags by slug (86ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  148
**** Call ## 14 ## Duration:  189
**** Call ## 15 ## Duration:  111
      ✓ should update article (450ms)
**** Call ## 16 ## Duration:  44 (ERR)
      ✓ should disallow missing mutation (44ms)
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  67 (ERR)
      ✓ should disallow updating non-existent article (67ms)
**** Call ## 20 ## Duration:  51 (ERR)
      ✓ should disallow non-author from updating (51ms)
    Favorite
**** Call ## 21 ## Duration:  137
**** Call ## 22 ## Duration:  151
      ✓ should favorite article (288ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  58 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  169
      ✓ should unfavorite article (170ms)
    Delete
**** Call ## 26 ## Duration:  105
**** Call ## 27 ## Duration:  55 (ERR)
      ✓ should delete article (161ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  57 (ERR)
      ✓ should disallow deleting article by non-author (57ms)
    List
**** Call ## 31 ## Duration:  84
**** Call ## 32 ## Duration:  94
**** Call ## 33 ## Duration:  101
**** Call ## 34 ## Duration:  93
**** Call ## 35 ## Duration:  85
**** Call ## 36 ## Duration:  91
**** Call ## 37 ## Duration:  74
**** Call ## 38 ## Duration:  76
**** Call ## 39 ## Duration:  98
**** Call ## 40 ## Duration:  79
**** Call ## 41 ## Duration:  69
**** Call ## 42 ## Duration:  75
**** Call ## 43 ## Duration:  107
**** Call ## 44 ## Duration:  117
**** Call ## 45 ## Duration:  63
**** Call ## 46 ## Duration:  68
**** Call ## 47 ## Duration:  80
**** Call ## 48 ## Duration:  60
**** Call ## 49 ## Duration:  93
**** Call ## 50 ## Duration:  89
**** Call ## 51 ## Duration:  421
      ✓ should list articles (422ms)
**** Call ## 52 ## Duration:  438
**** Call ## 53 ## Duration:  393
      ✓ should list articles with tag (831ms)
**** Call ## 54 ## Duration:  240
      ✓ should list articles by author (240ms)
**** Call ## 55 ## Duration:  83
      ✓ should list articles favorited by user (83ms)
**** Call ## 56 ## Duration:  83
**** Call ## 57 ## Duration:  96
      ✓ should list articles by limit/offset (180ms)
**** Call ## 58 ## Duration:  401
      ✓ should list articles when authenticated (401ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 61 ## Duration:  53 (ERR)
**** Call ## 62 ## Duration:  93
**** Call ## 63 ## Duration:  204
**** Call ## 64 ## Duration:  341
**** Call ## 65 ## Duration:  95
**** Call ## 66 ## Duration:  349
      ✓ should get feed (1083ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  250
      ✓ should get tags (250ms)

  Comment
**** Call ## 69 ## Duration:  108
**** Call ## 70 ## Duration:  146
**** Call ## 71 ## Duration:  85
    Create
**** Call ## 72 ## Duration:  151
**** Call ## 73 ## Duration:  101
**** Call ## 74 ## Duration:  109
**** Call ## 75 ## Duration:  134
**** Call ## 76 ## Duration:  109
**** Call ## 77 ## Duration:  94
**** Call ## 78 ## Duration:  84
**** Call ## 79 ## Duration:  66
**** Call ## 80 ## Duration:  105
**** Call ## 81 ## Duration:  92
      ✓ should create comment (1047ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  39 (ERR)
      ✓ should enforce comment body (39ms)
**** Call ## 84 ## Duration:  49 (ERR)
      ✓ should disallow non-existent article (50ms)
    Get
**** Call ## 85 ## Duration:  257
      ✓ should get all comments for article (257ms)
    Delete
**** Call ## 86 ## Duration:  109
      ✓ should delete comment (110ms)
**** Call ## 87 ## Duration:  56 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  94
      ✓ should create user (94ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  36 (ERR)
      ✓ should disallow same email
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  88
      ✓ should login (88ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  43
      ✓ should get current user (43ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  18 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (77ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  98
**** Call ## 111 ## Duration:  127
**** Call ## 112 ## Duration:  105
**** Call ## 113 ## Duration:  81
**** Call ## 114 ## Duration:  55
**** Call ## 115 ## Duration:  103
**** Call ## 116 ## Duration:  116
**** Call ## 117 ## Duration:  134
**** Call ## 118 ## Duration:  117
**** Call ## 119 ## Duration:  108
      ✓ should follow/unfollow user (1046ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  122
**** Call ## 122 ## Duration:  54
**** Call ## 123 ## Duration:  51
**** Call ## 124 ## Duration:  46
      ✓ should update user (275ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  57 (ERR)
      ✓ should disallow missing token/email in update (77ms)
**** Call ## 127 ## Duration:  97
**** Call ## 128 ## Duration:  66 (ERR)
      ✓ should disallow reusing email (163ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://2zaf5kcapd.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  181
**** Call ## 1 ## Duration:  98
**** Call ## 2 ## Duration:  127
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  96
      ✓ should create article with tags (99ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  66 (ERR)
**** Call ## 7 ## Duration:  45 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  48 (ERR)
      ✓ should enforce required fields (219ms)
    Get
**** Call ## 10 ## Duration:  92
      ✓ should get article by slug (92ms)
**** Call ## 11 ## Duration:  93
      ✓ should get article with tags by slug (93ms)
**** Call ## 12 ## Duration:  31 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  167
**** Call ## 14 ## Duration:  139
**** Call ## 15 ## Duration:  136
      ✓ should update article (447ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  73 (ERR)
      ✓ should disallow non-author from updating (74ms)
    Favorite
**** Call ## 21 ## Duration:  143
**** Call ## 22 ## Duration:  104
      ✓ should favorite article (247ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  75 (ERR)
      ✓ should disallow favoriting unknown article (76ms)
**** Call ## 25 ## Duration:  151
      ✓ should unfavorite article (151ms)
    Delete
**** Call ## 26 ## Duration:  94
**** Call ## 27 ## Duration:  47 (ERR)
      ✓ should delete article (141ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  49 (ERR)
      ✓ should disallow deleting unknown article (50ms)
**** Call ## 30 ## Duration:  61 (ERR)
      ✓ should disallow deleting article by non-author (62ms)
    List
**** Call ## 31 ## Duration:  81
**** Call ## 32 ## Duration:  85
**** Call ## 33 ## Duration:  75
**** Call ## 34 ## Duration:  80
**** Call ## 35 ## Duration:  105
**** Call ## 36 ## Duration:  83
**** Call ## 37 ## Duration:  67
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  73
**** Call ## 40 ## Duration:  65
**** Call ## 41 ## Duration:  83
**** Call ## 42 ## Duration:  65
**** Call ## 43 ## Duration:  64
**** Call ## 44 ## Duration:  82
**** Call ## 45 ## Duration:  61
**** Call ## 46 ## Duration:  64
**** Call ## 47 ## Duration:  55
**** Call ## 48 ## Duration:  68
**** Call ## 49 ## Duration:  39 (ERR)
      1) "before all" hook

  21 passing (4s)
  1 failing

  1) Article
       List
         "before all" hook:
     Error: Request failed with status code 422
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:18:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:202:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-02T11_38_32_810Z-debug.log
results20191102093800/rec-res-4-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
