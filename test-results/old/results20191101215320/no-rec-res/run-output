Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (23.07 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (23.08 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (23.08 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Removing old service artifacts from S3...
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  738
**** Call ## 1 ## Duration:  86
**** Call ## 2 ## Duration:  96
    Create
**** Call ## 3 ## Duration:  637
      ✓ should create article (639ms)
**** Call ## 4 ## Duration:  74
      ✓ should create article with tags (77ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  581 (ERR)
**** Call ## 7 ## Duration:  46 (ERR)
**** Call ## 8 ## Duration:  43 (ERR)
**** Call ## 9 ## Duration:  43 (ERR)
      ✓ should enforce required fields (714ms)
    Get
**** Call ## 10 ## Duration:  587
      ✓ should get article by slug (589ms)
**** Call ## 11 ## Duration:  71
      ✓ should get article with tags by slug (71ms)
**** Call ## 12 ## Duration:  48 (ERR)
      ✓ should disallow unknown slug (48ms)
    Update
**** Call ## 13 ## Duration:  682
**** Call ## 14 ## Duration:  112
**** Call ## 15 ## Duration:  121
      ✓ should update article (920ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  428 (ERR)
      ✓ should disallow empty mutation (428ms)
**** Call ## 18 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  60 (ERR)
      ✓ should disallow updating non-existent article (60ms)
**** Call ## 20 ## Duration:  52 (ERR)
      ✓ should disallow non-author from updating (52ms)
    Favorite
**** Call ## 21 ## Duration:  606
**** Call ## 22 ## Duration:  112
      ✓ should favorite article (718ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  771
      ✓ should unfavorite article (771ms)
    Delete
**** Call ## 26 ## Duration:  635
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (678ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  67 (ERR)
      ✓ should disallow deleting article by non-author (67ms)
    List
**** Call ## 31 ## Duration:  80
**** Call ## 32 ## Duration:  58
**** Call ## 33 ## Duration:  79
**** Call ## 34 ## Duration:  73
**** Call ## 35 ## Duration:  62
**** Call ## 36 ## Duration:  69
**** Call ## 37 ## Duration:  77
**** Call ## 38 ## Duration:  99
**** Call ## 39 ## Duration:  68
**** Call ## 40 ## Duration:  91
**** Call ## 41 ## Duration:  58
**** Call ## 42 ## Duration:  51
**** Call ## 43 ## Duration:  70
**** Call ## 44 ## Duration:  58
**** Call ## 45 ## Duration:  52
**** Call ## 46 ## Duration:  56
**** Call ## 47 ## Duration:  51
**** Call ## 48 ## Duration:  39
**** Call ## 49 ## Duration:  68
**** Call ## 50 ## Duration:  53
**** Call ## 51 ## Duration:  900
      ✓ should list articles (900ms)
**** Call ## 52 ## Duration:  84
**** Call ## 53 ## Duration:  103
      ✓ should list articles with tag (188ms)
**** Call ## 54 ## Duration:  95
      ✓ should list articles by author (95ms)
**** Call ## 55 ## Duration:  36
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  615
**** Call ## 57 ## Duration:  77
      ✓ should list articles by limit/offset (692ms)
**** Call ## 58 ## Duration:  231
      ✓ should list articles when authenticated (231ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  446 (ERR)
**** Call ## 62 ## Duration:  613
**** Call ## 63 ## Duration:  631
**** Call ## 64 ## Duration:  156
**** Call ## 65 ## Duration:  114
**** Call ## 66 ## Duration:  305
      ✓ should get feed (1821ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  625
      ✓ should get tags (625ms)

  Comment
**** Call ## 69 ## Duration:  78
**** Call ## 70 ## Duration:  91
**** Call ## 71 ## Duration:  73
    Create
**** Call ## 72 ## Duration:  614
**** Call ## 73 ## Duration:  82
**** Call ## 74 ## Duration:  66
**** Call ## 75 ## Duration:  88
**** Call ## 76 ## Duration:  92
**** Call ## 77 ## Duration:  63
**** Call ## 78 ## Duration:  49
**** Call ## 79 ## Duration:  82
**** Call ## 80 ## Duration:  98
**** Call ## 81 ## Duration:  82
      ✓ should create comment (1318ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  550 (ERR)
      ✓ should enforce comment body (550ms)
**** Call ## 84 ## Duration:  69 (ERR)
      ✓ should disallow non-existent article (70ms)
    Get
**** Call ## 85 ## Duration:  770
      ✓ should get all comments for article (770ms)
    Delete
**** Call ## 86 ## Duration:  638
      ✓ should delete comment (638ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  556 (ERR)
      ✓ should disallow deleting unknown comment (556ms)

  User
    Create
**** Call ## 90 ## Duration:  94
      ✓ should create user (95ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  48 (ERR)
      ✓ should disallow same email (48ms)
**** Call ## 93 ## Duration:  26 (ERR)
**** Call ## 94 ## Duration:  446 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (513ms)
    Login
**** Call ## 97 ## Duration:  655
      ✓ should login (656ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  622 (ERR)
      ✓ should disallow wrong password (624ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  567
      ✓ should get current user (567ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  474 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (539ms)
    Profile
**** Call ## 108 ## Duration:  607
      ✓ should get profile (607ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  241
**** Call ## 111 ## Duration:  100
**** Call ## 112 ## Duration:  95
**** Call ## 113 ## Duration:  74
**** Call ## 114 ## Duration:  45
**** Call ## 115 ## Duration:  93
**** Call ## 116 ## Duration:  90
**** Call ## 117 ## Duration:  657
**** Call ## 118 ## Duration:  95
**** Call ## 119 ## Duration:  103
      ✓ should follow/unfollow user (1594ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  636
**** Call ## 122 ## Duration:  110
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  67
      ✓ should update user (883ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  585 (ERR)
      ✓ should disallow missing token/email in update (607ms)
**** Call ## 127 ## Duration:  103
**** Call ## 128 ## Duration:  71 (ERR)
      ✓ should disallow reusing email (175ms)

  Util
    Ping
**** Call ## 129 ## Duration:  537
      ✓ should ping (538ms)


  58 passing (25s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  149
**** Call ## 1 ## Duration:  82
**** Call ## 2 ## Duration:  90
    Create
**** Call ## 3 ## Duration:  75
      ✓ should create article (78ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (82ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  91 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  47 (ERR)
**** Call ## 9 ## Duration:  53 (ERR)
      ✓ should enforce required fields (251ms)
    Get
**** Call ## 10 ## Duration:  78
      ✓ should get article by slug (78ms)
**** Call ## 11 ## Duration:  68
      ✓ should get article with tags by slug (69ms)
**** Call ## 12 ## Duration:  47 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  144
**** Call ## 14 ## Duration:  223
**** Call ## 15 ## Duration:  150
      ✓ should update article (517ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  337 (ERR)
      ✓ should disallow updating non-existent article (337ms)
**** Call ## 20 ## Duration:  91 (ERR)
      ✓ should disallow non-author from updating (91ms)
    Favorite
**** Call ## 21 ## Duration:  119
**** Call ## 22 ## Duration:  92
      ✓ should favorite article (213ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  209
      ✓ should unfavorite article (209ms)
    Delete
**** Call ## 26 ## Duration:  90
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (129ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  55 (ERR)
      ✓ should disallow deleting unknown article (55ms)
**** Call ## 30 ## Duration:  48 (ERR)
      ✓ should disallow deleting article by non-author (48ms)
    List
**** Call ## 31 ## Duration:  111
**** Call ## 32 ## Duration:  140
**** Call ## 33 ## Duration:  78
**** Call ## 34 ## Duration:  65
**** Call ## 35 ## Duration:  64
**** Call ## 36 ## Duration:  69
**** Call ## 37 ## Duration:  56
**** Call ## 38 ## Duration:  56
**** Call ## 39 ## Duration:  42
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  111
**** Call ## 42 ## Duration:  67
**** Call ## 43 ## Duration:  64
**** Call ## 44 ## Duration:  49
**** Call ## 45 ## Duration:  68
**** Call ## 46 ## Duration:  44
**** Call ## 47 ## Duration:  62
**** Call ## 48 ## Duration:  51
**** Call ## 49 ## Duration:  61
**** Call ## 50 ## Duration:  61
**** Call ## 51 ## Duration:  366
      ✓ should list articles (369ms)
**** Call ## 52 ## Duration:  59
**** Call ## 53 ## Duration:  139
      ✓ should list articles with tag (199ms)
**** Call ## 54 ## Duration:  100
      ✓ should list articles by author (100ms)
**** Call ## 55 ## Duration:  37
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  124
**** Call ## 57 ## Duration:  85
      ✓ should list articles by limit/offset (210ms)
**** Call ## 58 ## Duration:  193
      ✓ should list articles when authenticated (193ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  68 (ERR)
**** Call ## 62 ## Duration:  124
**** Call ## 63 ## Duration:  135
**** Call ## 64 ## Duration:  175
**** Call ## 65 ## Duration:  128
**** Call ## 66 ## Duration:  253
      ✓ should get feed (817ms)
**** Call ## 67 ## Duration:  37 (ERR)
      ✓ should disallow unauthenticated feed (38ms)
    Tags
**** Call ## 68 ## Duration:  64
      ✓ should get tags (64ms)

  Comment
**** Call ## 69 ## Duration:  75
**** Call ## 70 ## Duration:  87
**** Call ## 71 ## Duration:  71
    Create
**** Call ## 72 ## Duration:  106
**** Call ## 73 ## Duration:  98
**** Call ## 74 ## Duration:  74
**** Call ## 75 ## Duration:  85
**** Call ## 76 ## Duration:  69
**** Call ## 77 ## Duration:  91
**** Call ## 78 ## Duration:  56
**** Call ## 79 ## Duration:  64
**** Call ## 80 ## Duration:  128
**** Call ## 81 ## Duration:  73
      ✓ should create comment (847ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  78 (ERR)
      ✓ should disallow non-existent article (78ms)
    Get
**** Call ## 85 ## Duration:  275
      ✓ should get all comments for article (275ms)
    Delete
**** Call ## 86 ## Duration:  98
      ✓ should delete comment (99ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  99 (ERR)
      ✓ should disallow deleting unknown comment (99ms)

  User
    Create
**** Call ## 90 ## Duration:  100
      ✓ should create user (100ms)
**** Call ## 91 ## Duration:  48 (ERR)
      ✓ should disallow same username (48ms)
**** Call ## 92 ## Duration:  82 (ERR)
      ✓ should disallow same email (82ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (78ms)
    Login
**** Call ## 97 ## Duration:  57
      ✓ should login (57ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  34 (ERR)
      ✓ should disallow wrong password
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  126
      ✓ should get current user (126ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  53
      ✓ should get profile (55ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  101
**** Call ## 111 ## Duration:  157
**** Call ## 112 ## Duration:  109
**** Call ## 113 ## Duration:  68
**** Call ## 114 ## Duration:  49
**** Call ## 115 ## Duration:  95
**** Call ## 116 ## Duration:  116
**** Call ## 117 ## Duration:  164
**** Call ## 118 ## Duration:  92
**** Call ## 119 ## Duration:  90
      ✓ should follow/unfollow user (1045ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  116
**** Call ## 122 ## Duration:  120
**** Call ## 123 ## Duration:  80
**** Call ## 124 ## Duration:  64
      ✓ should update user (382ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  96
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (159ms)

  Util
    Ping
**** Call ## 129 ## Duration:  28
      ✓ should ping


  58 passing (11s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  160
**** Call ## 1 ## Duration:  103
**** Call ## 2 ## Duration:  67
    Create
**** Call ## 3 ## Duration:  123
      ✓ should create article (125ms)
**** Call ## 4 ## Duration:  67
      ✓ should create article with tags (69ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  47 (ERR)
**** Call ## 7 ## Duration:  41 (ERR)
**** Call ## 8 ## Duration:  50 (ERR)
**** Call ## 9 ## Duration:  28 (ERR)
      ✓ should enforce required fields (169ms)
    Get
**** Call ## 10 ## Duration:  103
      ✓ should get article by slug (104ms)
**** Call ## 11 ## Duration:  63
      ✓ should get article with tags by slug (63ms)
**** Call ## 12 ## Duration:  34 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  152
**** Call ## 14 ## Duration:  124
**** Call ## 15 ## Duration:  108
      ✓ should update article (389ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  52 (ERR)
      ✓ should disallow empty mutation (52ms)
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  62 (ERR)
      ✓ should disallow updating non-existent article (63ms)
**** Call ## 20 ## Duration:  37 (ERR)
      ✓ should disallow non-author from updating
    Favorite
**** Call ## 21 ## Duration:  118
**** Call ## 22 ## Duration:  138
      ✓ should favorite article (257ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  45 (ERR)
      ✓ should disallow favoriting unknown article (45ms)
**** Call ## 25 ## Duration:  105
      ✓ should unfavorite article (106ms)
    Delete
**** Call ## 26 ## Duration:  125
**** Call ## 27 ## Duration:  68 (ERR)
      ✓ should delete article (194ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  101 (ERR)
      ✓ should disallow deleting unknown article (101ms)
**** Call ## 30 ## Duration:  57 (ERR)
      ✓ should disallow deleting article by non-author (57ms)
    List
**** Call ## 31 ## Duration:  92
**** Call ## 32 ## Duration:  87
**** Call ## 33 ## Duration:  54
**** Call ## 34 ## Duration:  71
**** Call ## 35 ## Duration:  44
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  69
**** Call ## 38 ## Duration:  53
**** Call ## 39 ## Duration:  62
**** Call ## 40 ## Duration:  62
**** Call ## 41 ## Duration:  46
**** Call ## 42 ## Duration:  68
**** Call ## 43 ## Duration:  54
**** Call ## 44 ## Duration:  39
**** Call ## 45 ## Duration:  77
**** Call ## 46 ## Duration:  62
**** Call ## 47 ## Duration:  65
**** Call ## 48 ## Duration:  57
**** Call ## 49 ## Duration:  63
**** Call ## 50 ## Duration:  66
**** Call ## 51 ## Duration:  226
      ✓ should list articles (226ms)
**** Call ## 52 ## Duration:  64
**** Call ## 53 ## Duration:  152
      ✓ should list articles with tag (217ms)
**** Call ## 54 ## Duration:  83
      ✓ should list articles by author (83ms)
**** Call ## 55 ## Duration:  35
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  122
**** Call ## 57 ## Duration:  83
      ✓ should list articles by limit/offset (206ms)
**** Call ## 58 ## Duration:  200 (ERR)
      1) should list articles when authenticated

  26 passing (5s)
  1 failing

  1) Article
       List
         should list articles when authenticated:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:18:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:202:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-01T22_01_24_413Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  169
**** Call ## 1 ## Duration:  126
**** Call ## 2 ## Duration:  101
    Create
**** Call ## 3 ## Duration:  75
      ✓ should create article (78ms)
**** Call ## 4 ## Duration:  63
      ✓ should create article with tags (65ms)
**** Call ## 5 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  43 (ERR)
**** Call ## 7 ## Duration:  33 (ERR)
**** Call ## 8 ## Duration:  42 (ERR)
**** Call ## 9 ## Duration:  51 (ERR)
      ✓ should enforce required fields (169ms)
    Get
**** Call ## 10 ## Duration:  87
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  117
      ✓ should get article with tags by slug (117ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  172
**** Call ## 14 ## Duration:  135
**** Call ## 15 ## Duration:  106
      ✓ should update article (417ms)
**** Call ## 16 ## Duration:  18 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  45 (ERR)
      ✓ should disallow empty mutation (45ms)
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  32 (ERR)
      ✓ should disallow updating non-existent article
**** Call ## 20 ## Duration:  61 (ERR)
      ✓ should disallow non-author from updating (61ms)
    Favorite
**** Call ## 21 ## Duration:  120
**** Call ## 22 ## Duration:  71
      ✓ should favorite article (193ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  119
      ✓ should unfavorite article (119ms)
    Delete
**** Call ## 26 ## Duration:  97
**** Call ## 27 ## Duration:  72 (ERR)
      ✓ should delete article (171ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  49 (ERR)
      ✓ should disallow deleting unknown article (50ms)
**** Call ## 30 ## Duration:  100 (ERR)
      ✓ should disallow deleting article by non-author (101ms)
    List
**** Call ## 31 ## Duration:  69
**** Call ## 32 ## Duration:  68
**** Call ## 33 ## Duration:  69
**** Call ## 34 ## Duration:  72
**** Call ## 35 ## Duration:  76
**** Call ## 36 ## Duration:  56
**** Call ## 37 ## Duration:  46
**** Call ## 38 ## Duration:  62
**** Call ## 39 ## Duration:  75
**** Call ## 40 ## Duration:  63
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  50
**** Call ## 43 ## Duration:  70
**** Call ## 44 ## Duration:  53
**** Call ## 45 ## Duration:  54
**** Call ## 46 ## Duration:  59
**** Call ## 47 ## Duration:  40
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  57
**** Call ## 50 ## Duration:  51
**** Call ## 51 ## Duration:  285
      ✓ should list articles (285ms)
**** Call ## 52 ## Duration:  98
**** Call ## 53 ## Duration:  155
      ✓ should list articles with tag (254ms)
**** Call ## 54 ## Duration:  109
      ✓ should list articles by author (109ms)
**** Call ## 55 ## Duration:  59
      ✓ should list articles favorited by user (59ms)
**** Call ## 56 ## Duration:  60
**** Call ## 57 ## Duration:  81
      ✓ should list articles by limit/offset (142ms)
**** Call ## 58 ## Duration:  182
      ✓ should list articles when authenticated (183ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  41 (ERR)
**** Call ## 62 ## Duration:  108
**** Call ## 63 ## Duration:  147
**** Call ## 64 ## Duration:  163
**** Call ## 65 ## Duration:  77
**** Call ## 66 ## Duration:  186
      ✓ should get feed (682ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  91
      ✓ should get tags (91ms)

  Comment
**** Call ## 69 ## Duration:  84
**** Call ## 70 ## Duration:  75
**** Call ## 71 ## Duration:  76
    Create
**** Call ## 72 ## Duration:  96
**** Call ## 73 ## Duration:  79
**** Call ## 74 ## Duration:  85
**** Call ## 75 ## Duration:  85
**** Call ## 76 ## Duration:  103
**** Call ## 77 ## Duration:  46
**** Call ## 78 ## Duration:  65
**** Call ## 79 ## Duration:  73
**** Call ## 80 ## Duration:  117
**** Call ## 81 ## Duration:  65
      ✓ should create comment (814ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  82 (ERR)
      ✓ should enforce comment body (83ms)
**** Call ## 84 ## Duration:  68 (ERR)
      ✓ should disallow non-existent article (68ms)
    Get
**** Call ## 85 ## Duration:  279
      ✓ should get all comments for article (279ms)
    Delete
**** Call ## 86 ## Duration:  86
      ✓ should delete comment (86ms)
**** Call ## 87 ## Duration:  38 (ERR)
      ✓ only comment author should be able to delete comment (38ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  76 (ERR)
      ✓ should disallow deleting unknown comment (76ms)

  User
    Create
**** Call ## 90 ## Duration:  86
      ✓ should create user (87ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  62
      ✓ should login (62ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (50ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (64ms)
    Get
**** Call ## 103 ## Duration:  54
      ✓ should get current user (54ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  67
      ✓ should get profile (67ms)
**** Call ## 109 ## Duration:  60 (ERR)
      ✓ should disallow unknown username (60ms)
**** Call ## 110 ## Duration:  89
**** Call ## 111 ## Duration:  152
**** Call ## 112 ## Duration:  79
**** Call ## 113 ## Duration:  77
**** Call ## 114 ## Duration:  44
**** Call ## 115 ## Duration:  122
**** Call ## 116 ## Duration:  80
**** Call ## 117 ## Duration:  114
**** Call ## 118 ## Duration:  95
**** Call ## 119 ## Duration:  102
      ✓ should follow/unfollow user (956ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  102
**** Call ## 122 ## Duration:  75
**** Call ## 123 ## Duration:  68
**** Call ## 124 ## Duration:  48
      ✓ should update user (293ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  53 (ERR)
      ✓ should disallow missing token/email in update (73ms)
**** Call ## 127 ## Duration:  80
**** Call ## 128 ## Duration:  67 (ERR)
      ✓ should disallow reusing email (148ms)

  Util
    Ping
**** Call ## 129 ## Duration:  27
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  178
**** Call ## 1 ## Duration:  76
**** Call ## 2 ## Duration:  89
    Create
**** Call ## 3 ## Duration:  75
      ✓ should create article (78ms)
**** Call ## 4 ## Duration:  68
      ✓ should create article with tags (70ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  53 (ERR)
**** Call ## 7 ## Duration:  44 (ERR)
**** Call ## 8 ## Duration:  43 (ERR)
**** Call ## 9 ## Duration:  44 (ERR)
      ✓ should enforce required fields (184ms)
    Get
**** Call ## 10 ## Duration:  108
      ✓ should get article by slug (108ms)
**** Call ## 11 ## Duration:  56
      ✓ should get article with tags by slug (56ms)
**** Call ## 12 ## Duration:  30 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  141
**** Call ## 14 ## Duration:  115
**** Call ## 15 ## Duration:  133
      ✓ should update article (391ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  46 (ERR)
      ✓ should disallow empty mutation (47ms)
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  57 (ERR)
      ✓ should disallow updating non-existent article (57ms)
**** Call ## 20 ## Duration:  72 (ERR)
      ✓ should disallow non-author from updating (72ms)
    Favorite
**** Call ## 21 ## Duration:  101
**** Call ## 22 ## Duration:  98
      ✓ should favorite article (199ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  52 (ERR)
      ✓ should disallow favoriting unknown article (52ms)
**** Call ## 25 ## Duration:  136
      ✓ should unfavorite article (136ms)
    Delete
**** Call ## 26 ## Duration:  89
**** Call ## 27 ## Duration:  54 (ERR)
      ✓ should delete article (143ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  48 (ERR)
      ✓ should disallow deleting unknown article (48ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (63ms)
    List
**** Call ## 31 ## Duration:  73
**** Call ## 32 ## Duration:  65
**** Call ## 33 ## Duration:  63
**** Call ## 34 ## Duration:  68
**** Call ## 35 ## Duration:  76
**** Call ## 36 ## Duration:  50
**** Call ## 37 ## Duration:  61
**** Call ## 38 ## Duration:  49
**** Call ## 39 ## Duration:  66
**** Call ## 40 ## Duration:  53
**** Call ## 41 ## Duration:  48
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  43
**** Call ## 44 ## Duration:  70
**** Call ## 45 ## Duration:  73
**** Call ## 46 ## Duration:  57
**** Call ## 47 ## Duration:  57
**** Call ## 48 ## Duration:  57
**** Call ## 49 ## Duration:  73
**** Call ## 50 ## Duration:  67
**** Call ## 51 ## Duration:  281
      ✓ should list articles (282ms)
**** Call ## 52 ## Duration:  104
**** Call ## 53 ## Duration:  156
      ✓ should list articles with tag (260ms)
**** Call ## 54 ## Duration:  100
      ✓ should list articles by author (100ms)
**** Call ## 55 ## Duration:  45
      ✓ should list articles favorited by user (45ms)
**** Call ## 56 ## Duration:  110
**** Call ## 57 ## Duration:  77
      ✓ should list articles by limit/offset (188ms)
**** Call ## 58 ## Duration:  223
      ✓ should list articles when authenticated (223ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  84
**** Call ## 63 ## Duration:  116
**** Call ## 64 ## Duration:  170
**** Call ## 65 ## Duration:  79
**** Call ## 66 ## Duration:  236
      ✓ should get feed (688ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  94
      ✓ should get tags (94ms)

  Comment
**** Call ## 69 ## Duration:  133
**** Call ## 70 ## Duration:  92
**** Call ## 71 ## Duration:  59
    Create
**** Call ## 72 ## Duration:  112
**** Call ## 73 ## Duration:  81
**** Call ## 74 ## Duration:  72
**** Call ## 75 ## Duration:  71
**** Call ## 76 ## Duration:  81
**** Call ## 77 ## Duration:  53
**** Call ## 78 ## Duration:  64
**** Call ## 79 ## Duration:  62
**** Call ## 80 ## Duration:  76
**** Call ## 81 ## Duration:  61
      ✓ should create comment (736ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  79 (ERR)
      ✓ should enforce comment body (80ms)
**** Call ## 84 ## Duration:  69 (ERR)
      ✓ should disallow non-existent article (69ms)
    Get
**** Call ## 85 ## Duration:  279
      ✓ should get all comments for article (279ms)
    Delete
**** Call ## 86 ## Duration:  108
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  104
      ✓ should create user (104ms)
**** Call ## 91 ## Duration:  59 (ERR)
      ✓ should disallow same username (59ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  55
      ✓ should login (55ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  24 (ERR)
      ✓ should enforce required fields (70ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  45
      ✓ should get profile (45ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  97
**** Call ## 111 ## Duration:  122
**** Call ## 112 ## Duration:  90
**** Call ## 113 ## Duration:  46
**** Call ## 114 ## Duration:  39
**** Call ## 115 ## Duration:  82
**** Call ## 116 ## Duration:  86
**** Call ## 117 ## Duration:  116
**** Call ## 118 ## Duration:  152
**** Call ## 119 ## Duration:  91
      ✓ should follow/unfollow user (922ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  97
**** Call ## 122 ## Duration:  101
**** Call ## 123 ## Duration:  71
**** Call ## 124 ## Duration:  56
      ✓ should update user (326ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  61
**** Call ## 128 ## Duration:  113 (ERR)
      ✓ should disallow reusing email (177ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  142
**** Call ## 1 ## Duration:  66
**** Call ## 2 ## Duration:  63
    Create
**** Call ## 3 ## Duration:  71
      ✓ should create article (74ms)
**** Call ## 4 ## Duration:  52
      ✓ should create article with tags (54ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  47 (ERR)
**** Call ## 7 ## Duration:  43 (ERR)
**** Call ## 8 ## Duration:  43 (ERR)
**** Call ## 9 ## Duration:  40 (ERR)
      ✓ should enforce required fields (176ms)
    Get
**** Call ## 10 ## Duration:  74
      ✓ should get article by slug (74ms)
**** Call ## 11 ## Duration:  67
      ✓ should get article with tags by slug (67ms)
**** Call ## 12 ## Duration:  153 (ERR)
      ✓ should disallow unknown slug (153ms)
    Update
**** Call ## 13 ## Duration:  110
**** Call ## 14 ## Duration:  116
**** Call ## 15 ## Duration:  122
      ✓ should update article (351ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  52 (ERR)
      ✓ should disallow updating non-existent article (53ms)
**** Call ## 20 ## Duration:  51 (ERR)
      ✓ should disallow non-author from updating (51ms)
    Favorite
**** Call ## 21 ## Duration:  103
**** Call ## 22 ## Duration:  83
      ✓ should favorite article (187ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  87 (ERR)
      ✓ should disallow favoriting unknown article (88ms)
**** Call ## 25 ## Duration:  155
      ✓ should unfavorite article (155ms)
    Delete
**** Call ## 26 ## Duration:  120
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (160ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  72 (ERR)
      ✓ should disallow deleting article by non-author (74ms)
    List
**** Call ## 31 ## Duration:  65
**** Call ## 32 ## Duration:  69
**** Call ## 33 ## Duration:  67
**** Call ## 34 ## Duration:  71
**** Call ## 35 ## Duration:  73
**** Call ## 36 ## Duration:  54
**** Call ## 37 ## Duration:  49
**** Call ## 38 ## Duration:  68
**** Call ## 39 ## Duration:  67
**** Call ## 40 ## Duration:  42
**** Call ## 41 ## Duration:  134
**** Call ## 42 ## Duration:  55
**** Call ## 43 ## Duration:  74
**** Call ## 44 ## Duration:  59
**** Call ## 45 ## Duration:  42
**** Call ## 46 ## Duration:  54
**** Call ## 47 ## Duration:  70
**** Call ## 48 ## Duration:  66
**** Call ## 49 ## Duration:  66
**** Call ## 50 ## Duration:  82
**** Call ## 51 ## Duration:  320
      ✓ should list articles (320ms)
**** Call ## 52 ## Duration:  94
**** Call ## 53 ## Duration:  167
      ✓ should list articles with tag (261ms)
**** Call ## 54 ## Duration:  93
      ✓ should list articles by author (94ms)
**** Call ## 55 ## Duration:  49
      ✓ should list articles favorited by user (49ms)
**** Call ## 56 ## Duration:  50
**** Call ## 57 ## Duration:  55
      ✓ should list articles by limit/offset (106ms)
**** Call ## 58 ## Duration:  248
      ✓ should list articles when authenticated (248ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 59 ## Duration:  29 (ERR)
**** Call ## 62 ## Duration:  70
**** Call ## 63 ## Duration:  102
**** Call ## 64 ## Duration:  160
**** Call ## 65 ## Duration:  92
**** Call ## 66 ## Duration:  207
      ✓ should get feed (631ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  69
      ✓ should get tags (69ms)

  Comment
**** Call ## 69 ## Duration:  201
**** Call ## 70 ## Duration:  89
**** Call ## 71 ## Duration:  65
    Create
**** Call ## 72 ## Duration:  120
**** Call ## 73 ## Duration:  88
**** Call ## 74 ## Duration:  78
**** Call ## 75 ## Duration:  69
**** Call ## 76 ## Duration:  71
**** Call ## 77 ## Duration:  60
**** Call ## 78 ## Duration:  62
**** Call ## 79 ## Duration:  70
**** Call ## 80 ## Duration:  62
**** Call ## 81 ## Duration:  59
      ✓ should create comment (739ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  68 (ERR)
      ✓ should disallow non-existent article (69ms)
    Get
**** Call ## 85 ## Duration:  237
      ✓ should get all comments for article (238ms)
    Delete
**** Call ## 86 ## Duration:  93
      ✓ should delete comment (93ms)
**** Call ## 87 ## Duration:  65 (ERR)
      ✓ only comment author should be able to delete comment (65ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  76 (ERR)
      ✓ should disallow deleting unknown comment (77ms)

  User
    Create
**** Call ## 90 ## Duration:  69
      ✓ should create user (69ms)
**** Call ## 91 ## Duration:  212 (ERR)
      ✓ should disallow same username (213ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  85
      ✓ should login (86ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  17 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  52
      ✓ should get profile (52ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  97
**** Call ## 111 ## Duration:  113
**** Call ## 112 ## Duration:  81
**** Call ## 113 ## Duration:  53
**** Call ## 114 ## Duration:  43
**** Call ## 115 ## Duration:  144
**** Call ## 116 ## Duration:  105
**** Call ## 117 ## Duration:  143
**** Call ## 118 ## Duration:  84
**** Call ## 119 ## Duration:  111
      ✓ should follow/unfollow user (976ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  95
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  52
      ✓ should update user (285ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  93 (ERR)
      ✓ should disallow missing token/email in update (114ms)
**** Call ## 127 ## Duration:  95
**** Call ## 128 ## Duration:  73 (ERR)
      ✓ should disallow reusing email (169ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (10s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  165
**** Call ## 1 ## Duration:  101
**** Call ## 2 ## Duration:  85
    Create
**** Call ## 3 ## Duration:  81
      ✓ should create article (84ms)
**** Call ## 4 ## Duration:  71
      ✓ should create article with tags (75ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  49 (ERR)
**** Call ## 7 ## Duration:  37 (ERR)
**** Call ## 8 ## Duration:  43 (ERR)
**** Call ## 9 ## Duration:  42 (ERR)
      ✓ should enforce required fields (172ms)
    Get
**** Call ## 10 ## Duration:  76
      ✓ should get article by slug (77ms)
**** Call ## 11 ## Duration:  66
      ✓ should get article with tags by slug (66ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  139
**** Call ## 14 ## Duration:  109
**** Call ## 15 ## Duration:  105
      ✓ should update article (353ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  93 (ERR)
      ✓ should disallow updating non-existent article (94ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (68ms)
    Favorite
**** Call ## 21 ## Duration:  150
**** Call ## 22 ## Duration:  76
      ✓ should favorite article (227ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  61 (ERR)
      ✓ should disallow favoriting unknown article (62ms)
**** Call ## 25 ## Duration:  151
      ✓ should unfavorite article (151ms)
    Delete
**** Call ## 26 ## Duration:  129
**** Call ## 27 ## Duration:  60 (ERR)
      ✓ should delete article (190ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  103 (ERR)
      ✓ should disallow deleting article by non-author (104ms)
    List
**** Call ## 31 ## Duration:  56
**** Call ## 32 ## Duration:  67
**** Call ## 33 ## Duration:  100
**** Call ## 34 ## Duration:  38
**** Call ## 35 ## Duration:  69
**** Call ## 36 ## Duration:  91
**** Call ## 37 ## Duration:  52
**** Call ## 38 ## Duration:  76
**** Call ## 39 ## Duration:  58
**** Call ## 40 ## Duration:  62
**** Call ## 41 ## Duration:  55
**** Call ## 42 ## Duration:  69
**** Call ## 43 ## Duration:  76
**** Call ## 44 ## Duration:  62
**** Call ## 45 ## Duration:  62
**** Call ## 46 ## Duration:  55
**** Call ## 47 ## Duration:  55
**** Call ## 48 ## Duration:  71
**** Call ## 49 ## Duration:  52
**** Call ## 50 ## Duration:  75
**** Call ## 51 ## Duration:  196
      ✓ should list articles (196ms)
**** Call ## 52 ## Duration:  110
**** Call ## 53 ## Duration:  159
      ✓ should list articles with tag (269ms)
**** Call ## 54 ## Duration:  124
      ✓ should list articles by author (124ms)
**** Call ## 55 ## Duration:  66
      ✓ should list articles favorited by user (66ms)
**** Call ## 56 ## Duration:  81
**** Call ## 57 ## Duration:  75
      ✓ should list articles by limit/offset (156ms)
**** Call ## 58 ## Duration:  253
      ✓ should list articles when authenticated (253ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  65
**** Call ## 63 ## Duration:  116
**** Call ## 64 ## Duration:  182
**** Call ## 65 ## Duration:  62
**** Call ## 66 ## Duration:  250
      ✓ should get feed (675ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  115
      ✓ should get tags (115ms)

  Comment
**** Call ## 69 ## Duration:  89
**** Call ## 70 ## Duration:  79
**** Call ## 71 ## Duration:  72
    Create
**** Call ## 72 ## Duration:  96
**** Call ## 73 ## Duration:  65
**** Call ## 74 ## Duration:  75
**** Call ## 75 ## Duration:  65
**** Call ## 76 ## Duration:  85
**** Call ## 77 ## Duration:  76
**** Call ## 78 ## Duration:  60
**** Call ## 79 ## Duration:  83
**** Call ## 80 ## Duration:  42
**** Call ## 81 ## Duration:  89
      ✓ should create comment (736ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  32 (ERR)
      ✓ should enforce comment body
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  395
      ✓ should get all comments for article (395ms)
    Delete
**** Call ## 86 ## Duration:  93
      ✓ should delete comment (93ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  96
      ✓ should create user (97ms)
**** Call ## 91 ## Duration:  26 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (69ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  17 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (78ms)
    Login
**** Call ## 97 ## Duration:  78
      ✓ should login (78ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  62
      ✓ should get current user (62ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  17 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (77ms)
    Profile
**** Call ## 108 ## Duration:  73
      ✓ should get profile (73ms)
**** Call ## 109 ## Duration:  46 (ERR)
      ✓ should disallow unknown username (47ms)
**** Call ## 110 ## Duration:  74
**** Call ## 111 ## Duration:  110
**** Call ## 112 ## Duration:  97
**** Call ## 113 ## Duration:  83
**** Call ## 114 ## Duration:  47
**** Call ## 115 ## Duration:  48
**** Call ## 116 ## Duration:  97
**** Call ## 117 ## Duration:  127
**** Call ## 118 ## Duration:  92
**** Call ## 119 ## Duration:  86
      ✓ should follow/unfollow user (863ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  113
**** Call ## 122 ## Duration:  52
**** Call ## 123 ## Duration:  71
**** Call ## 124 ## Duration:  64
      ✓ should update user (300ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (63ms)
**** Call ## 127 ## Duration:  86
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (147ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  150
**** Call ## 1 ## Duration:  87
**** Call ## 2 ## Duration:  99
    Create
**** Call ## 3 ## Duration:  75
      ✓ should create article (78ms)
**** Call ## 4 ## Duration:  69
      ✓ should create article with tags (72ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  48 (ERR)
**** Call ## 7 ## Duration:  42 (ERR)
**** Call ## 8 ## Duration:  41 (ERR)
**** Call ## 9 ## Duration:  42 (ERR)
      ✓ should enforce required fields (175ms)
    Get
**** Call ## 10 ## Duration:  65
      ✓ should get article by slug (65ms)
**** Call ## 11 ## Duration:  44
      ✓ should get article with tags by slug (44ms)
**** Call ## 12 ## Duration:  58 (ERR)
      ✓ should disallow unknown slug (58ms)
    Update
**** Call ## 13 ## Duration:  143
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  118
      ✓ should update article (398ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  58 (ERR)
      ✓ should disallow non-author from updating (58ms)
    Favorite
**** Call ## 21 ## Duration:  154
**** Call ## 22 ## Duration:  79
      ✓ should favorite article (235ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  58 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  117
      ✓ should unfavorite article (117ms)
    Delete
**** Call ## 26 ## Duration:  123
**** Call ## 27 ## Duration:  44 (ERR)
      ✓ should delete article (167ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  47 (ERR)
      ✓ should disallow deleting unknown article (48ms)
**** Call ## 30 ## Duration:  67 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  72
**** Call ## 32 ## Duration:  71
**** Call ## 33 ## Duration:  70
**** Call ## 34 ## Duration:  60
**** Call ## 35 ## Duration:  56
**** Call ## 36 ## Duration:  49
**** Call ## 37 ## Duration:  62
**** Call ## 38 ## Duration:  60
**** Call ## 39 ## Duration:  79
**** Call ## 40 ## Duration:  50
**** Call ## 41 ## Duration:  44
**** Call ## 42 ## Duration:  55
**** Call ## 43 ## Duration:  82
**** Call ## 44 ## Duration:  72
**** Call ## 45 ## Duration:  74
**** Call ## 46 ## Duration:  52
**** Call ## 47 ## Duration:  133
**** Call ## 48 ## Duration:  66
**** Call ## 49 ## Duration:  49
**** Call ## 50 ## Duration:  72
**** Call ## 51 ## Duration:  229
      ✓ should list articles (230ms)
**** Call ## 52 ## Duration:  96
**** Call ## 53 ## Duration:  146
      ✓ should list articles with tag (242ms)
**** Call ## 54 ## Duration:  88
      ✓ should list articles by author (89ms)
**** Call ## 55 ## Duration:  51
      ✓ should list articles favorited by user (52ms)
**** Call ## 56 ## Duration:  53
**** Call ## 57 ## Duration:  108
      ✓ should list articles by limit/offset (162ms)
**** Call ## 58 ## Duration:  211
      ✓ should list articles when authenticated (212ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 62 ## Duration:  68
**** Call ## 63 ## Duration:  122
**** Call ## 64 ## Duration:  153
**** Call ## 65 ## Duration:  102
**** Call ## 66 ## Duration:  212
      ✓ should get feed (657ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  122
      ✓ should get tags (122ms)

  Comment
**** Call ## 69 ## Duration:  88
**** Call ## 70 ## Duration:  71
**** Call ## 71 ## Duration:  54
    Create
**** Call ## 72 ## Duration:  93
**** Call ## 73 ## Duration:  80
**** Call ## 74 ## Duration:  78
**** Call ## 75 ## Duration:  73
**** Call ## 76 ## Duration:  92
**** Call ## 77 ## Duration:  83
**** Call ## 78 ## Duration:  60
**** Call ## 79 ## Duration:  93
**** Call ## 80 ## Duration:  86
**** Call ## 81 ## Duration:  73
      ✓ should create comment (814ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  53 (ERR)
      ✓ should disallow non-existent article (54ms)
    Get
**** Call ## 85 ## Duration:  260
      ✓ should get all comments for article (260ms)
    Delete
**** Call ## 86 ## Duration:  95
      ✓ should delete comment (95ms)
**** Call ## 87 ## Duration:  83 (ERR)
      ✓ only comment author should be able to delete comment (83ms)
**** Call ## 88 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown comment (73ms)

  User
    Create
**** Call ## 90 ## Duration:  153
      ✓ should create user (154ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  53
      ✓ should login (55ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  83
      ✓ should get profile (84ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  57
**** Call ## 111 ## Duration:  132
**** Call ## 112 ## Duration:  104
**** Call ## 113 ## Duration:  74
**** Call ## 114 ## Duration:  45
**** Call ## 115 ## Duration:  55
**** Call ## 116 ## Duration:  98
**** Call ## 117 ## Duration:  106
**** Call ## 118 ## Duration:  99
**** Call ## 119 ## Duration:  73
      ✓ should follow/unfollow user (845ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  95
**** Call ## 122 ## Duration:  77
**** Call ## 123 ## Duration:  90
**** Call ## 124 ## Duration:  88
      ✓ should update user (352ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  30 (ERR)
      ✓ should disallow missing token/email in update (53ms)
**** Call ## 127 ## Duration:  90
**** Call ## 128 ## Duration:  67 (ERR)
      ✓ should disallow reusing email (157ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  148
**** Call ## 1 ## Duration:  75
**** Call ## 2 ## Duration:  76
    Create
**** Call ## 3 ## Duration:  71
      ✓ should create article (73ms)
**** Call ## 4 ## Duration:  73
      ✓ should create article with tags (75ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  49 (ERR)
**** Call ## 7 ## Duration:  42 (ERR)
**** Call ## 8 ## Duration:  46 (ERR)
**** Call ## 9 ## Duration:  41 (ERR)
      ✓ should enforce required fields (178ms)
    Get
**** Call ## 10 ## Duration:  68
      ✓ should get article by slug (68ms)
**** Call ## 11 ## Duration:  69
      ✓ should get article with tags by slug (70ms)
**** Call ## 12 ## Duration:  57 (ERR)
      ✓ should disallow unknown slug (57ms)
    Update
**** Call ## 13 ## Duration:  148
**** Call ## 14 ## Duration:  97
**** Call ## 15 ## Duration:  128
      ✓ should update article (374ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  18 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  68 (ERR)
      ✓ should disallow updating non-existent article (69ms)
**** Call ## 20 ## Duration:  47 (ERR)
      ✓ should disallow non-author from updating (47ms)
    Favorite
**** Call ## 21 ## Duration:  126
**** Call ## 22 ## Duration:  72
      ✓ should favorite article (198ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  51 (ERR)
      ✓ should disallow favoriting unknown article (51ms)
**** Call ## 25 ## Duration:  109
      ✓ should unfavorite article (109ms)
    Delete
**** Call ## 26 ## Duration:  87
**** Call ## 27 ## Duration:  26 (ERR)
      ✓ should delete article (114ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  51 (ERR)
      ✓ should disallow deleting unknown article (51ms)
**** Call ## 30 ## Duration:  56 (ERR)
      ✓ should disallow deleting article by non-author (56ms)
    List
**** Call ## 31 ## Duration:  69
**** Call ## 32 ## Duration:  59
**** Call ## 33 ## Duration:  63
**** Call ## 34 ## Duration:  57
**** Call ## 35 ## Duration:  52
**** Call ## 36 ## Duration:  63
**** Call ## 37 ## Duration:  61
**** Call ## 38 ## Duration:  45
**** Call ## 39 ## Duration:  46
**** Call ## 40 ## Duration:  63
**** Call ## 41 ## Duration:  63
**** Call ## 42 ## Duration:  40
**** Call ## 43 ## Duration:  73
**** Call ## 44 ## Duration:  70
**** Call ## 45 ## Duration:  64
**** Call ## 46 ## Duration:  62
**** Call ## 47 ## Duration:  66
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  52
**** Call ## 50 ## Duration:  55
**** Call ## 51 ## Duration:  307
      ✓ should list articles (307ms)
**** Call ## 52 ## Duration:  138
**** Call ## 53 ## Duration:  142
      ✓ should list articles with tag (280ms)
**** Call ## 54 ## Duration:  105
      ✓ should list articles by author (105ms)
**** Call ## 55 ## Duration:  54
      ✓ should list articles favorited by user (54ms)
**** Call ## 56 ## Duration:  47
**** Call ## 57 ## Duration:  49
      ✓ should list articles by limit/offset (96ms)
**** Call ## 58 ## Duration:  284
      ✓ should list articles when authenticated (284ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  74
**** Call ## 61 ## Duration:  82 (ERR)
**** Call ## 63 ## Duration:  119
**** Call ## 64 ## Duration:  164
**** Call ## 65 ## Duration:  114
**** Call ## 66 ## Duration:  209
      ✓ should get feed (680ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  107
      ✓ should get tags (108ms)

  Comment
**** Call ## 69 ## Duration:  101
**** Call ## 70 ## Duration:  104
**** Call ## 71 ## Duration:  67
    Create
**** Call ## 72 ## Duration:  87
**** Call ## 73 ## Duration:  77
**** Call ## 74 ## Duration:  72
**** Call ## 75 ## Duration:  86
**** Call ## 76 ## Duration:  87
**** Call ## 77 ## Duration:  54
**** Call ## 78 ## Duration:  59
**** Call ## 79 ## Duration:  56
**** Call ## 80 ## Duration:  48
**** Call ## 81 ## Duration:  77
      ✓ should create comment (704ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  40 (ERR)
      ✓ should enforce comment body (41ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  171
      ✓ should get all comments for article (171ms)
    Delete
**** Call ## 86 ## Duration:  82
      ✓ should delete comment (82ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (67ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  101 (ERR)
      ✓ should disallow deleting unknown comment (101ms)

  User
    Create
**** Call ## 90 ## Duration:  103
      ✓ should create user (103ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  70 (ERR)
      ✓ should disallow same email (70ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  47
      ✓ should login (48ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  42
      ✓ should get current user (42ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (77ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  95
**** Call ## 111 ## Duration:  97
**** Call ## 112 ## Duration:  87
**** Call ## 113 ## Duration:  52
**** Call ## 114 ## Duration:  41
**** Call ## 115 ## Duration:  94
**** Call ## 116 ## Duration:  115
**** Call ## 117 ## Duration:  96
**** Call ## 118 ## Duration:  82
**** Call ## 119 ## Duration:  87
      ✓ should follow/unfollow user (849ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  119
**** Call ## 122 ## Duration:  49
**** Call ## 123 ## Duration:  54
**** Call ## 124 ## Duration:  96
      ✓ should update user (318ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  53 (ERR)
      ✓ should disallow missing token/email in update (78ms)
**** Call ## 127 ## Duration:  64
**** Call ## 128 ## Duration:  67 (ERR)
      ✓ should disallow reusing email (131ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  165
**** Call ## 1 ## Duration:  93
**** Call ## 2 ## Duration:  89
    Create
**** Call ## 3 ## Duration:  72
      ✓ should create article (75ms)
**** Call ## 4 ## Duration:  66
      ✓ should create article with tags (69ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  49 (ERR)
**** Call ## 7 ## Duration:  41 (ERR)
**** Call ## 8 ## Duration:  46 (ERR)
**** Call ## 9 ## Duration:  29 (ERR)
      ✓ should enforce required fields (166ms)
    Get
**** Call ## 10 ## Duration:  74
      ✓ should get article by slug (74ms)
**** Call ## 11 ## Duration:  68
      ✓ should get article with tags by slug (68ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  124
**** Call ## 14 ## Duration:  122
**** Call ## 15 ## Duration:  152
      ✓ should update article (398ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  37 (ERR)
      ✓ should disallow updating non-existent article
**** Call ## 20 ## Duration:  71 (ERR)
      ✓ should disallow non-author from updating (72ms)
    Favorite
**** Call ## 21 ## Duration:  104
**** Call ## 22 ## Duration:  91
      ✓ should favorite article (196ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  47 (ERR)
      ✓ should disallow favoriting unknown article (47ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  86
**** Call ## 27 ## Duration:  47 (ERR)
      ✓ should delete article (133ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  50 (ERR)
      ✓ should disallow deleting article by non-author (50ms)
    List
**** Call ## 31 ## Duration:  75
**** Call ## 32 ## Duration:  61
**** Call ## 33 ## Duration:  56
**** Call ## 34 ## Duration:  48
**** Call ## 35 ## Duration:  61
**** Call ## 36 ## Duration:  52
**** Call ## 37 ## Duration:  55
**** Call ## 38 ## Duration:  141
**** Call ## 39 ## Duration:  41
**** Call ## 40 ## Duration:  55
**** Call ## 41 ## Duration:  103
**** Call ## 42 ## Duration:  43
**** Call ## 43 ## Duration:  71
**** Call ## 44 ## Duration:  68
**** Call ## 45 ## Duration:  48
**** Call ## 46 ## Duration:  55
**** Call ## 47 ## Duration:  49
**** Call ## 48 ## Duration:  46
**** Call ## 49 ## Duration:  68
**** Call ## 50 ## Duration:  72
**** Call ## 51 ## Duration:  470
      ✓ should list articles (470ms)
**** Call ## 52 ## Duration:  145
**** Call ## 53 ## Duration:  198
      ✓ should list articles with tag (345ms)
**** Call ## 54 ## Duration:  154
      ✓ should list articles by author (154ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  62
**** Call ## 57 ## Duration:  57
      ✓ should list articles by limit/offset (120ms)
**** Call ## 58 ## Duration:  187
      ✓ should list articles when authenticated (187ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 62 ## Duration:  73
**** Call ## 63 ## Duration:  122
**** Call ## 64 ## Duration:  167
**** Call ## 65 ## Duration:  104
**** Call ## 66 ## Duration:  190
      ✓ should get feed (656ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  111
      ✓ should get tags (111ms)

  Comment
**** Call ## 69 ## Duration:  101
**** Call ## 70 ## Duration:  83
**** Call ## 71 ## Duration:  72
    Create
**** Call ## 72 ## Duration:  86
**** Call ## 73 ## Duration:  62
**** Call ## 74 ## Duration:  61
**** Call ## 75 ## Duration:  82
**** Call ## 76 ## Duration:  69
**** Call ## 77 ## Duration:  72
**** Call ## 78 ## Duration:  66
**** Call ## 79 ## Duration:  61
**** Call ## 80 ## Duration:  61
**** Call ## 81 ## Duration:  79
      ✓ should create comment (702ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  56 (ERR)
      ✓ should enforce comment body (57ms)
**** Call ## 84 ## Duration:  126 (ERR)
      ✓ should disallow non-existent article (126ms)
    Get
**** Call ## 85 ## Duration:  249
      ✓ should get all comments for article (249ms)
    Delete
**** Call ## 86 ## Duration:  123
      ✓ should delete comment (123ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  96 (ERR)
      ✓ should disallow deleting unknown comment (96ms)

  User
    Create
**** Call ## 90 ## Duration:  102
      ✓ should create user (104ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  57
      ✓ should login (58ms)
**** Call ## 98 ## Duration:  31 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (50ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (64ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  49
      ✓ should get profile (49ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  90
**** Call ## 111 ## Duration:  102
**** Call ## 112 ## Duration:  101
**** Call ## 113 ## Duration:  66
**** Call ## 114 ## Duration:  43
**** Call ## 115 ## Duration:  65
**** Call ## 116 ## Duration:  108
**** Call ## 117 ## Duration:  89
**** Call ## 118 ## Duration:  97
**** Call ## 119 ## Duration:  106
      ✓ should follow/unfollow user (869ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  96
**** Call ## 122 ## Duration:  68
**** Call ## 123 ## Duration:  47
**** Call ## 124 ## Duration:  94
      ✓ should update user (305ms)
**** Call ## 125 ## Duration:  28 (ERR)
**** Call ## 126 ## Duration:  33 (ERR)
      ✓ should disallow missing token/email in update (62ms)
**** Call ## 127 ## Duration:  73
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (133ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  131
**** Call ## 1 ## Duration:  69
**** Call ## 2 ## Duration:  93
    Create
**** Call ## 3 ## Duration:  74
      ✓ should create article (77ms)
**** Call ## 4 ## Duration:  67
      ✓ should create article with tags (69ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  39 (ERR)
**** Call ## 7 ## Duration:  45 (ERR)
**** Call ## 8 ## Duration:  41 (ERR)
**** Call ## 9 ## Duration:  41 (ERR)
      ✓ should enforce required fields (166ms)
    Get
**** Call ## 10 ## Duration:  67
      ✓ should get article by slug (68ms)
**** Call ## 11 ## Duration:  56
      ✓ should get article with tags by slug (56ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  134
**** Call ## 14 ## Duration:  127
**** Call ## 15 ## Duration:  122
      ✓ should update article (386ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  58 (ERR)
      ✓ should disallow updating non-existent article (59ms)
**** Call ## 20 ## Duration:  50 (ERR)
      ✓ should disallow non-author from updating (52ms)
    Favorite
**** Call ## 21 ## Duration:  146
**** Call ## 22 ## Duration:  69
      ✓ should favorite article (215ms)
**** Call ## 23 ## Duration:  27 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  50 (ERR)
      ✓ should disallow favoriting unknown article (51ms)
**** Call ## 25 ## Duration:  115
      ✓ should unfavorite article (115ms)
    Delete
**** Call ## 26 ## Duration:  98
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (140ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (63ms)
**** Call ## 30 ## Duration:  41 (ERR)
      ✓ should disallow deleting article by non-author (43ms)
    List
**** Call ## 31 ## Duration:  65
**** Call ## 32 ## Duration:  50
**** Call ## 33 ## Duration:  76
**** Call ## 34 ## Duration:  65
**** Call ## 35 ## Duration:  64
**** Call ## 36 ## Duration:  56
**** Call ## 37 ## Duration:  68
**** Call ## 38 ## Duration:  43
**** Call ## 39 ## Duration:  50
**** Call ## 40 ## Duration:  65
**** Call ## 41 ## Duration:  69
**** Call ## 42 ## Duration:  59
**** Call ## 43 ## Duration:  55
**** Call ## 44 ## Duration:  73
**** Call ## 45 ## Duration:  66
**** Call ## 46 ## Duration:  56
**** Call ## 47 ## Duration:  52
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  72
**** Call ## 50 ## Duration:  64
**** Call ## 51 ## Duration:  276
      ✓ should list articles (276ms)
**** Call ## 52 ## Duration:  137
**** Call ## 53 ## Duration:  143
      ✓ should list articles with tag (281ms)
**** Call ## 54 ## Duration:  135
      ✓ should list articles by author (136ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  61
**** Call ## 57 ## Duration:  56
      ✓ should list articles by limit/offset (117ms)
**** Call ## 58 ## Duration:  209
      ✓ should list articles when authenticated (209ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 61 ## Duration:  35 (ERR)
**** Call ## 62 ## Duration:  55
**** Call ## 63 ## Duration:  107
**** Call ## 64 ## Duration:  162
**** Call ## 65 ## Duration:  111
**** Call ## 66 ## Duration:  182
      ✓ should get feed (619ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  219
      ✓ should get tags (219ms)

  Comment
**** Call ## 69 ## Duration:  84
**** Call ## 70 ## Duration:  71
**** Call ## 71 ## Duration:  72
    Create
**** Call ## 72 ## Duration:  96
**** Call ## 73 ## Duration:  80
**** Call ## 74 ## Duration:  61
**** Call ## 75 ## Duration:  85
**** Call ## 76 ## Duration:  78
**** Call ## 77 ## Duration:  78
**** Call ## 78 ## Duration:  67
**** Call ## 79 ## Duration:  95
**** Call ## 80 ## Duration:  71
**** Call ## 81 ## Duration:  73
      ✓ should create comment (786ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  68 (ERR)
      ✓ should disallow non-existent article (68ms)
    Get
**** Call ## 85 ## Duration:  240
      ✓ should get all comments for article (241ms)
    Delete
**** Call ## 86 ## Duration:  114
      ✓ should delete comment (114ms)
**** Call ## 87 ## Duration:  47 (ERR)
      ✓ only comment author should be able to delete comment (47ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  89
      ✓ should create user (89ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  92 (ERR)
      ✓ should disallow same email (93ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  79
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  46 (ERR)
      ✓ should disallow unknown email (46ms)
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  53 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (94ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  33 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (93ms)
    Profile
**** Call ## 108 ## Duration:  46
      ✓ should get profile (46ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  86
**** Call ## 111 ## Duration:  107
**** Call ## 112 ## Duration:  95
**** Call ## 113 ## Duration:  66
**** Call ## 114 ## Duration:  34
**** Call ## 115 ## Duration:  76
**** Call ## 116 ## Duration:  90
**** Call ## 117 ## Duration:  101
**** Call ## 118 ## Duration:  96
**** Call ## 119 ## Duration:  64
      ✓ should follow/unfollow user (817ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  56
**** Call ## 123 ## Duration:  57
**** Call ## 124 ## Duration:  46
      ✓ should update user (241ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  50 (ERR)
      ✓ should disallow missing token/email in update (73ms)
**** Call ## 127 ## Duration:  72
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (130ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  148
**** Call ## 1 ## Duration:  93
**** Call ## 2 ## Duration:  71
    Create
**** Call ## 3 ## Duration:  83
      ✓ should create article (86ms)
**** Call ## 4 ## Duration:  57
      ✓ should create article with tags (59ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  62 (ERR)
**** Call ## 7 ## Duration:  38 (ERR)
**** Call ## 8 ## Duration:  43 (ERR)
**** Call ## 9 ## Duration:  36 (ERR)
      ✓ should enforce required fields (180ms)
    Get
**** Call ## 10 ## Duration:  74
      ✓ should get article by slug (75ms)
**** Call ## 11 ## Duration:  56
      ✓ should get article with tags by slug (57ms)
**** Call ## 12 ## Duration:  26 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  136
**** Call ## 14 ## Duration:  132
**** Call ## 15 ## Duration:  131
      ✓ should update article (399ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  65 (ERR)
      ✓ should disallow updating non-existent article (65ms)
**** Call ## 20 ## Duration:  52 (ERR)
      ✓ should disallow non-author from updating (52ms)
    Favorite
**** Call ## 21 ## Duration:  102
**** Call ## 22 ## Duration:  60
      ✓ should favorite article (163ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  39 (ERR)
      ✓ should disallow favoriting unknown article (39ms)
**** Call ## 25 ## Duration:  122
      ✓ should unfavorite article (122ms)
    Delete
**** Call ## 26 ## Duration:  84
**** Call ## 27 ## Duration:  33 (ERR)
      ✓ should delete article (117ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  55 (ERR)
      ✓ should disallow deleting unknown article (55ms)
**** Call ## 30 ## Duration:  53 (ERR)
      ✓ should disallow deleting article by non-author (53ms)
    List
**** Call ## 31 ## Duration:  72
**** Call ## 32 ## Duration:  67
**** Call ## 33 ## Duration:  71
**** Call ## 34 ## Duration:  56
**** Call ## 35 ## Duration:  66
**** Call ## 36 ## Duration:  73
**** Call ## 37 ## Duration:  65
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  65
**** Call ## 40 ## Duration:  59
**** Call ## 41 ## Duration:  47
**** Call ## 42 ## Duration:  68
**** Call ## 43 ## Duration:  67
**** Call ## 44 ## Duration:  60
**** Call ## 45 ## Duration:  68
**** Call ## 46 ## Duration:  64
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  52
**** Call ## 49 ## Duration:  39
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  203
      ✓ should list articles (203ms)
**** Call ## 52 ## Duration:  157
**** Call ## 53 ## Duration:  128
      ✓ should list articles with tag (287ms)
**** Call ## 54 ## Duration:  146
      ✓ should list articles by author (146ms)
**** Call ## 55 ## Duration:  70
      ✓ should list articles favorited by user (71ms)
**** Call ## 56 ## Duration:  59
**** Call ## 57 ## Duration:  60
      ✓ should list articles by limit/offset (120ms)
**** Call ## 58 ## Duration:  214
      ✓ should list articles when authenticated (214ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 62 ## Duration:  66
**** Call ## 63 ## Duration:  107
**** Call ## 60 ## Duration:  188 (ERR)
**** Call ## 64 ## Duration:  177
**** Call ## 65 ## Duration:  84
**** Call ## 66 ## Duration:  217
      ✓ should get feed (653ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  96
      ✓ should get tags (96ms)

  Comment
**** Call ## 69 ## Duration:  126
**** Call ## 70 ## Duration:  54
**** Call ## 71 ## Duration:  67
    Create
**** Call ## 72 ## Duration:  98
**** Call ## 73 ## Duration:  70
**** Call ## 74 ## Duration:  95
**** Call ## 75 ## Duration:  61
**** Call ## 76 ## Duration:  72
**** Call ## 77 ## Duration:  54
**** Call ## 78 ## Duration:  50
**** Call ## 79 ## Duration:  88
**** Call ## 80 ## Duration:  79
**** Call ## 81 ## Duration:  65
      ✓ should create comment (734ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  226
      ✓ should get all comments for article (226ms)
    Delete
**** Call ## 86 ## Duration:  95
      ✓ should delete comment (95ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  101 (ERR)
      ✓ should disallow deleting unknown comment (102ms)

  User
    Create
**** Call ## 90 ## Duration:  100
      ✓ should create user (100ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  60 (ERR)
      ✓ should disallow same email (61ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  84
      ✓ should login (84ms)
**** Call ## 98 ## Duration:  61 (ERR)
      ✓ should disallow unknown email (61ms)
**** Call ## 99 ## Duration:  54 (ERR)
      ✓ should disallow wrong password (55ms)
**** Call ## 100 ## Duration:  47 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (86ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  18 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (81ms)
    Profile
**** Call ## 108 ## Duration:  51
      ✓ should get profile (52ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  102
**** Call ## 111 ## Duration:  113
**** Call ## 112 ## Duration:  89
**** Call ## 113 ## Duration:  68
**** Call ## 114 ## Duration:  42
**** Call ## 115 ## Duration:  80
**** Call ## 116 ## Duration:  77
**** Call ## 117 ## Duration:  127
**** Call ## 118 ## Duration:  74
**** Call ## 119 ## Duration:  82
      ✓ should follow/unfollow user (856ms)
**** Call ## 120 ## Duration:  26 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  84
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  50
**** Call ## 124 ## Duration:  59
      ✓ should update user (260ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  94
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (154ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  113
**** Call ## 1 ## Duration:  82
**** Call ## 2 ## Duration:  78
    Create
**** Call ## 3 ## Duration:  79
      ✓ should create article (81ms)
**** Call ## 4 ## Duration:  49
      ✓ should create article with tags (51ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  52 (ERR)
**** Call ## 7 ## Duration:  88 (ERR)
**** Call ## 8 ## Duration:  26 (ERR)
**** Call ## 9 ## Duration:  44 (ERR)
      ✓ should enforce required fields (211ms)
    Get
**** Call ## 10 ## Duration:  68
      ✓ should get article by slug (69ms)
**** Call ## 11 ## Duration:  59
      ✓ should get article with tags by slug (59ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  132
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  120
      ✓ should update article (391ms)
**** Call ## 16 ## Duration:  61 (ERR)
      ✓ should disallow missing mutation (61ms)
**** Call ## 17 ## Duration:  77 (ERR)
      ✓ should disallow empty mutation (77ms)
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  118
**** Call ## 22 ## Duration:  63
      ✓ should favorite article (182ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (66ms)
**** Call ## 25 ## Duration:  115
      ✓ should unfavorite article (115ms)
    Delete
**** Call ## 26 ## Duration:  85
**** Call ## 27 ## Duration:  25 (ERR)
      ✓ should delete article (111ms)
**** Call ## 28 ## Duration:  28 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown article (60ms)
**** Call ## 30 ## Duration:  36 (ERR)
      ✓ should disallow deleting article by non-author
    List
**** Call ## 31 ## Duration:  117
**** Call ## 32 ## Duration:  49
**** Call ## 33 ## Duration:  61
**** Call ## 34 ## Duration:  48
**** Call ## 35 ## Duration:  58
**** Call ## 36 ## Duration:  72
**** Call ## 37 ## Duration:  77
**** Call ## 38 ## Duration:  58
**** Call ## 39 ## Duration:  74
**** Call ## 40 ## Duration:  59
**** Call ## 41 ## Duration:  56
**** Call ## 42 ## Duration:  58
**** Call ## 43 ## Duration:  49
**** Call ## 44 ## Duration:  57
**** Call ## 45 ## Duration:  43
**** Call ## 46 ## Duration:  61
**** Call ## 47 ## Duration:  71
**** Call ## 48 ## Duration:  42
**** Call ## 49 ## Duration:  69
**** Call ## 50 ## Duration:  57
**** Call ## 51 ## Duration:  253
      ✓ should list articles (253ms)
**** Call ## 52 ## Duration:  158
**** Call ## 53 ## Duration:  147
      ✓ should list articles with tag (305ms)
**** Call ## 54 ## Duration:  96
      ✓ should list articles by author (96ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  56
**** Call ## 57 ## Duration:  52
      ✓ should list articles by limit/offset (108ms)
**** Call ## 58 ## Duration:  245
      ✓ should list articles when authenticated (245ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  76
**** Call ## 63 ## Duration:  120
**** Call ## 64 ## Duration:  181
**** Call ## 65 ## Duration:  111
**** Call ## 66 ## Duration:  175
      ✓ should get feed (664ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  109
      ✓ should get tags (109ms)

  Comment
**** Call ## 69 ## Duration:  92
**** Call ## 70 ## Duration:  90
**** Call ## 71 ## Duration:  67
    Create
**** Call ## 72 ## Duration:  101
**** Call ## 73 ## Duration:  60
**** Call ## 74 ## Duration:  83
**** Call ## 75 ## Duration:  65
**** Call ## 76 ## Duration:  85
**** Call ## 77 ## Duration:  73
**** Call ## 78 ## Duration:  47
**** Call ## 79 ## Duration:  94
**** Call ## 80 ## Duration:  77
**** Call ## 81 ## Duration:  149
      ✓ should create comment (836ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  33 (ERR)
      ✓ should enforce comment body
**** Call ## 84 ## Duration:  74 (ERR)
      ✓ should disallow non-existent article (74ms)
    Get
**** Call ## 85 ## Duration:  228
      ✓ should get all comments for article (228ms)
    Delete
**** Call ## 86 ## Duration:  85
      ✓ should delete comment (86ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  79
      ✓ should create user (80ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  54 (ERR)
      ✓ should disallow same email (55ms)
**** Call ## 93 ## Duration:  30 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (90ms)
    Login
**** Call ## 97 ## Duration:  82
      ✓ should login (82ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  78 (ERR)
      ✓ should disallow wrong password (79ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  18 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  44
      ✓ should get profile (44ms)
**** Call ## 109 ## Duration:  59 (ERR)
      ✓ should disallow unknown username (59ms)
**** Call ## 110 ## Duration:  93
**** Call ## 111 ## Duration:  120
**** Call ## 112 ## Duration:  78
**** Call ## 113 ## Duration:  54
**** Call ## 114 ## Duration:  41
**** Call ## 115 ## Duration:  76
**** Call ## 116 ## Duration:  104
**** Call ## 117 ## Duration:  83
**** Call ## 118 ## Duration:  91
**** Call ## 119 ## Duration:  83
      ✓ should follow/unfollow user (825ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  95
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  67
**** Call ## 124 ## Duration:  56
      ✓ should update user (287ms)
**** Call ## 125 ## Duration:  32 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (77ms)
**** Call ## 127 ## Duration:  86
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (145ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  119
**** Call ## 1 ## Duration:  74
**** Call ## 2 ## Duration:  91
    Create
**** Call ## 3 ## Duration:  106
      ✓ should create article (109ms)
**** Call ## 4 ## Duration:  64
      ✓ should create article with tags (66ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  41 (ERR)
**** Call ## 7 ## Duration:  41 (ERR)
**** Call ## 8 ## Duration:  43 (ERR)
**** Call ## 9 ## Duration:  32 (ERR)
      ✓ should enforce required fields (160ms)
    Get
**** Call ## 10 ## Duration:  67
      ✓ should get article by slug (67ms)
**** Call ## 11 ## Duration:  66
      ✓ should get article with tags by slug (66ms)
**** Call ## 12 ## Duration:  46 (ERR)
      ✓ should disallow unknown slug (46ms)
    Update
**** Call ## 13 ## Duration:  138
**** Call ## 14 ## Duration:  131
**** Call ## 15 ## Duration:  88
      ✓ should update article (361ms)
**** Call ## 16 ## Duration:  27 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  62 (ERR)
      ✓ should disallow empty mutation (62ms)
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  38 (ERR)
      ✓ should disallow updating non-existent article (39ms)
**** Call ## 20 ## Duration:  61 (ERR)
      ✓ should disallow non-author from updating (61ms)
    Favorite
**** Call ## 21 ## Duration:  112
**** Call ## 22 ## Duration:  88
      ✓ should favorite article (200ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  63 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  106
      ✓ should unfavorite article (107ms)
    Delete
**** Call ## 26 ## Duration:  88
**** Call ## 27 ## Duration:  32 (ERR)
      ✓ should delete article (121ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown article (73ms)
**** Call ## 30 ## Duration:  44 (ERR)
      ✓ should disallow deleting article by non-author (45ms)
    List
**** Call ## 31 ## Duration:  82
**** Call ## 32 ## Duration:  57
**** Call ## 33 ## Duration:  71
**** Call ## 34 ## Duration:  52
**** Call ## 35 ## Duration:  56
**** Call ## 36 ## Duration:  75
**** Call ## 37 ## Duration:  64
**** Call ## 38 ## Duration:  62
**** Call ## 39 ## Duration:  64
**** Call ## 40 ## Duration:  62
**** Call ## 41 ## Duration:  60
**** Call ## 42 ## Duration:  67
**** Call ## 43 ## Duration:  52
**** Call ## 44 ## Duration:  52
**** Call ## 45 ## Duration:  53
**** Call ## 46 ## Duration:  43
**** Call ## 47 ## Duration:  71
**** Call ## 48 ## Duration:  62
**** Call ## 49 ## Duration:  60
**** Call ## 50 ## Duration:  67
**** Call ## 51 ## Duration:  220
      ✓ should list articles (221ms)
**** Call ## 52 ## Duration:  162
**** Call ## 53 ## Duration:  141
      ✓ should list articles with tag (304ms)
**** Call ## 54 ## Duration:  172
      ✓ should list articles by author (172ms)
**** Call ## 55 ## Duration:  67
      ✓ should list articles favorited by user (67ms)
**** Call ## 56 ## Duration:  55
**** Call ## 57 ## Duration:  53
      ✓ should list articles by limit/offset (108ms)
**** Call ## 58 ## Duration:  227
      ✓ should list articles when authenticated (227ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  57
**** Call ## 63 ## Duration:  130
**** Call ## 64 ## Duration:  199
**** Call ## 65 ## Duration:  85
**** Call ## 66 ## Duration:  144
      ✓ should get feed (615ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  125
      ✓ should get tags (125ms)

  Comment
**** Call ## 69 ## Duration:  98
**** Call ## 70 ## Duration:  82
**** Call ## 71 ## Duration:  74
    Create
**** Call ## 72 ## Duration:  76
**** Call ## 73 ## Duration:  87
**** Call ## 74 ## Duration:  83
**** Call ## 75 ## Duration:  72
**** Call ## 76 ## Duration:  79
**** Call ## 77 ## Duration:  82
**** Call ## 78 ## Duration:  62
**** Call ## 79 ## Duration:  69
**** Call ## 80 ## Duration:  54
**** Call ## 81 ## Duration:  72
      ✓ should create comment (739ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  68 (ERR)
      ✓ should disallow non-existent article (68ms)
    Get
**** Call ## 85 ## Duration:  262
      ✓ should get all comments for article (263ms)
    Delete
**** Call ## 86 ## Duration:  91
      ✓ should delete comment (91ms)
**** Call ## 87 ## Duration:  47 (ERR)
      ✓ only comment author should be able to delete comment (48ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  53 (ERR)
      ✓ should disallow deleting unknown comment (53ms)

  User
    Create
**** Call ## 90 ## Duration:  76
      ✓ should create user (77ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  25 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (89ms)
    Login
**** Call ## 97 ## Duration:  51
      ✓ should login (51ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  25 (ERR)
      ✓ should disallow bad tokens (87ms)
    Profile
**** Call ## 108 ## Duration:  48
      ✓ should get profile (48ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  69
**** Call ## 111 ## Duration:  107
**** Call ## 112 ## Duration:  100
**** Call ## 113 ## Duration:  65
**** Call ## 114 ## Duration:  43
**** Call ## 115 ## Duration:  83
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  105
**** Call ## 118 ## Duration:  85
**** Call ## 119 ## Duration:  64
      ✓ should follow/unfollow user (834ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  70
**** Call ## 122 ## Duration:  54
**** Call ## 123 ## Duration:  50
**** Call ## 124 ## Duration:  45
      ✓ should update user (221ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  38 (ERR)
      ✓ should disallow missing token/email in update (59ms)
**** Call ## 127 ## Duration:  77
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (138ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  131
**** Call ## 1 ## Duration:  72
**** Call ## 2 ## Duration:  79
    Create
**** Call ## 3 ## Duration:  80
      ✓ should create article (82ms)
**** Call ## 4 ## Duration:  69
      ✓ should create article with tags (71ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  51 (ERR)
**** Call ## 7 ## Duration:  164 (ERR)
**** Call ## 8 ## Duration:  49 (ERR)
**** Call ## 9 ## Duration:  44 (ERR)
      ✓ should enforce required fields (309ms)
    Get
**** Call ## 10 ## Duration:  313
      ✓ should get article by slug (313ms)
**** Call ## 11 ## Duration:  64
      ✓ should get article with tags by slug (65ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  138
**** Call ## 14 ## Duration:  118
      1) should update article

  7 passing (1s)
  1 failing

  1) Article
       Update
         should update article:

      AssertionError [ERR_ASSERTION]: 'Anim ad ad cillum esse id laboris nisi exercitation ex Lorem ad ut culpa fugiat ullamco ut. Anim qui sunt elit irure amet anim  == 'Dolor aliquip do consequat commodo aute cillum nostrud anim. Quis veniam cillum sit pariatur occaecat aute laborum cillum cupid
      + expected - actual

      -Anim ad ad cillum esse id laboris nisi exercitation ex Lorem ad ut culpa fugiat ullamco ut. Anim qui sunt elit irure amet anim sunt excepteur aute laboris proident. Sit excepteur adipisicing ea eiusmod consequat eu eu dolore duis. Id magna nisi consequat aliqua est sint duis ea culpa dolore labore et labore reprehenderit nisi in ullamco fugiat eu. Mollit exercitation sunt proident veniam pariatur irure pariatur velit nulla eiusmod qui exercitation adipisicing ut adipisicing nostrud.
      +Dolor aliquip do consequat commodo aute cillum nostrud anim. Quis veniam cillum sit pariatur occaecat aute laborum cillum cupidatat cupidatat commodo quis ipsum amet. Magna quis ipsum anim duis eiusmod esse tempor exercitation reprehenderit reprehenderit minim tempor. Tempor laboris consequat esse veniam consequat exercitation labore esse aliquip. Id ex occaecat adipisicing dolore mollit est culpa ut. Fugiat mollit fugiat dolor deserunt nostrud nostrud magna quis. Consequat cillum quis ea excepteur dolore in ex dolor irure mollit qui fugiat aute excepteur id officia cupidatat nisi. Laboris amet aliqua mollit cupidatat nisi dolor ex aute et do commodo veniam. Dolore mollit deserunt veniam voluptate incididunt et anim duis cupidatat duis et quis aute occaecat. Non et elit ipsum adipisicing officia sit dolor mollit proident. Id sunt qui dolore ex consequat id ipsum amet non eu excepteur est aliqua.
      
      at Context.it (test/test.Article.js:184:14)
      at <anonymous>
      at process._tickCallback (internal/process/next_tick.js:188:7)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-01T22_15_52_693Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  276
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  85
    Create
**** Call ## 3 ## Duration:  75
      ✓ should create article (77ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (83ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  46 (ERR)
**** Call ## 7 ## Duration:  44 (ERR)
**** Call ## 8 ## Duration:  40 (ERR)
**** Call ## 9 ## Duration:  27 (ERR)
      ✓ should enforce required fields (159ms)
    Get
**** Call ## 10 ## Duration:  74
      ✓ should get article by slug (75ms)
**** Call ## 11 ## Duration:  64
      ✓ should get article with tags by slug (64ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  126
**** Call ## 14 ## Duration:  68
**** Call ## 15 ## Duration:  105
      ✓ should update article (300ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  46 (ERR)
      ✓ should disallow updating non-existent article (46ms)
**** Call ## 20 ## Duration:  35 (ERR)
      ✓ should disallow non-author from updating
    Favorite
**** Call ## 21 ## Duration:  124
**** Call ## 22 ## Duration:  94
      ✓ should favorite article (218ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  106
      ✓ should unfavorite article (106ms)
    Delete
**** Call ## 26 ## Duration:  112
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (154ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  50 (ERR)
      ✓ should disallow deleting article by non-author (51ms)
    List
**** Call ## 31 ## Duration:  63
**** Call ## 32 ## Duration:  64
**** Call ## 33 ## Duration:  66
**** Call ## 34 ## Duration:  62
**** Call ## 35 ## Duration:  66
**** Call ## 36 ## Duration:  49
**** Call ## 37 ## Duration:  55
**** Call ## 38 ## Duration:  54
**** Call ## 39 ## Duration:  55
**** Call ## 40 ## Duration:  87
**** Call ## 41 ## Duration:  61
**** Call ## 42 ## Duration:  41
**** Call ## 43 ## Duration:  79
**** Call ## 44 ## Duration:  69
**** Call ## 45 ## Duration:  68
**** Call ## 46 ## Duration:  64
**** Call ## 47 ## Duration:  62
**** Call ## 48 ## Duration:  59
**** Call ## 49 ## Duration:  57
**** Call ## 50 ## Duration:  70
**** Call ## 51 ## Duration:  240
      ✓ should list articles (240ms)
**** Call ## 52 ## Duration:  168
**** Call ## 53 ## Duration:  144
      ✓ should list articles with tag (312ms)
**** Call ## 54 ## Duration:  151
      ✓ should list articles by author (152ms)
**** Call ## 55 ## Duration:  101
      ✓ should list articles favorited by user (101ms)
**** Call ## 56 ## Duration:  51
**** Call ## 57 ## Duration:  51
      ✓ should list articles by limit/offset (103ms)
**** Call ## 58 ## Duration:  280
      ✓ should list articles when authenticated (280ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  57
**** Call ## 63 ## Duration:  109
**** Call ## 64 ## Duration:  183
**** Call ## 65 ## Duration:  94
**** Call ## 66 ## Duration:  180
      ✓ should get feed (623ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  137
      ✓ should get tags (137ms)

  Comment
**** Call ## 69 ## Duration:  97
**** Call ## 70 ## Duration:  94
**** Call ## 71 ## Duration:  90
    Create
**** Call ## 72 ## Duration:  72
**** Call ## 73 ## Duration:  97
**** Call ## 74 ## Duration:  86
**** Call ## 75 ## Duration:  74
**** Call ## 76 ## Duration:  80
**** Call ## 77 ## Duration:  67
**** Call ## 78 ## Duration:  78
**** Call ## 79 ## Duration:  53
**** Call ## 80 ## Duration:  74
**** Call ## 81 ## Duration:  48
      ✓ should create comment (731ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  189
      ✓ should get all comments for article (189ms)
    Delete
**** Call ## 86 ## Duration:  81
      ✓ should delete comment (82ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (52ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  94
      ✓ should create user (95ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  17 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  49 (ERR)
      ✓ should enforce required fields (110ms)
    Login
**** Call ## 97 ## Duration:  55
      ✓ should login (55ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  25 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  71
      ✓ should get current user (71ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (80ms)
    Profile
**** Call ## 108 ## Duration:  54
      ✓ should get profile (54ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  91
**** Call ## 111 ## Duration:  93
**** Call ## 112 ## Duration:  69
**** Call ## 113 ## Duration:  62
**** Call ## 114 ## Duration:  35
**** Call ## 115 ## Duration:  87
**** Call ## 116 ## Duration:  69
**** Call ## 117 ## Duration:  107
**** Call ## 118 ## Duration:  98
**** Call ## 119 ## Duration:  117
      ✓ should follow/unfollow user (833ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  97
**** Call ## 122 ## Duration:  61
**** Call ## 123 ## Duration:  68
**** Call ## 124 ## Duration:  49
      ✓ should update user (277ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (69ms)
**** Call ## 127 ## Duration:  74
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (138ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  148
**** Call ## 1 ## Duration:  159
**** Call ## 2 ## Duration:  93
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (96ms)
**** Call ## 4 ## Duration:  56
      ✓ should create article with tags (58ms)
**** Call ## 5 ## Duration:  31 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  51 (ERR)
**** Call ## 7 ## Duration:  62 (ERR)
**** Call ## 8 ## Duration:  44 (ERR)
**** Call ## 9 ## Duration:  45 (ERR)
      ✓ should enforce required fields (203ms)
    Get
**** Call ## 10 ## Duration:  113
      ✓ should get article by slug (113ms)
**** Call ## 11 ## Duration:  52
      ✓ should get article with tags by slug (53ms)
**** Call ## 12 ## Duration:  46 (ERR)
      ✓ should disallow unknown slug (46ms)
    Update
**** Call ## 13 ## Duration:  103
**** Call ## 14 ## Duration:  148
**** Call ## 15 ## Duration:  109
      1) should update article

  7 passing (1s)
  1 failing

  1) Article
       Update
         should update article:

      AssertionError [ERR_ASSERTION]: 'Eu consequat elit ullamco labore aliqua id et. Consectetur elit sit aliqua proident dolor esse nostrud ad laborum quis eu elit  == 'Dolor nisi dolore sunt elit ut magna irure sit pariatur. Eu ex velit enim do proident duis cupidatat magna sunt ut anim. Id nis
      + expected - actual

      -Eu consequat elit ullamco labore aliqua id et. Consectetur elit sit aliqua proident dolor esse nostrud ad laborum quis eu elit consectetur irure enim. Commodo sit proident exercitation excepteur consectetur nulla quis officia laboris aliqua labore proident Lorem proident. Laborum amet cillum tempor laborum duis cupidatat minim consequat irure elit Lorem elit dolore est. Velit pariatur occaecat ad ex elit reprehenderit ullamco mollit ullamco voluptate tempor est. Lorem nisi incididunt reprehenderit elit fugiat ipsum laborum ea voluptate laboris minim. Dolor amet est laborum amet ut anim magna ipsum reprehenderit pariatur ut anim labore voluptate cupidatat irure laborum ullamco. Nisi excepteur amet et minim magna exercitation nostrud eiusmod dolore qui ad laboris Lorem veniam exercitation minim. Exercitation qui qui nostrud sit aliqua excepteur aute velit veniam Lorem. Est deserunt ea dolor ea enim commodo elit amet nostrud duis nostrud do minim nisi occaecat veniam nostrud dolor.
      -Ullamco aute occaecat minim occaecat reprehenderit ad est fugiat pariatur ea ullamco et eiusmod eu irure sunt adipisicing. Sit quis ullamco consequat reprehenderit cupidatat cillum nisi eiusmod ut duis officia ea tempor sunt. Est Lorem fugiat culpa aliquip id ut deserunt mollit dolor ullamco. Ad eiusmod amet deserunt labore commodo ipsum exercitation cillum occaecat. Magna aliquip eiusmod ut amet ad et ea elit adipisicing nisi aliqua cupidatat sit ut exercitation commodo. Anim veniam in excepteur eiusmod cillum ex culpa cupidatat reprehenderit ad id. Consectetur ea magna ea eu ut mollit exercitation qui qui cupidatat in amet. Tempor veniam sint eu in sint aliquip non magna qui officia irure sint aute non magna duis officia. Sint amet anim qui quis minim sint voluptate quis deserunt incididunt exercitation esse consequat reprehenderit duis enim proident adipisicing consequat. Nostrud eiusmod ipsum laborum ullamco consectetur id ea. Excepteur sit commodo laborum id ipsum nisi ea reprehenderit non reprehenderit veniam aliqua.
      -Irure reprehenderit et et ex veniam consectetur proident amet anim aliqua ipsum fugiat ipsum commodo excepteur minim. Velit id velit cupidatat ad est anim enim id qui exercitation voluptate est dolore exercitation. Magna qui enim exercitation sit elit sint laborum eiusmod aliquip laborum sunt in mollit. Enim consequat est aute magna eiusmod duis dolor ea exercitation ea ex aute dolore voluptate. Minim dolor cillum quis cupidatat incididunt velit dolore consequat est labore proident ullamco. Pariatur dolor consequat excepteur dolore voluptate consectetur culpa. Anim esse reprehenderit aliquip esse quis nostrud occaecat. Amet magna qui culpa sit ad nisi dolore nulla sint reprehenderit velit tempor ea consequat consequat ea sint duis duis. Nisi exercitation mollit cupidatat aliqua id officia officia duis qui nisi mollit duis id aliqua qui ipsum sit est.
      -Dolor aliquip ut mollit dolor nostrud esse laboris minim reprehenderit exercitation ipsum aliquip ut nulla adipisicing esse proident. Qui ad laborum nulla amet nisi ut consectetur cillum magna. Amet ipsum aliquip laboris nostrud anim dolor minim magna magna laborum aute excepteur reprehenderit eu laborum velit. Do ad ut excepteur eiusmod excepteur quis commodo Lorem consequat veniam amet esse culpa esse. Deserunt fugiat consectetur pariatur tempor sit adipisicing proident culpa irure ea incididunt exercitation magna. Id aute est labore commodo aliquip exercitation esse magna voluptate fugiat sunt sunt ipsum sint. Dolore enim Lorem in reprehenderit eiusmod minim reprehenderit nisi. Adipisicing aliquip eu occaecat dolore qui eiusmod ut aliqua nostrud elit est. Ut anim elit id Lorem aute deserunt elit officia velit. Reprehenderit amet magna magna duis culpa culpa veniam consectetur sit nisi id anim pariatur. Consectetur amet excepteur dolore sunt voluptate do ipsum aliqua enim consectetur.
      -Labore excepteur nulla commodo irure commodo occaecat ex aliqua quis. Laborum eu cupidatat aliquip exercitation labore voluptate esse aliqua minim proident fugiat tempor. Mollit minim sint velit qui quis labore aliqua velit esse culpa. Aliquip nostrud proident pariatur et voluptate est tempor est sunt ut ullamco eu id exercitation. Nulla irure ea officia nisi exercitation aute do in tempor labore eiusmod sunt exercitation est Lorem ex magna mollit. Anim ipsum excepteur sit velit dolor esse ut reprehenderit occaecat est quis fugiat non. Culpa officia deserunt labore non nulla occaecat nisi id. Deserunt exercitation adipisicing labore aliquip aliqua voluptate laboris enim ullamco non et id irure est dolore laboris. Commodo deserunt duis commodo Lorem ullamco incididunt exercitation tempor. Veniam deserunt culpa adipisicing enim mollit deserunt nisi ea deserunt aute adipisicing consectetur officia eiusmod esse veniam amet. Eiusmod cillum voluptate officia amet aliquip reprehenderit adipisicing exercitation ipsum sit eiusmod aliquip amet laboris exercitation amet eiusmod.
      -Ullamco velit dolore aliquip qui aliquip esse anim ad ut proident ipsum proident quis eu incididunt veniam. Magna nulla voluptate Lorem ex dolore aliqua dolore labore deserunt occaecat exercitation deserunt sit laboris ullamco eiusmod voluptate. Sint id duis labore officia adipisicing cupidatat exercitation elit velit Lorem Lorem nostrud eu voluptate mollit. Consectetur sunt ullamco cillum voluptate elit pariatur eu ea deserunt magna veniam aute labore pariatur est.
      -Magna ipsum nostrud ad veniam ut nulla cupidatat minim consectetur. Quis do veniam voluptate proident aute consequat ut. Eiusmod ex non aute do sunt non duis aliquip esse sunt nostrud magna tempor nulla labore nulla mollit. Duis ex magna officia ex eiusmod esse quis. Dolore nostrud non ut excepteur do nisi culpa mollit sunt consectetur sint non ea velit minim laboris exercitation ut. Est laborum irure duis ullamco irure amet irure culpa deserunt ex magna pariatur dolor ex sint. Voluptate aliquip sit Lorem Lorem do do voluptate magna tempor ad anim. Ipsum dolore voluptate cillum ipsum amet velit exercitation tempor eu. In fugiat aliquip elit elit ad cupidatat dolor laborum labore tempor culpa minim pariatur aliquip consectetur culpa culpa fugiat. Labore non sint occaecat proident minim culpa laboris nulla do et eu sit. Pariatur ea sunt aute ex qui do enim sunt magna cupidatat sit.
      -Nisi laboris velit qui ad Lorem ut est in do anim nulla. Dolore occaecat est exercitation sint minim nulla occaecat officia adipisicing et dolore reprehenderit consectetur laboris excepteur eiusmod minim est. Anim laboris esse mollit voluptate commodo aliqua nulla esse excepteur minim duis. Reprehenderit ullamco adipisicing reprehenderit consectetur ea duis qui nostrud nostrud nulla.
      -Pariatur ut magna irure laborum Lorem sint in sunt pariatur elit anim eu ullamco non. Laborum nostrud est deserunt anim nulla do pariatur aliqua ipsum minim et sunt duis veniam aliqua et aliqua commodo. Anim ea esse et nostrud duis quis sunt nulla qui voluptate in sit consequat dolore sint ad. Eu cupidatat aute ut aute eu aute sint ullamco occaecat est ad ad ipsum. Mollit velit dolore velit exercitation do deserunt fugiat. Excepteur proident id est exercitation velit excepteur minim. Exercitation ut cupidatat commodo nulla est dolore sit laborum labore ad. Lorem velit excepteur in culpa laboris duis ullamco proident aliqua ut ullamco proident anim.
      -Qui nulla eu labore occaecat quis commodo tempor occaecat. Mollit irure Lorem est ipsum cupidatat ut incididunt commodo voluptate tempor. Nisi excepteur id sit velit veniam esse cillum cillum laboris amet voluptate consectetur officia occaecat tempor ex duis veniam tempor. Sit eiusmod anim aute ex ullamco cillum laborum consectetur aliqua ipsum ut. Nulla dolore dolor proident reprehenderit incididunt ut nostrud fugiat dolore. Adipisicing enim consequat mollit Lorem sunt labore pariatur. Reprehenderit ipsum ut est incididunt eiusmod et laborum nisi ea tempor sint cupidatat dolore ipsum duis cupidatat do aute. Excepteur nisi sint ad anim ad pariatur reprehenderit reprehenderit veniam ipsum Lorem ea adipisicing quis ut ad ullamco.
      -Magna fugiat duis laborum exercitation do et pariatur commodo mollit proident officia amet. Culpa laboris irure dolore consectetur consequat commodo est deserunt mollit nostrud culpa mollit aliquip adipisicing sint deserunt. Commodo velit non ea esse fugiat eiusmod minim in sit quis sunt veniam irure pariatur laboris. Duis do elit aliqua sit cillum consequat anim voluptate ad eiusmod esse sit. Nostrud voluptate ad nulla minim elit dolor minim aliquip velit commodo laboris pariatur occaecat consequat reprehenderit laboris in. Laborum quis excepteur et ut pariatur in voluptate sunt culpa irure. Qui commodo ad occaecat ut eu dolore et duis est. Voluptate pariatur aliquip laborum eu et qui non ipsum anim adipisicing minim et et mollit excepteur adipisicing nostrud. Ut non ullamco nisi voluptate cillum sint et eiusmod nulla esse Lorem non deserunt ipsum elit eu ipsum velit. Deserunt incididunt sint cillum sint fugiat exercitation pariatur culpa duis culpa do deserunt consequat consectetur dolore qui Lorem.
      -Quis proident sint laborum ad esse id mollit. Nulla ad velit fugiat aute laboris veniam sunt. Reprehenderit sunt et magna aliquip dolor sint quis velit. Veniam laborum id qui nulla enim dolore mollit cupidatat. Officia officia aliqua est enim eiusmod excepteur irure ex consectetur dolore esse reprehenderit dolor sit sunt esse ex. Sunt ut non veniam ex velit do aliqua veniam anim deserunt labore deserunt tempor Lorem. Proident deserunt esse dolore quis commodo qui est Lorem.
      +Dolor nisi dolore sunt elit ut magna irure sit pariatur. Eu ex velit enim do proident duis cupidatat magna sunt ut anim. Id nisi dolor consequat mollit Lorem qui in fugiat do irure commodo aute aliquip adipisicing ullamco qui irure irure. Ullamco nulla ad adipisicing labore id est occaecat eu elit Lorem occaecat ullamco excepteur aute elit exercitation aliqua magna. Enim duis excepteur veniam reprehenderit sint et id sit eiusmod laboris eu et in dolor labore deserunt. Quis nisi elit proident veniam quis nulla culpa ut tempor voluptate aute voluptate pariatur incididunt ea tempor exercitation fugiat occaecat. Velit culpa ea consequat irure aliquip dolore nulla esse nostrud enim dolore aute laboris quis irure duis ad. Voluptate sunt dolor deserunt proident irure nulla fugiat laboris labore laborum eiusmod adipisicing ipsum.
      +Amet tempor consectetur consectetur laborum enim non incididunt nisi amet qui occaecat cupidatat. Laborum deserunt ut non dolore dolore magna veniam irure aute sint. Officia commodo ex incididunt esse dolore ullamco anim eiusmod nulla quis fugiat. Aliqua ullamco proident duis eu qui ipsum sint ea. Do amet id quis duis minim aliquip Lorem deserunt nisi ex laborum pariatur fugiat mollit sit aliqua duis qui. Eu irure irure dolor occaecat commodo commodo eiusmod. Amet consequat velit nulla eu et esse cillum eu. Officia nostrud id magna labore ut velit commodo aliquip id sit dolore ipsum voluptate adipisicing exercitation et irure duis voluptate. Dolor aute voluptate fugiat aliquip voluptate ex exercitation in aute ipsum ipsum irure commodo exercitation nisi. Amet ut est reprehenderit Lorem commodo mollit Lorem consequat sit sint adipisicing officia occaecat dolore. Incididunt voluptate sint adipisicing ex commodo veniam irure proident.
      +Ad consequat veniam mollit fugiat commodo eiusmod minim proident minim labore veniam esse cillum ex anim Lorem excepteur in pariatur. Irure est est do minim dolor id laboris et dolor nulla eiusmod ea est adipisicing cillum veniam sint dolor sint. Eiusmod commodo sit velit incididunt aliqua commodo ex commodo consequat eu. Dolor aute est enim in mollit Lorem reprehenderit mollit consequat consequat magna dolore ea ea.
      +Nostrud dolor pariatur dolore nulla mollit exercitation ut ut magna sint minim reprehenderit dolore et velit minim. Lorem id adipisicing exercitation excepteur enim pariatur ea fugiat veniam. Labore ipsum cupidatat velit irure nostrud est Lorem incididunt Lorem elit id Lorem eiusmod ut. Consectetur aliqua ipsum nisi mollit dolore veniam consectetur laboris velit occaecat voluptate anim ipsum quis mollit ipsum quis. Occaecat eiusmod Lorem exercitation aliquip cillum labore excepteur enim eu labore sunt. Qui reprehenderit dolore cillum exercitation deserunt anim duis amet in sunt ullamco et reprehenderit officia in labore sit. Ipsum ad aliqua aute elit ea eiusmod proident qui qui esse.
      +Adipisicing excepteur nulla ex et commodo ipsum deserunt ex. Anim culpa qui consequat irure non et sint nisi adipisicing nisi dolor ipsum officia irure culpa. Non eiusmod irure est do nulla cupidatat minim ad laboris eu laborum eiusmod est pariatur dolor exercitation. Dolor fugiat duis consequat reprehenderit consectetur occaecat quis eu id ex eiusmod et. Eiusmod irure magna consectetur ea do sint dolore consequat ea cillum occaecat dolor irure eu magna tempor voluptate. Labore ipsum id Lorem eu dolore pariatur dolor. Velit sit sit eu occaecat magna pariatur aute. Sunt ex eiusmod laboris occaecat excepteur aliqua laborum nisi anim nostrud ad et amet enim nisi. Nulla nisi veniam et dolor tempor deserunt culpa culpa id excepteur sint ullamco enim ipsum reprehenderit eu. Amet deserunt ad duis ullamco esse amet velit enim duis officia labore.
      +Veniam ullamco officia commodo cillum magna pariatur cillum sunt consectetur cupidatat deserunt laboris reprehenderit incididunt duis eiusmod id. Minim qui labore reprehenderit ipsum incididunt ullamco ullamco labore officia laboris. Ipsum magna ullamco esse ad consectetur excepteur irure Lorem et id nisi consectetur nisi labore tempor. Nulla est ut ea ipsum sint nisi amet esse sunt Lorem eu veniam anim veniam mollit culpa elit ullamco amet. Magna nisi nulla consequat est quis non non est veniam nisi magna do deserunt id deserunt eiusmod laboris. Pariatur fugiat commodo occaecat mollit irure minim ullamco occaecat quis nulla qui.
      +Do consectetur est ullamco eiusmod minim nisi mollit sint sint. Reprehenderit officia non proident et nulla culpa deserunt ad velit aliqua voluptate ea id enim. Non aliqua laborum est ex sit elit qui adipisicing officia et cupidatat. Exercitation qui anim non commodo Lorem minim quis aliquip qui Lorem sit deserunt aute Lorem id reprehenderit culpa proident consectetur. Aliqua non enim laboris duis consectetur dolor officia aliquip labore laboris. Cillum ipsum ad labore officia elit magna amet mollit est ex do consectetur reprehenderit enim id aliqua do enim. Reprehenderit ut ex labore id fugiat ipsum nostrud nostrud laboris nulla ut dolor reprehenderit deserunt ad. Esse aute id aliquip laboris ad voluptate consectetur labore. Laborum sunt eiusmod laborum consequat culpa eiusmod dolor amet magna. Exercitation id voluptate reprehenderit anim culpa eu reprehenderit ex enim ut consectetur officia in fugiat magna. Enim sit anim sunt officia ad non laborum magna eiusmod anim enim.
      +Commodo non laborum tempor anim Lorem pariatur commodo voluptate adipisicing est reprehenderit adipisicing deserunt occaecat excepteur exercitation ea magna in. Laborum sit quis culpa ullamco ut elit pariatur deserunt mollit. Aliquip minim sint velit cupidatat nostrud anim tempor amet Lorem occaecat. Excepteur ullamco duis incididunt culpa incididunt sit quis cillum officia. Laborum non irure fugiat sint sunt excepteur excepteur occaecat velit magna excepteur. Amet aute ullamco sit deserunt enim sunt minim non et deserunt. Magna cillum aute sint velit sit dolore id magna. Do laboris proident ex et elit irure amet anim pariatur labore reprehenderit irure ullamco adipisicing fugiat consectetur irure sunt aliquip. Consectetur quis reprehenderit qui commodo nisi elit anim excepteur amet anim aliquip consectetur.
      +Consectetur officia nostrud et consequat elit consectetur sint fugiat eiusmod enim proident sit et ad qui. Est est labore ullamco magna velit ut Lorem voluptate non Lorem sint. Dolor non cupidatat cillum consequat consequat aliquip amet sint aute. Ea magna et duis adipisicing minim sunt id pariatur proident in. Eiusmod fugiat amet incididunt nisi in nisi consectetur et velit minim dolor dolor est dolor exercitation nisi eu consectetur. Non pariatur reprehenderit sunt dolor ea sunt tempor fugiat elit duis quis id aliqua et est enim nisi. Excepteur quis in eu non voluptate ea ea cupidatat et incididunt et mollit ipsum magna aute consectetur occaecat quis fugiat. Laborum sit eiusmod est sit sit magna anim qui proident ipsum officia adipisicing labore sunt occaecat est.
      +Aute culpa dolor velit est do qui quis eu dolore tempor minim excepteur amet adipisicing veniam ex nisi consectetur. Et aliqua cupidatat ea enim cillum sit sit consectetur pariatur consequat nostrud laborum labore exercitation ea culpa tempor. Deserunt sit ut anim mollit incididunt dolore dolor irure minim cillum velit reprehenderit. Esse tempor sint officia culpa cupidatat Lorem aliqua do incididunt id in labore deserunt nulla eu mollit duis duis.
      +Anim laborum qui ex culpa labore aute nisi ex non nulla aliquip irure ad Lorem. Laborum non non nostrud ad duis ad labore anim sit ut ea esse sint nulla. Do eu duis anim est non mollit ea adipisicing commodo deserunt consectetur laborum. Ullamco cillum ad esse cillum Lorem incididunt proident sunt tempor et et do laboris incididunt eu consectetur amet quis. Et excepteur labore exercitation sit cillum labore non officia amet velit aliquip eiusmod fugiat ea. Dolore mollit laboris laboris voluptate eu sint elit duis ut cillum incididunt dolor. Consectetur aliqua exercitation voluptate non laboris in deserunt sint. Eu ea consequat fugiat occaecat aute sit culpa et commodo ex amet elit fugiat excepteur ut sit aliquip laborum. Aliqua eu ipsum laboris dolor reprehenderit voluptate ipsum anim amet in nulla tempor et ut magna ad. Adipisicing occaecat irure consectetur elit enim fugiat exercitation ipsum amet nulla velit occaecat. Mollit nulla consequat elit sint sit proident aliquip nisi deserunt dolor adipisicing.
      +Qui dolore laboris dolor culpa deserunt cillum commodo commodo. Pariatur mollit esse duis proident incididunt ex mollit eu incididunt velit qui mollit Lorem. Quis culpa aliqua duis dolor excepteur aliqua veniam Lorem ut magna incididunt duis tempor sunt aute. Fugiat adipisicing Lorem ex veniam excepteur sunt nulla laboris nostrud non cupidatat qui.
      
      at Context.it (test/test.Article.js:194:14)
      at <anonymous>
      at process._tickCallback (internal/process/next_tick.js:188:7)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-01T22_18_10_802Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  163
**** Call ## 1 ## Duration:  83
**** Call ## 2 ## Duration:  86
    Create
**** Call ## 3 ## Duration:  76
      ✓ should create article (78ms)
**** Call ## 4 ## Duration:  60
      ✓ should create article with tags (63ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  49 (ERR)
**** Call ## 7 ## Duration:  42 (ERR)
**** Call ## 8 ## Duration:  44 (ERR)
**** Call ## 9 ## Duration:  42 (ERR)
      ✓ should enforce required fields (178ms)
    Get
**** Call ## 10 ## Duration:  76
      ✓ should get article by slug (76ms)
**** Call ## 11 ## Duration:  60
      ✓ should get article with tags by slug (61ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  142
**** Call ## 14 ## Duration:  99
**** Call ## 15 ## Duration:  170
      ✓ should update article (412ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  65 (ERR)
      ✓ should disallow updating non-existent article (66ms)
**** Call ## 20 ## Duration:  58 (ERR)
      ✓ should disallow non-author from updating (58ms)
    Favorite
**** Call ## 21 ## Duration:  100
**** Call ## 22 ## Duration:  62
      ✓ should favorite article (162ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  48 (ERR)
      ✓ should disallow favoriting unknown article (48ms)
**** Call ## 25 ## Duration:  126
      ✓ should unfavorite article (126ms)
    Delete
**** Call ## 26 ## Duration:  85
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (123ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  50 (ERR)
      ✓ should disallow deleting unknown article (50ms)
**** Call ## 30 ## Duration:  51 (ERR)
      ✓ should disallow deleting article by non-author (51ms)
    List
**** Call ## 31 ## Duration:  76
**** Call ## 32 ## Duration:  66
**** Call ## 33 ## Duration:  57
**** Call ## 34 ## Duration:  57
**** Call ## 35 ## Duration:  56
**** Call ## 36 ## Duration:  60
**** Call ## 37 ## Duration:  63
**** Call ## 38 ## Duration:  93
**** Call ## 39 ## Duration:  39
**** Call ## 40 ## Duration:  67
**** Call ## 41 ## Duration:  75
**** Call ## 42 ## Duration:  74
**** Call ## 43 ## Duration:  49
**** Call ## 44 ## Duration:  69
**** Call ## 45 ## Duration:  59
**** Call ## 46 ## Duration:  67
**** Call ## 47 ## Duration:  55
**** Call ## 48 ## Duration:  68
**** Call ## 49 ## Duration:  54
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  222
      ✓ should list articles (222ms)
**** Call ## 52 ## Duration:  193
**** Call ## 53 ## Duration:  151
      ✓ should list articles with tag (345ms)
**** Call ## 54 ## Duration:  131
      ✓ should list articles by author (131ms)
**** Call ## 55 ## Duration:  78
      ✓ should list articles favorited by user (79ms)
**** Call ## 56 ## Duration:  45
**** Call ## 57 ## Duration:  90
      ✓ should list articles by limit/offset (136ms)
**** Call ## 58 ## Duration:  301
      ✓ should list articles when authenticated (301ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  79
**** Call ## 63 ## Duration:  118
**** Call ## 64 ## Duration:  224
**** Call ## 65 ## Duration:  90
**** Call ## 66 ## Duration:  177
      ✓ should get feed (690ms)
**** Call ## 67 ## Duration:  44 (ERR)
      ✓ should disallow unauthenticated feed (46ms)
    Tags
**** Call ## 68 ## Duration:  156
      ✓ should get tags (156ms)

  Comment
**** Call ## 69 ## Duration:  98
**** Call ## 70 ## Duration:  76
**** Call ## 71 ## Duration:  69
    Create
**** Call ## 72 ## Duration:  99
**** Call ## 73 ## Duration:  81
**** Call ## 74 ## Duration:  90
**** Call ## 75 ## Duration:  191
**** Call ## 76 ## Duration:  106
**** Call ## 77 ## Duration:  65
**** Call ## 78 ## Duration:  73
**** Call ## 79 ## Duration:  73
**** Call ## 80 ## Duration:  141
**** Call ## 81 ## Duration:  80
      ✓ should create comment (1001ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  52 (ERR)
      ✓ should enforce comment body (52ms)
**** Call ## 84 ## Duration:  68 (ERR)
      ✓ should disallow non-existent article (69ms)
    Get
**** Call ## 85 ## Duration:  229
      ✓ should get all comments for article (229ms)
    Delete
**** Call ## 86 ## Duration:  81
      ✓ should delete comment (81ms)
**** Call ## 87 ## Duration:  60 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  118
      ✓ should create user (119ms)
**** Call ## 91 ## Duration:  25 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  141 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (204ms)
    Login
**** Call ## 97 ## Duration:  49
      ✓ should login (49ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (66ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  81 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (144ms)
    Profile
**** Call ## 108 ## Duration:  46
      ✓ should get profile (46ms)
**** Call ## 109 ## Duration:  51 (ERR)
      ✓ should disallow unknown username (51ms)
**** Call ## 110 ## Duration:  77
**** Call ## 111 ## Duration:  121
**** Call ## 112 ## Duration:  94
**** Call ## 113 ## Duration:  68
**** Call ## 114 ## Duration:  41
**** Call ## 115 ## Duration:  93
**** Call ## 116 ## Duration:  120
**** Call ## 117 ## Duration:  98
**** Call ## 118 ## Duration:  96
**** Call ## 119 ## Duration:  95
      ✓ should follow/unfollow user (905ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  69
**** Call ## 122 ## Duration:  61
**** Call ## 123 ## Duration:  56
**** Call ## 124 ## Duration:  49
      ✓ should update user (236ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  40 (ERR)
      ✓ should disallow missing token/email in update (62ms)
**** Call ## 127 ## Duration:  57
**** Call ## 128 ## Duration:  70 (ERR)
      ✓ should disallow reusing email (128ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (10s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  147
**** Call ## 1 ## Duration:  77
**** Call ## 2 ## Duration:  60
    Create
**** Call ## 3 ## Duration:  60
      ✓ should create article (62ms)
**** Call ## 4 ## Duration:  95
      ✓ should create article with tags (97ms)
**** Call ## 5 ## Duration:  39 (ERR)
      ✓ should disallow unauthenticated user (39ms)
**** Call ## 6 ## Duration:  49 (ERR)
**** Call ## 7 ## Duration:  48 (ERR)
**** Call ## 8 ## Duration:  26 (ERR)
**** Call ## 9 ## Duration:  45 (ERR)
      ✓ should enforce required fields (169ms)
    Get
**** Call ## 10 ## Duration:  61
      ✓ should get article by slug (62ms)
**** Call ## 11 ## Duration:  49
      ✓ should get article with tags by slug (50ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  127
**** Call ## 14 ## Duration:  102
**** Call ## 15 ## Duration:  93
      ✓ should update article (324ms)
**** Call ## 16 ## Duration:  29 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  48 (ERR)
      ✓ should disallow updating non-existent article (48ms)
**** Call ## 20 ## Duration:  51 (ERR)
      ✓ should disallow non-author from updating (51ms)
    Favorite
**** Call ## 21 ## Duration:  129
**** Call ## 22 ## Duration:  50
      ✓ should favorite article (181ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  37 (ERR)
      ✓ should disallow favoriting unknown article
**** Call ## 25 ## Duration:  99
      ✓ should unfavorite article (99ms)
    Delete
**** Call ## 26 ## Duration:  92
**** Call ## 27 ## Duration:  33 (ERR)
      ✓ should delete article (125ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  51 (ERR)
      ✓ should disallow deleting unknown article (51ms)
**** Call ## 30 ## Duration:  60 (ERR)
      ✓ should disallow deleting article by non-author (60ms)
    List
**** Call ## 31 ## Duration:  72
**** Call ## 32 ## Duration:  364
**** Call ## 33 ## Duration:  45
**** Call ## 34 ## Duration:  70
**** Call ## 35 ## Duration:  68
**** Call ## 36 ## Duration:  47
**** Call ## 37 ## Duration:  55
**** Call ## 38 ## Duration:  65
**** Call ## 39 ## Duration:  55
**** Call ## 40 ## Duration:  68
**** Call ## 41 ## Duration:  58
**** Call ## 42 ## Duration:  43
**** Call ## 43 ## Duration:  100
**** Call ## 44 ## Duration:  50
**** Call ## 45 ## Duration:  50
**** Call ## 46 ## Duration:  56
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  105
**** Call ## 49 ## Duration:  36
**** Call ## 50 ## Duration:  77
**** Call ## 51 ## Duration:  287
      ✓ should list articles (287ms)
**** Call ## 52 ## Duration:  159
**** Call ## 53 ## Duration:  138
      ✓ should list articles with tag (297ms)
**** Call ## 54 ## Duration:  125
      ✓ should list articles by author (125ms)
**** Call ## 55 ## Duration:  73
      ✓ should list articles favorited by user (74ms)
**** Call ## 56 ## Duration:  58
**** Call ## 57 ## Duration:  69
      ✓ should list articles by limit/offset (127ms)
**** Call ## 58 ## Duration:  242
      ✓ should list articles when authenticated (243ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  90
**** Call ## 63 ## Duration:  108
**** Call ## 64 ## Duration:  257
**** Call ## 65 ## Duration:  93
**** Call ## 66 ## Duration:  200
      ✓ should get feed (748ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  152
      ✓ should get tags (152ms)

  Comment
**** Call ## 69 ## Duration:  77
**** Call ## 70 ## Duration:  75
**** Call ## 71 ## Duration:  72
    Create
**** Call ## 72 ## Duration:  106
**** Call ## 73 ## Duration:  84
**** Call ## 74 ## Duration:  83
**** Call ## 75 ## Duration:  84
**** Call ## 76 ## Duration:  78
**** Call ## 77 ## Duration:  74
**** Call ## 78 ## Duration:  89
**** Call ## 79 ## Duration:  64
**** Call ## 80 ## Duration:  74
**** Call ## 81 ## Duration:  88
      ✓ should create comment (825ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  41 (ERR)
      ✓ should enforce comment body (41ms)
**** Call ## 84 ## Duration:  65 (ERR)
      ✓ should disallow non-existent article (65ms)
    Get
**** Call ## 85 ## Duration:  196
      ✓ should get all comments for article (197ms)
    Delete
**** Call ## 86 ## Duration:  93
      ✓ should delete comment (93ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  82 (ERR)
      ✓ should disallow deleting unknown comment (83ms)

  User
    Create
**** Call ## 90 ## Duration:  81
      ✓ should create user (82ms)
**** Call ## 91 ## Duration:  32 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  70 (ERR)
      ✓ should disallow same email (70ms)
**** Call ## 93 ## Duration:  25 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (88ms)
    Login
**** Call ## 97 ## Duration:  64
      ✓ should login (64ms)
**** Call ## 98 ## Duration:  51 (ERR)
      ✓ should disallow unknown email (51ms)
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (44ms)
**** Call ## 100 ## Duration:  31 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (73ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  26 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  28 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (98ms)
    Profile
**** Call ## 108 ## Duration:  57
      ✓ should get profile (57ms)
**** Call ## 109 ## Duration:  52 (ERR)
      ✓ should disallow unknown username (52ms)
**** Call ## 110 ## Duration:  86
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  82
**** Call ## 113 ## Duration:  43
**** Call ## 114 ## Duration:  46
**** Call ## 115 ## Duration:  88
**** Call ## 116 ## Duration:  82
**** Call ## 117 ## Duration:  106
**** Call ## 118 ## Duration:  86
**** Call ## 119 ## Duration:  88
      ✓ should follow/unfollow user (844ms)
**** Call ## 120 ## Duration:  123 (ERR)
      ✓ should disallow following with bad token (123ms)
    Update
**** Call ## 121 ## Duration:  88
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  49
**** Call ## 124 ## Duration:  38
      ✓ should update user (244ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  43 (ERR)
      ✓ should disallow missing token/email in update (64ms)
**** Call ## 127 ## Duration:  50
**** Call ## 128 ## Duration:  57 (ERR)
      ✓ should disallow reusing email (107ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  138
**** Call ## 1 ## Duration:  83
**** Call ## 2 ## Duration:  90
    Create
**** Call ## 3 ## Duration:  61
      ✓ should create article (63ms)
**** Call ## 4 ## Duration:  61
      ✓ should create article with tags (62ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  40 (ERR)
**** Call ## 7 ## Duration:  34 (ERR)
**** Call ## 8 ## Duration:  25 (ERR)
**** Call ## 9 ## Duration:  43 (ERR)
      ✓ should enforce required fields (145ms)
    Get
**** Call ## 10 ## Duration:  77
      ✓ should get article by slug (77ms)
**** Call ## 11 ## Duration:  55
      ✓ should get article with tags by slug (55ms)
**** Call ## 12 ## Duration:  26 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  128
**** Call ## 14 ## Duration:  89
**** Call ## 15 ## Duration:  137
      ✓ should update article (356ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  59 (ERR)
      ✓ should disallow updating non-existent article (59ms)
**** Call ## 20 ## Duration:  55 (ERR)
      ✓ should disallow non-author from updating (57ms)
    Favorite
**** Call ## 21 ## Duration:  117
**** Call ## 22 ## Duration:  81
      ✓ should favorite article (198ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  49 (ERR)
      ✓ should disallow favoriting unknown article (49ms)
**** Call ## 25 ## Duration:  101
      ✓ should unfavorite article (101ms)
    Delete
**** Call ## 26 ## Duration:  76
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (116ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  52 (ERR)
      ✓ should disallow deleting unknown article (53ms)
**** Call ## 30 ## Duration:  60 (ERR)
      ✓ should disallow deleting article by non-author (60ms)
    List
**** Call ## 31 ## Duration:  66
**** Call ## 32 ## Duration:  59
**** Call ## 33 ## Duration:  62
**** Call ## 34 ## Duration:  44
**** Call ## 35 ## Duration:  60
**** Call ## 36 ## Duration:  56
**** Call ## 37 ## Duration:  48
**** Call ## 38 ## Duration:  72
**** Call ## 39 ## Duration:  55
**** Call ## 40 ## Duration:  54
**** Call ## 41 ## Duration:  44
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  53
**** Call ## 44 ## Duration:  77
**** Call ## 45 ## Duration:  61
**** Call ## 46 ## Duration:  51
**** Call ## 47 ## Duration:  44
**** Call ## 48 ## Duration:  69
**** Call ## 49 ## Duration:  76
**** Call ## 50 ## Duration:  64
**** Call ## 51 ## Duration:  205
      ✓ should list articles (205ms)
**** Call ## 52 ## Duration:  239
**** Call ## 53 ## Duration:  167
      ✓ should list articles with tag (406ms)
**** Call ## 54 ## Duration:  124
      ✓ should list articles by author (125ms)
**** Call ## 55 ## Duration:  78
      ✓ should list articles favorited by user (79ms)
**** Call ## 56 ## Duration:  48
**** Call ## 57 ## Duration:  57
      ✓ should list articles by limit/offset (105ms)
**** Call ## 58 ## Duration:  227
      ✓ should list articles when authenticated (227ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  72
**** Call ## 63 ## Duration:  127
**** Call ## 64 ## Duration:  221
**** Call ## 65 ## Duration:  80
**** Call ## 66 ## Duration:  167
      ✓ should get feed (667ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  120
      ✓ should get tags (121ms)

  Comment
**** Call ## 69 ## Duration:  96
**** Call ## 70 ## Duration:  76
**** Call ## 71 ## Duration:  59
    Create
**** Call ## 72 ## Duration:  90
**** Call ## 73 ## Duration:  81
**** Call ## 74 ## Duration:  71
**** Call ## 75 ## Duration:  81
**** Call ## 76 ## Duration:  81
**** Call ## 77 ## Duration:  82
**** Call ## 78 ## Duration:  81
**** Call ## 79 ## Duration:  52
**** Call ## 80 ## Duration:  104
**** Call ## 81 ## Duration:  99
      ✓ should create comment (822ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  32 (ERR)
      ✓ should enforce comment body
**** Call ## 84 ## Duration:  47 (ERR)
      ✓ should disallow non-existent article (48ms)
    Get
**** Call ## 85 ## Duration:  247
      ✓ should get all comments for article (247ms)
    Delete
**** Call ## 86 ## Duration:  79
      ✓ should delete comment (79ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown comment (59ms)

  User
    Create
**** Call ## 90 ## Duration:  90
      ✓ should create user (90ms)
**** Call ## 91 ## Duration:  28 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  84 (ERR)
      ✓ should disallow same email (86ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  44
      ✓ should login (44ms)
**** Call ## 98 ## Duration:  33 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  54 (ERR)
      ✓ should disallow wrong password (54ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  35 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (72ms)
    Get
**** Call ## 103 ## Duration:  38
      ✓ should get current user (39ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  18 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (81ms)
    Profile
**** Call ## 108 ## Duration:  48
      ✓ should get profile (49ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  87
**** Call ## 111 ## Duration:  100
**** Call ## 112 ## Duration:  92
**** Call ## 113 ## Duration:  47
**** Call ## 114 ## Duration:  38
**** Call ## 115 ## Duration:  77
**** Call ## 116 ## Duration:  164
**** Call ## 117 ## Duration:  91
**** Call ## 118 ## Duration:  126
**** Call ## 119 ## Duration:  81
      ✓ should follow/unfollow user (908ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  92
**** Call ## 123 ## Duration:  65
**** Call ## 124 ## Duration:  51
      ✓ should update user (299ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  38 (ERR)
      ✓ should disallow missing token/email in update (60ms)
**** Call ## 127 ## Duration:  66
**** Call ## 128 ## Duration:  38 (ERR)
      ✓ should disallow reusing email (105ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  127
**** Call ## 1 ## Duration:  65
**** Call ## 2 ## Duration:  67
    Create
**** Call ## 3 ## Duration:  78
      ✓ should create article (80ms)
**** Call ## 4 ## Duration:  51
      ✓ should create article with tags (54ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  48 (ERR)
**** Call ## 7 ## Duration:  45 (ERR)
**** Call ## 8 ## Duration:  36 (ERR)
**** Call ## 9 ## Duration:  33 (ERR)
      ✓ should enforce required fields (165ms)
    Get
**** Call ## 10 ## Duration:  73
      ✓ should get article by slug (73ms)
**** Call ## 11 ## Duration:  63
      ✓ should get article with tags by slug (64ms)
**** Call ## 12 ## Duration:  38 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  146
**** Call ## 14 ## Duration:  111
**** Call ## 15 ## Duration:  96
      ✓ should update article (358ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  66 (ERR)
      ✓ should disallow updating non-existent article (67ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  103
**** Call ## 22 ## Duration:  79
      ✓ should favorite article (182ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  52 (ERR)
      ✓ should disallow favoriting unknown article (53ms)
**** Call ## 25 ## Duration:  88
      ✓ should unfavorite article (88ms)
    Delete
**** Call ## 26 ## Duration:  98
**** Call ## 27 ## Duration:  33 (ERR)
      ✓ should delete article (132ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  54 (ERR)
      ✓ should disallow deleting unknown article (54ms)
**** Call ## 30 ## Duration:  50 (ERR)
      ✓ should disallow deleting article by non-author (50ms)
    List
**** Call ## 31 ## Duration:  47
**** Call ## 32 ## Duration:  59
**** Call ## 33 ## Duration:  49
**** Call ## 34 ## Duration:  58
**** Call ## 35 ## Duration:  50
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  65
**** Call ## 38 ## Duration:  69
**** Call ## 39 ## Duration:  57
**** Call ## 40 ## Duration:  57
**** Call ## 41 ## Duration:  45
**** Call ## 42 ## Duration:  69
**** Call ## 43 ## Duration:  60
**** Call ## 44 ## Duration:  56
**** Call ## 45 ## Duration:  70
**** Call ## 46 ## Duration:  63
**** Call ## 47 ## Duration:  53
**** Call ## 48 ## Duration:  62
**** Call ## 49 ## Duration:  58
**** Call ## 50 ## Duration:  47
**** Call ## 51 ## Duration:  314
      ✓ should list articles (314ms)
**** Call ## 52 ## Duration:  242
**** Call ## 53 ## Duration:  219
      ✓ should list articles with tag (461ms)
**** Call ## 54 ## Duration:  135
      ✓ should list articles by author (135ms)
**** Call ## 55 ## Duration:  92
      ✓ should list articles favorited by user (92ms)
**** Call ## 56 ## Duration:  61
**** Call ## 57 ## Duration:  80
      ✓ should list articles by limit/offset (143ms)
**** Call ## 58 ## Duration:  230
      ✓ should list articles when authenticated (230ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  77
**** Call ## 63 ## Duration:  117
**** Call ## 64 ## Duration:  229
**** Call ## 65 ## Duration:  78
**** Call ## 66 ## Duration:  173
      ✓ should get feed (675ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  152
      ✓ should get tags (152ms)

  Comment
**** Call ## 69 ## Duration:  85
**** Call ## 70 ## Duration:  94
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  84
**** Call ## 73 ## Duration:  72
**** Call ## 74 ## Duration:  54
**** Call ## 75 ## Duration:  74
**** Call ## 76 ## Duration:  83
**** Call ## 77 ## Duration:  58
**** Call ## 78 ## Duration:  49
**** Call ## 79 ## Duration:  52
**** Call ## 80 ## Duration:  66
**** Call ## 81 ## Duration:  66
      ✓ should create comment (660ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  50 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  81 (ERR)
      ✓ should disallow non-existent article (82ms)
    Get
**** Call ## 85 ## Duration:  203
      ✓ should get all comments for article (203ms)
    Delete
**** Call ## 86 ## Duration:  89
      ✓ should delete comment (89ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (66ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  94
      ✓ should create user (94ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  25 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (89ms)
    Login
**** Call ## 97 ## Duration:  46
      ✓ should login (46ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  59
      ✓ should get current user (59ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  38
      ✓ should get profile (38ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  88
**** Call ## 111 ## Duration:  77
**** Call ## 112 ## Duration:  95
**** Call ## 113 ## Duration:  64
**** Call ## 114 ## Duration:  37
**** Call ## 115 ## Duration:  60
**** Call ## 116 ## Duration:  114
**** Call ## 117 ## Duration:  96
**** Call ## 118 ## Duration:  96
**** Call ## 119 ## Duration:  76
      ✓ should follow/unfollow user (805ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  72
**** Call ## 123 ## Duration:  58
**** Call ## 124 ## Duration:  51
      ✓ should update user (272ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  87
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (148ms)

  Util
    Ping
**** Call ## 129 ## Duration:  32
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  126
**** Call ## 1 ## Duration:  69
**** Call ## 2 ## Duration:  71
    Create
**** Call ## 3 ## Duration:  80
      ✓ should create article (82ms)
**** Call ## 4 ## Duration:  63
      ✓ should create article with tags (64ms)
**** Call ## 5 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  42 (ERR)
**** Call ## 7 ## Duration:  50 (ERR)
**** Call ## 8 ## Duration:  39 (ERR)
**** Call ## 9 ## Duration:  44 (ERR)
      ✓ should enforce required fields (178ms)
    Get
**** Call ## 10 ## Duration:  66
      ✓ should get article by slug (66ms)
**** Call ## 11 ## Duration:  63
      ✓ should get article with tags by slug (64ms)
**** Call ## 12 ## Duration:  26 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  108
**** Call ## 15 ## Duration:  119
      ✓ should update article (387ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  62 (ERR)
      ✓ should disallow updating non-existent article (62ms)
**** Call ## 20 ## Duration:  56 (ERR)
      ✓ should disallow non-author from updating (57ms)
    Favorite
**** Call ## 21 ## Duration:  123
**** Call ## 22 ## Duration:  77
      ✓ should favorite article (200ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  54 (ERR)
      ✓ should disallow favoriting unknown article (56ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  80
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (120ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  48 (ERR)
      ✓ should disallow deleting unknown article (48ms)
**** Call ## 30 ## Duration:  58 (ERR)
      ✓ should disallow deleting article by non-author (59ms)
    List
**** Call ## 31 ## Duration:  102
**** Call ## 32 ## Duration:  50
**** Call ## 33 ## Duration:  71
**** Call ## 34 ## Duration:  46
**** Call ## 35 ## Duration:  75
**** Call ## 36 ## Duration:  64
**** Call ## 37 ## Duration:  75
**** Call ## 38 ## Duration:  59
**** Call ## 39 ## Duration:  59
**** Call ## 40 ## Duration:  42
**** Call ## 41 ## Duration:  64
**** Call ## 42 ## Duration:  53
**** Call ## 43 ## Duration:  59
**** Call ## 44 ## Duration:  53
**** Call ## 45 ## Duration:  72
**** Call ## 46 ## Duration:  91
**** Call ## 47 ## Duration:  66
**** Call ## 48 ## Duration:  48
**** Call ## 49 ## Duration:  55
**** Call ## 50 ## Duration:  40
**** Call ## 51 ## Duration:  251
      ✓ should list articles (251ms)
**** Call ## 52 ## Duration:  201
**** Call ## 53 ## Duration:  148
      ✓ should list articles with tag (350ms)
**** Call ## 54 ## Duration:  145
      ✓ should list articles by author (145ms)
**** Call ## 55 ## Duration:  87
      ✓ should list articles favorited by user (87ms)
**** Call ## 56 ## Duration:  49
**** Call ## 57 ## Duration:  45
      ✓ should list articles by limit/offset (95ms)
**** Call ## 58 ## Duration:  244
      ✓ should list articles when authenticated (245ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  76
**** Call ## 63 ## Duration:  128
**** Call ## 64 ## Duration:  197
**** Call ## 65 ## Duration:  100
**** Call ## 66 ## Duration:  152
      ✓ should get feed (653ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  214
      ✓ should get tags (214ms)

  Comment
**** Call ## 69 ## Duration:  95
**** Call ## 70 ## Duration:  95
**** Call ## 71 ## Duration:  52
    Create
**** Call ## 72 ## Duration:  94
**** Call ## 73 ## Duration:  93
**** Call ## 74 ## Duration:  61
**** Call ## 75 ## Duration:  63
**** Call ## 76 ## Duration:  72
**** Call ## 77 ## Duration:  44
**** Call ## 78 ## Duration:  86
**** Call ## 79 ## Duration:  78
**** Call ## 80 ## Duration:  86
**** Call ## 81 ## Duration:  102
      ✓ should create comment (779ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  25 (ERR)
      ✓ should enforce comment body
**** Call ## 84 ## Duration:  42 (ERR)
      ✓ should disallow non-existent article (42ms)
    Get
**** Call ## 85 ## Duration:  207
      ✓ should get all comments for article (208ms)
    Delete
**** Call ## 86 ## Duration:  100
      ✓ should delete comment (100ms)
**** Call ## 87 ## Duration:  67 (ERR)
      ✓ only comment author should be able to delete comment (67ms)
**** Call ## 88 ## Duration:  32 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown comment (69ms)

  User
    Create
**** Call ## 90 ## Duration:  97
      ✓ should create user (97ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  26 (ERR)
**** Call ## 94 ## Duration:  17 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  66
      ✓ should login (66ms)
**** Call ## 98 ## Duration:  35 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (50ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  24 (ERR)
**** Call ## 102 ## Duration:  60 (ERR)
      ✓ should enforce required fields (104ms)
    Get
**** Call ## 103 ## Duration:  54
      ✓ should get current user (54ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  37 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (99ms)
    Profile
**** Call ## 108 ## Duration:  51
      ✓ should get profile (51ms)
**** Call ## 109 ## Duration:  37 (ERR)
      ✓ should disallow unknown username (38ms)
**** Call ## 110 ## Duration:  58
**** Call ## 111 ## Duration:  88
**** Call ## 112 ## Duration:  80
**** Call ## 113 ## Duration:  49
**** Call ## 114 ## Duration:  33
**** Call ## 115 ## Duration:  66
**** Call ## 116 ## Duration:  137
**** Call ## 117 ## Duration:  107
**** Call ## 118 ## Duration:  76
**** Call ## 119 ## Duration:  121
      ✓ should follow/unfollow user (817ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  97
**** Call ## 122 ## Duration:  70
**** Call ## 123 ## Duration:  74
**** Call ## 124 ## Duration:  49
      ✓ should update user (293ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  53 (ERR)
      ✓ should disallow missing token/email in update (74ms)
**** Call ## 127 ## Duration:  75
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (134ms)

  Util
    Ping
**** Call ## 129 ## Duration:  26
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  136
**** Call ## 1 ## Duration:  77
**** Call ## 2 ## Duration:  71
    Create
**** Call ## 3 ## Duration:  71
      ✓ should create article (75ms)
**** Call ## 4 ## Duration:  71
      ✓ should create article with tags (72ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  39 (ERR)
**** Call ## 7 ## Duration:  35 (ERR)
**** Call ## 8 ## Duration:  33 (ERR)
**** Call ## 9 ## Duration:  35 (ERR)
      ✓ should enforce required fields (142ms)
    Get
**** Call ## 10 ## Duration:  62
      ✓ should get article by slug (63ms)
**** Call ## 11 ## Duration:  56
      ✓ should get article with tags by slug (56ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  148
**** Call ## 14 ## Duration:  128
**** Call ## 15 ## Duration:  136
      ✓ should update article (414ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  18 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (66ms)
**** Call ## 20 ## Duration:  50 (ERR)
      ✓ should disallow non-author from updating (50ms)
    Favorite
**** Call ## 21 ## Duration:  116
**** Call ## 22 ## Duration:  62
      ✓ should favorite article (178ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  70 (ERR)
      ✓ should disallow favoriting unknown article (70ms)
**** Call ## 25 ## Duration:  120
      ✓ should unfavorite article (120ms)
    Delete
**** Call ## 26 ## Duration:  100
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (143ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  47 (ERR)
      ✓ should disallow deleting article by non-author (48ms)
    List
**** Call ## 31 ## Duration:  69
**** Call ## 32 ## Duration:  56
**** Call ## 33 ## Duration:  61
**** Call ## 34 ## Duration:  62
**** Call ## 35 ## Duration:  59
**** Call ## 36 ## Duration:  51
**** Call ## 37 ## Duration:  42
**** Call ## 38 ## Duration:  57
**** Call ## 39 ## Duration:  56
**** Call ## 40 ## Duration:  75
**** Call ## 41 ## Duration:  77
**** Call ## 42 ## Duration:  71
**** Call ## 43 ## Duration:  61
**** Call ## 44 ## Duration:  56
**** Call ## 45 ## Duration:  61
**** Call ## 46 ## Duration:  40
**** Call ## 47 ## Duration:  64
**** Call ## 48 ## Duration:  59
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  66
**** Call ## 51 ## Duration:  312
      ✓ should list articles (312ms)
**** Call ## 52 ## Duration:  241
**** Call ## 53 ## Duration:  280
      ✓ should list articles with tag (521ms)
**** Call ## 54 ## Duration:  153
      ✓ should list articles by author (154ms)
**** Call ## 55 ## Duration:  98
      ✓ should list articles favorited by user (98ms)
**** Call ## 56 ## Duration:  44
**** Call ## 57 ## Duration:  50
      ✓ should list articles by limit/offset (94ms)
**** Call ## 58 ## Duration:  230
      ✓ should list articles when authenticated (230ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  29 (ERR)
**** Call ## 59 ## Duration:  34 (ERR)
**** Call ## 62 ## Duration:  74
**** Call ## 63 ## Duration:  122
**** Call ## 64 ## Duration:  206
**** Call ## 65 ## Duration:  94
**** Call ## 66 ## Duration:  227
      ✓ should get feed (724ms)
**** Call ## 67 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  145
      ✓ should get tags (146ms)

  Comment
**** Call ## 69 ## Duration:  88
**** Call ## 70 ## Duration:  82
**** Call ## 71 ## Duration:  78
    Create
**** Call ## 72 ## Duration:  71
**** Call ## 73 ## Duration:  85
**** Call ## 74 ## Duration:  65
**** Call ## 75 ## Duration:  71
**** Call ## 76 ## Duration:  88
**** Call ## 77 ## Duration:  54
**** Call ## 78 ## Duration:  68
**** Call ## 79 ## Duration:  87
**** Call ## 80 ## Duration:  65
**** Call ## 81 ## Duration:  73
      ✓ should create comment (730ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  40 (ERR)
      ✓ should enforce comment body (40ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (63ms)
    Get
**** Call ## 85 ## Duration:  263
      ✓ should get all comments for article (263ms)
    Delete
**** Call ## 86 ## Duration:  87
      ✓ should delete comment (87ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  83 (ERR)
      ✓ should disallow deleting unknown comment (84ms)

  User
    Create
**** Call ## 90 ## Duration:  72
      ✓ should create user (72ms)
**** Call ## 91 ## Duration:  33 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  18 (ERR)
**** Call ## 95 ## Duration:  25 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  54
      ✓ should login (54ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (44ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  30 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (71ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  45
      ✓ should get profile (45ms)
**** Call ## 109 ## Duration:  47 (ERR)
      ✓ should disallow unknown username (47ms)
**** Call ## 110 ## Duration:  91
**** Call ## 111 ## Duration:  92
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  52
**** Call ## 114 ## Duration:  27
**** Call ## 115 ## Duration:  89
**** Call ## 116 ## Duration:  80
**** Call ## 117 ## Duration:  101
**** Call ## 118 ## Duration:  96
**** Call ## 119 ## Duration:  79
      ✓ should follow/unfollow user (815ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  101
**** Call ## 122 ## Duration:  68
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  61
      ✓ should update user (294ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  53 (ERR)
      ✓ should disallow missing token/email in update (73ms)
**** Call ## 127 ## Duration:  110
**** Call ## 128 ## Duration:  72 (ERR)
      ✓ should disallow reusing email (183ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  169
**** Call ## 1 ## Duration:  72
**** Call ## 2 ## Duration:  132
    Create
**** Call ## 3 ## Duration:  75
      ✓ should create article (77ms)
**** Call ## 4 ## Duration:  70
      ✓ should create article with tags (72ms)
**** Call ## 5 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  117 (ERR)
**** Call ## 7 ## Duration:  43 (ERR)
**** Call ## 8 ## Duration:  44 (ERR)
**** Call ## 9 ## Duration:  42 (ERR)
      ✓ should enforce required fields (246ms)
    Get
**** Call ## 10 ## Duration:  72
      ✓ should get article by slug (72ms)
**** Call ## 11 ## Duration:  62
      ✓ should get article with tags by slug (62ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  134
**** Call ## 14 ## Duration:  210
**** Call ## 15 ## Duration:  100
      ✓ should update article (447ms)
**** Call ## 16 ## Duration:  17 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  57 (ERR)
      ✓ should disallow updating non-existent article (59ms)
**** Call ## 20 ## Duration:  46 (ERR)
      ✓ should disallow non-author from updating (46ms)
    Favorite
**** Call ## 21 ## Duration:  113
**** Call ## 22 ## Duration:  79
      ✓ should favorite article (192ms)
**** Call ## 23 ## Duration:  18 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  58 (ERR)
      ✓ should disallow favoriting unknown article (58ms)
**** Call ## 25 ## Duration:  106
      ✓ should unfavorite article (106ms)
    Delete
**** Call ## 26 ## Duration:  79
**** Call ## 27 ## Duration:  96 (ERR)
      ✓ should delete article (175ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  123 (ERR)
      ✓ should disallow deleting unknown article (123ms)
**** Call ## 30 ## Duration:  57 (ERR)
      ✓ should disallow deleting article by non-author (57ms)
    List
**** Call ## 31 ## Duration:  71
**** Call ## 32 ## Duration:  64
**** Call ## 33 ## Duration:  68
**** Call ## 34 ## Duration:  63
**** Call ## 35 ## Duration:  55
**** Call ## 36 ## Duration:  63
**** Call ## 37 ## Duration:  54
**** Call ## 38 ## Duration:  56
**** Call ## 39 ## Duration:  62
**** Call ## 40 ## Duration:  66
**** Call ## 41 ## Duration:  48
**** Call ## 42 ## Duration:  81
**** Call ## 43 ## Duration:  39
**** Call ## 44 ## Duration:  65
**** Call ## 45 ## Duration:  55
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  51
**** Call ## 48 ## Duration:  60
**** Call ## 49 ## Duration:  61
**** Call ## 50 ## Duration:  60
**** Call ## 51 ## Duration:  189
      ✓ should list articles (189ms)
**** Call ## 52 ## Duration:  198
**** Call ## 53 ## Duration:  142
      ✓ should list articles with tag (340ms)
**** Call ## 54 ## Duration:  136
      ✓ should list articles by author (137ms)
**** Call ## 55 ## Duration:  87
      ✓ should list articles favorited by user (87ms)
**** Call ## 56 ## Duration:  66
**** Call ## 57 ## Duration:  41
      ✓ should list articles by limit/offset (107ms)
**** Call ## 58 ## Duration:  265
      ✓ should list articles when authenticated (265ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  159
**** Call ## 63 ## Duration:  118
**** Call ## 64 ## Duration:  238
**** Call ## 65 ## Duration:  93
**** Call ## 66 ## Duration:  203
      ✓ should get feed (813ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  157
      ✓ should get tags (157ms)

  Comment
**** Call ## 69 ## Duration:  87
**** Call ## 70 ## Duration:  78
**** Call ## 71 ## Duration:  65
    Create
**** Call ## 72 ## Duration:  84
**** Call ## 73 ## Duration:  80
**** Call ## 74 ## Duration:  58
**** Call ## 75 ## Duration:  60
**** Call ## 76 ## Duration:  76
**** Call ## 77 ## Duration:  65
**** Call ## 78 ## Duration:  77
**** Call ## 79 ## Duration:  71
**** Call ## 80 ## Duration:  60
**** Call ## 81 ## Duration:  53
      ✓ should create comment (684ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (56ms)
    Get
**** Call ## 85 ## Duration:  233
      ✓ should get all comments for article (233ms)
    Delete
**** Call ## 86 ## Duration:  72
      ✓ should delete comment (72ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown comment (65ms)

  User
    Create
**** Call ## 90 ## Duration:  67
      ✓ should create user (68ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  75 (ERR)
      ✓ should disallow same email (76ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  53 (ERR)
      ✓ should enforce required fields (117ms)
    Login
**** Call ## 97 ## Duration:  51
      ✓ should login (51ms)
**** Call ## 98 ## Duration:  46 (ERR)
      ✓ should disallow unknown email (48ms)
**** Call ## 99 ## Duration:  58 (ERR)
      ✓ should disallow wrong password (58ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  41
      ✓ should get current user (41ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  48
      ✓ should get profile (48ms)
**** Call ## 109 ## Duration:  37 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  90
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  89
**** Call ## 113 ## Duration:  60
**** Call ## 114 ## Duration:  43
**** Call ## 115 ## Duration:  88
**** Call ## 116 ## Duration:  83
**** Call ## 117 ## Duration:  80
**** Call ## 118 ## Duration:  87
**** Call ## 119 ## Duration:  76
      ✓ should follow/unfollow user (832ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  93
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  59
**** Call ## 124 ## Duration:  40
      ✓ should update user (260ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  36 (ERR)
      ✓ should disallow missing token/email in update (58ms)
**** Call ## 127 ## Duration:  81
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (144ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (9s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://nij8w5k6c1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  135
**** Call ## 1 ## Duration:  66
**** Call ## 2 ## Duration:  75
    Create
**** Call ## 3 ## Duration:  87
      ✓ should create article (90ms)
**** Call ## 4 ## Duration:  63
      ✓ should create article with tags (65ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  50 (ERR)
**** Call ## 7 ## Duration:  44 (ERR)
**** Call ## 8 ## Duration:  39 (ERR)
**** Call ## 9 ## Duration:  34 (ERR)
      ✓ should enforce required fields (167ms)
    Get
**** Call ## 10 ## Duration:  70
      ✓ should get article by slug (71ms)
**** Call ## 11 ## Duration:  65
      ✓ should get article with tags by slug (65ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  130
**** Call ## 14 ## Duration:  107
**** Call ## 15 ## Duration:  136
      ✓ should update article (375ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  55 (ERR)
      ✓ should disallow updating non-existent article (56ms)
**** Call ## 20 ## Duration:  56 (ERR)
      ✓ should disallow non-author from updating (57ms)
    Favorite
**** Call ## 21 ## Duration:  130
**** Call ## 22 ## Duration:  88
      ✓ should favorite article (218ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  116
      ✓ should unfavorite article (116ms)
    Delete
**** Call ## 26 ## Duration:  95
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (136ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  133 (ERR)
      ✓ should disallow deleting unknown article (133ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (64ms)
    List
**** Call ## 31 ## Duration:  67
**** Call ## 32 ## Duration:  64
**** Call ## 33 ## Duration:  63
**** Call ## 34 ## Duration:  129
**** Call ## 35 ## Duration:  58
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  93
**** Call ## 38 ## Duration:  61
**** Call ## 39 ## Duration:  54
**** Call ## 40 ## Duration:  56
**** Call ## 41 ## Duration:  69
**** Call ## 42 ## Duration:  59
**** Call ## 43 ## Duration:  62
**** Call ## 44 ## Duration:  42
**** Call ## 45 ## Duration:  62
**** Call ## 46 ## Duration:  62
**** Call ## 47 ## Duration:  57
**** Call ## 48 ## Duration:  62
**** Call ## 49 ## Duration:  55
**** Call ## 50 ## Duration:  64
**** Call ## 51 ## Duration:  245
      ✓ should list articles (245ms)
**** Call ## 52 ## Duration:  249
**** Call ## 53 ## Duration:  145
      ✓ should list articles with tag (396ms)
**** Call ## 54 ## Duration:  139
      ✓ should list articles by author (139ms)
**** Call ## 55 ## Duration:  102
      ✓ should list articles favorited by user (102ms)
**** Call ## 56 ## Duration:  70
**** Call ## 57 ## Duration:  69
      ✓ should list articles by limit/offset (139ms)
**** Call ## 58 ## Duration:  237
      ✓ should list articles when authenticated (238ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  94
**** Call ## 63 ## Duration:  107
**** Call ## 64 ## Duration:  234
**** Call ## 65 ## Duration:  105
**** Call ## 66 ## Duration:  180
      ✓ should get feed (721ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  115
      ✓ should get tags (115ms)

  Comment
**** Call ## 69 ## Duration:  83
**** Call ## 70 ## Duration:  89
**** Call ## 71 ## Duration:  52
    Create
**** Call ## 72 ## Duration:  144
**** Call ## 73 ## Duration:  84
**** Call ## 74 ## Duration:  72
**** Call ## 75 ## Duration:  108
**** Call ## 76 ## Duration:  92
**** Call ## 77 ## Duration:  79
**** Call ## 78 ## Duration:  57
**** Call ## 79 ## Duration:  77
**** Call ## 80 ## Duration:  78
**** Call ## 81 ## Duration:  62
      ✓ should create comment (856ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  36 (ERR)
      ✓ should enforce comment body
**** Call ## 84 ## Duration:  69 (ERR)
      ✓ should disallow non-existent article (69ms)
    Get
**** Call ## 85 ## Duration:  238
      ✓ should get all comments for article (238ms)
    Delete
**** Call ## 86 ## Duration:  89
      ✓ should delete comment (90ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  76 (ERR)
      ✓ should disallow deleting unknown comment (76ms)

  User
    Create
**** Call ## 90 ## Duration:  89
      ✓ should create user (89ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (69ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  54
      ✓ should login (54ms)
**** Call ## 98 ## Duration:  43 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  40 (ERR)
      ✓ should disallow wrong password (40ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (79ms)
    Profile
**** Call ## 108 ## Duration:  47
      ✓ should get profile (47ms)
**** Call ## 109 ## Duration:  34 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  92
**** Call ## 111 ## Duration:  165
**** Call ## 112 ## Duration:  105
**** Call ## 113 ## Duration:  57
**** Call ## 114 ## Duration:  50
**** Call ## 115 ## Duration:  89
**** Call ## 116 ## Duration:  88
**** Call ## 117 ## Duration:  112
**** Call ## 118 ## Duration:  90
**** Call ## 119 ## Duration:  105
      ✓ should follow/unfollow user (956ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  99
**** Call ## 122 ## Duration:  61
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  52
      ✓ should update user (265ms)
**** Call ## 125 ## Duration:  31 (ERR)
**** Call ## 126 ## Duration:  50 (ERR)
      ✓ should disallow missing token/email in update (81ms)
**** Call ## 127 ## Duration:  90
**** Call ## 128 ## Duration:  55 (ERR)
      ✓ should disallow reusing email (145ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (9s)

results20191101215320/no-rec-res/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
..............................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
