Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
.....
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (27.95 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (27.95 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (27.95 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  1153
**** Call ## 1 ## Duration:  136
**** Call ## 2 ## Duration:  169
    Create
**** Call ## 3 ## Duration:  831
      ✓ should create article (833ms)
**** Call ## 4 ## Duration:  93
      ✓ should create article with tags (94ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  787 (ERR)
**** Call ## 7 ## Duration:  84 (ERR)
**** Call ## 8 ## Duration:  81 (ERR)
**** Call ## 9 ## Duration:  75 (ERR)
      ✓ should enforce required fields (1029ms)
    Get
**** Call ## 10 ## Duration:  855
      ✓ should get article by slug (855ms)
**** Call ## 11 ## Duration:  110
      ✓ should get article with tags by slug (110ms)
**** Call ## 12 ## Duration:  29 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  889
**** Call ## 14 ## Duration:  154
**** Call ## 15 ## Duration:  155
      ✓ should update article (1203ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  565 (ERR)
      ✓ should disallow empty mutation (566ms)
**** Call ## 18 ## Duration:  55 (ERR)
      ✓ should disallow unauthenticated update (55ms)
**** Call ## 19 ## Duration:  173 (ERR)
      ✓ should disallow updating non-existent article (173ms)
**** Call ## 20 ## Duration:  82 (ERR)
      ✓ should disallow non-author from updating (82ms)
    Favorite
**** Call ## 21 ## Duration:  891
**** Call ## 22 ## Duration:  114
      ✓ should favorite article (1005ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  76 (ERR)
      ✓ should disallow favoriting unknown article (77ms)
**** Call ## 25 ## Duration:  844
      ✓ should unfavorite article (844ms)
    Delete
**** Call ## 26 ## Duration:  857
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (904ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (74ms)
**** Call ## 30 ## Duration:  75 (ERR)
      ✓ should disallow deleting article by non-author (76ms)
    List
**** Call ## 31 ## Duration:  118
**** Call ## 32 ## Duration:  103
**** Call ## 33 ## Duration:  107
**** Call ## 34 ## Duration:  101
**** Call ## 35 ## Duration:  99
**** Call ## 36 ## Duration:  105
**** Call ## 37 ## Duration:  83
**** Call ## 38 ## Duration:  79
**** Call ## 39 ## Duration:  96
**** Call ## 40 ## Duration:  94
**** Call ## 41 ## Duration:  71
**** Call ## 42 ## Duration:  83
**** Call ## 43 ## Duration:  70
**** Call ## 44 ## Duration:  88
**** Call ## 45 ## Duration:  86
**** Call ## 46 ## Duration:  138
**** Call ## 47 ## Duration:  88
**** Call ## 48 ## Duration:  104
**** Call ## 49 ## Duration:  79
**** Call ## 50 ## Duration:  69
**** Call ## 51 ## Duration:  1095
      ✓ should list articles (1096ms)
**** Call ## 52 ## Duration:  76
**** Call ## 53 ## Duration:  354
      ✓ should list articles with tag (430ms)
**** Call ## 54 ## Duration:  196
      ✓ should list articles by author (197ms)
**** Call ## 55 ## Duration:  47
      ✓ should list articles favorited by user (47ms)
**** Call ## 56 ## Duration:  108
**** Call ## 57 ## Duration:  115
      ✓ should list articles by limit/offset (224ms)
**** Call ## 58 ## Duration:  405
      ✓ should list articles when authenticated (405ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  579 (ERR)
**** Call ## 60 ## Duration:  626 (ERR)
**** Call ## 62 ## Duration:  818
**** Call ## 63 ## Duration:  854
**** Call ## 64 ## Duration:  353
**** Call ## 65 ## Duration:  139
**** Call ## 66 ## Duration:  392
      ✓ should get feed (2556ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  693
      ✓ should get tags (694ms)

  Comment
**** Call ## 69 ## Duration:  181
**** Call ## 70 ## Duration:  126
**** Call ## 71 ## Duration:  104
    Create
**** Call ## 72 ## Duration:  733
**** Call ## 73 ## Duration:  110
**** Call ## 74 ## Duration:  119
**** Call ## 75 ## Duration:  126
**** Call ## 76 ## Duration:  127
**** Call ## 77 ## Duration:  125
**** Call ## 78 ## Duration:  108
**** Call ## 79 ## Duration:  92
**** Call ## 80 ## Duration:  106
**** Call ## 81 ## Duration:  102
      ✓ should create comment (1751ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  622 (ERR)
      ✓ should enforce comment body (622ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  841
      ✓ should get all comments for article (841ms)
    Delete
**** Call ## 86 ## Duration:  768
      ✓ should delete comment (768ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  638 (ERR)
      ✓ should disallow deleting unknown comment (638ms)

  User
    Create
**** Call ## 90 ## Duration:  166
      ✓ should create user (166ms)
**** Call ## 91 ## Duration:  32 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  744 (ERR)
      ✓ should disallow same email (744ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  25 (ERR)
**** Call ## 96 ## Duration:  25 (ERR)
      ✓ should enforce required fields (95ms)
    Login
**** Call ## 97 ## Duration:  890
      ✓ should login (891ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  779 (ERR)
      ✓ should disallow wrong password (781ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  897
      ✓ should get current user (897ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  608 (ERR)
**** Call ## 106 ## Duration:  52 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (701ms)
    Profile
**** Call ## 108 ## Duration:  857
      ✓ should get profile (857ms)
**** Call ## 109 ## Duration:  48 (ERR)
      ✓ should disallow unknown username (49ms)
**** Call ## 110 ## Duration:  173
**** Call ## 111 ## Duration:  192
**** Call ## 112 ## Duration:  121
**** Call ## 113 ## Duration:  102
**** Call ## 114 ## Duration:  75
**** Call ## 115 ## Duration:  132
**** Call ## 116 ## Duration:  118
**** Call ## 117 ## Duration:  884
**** Call ## 118 ## Duration:  113
**** Call ## 119 ## Duration:  109
      ✓ should follow/unfollow user (2022ms)
**** Call ## 120 ## Duration:  52 (ERR)
      ✓ should disallow following with bad token (52ms)
    Update
**** Call ## 121 ## Duration:  883
**** Call ## 122 ## Duration:  98
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  61
      ✓ should update user (1106ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  788 (ERR)
      ✓ should disallow missing token/email in update (811ms)
**** Call ## 127 ## Duration:  172
**** Call ## 128 ## Duration:  106 (ERR)
      ✓ should disallow reusing email (279ms)

  Util
    Ping
**** Call ## 129 ## Duration:  467
      ✓ should ping (467ms)


  58 passing (32s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  205
**** Call ## 1 ## Duration:  126
**** Call ## 2 ## Duration:  100
    Create
**** Call ## 3 ## Duration:  147
      ✓ should create article (150ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (87ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  131 (ERR)
**** Call ## 7 ## Duration:  62 (ERR)
**** Call ## 8 ## Duration:  87 (ERR)
**** Call ## 9 ## Duration:  65 (ERR)
      ✓ should enforce required fields (346ms)
    Get
**** Call ## 10 ## Duration:  188
      ✓ should get article by slug (188ms)
**** Call ## 11 ## Duration:  100
      ✓ should get article with tags by slug (101ms)
**** Call ## 12 ## Duration:  67 (ERR)
      ✓ should disallow unknown slug (67ms)
    Update
**** Call ## 13 ## Duration:  241
**** Call ## 14 ## Duration:  166
**** Call ## 15 ## Duration:  165
      ✓ should update article (574ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  70 (ERR)
      ✓ should disallow empty mutation (71ms)
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  77 (ERR)
      ✓ should disallow updating non-existent article (78ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (68ms)
    Favorite
**** Call ## 21 ## Duration:  219
**** Call ## 22 ## Duration:  198
      ✓ should favorite article (417ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  87 (ERR)
      ✓ should disallow favoriting unknown article (88ms)
**** Call ## 25 ## Duration:  202
      ✓ should unfavorite article (202ms)
    Delete
**** Call ## 26 ## Duration:  186
**** Call ## 27 ## Duration:  48 (ERR)
      ✓ should delete article (235ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  90 (ERR)
      ✓ should disallow deleting unknown article (90ms)
**** Call ## 30 ## Duration:  100 (ERR)
      ✓ should disallow deleting article by non-author (100ms)
    List
**** Call ## 31 ## Duration:  138
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  90
**** Call ## 34 ## Duration:  85
**** Call ## 35 ## Duration:  98
**** Call ## 36 ## Duration:  80
**** Call ## 37 ## Duration:  93
**** Call ## 38 ## Duration:  81
**** Call ## 39 ## Duration:  62
**** Call ## 40 ## Duration:  92
**** Call ## 41 ## Duration:  99
**** Call ## 42 ## Duration:  64
**** Call ## 43 ## Duration:  75
**** Call ## 44 ## Duration:  92
**** Call ## 45 ## Duration:  88
**** Call ## 46 ## Duration:  84
**** Call ## 47 ## Duration:  79
**** Call ## 48 ## Duration:  58
**** Call ## 49 ## Duration:  126
**** Call ## 50 ## Duration:  106
**** Call ## 51 ## Duration:  556
      ✓ should list articles (556ms)
**** Call ## 52 ## Duration:  109
**** Call ## 53 ## Duration:  260
      ✓ should list articles with tag (369ms)
**** Call ## 54 ## Duration:  343
      ✓ should list articles by author (343ms)
**** Call ## 55 ## Duration:  38
      ✓ should list articles favorited by user (38ms)
**** Call ## 56 ## Duration:  288
**** Call ## 57 ## Duration:  166
      ✓ should list articles by limit/offset (454ms)
**** Call ## 58 ## Duration:  505
      ✓ should list articles when authenticated (505ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  59 (ERR)
**** Call ## 62 ## Duration:  151
**** Call ## 63 ## Duration:  144
**** Call ## 64 ## Duration:  260
**** Call ## 65 ## Duration:  141
**** Call ## 66 ## Duration:  400
      ✓ should get feed (1097ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  105
      ✓ should get tags (105ms)

  Comment
**** Call ## 69 ## Duration:  193
**** Call ## 70 ## Duration:  194
**** Call ## 71 ## Duration:  105
    Create
**** Call ## 72 ## Duration:  130
**** Call ## 73 ## Duration:  223
**** Call ## 74 ## Duration:  137
**** Call ## 75 ## Duration:  102
**** Call ## 76 ## Duration:  119
**** Call ## 77 ## Duration:  104
**** Call ## 78 ## Duration:  113
**** Call ## 79 ## Duration:  109
**** Call ## 80 ## Duration:  95
**** Call ## 81 ## Duration:  97
      ✓ should create comment (1229ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  91 (ERR)
      ✓ should enforce comment body (91ms)
**** Call ## 84 ## Duration:  65 (ERR)
      ✓ should disallow non-existent article (65ms)
    Get
**** Call ## 85 ## Duration:  294
      ✓ should get all comments for article (294ms)
    Delete
**** Call ## 86 ## Duration:  123
      ✓ should delete comment (123ms)
**** Call ## 87 ## Duration:  77 (ERR)
      ✓ only comment author should be able to delete comment (78ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown comment (70ms)

  User
    Create
**** Call ## 90 ## Duration:  119
      ✓ should create user (119ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  61 (ERR)
      ✓ should disallow same email (61ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  153
      ✓ should login (153ms)
**** Call ## 98 ## Duration:  43 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  101 (ERR)
      ✓ should disallow wrong password (101ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  24 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (69ms)
    Get
**** Call ## 103 ## Duration:  168
      ✓ should get current user (168ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  57 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (126ms)
    Profile
**** Call ## 108 ## Duration:  127
      ✓ should get profile (128ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  123
**** Call ## 111 ## Duration:  120
**** Call ## 112 ## Duration:  122
**** Call ## 113 ## Duration:  106
**** Call ## 114 ## Duration:  73
**** Call ## 115 ## Duration:  111
**** Call ## 116 ## Duration:  126
**** Call ## 117 ## Duration:  211
**** Call ## 118 ## Duration:  193
**** Call ## 119 ## Duration:  115
      ✓ should follow/unfollow user (1303ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  145
**** Call ## 122 ## Duration:  122
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  66
      ✓ should update user (388ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  103 (ERR)
      ✓ should disallow missing token/email in update (124ms)
**** Call ## 127 ## Duration:  163
**** Call ## 128 ## Duration:  57 (ERR)
      ✓ should disallow reusing email (220ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  184
**** Call ## 1 ## Duration:  121
**** Call ## 2 ## Duration:  107
    Create
**** Call ## 3 ## Duration:  100
      ✓ should create article (103ms)
**** Call ## 4 ## Duration:  109
      ✓ should create article with tags (110ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  108 (ERR)
**** Call ## 7 ## Duration:  66 (ERR)
**** Call ## 8 ## Duration:  67 (ERR)
**** Call ## 9 ## Duration:  79 (ERR)
      ✓ should enforce required fields (321ms)
    Get
**** Call ## 10 ## Duration:  83
      ✓ should get article by slug (85ms)
**** Call ## 11 ## Duration:  82
      ✓ should get article with tags by slug (82ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  212
**** Call ## 14 ## Duration:  152
**** Call ## 15 ## Duration:  142
      ✓ should update article (508ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  40 (ERR)
      ✓ should disallow empty mutation (40ms)
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  78 (ERR)
      ✓ should disallow updating non-existent article (79ms)
**** Call ## 20 ## Duration:  73 (ERR)
      ✓ should disallow non-author from updating (73ms)
    Favorite
**** Call ## 21 ## Duration:  170
**** Call ## 22 ## Duration:  121
      ✓ should favorite article (291ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  126 (ERR)
      ✓ should disallow favoriting unknown article (126ms)
**** Call ## 25 ## Duration:  179
      ✓ should unfavorite article (179ms)
    Delete
**** Call ## 26 ## Duration:  140
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (181ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  78 (ERR)
      ✓ should disallow deleting article by non-author (79ms)
    List
**** Call ## 31 ## Duration:  115
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  89
**** Call ## 34 ## Duration:  76
**** Call ## 35 ## Duration:  80
**** Call ## 36 ## Duration:  75
**** Call ## 37 ## Duration:  75
**** Call ## 38 ## Duration:  70
**** Call ## 39 ## Duration:  72
**** Call ## 40 ## Duration:  94
**** Call ## 41 ## Duration:  80
**** Call ## 42 ## Duration:  66
**** Call ## 43 ## Duration:  65
**** Call ## 44 ## Duration:  78
**** Call ## 45 ## Duration:  67
**** Call ## 46 ## Duration:  76
**** Call ## 47 ## Duration:  60
**** Call ## 48 ## Duration:  83
**** Call ## 49 ## Duration:  57
**** Call ## 50 ## Duration:  73
**** Call ## 51 ## Duration:  466
      ✓ should list articles (466ms)
**** Call ## 52 ## Duration:  112
**** Call ## 53 ## Duration:  313
      ✓ should list articles with tag (425ms)
**** Call ## 54 ## Duration:  253
      ✓ should list articles by author (254ms)
**** Call ## 55 ## Duration:  30
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  183
**** Call ## 57 ## Duration:  118
      ✓ should list articles by limit/offset (301ms)
**** Call ## 58 ## Duration:  534
      ✓ should list articles when authenticated (534ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  67 (ERR)
**** Call ## 62 ## Duration:  129
**** Call ## 63 ## Duration:  135
**** Call ## 64 ## Duration:  228
**** Call ## 65 ## Duration:  131
**** Call ## 66 ## Duration:  408
      ✓ should get feed (1034ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  79
      ✓ should get tags (79ms)

  Comment
**** Call ## 69 ## Duration:  131
**** Call ## 70 ## Duration:  135
**** Call ## 71 ## Duration:  95
    Create
**** Call ## 72 ## Duration:  173
**** Call ## 73 ## Duration:  80
**** Call ## 74 ## Duration:  112
**** Call ## 75 ## Duration:  147
**** Call ## 76 ## Duration:  114
**** Call ## 77 ## Duration:  104
**** Call ## 78 ## Duration:  91
**** Call ## 79 ## Duration:  88
**** Call ## 80 ## Duration:  104
**** Call ## 81 ## Duration:  93
      ✓ should create comment (1107ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  88 (ERR)
      ✓ should enforce comment body (88ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  240
      ✓ should get all comments for article (241ms)
    Delete
**** Call ## 86 ## Duration:  123
      ✓ should delete comment (124ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (67ms)
**** Call ## 88 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  111
      ✓ should create user (112ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  26 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  18 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  112
      ✓ should login (112ms)
**** Call ## 98 ## Duration:  46 (ERR)
      ✓ should disallow unknown email (47ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  39 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (80ms)
    Get
**** Call ## 103 ## Duration:  92
      ✓ should get current user (93ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  57 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (120ms)
    Profile
**** Call ## 108 ## Duration:  118
      ✓ should get profile (118ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  155
**** Call ## 111 ## Duration:  174
**** Call ## 112 ## Duration:  142
**** Call ## 113 ## Duration:  100
**** Call ## 114 ## Duration:  72
**** Call ## 115 ## Duration:  128
**** Call ## 116 ## Duration:  139
**** Call ## 117 ## Duration:  189
**** Call ## 118 ## Duration:  132
**** Call ## 119 ## Duration:  132
      ✓ should follow/unfollow user (1366ms)
**** Call ## 120 ## Duration:  28 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  129
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  70
**** Call ## 124 ## Duration:  133
      ✓ should update user (401ms)
**** Call ## 125 ## Duration:  28 (ERR)
**** Call ## 126 ## Duration:  90 (ERR)
      ✓ should disallow missing token/email in update (121ms)
**** Call ## 127 ## Duration:  119
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (182ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  156
**** Call ## 1 ## Duration:  169
**** Call ## 2 ## Duration:  161
    Create
**** Call ## 3 ## Duration:  91
      ✓ should create article (93ms)
**** Call ## 4 ## Duration:  78
      ✓ should create article with tags (80ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  78 (ERR)
**** Call ## 7 ## Duration:  75 (ERR)
**** Call ## 8 ## Duration:  77 (ERR)
**** Call ## 9 ## Duration:  55 (ERR)
      ✓ should enforce required fields (287ms)
    Get
**** Call ## 10 ## Duration:  88
      ✓ should get article by slug (90ms)
**** Call ## 11 ## Duration:  70
      ✓ should get article with tags by slug (70ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  162
**** Call ## 14 ## Duration:  139
**** Call ## 15 ## Duration:  162
      ✓ should update article (466ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  70 (ERR)
      ✓ should disallow updating non-existent article (70ms)
**** Call ## 20 ## Duration:  68 (ERR)
      ✓ should disallow non-author from updating (69ms)
    Favorite
**** Call ## 21 ## Duration:  139
**** Call ## 22 ## Duration:  105
      ✓ should favorite article (244ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  76 (ERR)
      ✓ should disallow favoriting unknown article (78ms)
**** Call ## 25 ## Duration:  251
      ✓ should unfavorite article (251ms)
    Delete
**** Call ## 26 ## Duration:  209
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (248ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (61ms)
**** Call ## 30 ## Duration:  70 (ERR)
      ✓ should disallow deleting article by non-author (72ms)
    List
**** Call ## 31 ## Duration:  88
**** Call ## 32 ## Duration:  106
**** Call ## 33 ## Duration:  101
**** Call ## 34 ## Duration:  103
**** Call ## 35 ## Duration:  102
**** Call ## 36 ## Duration:  90
**** Call ## 37 ## Duration:  155
**** Call ## 38 ## Duration:  66
**** Call ## 39 ## Duration:  70
**** Call ## 40 ## Duration:  96
**** Call ## 41 ## Duration:  86
**** Call ## 42 ## Duration:  82
**** Call ## 43 ## Duration:  79
**** Call ## 44 ## Duration:  117
**** Call ## 45 ## Duration:  70
**** Call ## 46 ## Duration:  83
**** Call ## 47 ## Duration:  95
**** Call ## 48 ## Duration:  73
**** Call ## 49 ## Duration:  100
**** Call ## 50 ## Duration:  82
**** Call ## 51 ## Duration:  463
      ✓ should list articles (464ms)
**** Call ## 52 ## Duration:  120
**** Call ## 53 ## Duration:  420
      ✓ should list articles with tag (540ms)
**** Call ## 54 ## Duration:  217
      ✓ should list articles by author (217ms)
**** Call ## 55 ## Duration:  33
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  170
**** Call ## 57 ## Duration:  104
      ✓ should list articles by limit/offset (274ms)
**** Call ## 58 ## Duration:  499
      ✓ should list articles when authenticated (499ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  20 (ERR)
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  34 (ERR)
**** Call ## 62 ## Duration:  101
**** Call ## 63 ## Duration:  151
**** Call ## 64 ## Duration:  270
**** Call ## 65 ## Duration:  94
**** Call ## 66 ## Duration:  486
      ✓ should get feed (1103ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  66
      ✓ should get tags (66ms)

  Comment
**** Call ## 69 ## Duration:  117
**** Call ## 70 ## Duration:  105
**** Call ## 71 ## Duration:  75
    Create
**** Call ## 72 ## Duration:  133
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  96
**** Call ## 75 ## Duration:  87
**** Call ## 76 ## Duration:  318
**** Call ## 77 ## Duration:  95
**** Call ## 78 ## Duration:  95
**** Call ## 79 ## Duration:  72
**** Call ## 80 ## Duration:  125
**** Call ## 81 ## Duration:  92
      ✓ should create comment (1221ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  221
      ✓ should get all comments for article (221ms)
    Delete
**** Call ## 86 ## Duration:  116
      ✓ should delete comment (116ms)
**** Call ## 87 ## Duration:  102 (ERR)
      ✓ only comment author should be able to delete comment (102ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  141 (ERR)
      ✓ should disallow deleting unknown comment (141ms)

  User
    Create
**** Call ## 90 ## Duration:  117
      ✓ should create user (117ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  79
      ✓ should login (80ms)
**** Call ## 98 ## Duration:  68 (ERR)
      ✓ should disallow unknown email (69ms)
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  25 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (68ms)
    Get
**** Call ## 103 ## Duration:  54
      ✓ should get current user (55ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  18 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (77ms)
    Profile
**** Call ## 108 ## Duration:  79
      ✓ should get profile (79ms)
**** Call ## 109 ## Duration:  40 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  122
**** Call ## 111 ## Duration:  150
**** Call ## 112 ## Duration:  133
**** Call ## 113 ## Duration:  109
**** Call ## 114 ## Duration:  72
**** Call ## 115 ## Duration:  110
**** Call ## 116 ## Duration:  120
**** Call ## 117 ## Duration:  128
**** Call ## 118 ## Duration:  107
**** Call ## 119 ## Duration:  110
      ✓ should follow/unfollow user (1164ms)
**** Call ## 120 ## Duration:  24 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  76
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  65
**** Call ## 124 ## Duration:  35
      ✓ should update user (244ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  40 (ERR)
      ✓ should disallow missing token/email in update (61ms)
**** Call ## 127 ## Duration:  127
**** Call ## 128 ## Duration:  47 (ERR)
      ✓ should disallow reusing email (174ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  143
**** Call ## 1 ## Duration:  115
**** Call ## 2 ## Duration:  118
    Create
**** Call ## 3 ## Duration:  114
      ✓ should create article (117ms)
**** Call ## 4 ## Duration:  82
      ✓ should create article with tags (84ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  66 (ERR)
**** Call ## 7 ## Duration:  147 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  57 (ERR)
      ✓ should enforce required fields (331ms)
    Get
**** Call ## 10 ## Duration:  108
      ✓ should get article by slug (108ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (90ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  151
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  146
      ✓ should update article (436ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  55 (ERR)
      ✓ should disallow updating non-existent article (55ms)
**** Call ## 20 ## Duration:  79 (ERR)
      ✓ should disallow non-author from updating (79ms)
    Favorite
**** Call ## 21 ## Duration:  128
**** Call ## 22 ## Duration:  220
      ✓ should favorite article (348ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  62 (ERR)
      ✓ should disallow favoriting unknown article (63ms)
**** Call ## 25 ## Duration:  158
      ✓ should unfavorite article (159ms)
    Delete
**** Call ## 26 ## Duration:  133
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (172ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  87
**** Call ## 32 ## Duration:  79
**** Call ## 33 ## Duration:  86
**** Call ## 34 ## Duration:  86
**** Call ## 35 ## Duration:  79
**** Call ## 36 ## Duration:  106
**** Call ## 37 ## Duration:  83
**** Call ## 38 ## Duration:  66
**** Call ## 39 ## Duration:  84
**** Call ## 40 ## Duration:  86
**** Call ## 41 ## Duration:  86
**** Call ## 42 ## Duration:  68
**** Call ## 43 ## Duration:  118
**** Call ## 44 ## Duration:  97
**** Call ## 45 ## Duration:  78
**** Call ## 46 ## Duration:  69
**** Call ## 47 ## Duration:  137
**** Call ## 48 ## Duration:  75
**** Call ## 49 ## Duration:  72
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  527
      ✓ should list articles (529ms)
**** Call ## 52 ## Duration:  140
**** Call ## 53 ## Duration:  377
      ✓ should list articles with tag (517ms)
**** Call ## 54 ## Duration:  214
      ✓ should list articles by author (214ms)
**** Call ## 55 ## Duration:  50
      ✓ should list articles favorited by user (51ms)
**** Call ## 56 ## Duration:  83
**** Call ## 57 ## Duration:  187
      ✓ should list articles by limit/offset (270ms)
**** Call ## 58 ## Duration:  452
      ✓ should list articles when authenticated (452ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  53 (ERR)
**** Call ## 62 ## Duration:  91
**** Call ## 63 ## Duration:  132
**** Call ## 64 ## Duration:  294
**** Call ## 65 ## Duration:  130
**** Call ## 66 ## Duration:  439
      ✓ should get feed (1086ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  93
      ✓ should get tags (94ms)

  Comment
**** Call ## 69 ## Duration:  128
**** Call ## 70 ## Duration:  113
**** Call ## 71 ## Duration:  84
    Create
**** Call ## 72 ## Duration:  100
**** Call ## 73 ## Duration:  93
**** Call ## 74 ## Duration:  105
**** Call ## 75 ## Duration:  119
**** Call ## 76 ## Duration:  103
**** Call ## 77 ## Duration:  92
**** Call ## 78 ## Duration:  100
**** Call ## 79 ## Duration:  110
**** Call ## 80 ## Duration:  109
**** Call ## 81 ## Duration:  82
      ✓ should create comment (1017ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  271
      ✓ should get all comments for article (272ms)
    Delete
**** Call ## 86 ## Duration:  114
      ✓ should delete comment (114ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  119 (ERR)
      ✓ should disallow deleting unknown comment (119ms)

  User
    Create
**** Call ## 90 ## Duration:  135
      ✓ should create user (137ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  68 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  91
      ✓ should login (91ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  28 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (71ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  18 (ERR)
      ✓ should disallow bad tokens (84ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  48 (ERR)
      ✓ should disallow unknown username (49ms)
**** Call ## 110 ## Duration:  103
**** Call ## 111 ## Duration:  140
**** Call ## 112 ## Duration:  114
**** Call ## 113 ## Duration:  93
**** Call ## 114 ## Duration:  246
**** Call ## 115 ## Duration:  104
**** Call ## 116 ## Duration:  227
**** Call ## 117 ## Duration:  153
**** Call ## 118 ## Duration:  152
**** Call ## 119 ## Duration:  118
      ✓ should follow/unfollow user (1453ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  79
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  57
**** Call ## 124 ## Duration:  56
      ✓ should update user (259ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (69ms)
**** Call ## 127 ## Duration:  137
**** Call ## 128 ## Duration:  55 (ERR)
      ✓ should disallow reusing email (195ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  154
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  106
    Create
**** Call ## 3 ## Duration:  100
      ✓ should create article (102ms)
**** Call ## 4 ## Duration:  74
      ✓ should create article with tags (77ms)
**** Call ## 5 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  65 (ERR)
**** Call ## 7 ## Duration:  59 (ERR)
**** Call ## 8 ## Duration:  55 (ERR)
**** Call ## 9 ## Duration:  66 (ERR)
      ✓ should enforce required fields (247ms)
    Get
**** Call ## 10 ## Duration:  104
      ✓ should get article by slug (104ms)
**** Call ## 11 ## Duration:  92
      ✓ should get article with tags by slug (93ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  181
**** Call ## 14 ## Duration:  139
**** Call ## 15 ## Duration:  163
      ✓ should update article (483ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  120 (ERR)
      ✓ should disallow updating non-existent article (120ms)
**** Call ## 20 ## Duration:  57 (ERR)
      ✓ should disallow non-author from updating (58ms)
    Favorite
**** Call ## 21 ## Duration:  129
**** Call ## 22 ## Duration:  131
      ✓ should favorite article (260ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  48 (ERR)
      ✓ should disallow favoriting unknown article (48ms)
**** Call ## 25 ## Duration:  140
      ✓ should unfavorite article (140ms)
    Delete
**** Call ## 26 ## Duration:  106
**** Call ## 27 ## Duration:  29 (ERR)
      ✓ should delete article (135ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  48 (ERR)
      ✓ should disallow deleting article by non-author (50ms)
    List
**** Call ## 31 ## Duration:  111
**** Call ## 32 ## Duration:  89
**** Call ## 33 ## Duration:  86
**** Call ## 34 ## Duration:  91
**** Call ## 35 ## Duration:  96
**** Call ## 36 ## Duration:  174
**** Call ## 37 ## Duration:  103
**** Call ## 38 ## Duration:  78
**** Call ## 39 ## Duration:  65
**** Call ## 40 ## Duration:  88
**** Call ## 41 ## Duration:  63
**** Call ## 42 ## Duration:  58
**** Call ## 43 ## Duration:  82
**** Call ## 44 ## Duration:  72
**** Call ## 45 ## Duration:  74
**** Call ## 46 ## Duration:  82
**** Call ## 47 ## Duration:  76
**** Call ## 48 ## Duration:  241
**** Call ## 49 ## Duration:  75
**** Call ## 50 ## Duration:  81
**** Call ## 51 ## Duration:  474
      ✓ should list articles (474ms)
**** Call ## 52 ## Duration:  161
**** Call ## 53 ## Duration:  352
      ✓ should list articles with tag (513ms)
**** Call ## 54 ## Duration:  199
      ✓ should list articles by author (199ms)
**** Call ## 55 ## Duration:  52
      ✓ should list articles favorited by user (52ms)
**** Call ## 56 ## Duration:  99
**** Call ## 57 ## Duration:  113
      ✓ should list articles by limit/offset (213ms)
**** Call ## 58 ## Duration:  460
      ✓ should list articles when authenticated (460ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  54 (ERR)
**** Call ## 62 ## Duration:  84
**** Call ## 63 ## Duration:  132
**** Call ## 64 ## Duration:  288
**** Call ## 65 ## Duration:  113
**** Call ## 66 ## Duration:  458
      ✓ should get feed (1076ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  86
      ✓ should get tags (87ms)

  Comment
**** Call ## 69 ## Duration:  121
**** Call ## 70 ## Duration:  98
**** Call ## 71 ## Duration:  93
    Create
**** Call ## 72 ## Duration:  118
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  108
**** Call ## 75 ## Duration:  126
**** Call ## 76 ## Duration:  91
**** Call ## 77 ## Duration:  96
**** Call ## 78 ## Duration:  98
**** Call ## 79 ## Duration:  80
**** Call ## 80 ## Duration:  136
**** Call ## 81 ## Duration:  111
      ✓ should create comment (1078ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  226
      ✓ should get all comments for article (226ms)
    Delete
**** Call ## 86 ## Duration:  147
      ✓ should delete comment (147ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  111
      ✓ should create user (111ms)
**** Call ## 91 ## Duration:  32 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  79
      ✓ should login (80ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  140 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (202ms)
    Profile
**** Call ## 108 ## Duration:  111
      ✓ should get profile (111ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  109
**** Call ## 111 ## Duration:  143
**** Call ## 112 ## Duration:  113
**** Call ## 113 ## Duration:  90
**** Call ## 114 ## Duration:  67
**** Call ## 115 ## Duration:  123
**** Call ## 116 ## Duration:  179
**** Call ## 117 ## Duration:  115
**** Call ## 118 ## Duration:  121
**** Call ## 119 ## Duration:  105
      ✓ should follow/unfollow user (1167ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  94
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  73
**** Call ## 124 ## Duration:  50
      ✓ should update user (283ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  110
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (173ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  152
**** Call ## 1 ## Duration:  111
**** Call ## 2 ## Duration:  91
    Create
**** Call ## 3 ## Duration:  100
      ✓ should create article (102ms)
**** Call ## 4 ## Duration:  90
      ✓ should create article with tags (92ms)
**** Call ## 5 ## Duration:  32 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  81 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (269ms)
    Get
**** Call ## 10 ## Duration:  93
      ✓ should get article by slug (93ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (90ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  161
**** Call ## 14 ## Duration:  164
**** Call ## 15 ## Duration:  158
      ✓ should update article (484ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  29 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  82 (ERR)
      ✓ should disallow updating non-existent article (82ms)
**** Call ## 20 ## Duration:  75 (ERR)
      ✓ should disallow non-author from updating (75ms)
    Favorite
**** Call ## 21 ## Duration:  149
**** Call ## 22 ## Duration:  124
      ✓ should favorite article (273ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  92 (ERR)
      ✓ should disallow favoriting unknown article (92ms)
**** Call ## 25 ## Duration:  132
      ✓ should unfavorite article (132ms)
    Delete
**** Call ## 26 ## Duration:  108
**** Call ## 27 ## Duration:  32 (ERR)
      ✓ should delete article (140ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  122 (ERR)
      ✓ should disallow deleting unknown article (122ms)
**** Call ## 30 ## Duration:  69 (ERR)
      ✓ should disallow deleting article by non-author (70ms)
    List
**** Call ## 31 ## Duration:  77
**** Call ## 32 ## Duration:  93
**** Call ## 33 ## Duration:  83
**** Call ## 34 ## Duration:  69
**** Call ## 35 ## Duration:  93
**** Call ## 36 ## Duration:  68
**** Call ## 37 ## Duration:  78
**** Call ## 38 ## Duration:  73
**** Call ## 39 ## Duration:  90
**** Call ## 40 ## Duration:  85
**** Call ## 41 ## Duration:  86
**** Call ## 42 ## Duration:  64
**** Call ## 43 ## Duration:  68
**** Call ## 44 ## Duration:  64
**** Call ## 45 ## Duration:  100
**** Call ## 46 ## Duration:  56
**** Call ## 47 ## Duration:  78
**** Call ## 48 ## Duration:  56
**** Call ## 49 ## Duration:  86
**** Call ## 50 ## Duration:  81
**** Call ## 51 ## Duration:  431
      ✓ should list articles (431ms)
**** Call ## 52 ## Duration:  183
**** Call ## 53 ## Duration:  328
      ✓ should list articles with tag (511ms)
**** Call ## 54 ## Duration:  187
      ✓ should list articles by author (188ms)
**** Call ## 55 ## Duration:  54
      ✓ should list articles favorited by user (54ms)
**** Call ## 56 ## Duration:  89
**** Call ## 57 ## Duration:  72
      ✓ should list articles by limit/offset (161ms)
**** Call ## 58 ## Duration:  424
      ✓ should list articles when authenticated (424ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  76
**** Call ## 63 ## Duration:  156
**** Call ## 64 ## Duration:  253
**** Call ## 65 ## Duration:  124
**** Call ## 66 ## Duration:  471
      ✓ should get feed (1081ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  93
      ✓ should get tags (93ms)

  Comment
**** Call ## 69 ## Duration:  109
**** Call ## 70 ## Duration:  124
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  112
**** Call ## 73 ## Duration:  97
**** Call ## 74 ## Duration:  100
**** Call ## 75 ## Duration:  89
**** Call ## 76 ## Duration:  71
**** Call ## 77 ## Duration:  126
**** Call ## 78 ## Duration:  86
**** Call ## 79 ## Duration:  84
**** Call ## 80 ## Duration:  90
**** Call ## 81 ## Duration:  136
      ✓ should create comment (991ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (63ms)
    Get
**** Call ## 85 ## Duration:  221
      ✓ should get all comments for article (221ms)
    Delete
**** Call ## 86 ## Duration:  103
      ✓ should delete comment (103ms)
**** Call ## 87 ## Duration:  56 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  119
      ✓ should create user (120ms)
**** Call ## 91 ## Duration:  46 (ERR)
      ✓ should disallow same username (46ms)
**** Call ## 92 ## Duration:  60 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  74
      ✓ should login (74ms)
**** Call ## 98 ## Duration:  32 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  40 (ERR)
**** Call ## 106 ## Duration:  25 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (109ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (70ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  96
**** Call ## 111 ## Duration:  118
**** Call ## 112 ## Duration:  111
**** Call ## 113 ## Duration:  94
**** Call ## 114 ## Duration:  60
**** Call ## 115 ## Duration:  144
**** Call ## 116 ## Duration:  102
**** Call ## 117 ## Duration:  141
**** Call ## 118 ## Duration:  131
**** Call ## 119 ## Duration:  113
      ✓ should follow/unfollow user (1112ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  89
**** Call ## 122 ## Duration:  68
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  63
      ✓ should update user (282ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  117
**** Call ## 128 ## Duration:  70 (ERR)
      ✓ should disallow reusing email (187ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7kir0r23pk.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  149
**** Call ## 1 ## Duration:  132
**** Call ## 2 ## Duration:  122
    Create
**** Call ## 3 ## Duration:  99
      ✓ should create article (101ms)
**** Call ## 4 ## Duration:  70
      ✓ should create article with tags (71ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  69 (ERR)
**** Call ## 7 ## Duration:  78 (ERR)
**** Call ## 8 ## Duration:  105 (ERR)
**** Call ## 9 ## Duration:  65 (ERR)
      ✓ should enforce required fields (318ms)
    Get
**** Call ## 10 ## Duration:  146
      ✓ should get article by slug (146ms)
**** Call ## 11 ## Duration:  84
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  160
**** Call ## 14 ## Duration:  120
**** Call ## 15 ## Duration:  127
      ✓ should update article (412ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  53 (ERR)
      ✓ should disallow non-author from updating (53ms)
    Favorite
**** Call ## 21 ## Duration:  168
**** Call ## 22 ## Duration:  118
      ✓ should favorite article (287ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  50 (ERR)
      ✓ should disallow favoriting unknown article (50ms)
**** Call ## 25 ## Duration:  144
      ✓ should unfavorite article (145ms)
    Delete
**** Call ## 26 ## Duration:  120
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (161ms)
**** Call ## 28 ## Duration:  18 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (63ms)
**** Call ## 30 ## Duration:  104 (ERR)
      ✓ should disallow deleting article by non-author (104ms)
    List
**** Call ## 31 ## Duration:  84
**** Call ## 32 ## Duration:  94
**** Call ## 33 ## Duration:  74
**** Call ## 34 ## Duration:  86
**** Call ## 35 ## Duration:  67
**** Call ## 36 ## Duration:  80
**** Call ## 37 ## Duration:  98
**** Call ## 38 ## Duration:  88
**** Call ## 39 ## Duration:  83
**** Call ## 40 ## Duration:  81
**** Call ## 41 ## Duration:  81
**** Call ## 42 ## Duration:  79
**** Call ## 43 ## Duration:  92
**** Call ## 44 ## Duration:  64
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  69
**** Call ## 47 ## Duration:  66
**** Call ## 48 ## Duration:  72
**** Call ## 49 ## Duration:  97
**** Call ## 50 ## Duration:  80
**** Call ## 51 ## Duration:  523
      ✓ should list articles (524ms)
**** Call ## 52 ## Duration:  261
**** Call ## 53 ## Duration:  388
      ✓ should list articles with tag (650ms)
**** Call ## 54 ## Duration:  193
      ✓ should list articles by author (193ms)
**** Call ## 55 ## Duration:  48
      ✓ should list articles favorited by user (49ms)
**** Call ## 56 ## Duration:  96
**** Call ## 57 ## Duration:  101
      ✓ should list articles by limit/offset (197ms)
**** Call ## 58 ## Duration:  467
      ✓ should list articles when authenticated (467ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  69 (ERR)
**** Call ## 62 ## Duration:  92
**** Call ## 63 ## Duration:  118
**** Call ## 64 ## Duration:  309
**** Call ## 65 ## Duration:  109
**** Call ## 66 ## Duration:  431
      ✓ should get feed (1061ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  105
      ✓ should get tags (105ms)

  Comment
**** Call ## 69 ## Duration:  119
**** Call ## 70 ## Duration:  110
**** Call ## 71 ## Duration:  91
    Create
**** Call ## 72 ## Duration:  107
**** Call ## 73 ## Duration:  108
**** Call ## 74 ## Duration:  106
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  124
**** Call ## 77 ## Duration:  106
**** Call ## 78 ## Duration:  130
**** Call ## 79 ## Duration:  81
**** Call ## 80 ## Duration:  82
**** Call ## 81 ## Duration:  166
      ✓ should create comment (1113ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  33 (ERR)
      ✓ should enforce comment body
**** Call ## 84 ## Duration:  70 (ERR)
      ✓ should disallow non-existent article (71ms)
    Get
**** Call ## 85 ## Duration:  273
      ✓ should get all comments for article (273ms)
    Delete
**** Call ## 86 ## Duration:  101
      ✓ should delete comment (102ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  138 (ERR)
      ✓ should disallow deleting unknown comment (138ms)

  User
    Create
**** Call ## 90 ## Duration:  104
      ✓ should create user (105ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  25 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  98
      ✓ should login (98ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  32 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (71ms)
    Get
**** Call ## 103 ## Duration:  49
      ✓ should get current user (49ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  273
      ✓ should get profile (273ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  126
**** Call ## 111 ## Duration:  123
**** Call ## 112 ## Duration:  111
**** Call ## 113 ## Duration:  77
**** Call ## 114 ## Duration:  64
**** Call ## 115 ## Duration:  115
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  138
**** Call ## 118 ## Duration:  134
**** Call ## 119 ## Duration:  137
      ✓ should follow/unfollow user (1134ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  80
**** Call ## 122 ## Duration:  57
**** Call ## 123 ## Duration:  79
**** Call ## 124 ## Duration:  60
      ✓ should update user (276ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (61ms)
**** Call ## 127 ## Duration:  118
**** Call ## 128 ## Duration:  62 (ERR)
      ✓ should disallow reusing email (180ms)

  Util
    Ping
**** Call ## 129 ## Duration:  20
      ✓ should ping


  58 passing (12s)

