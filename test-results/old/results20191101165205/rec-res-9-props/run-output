Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
.....
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (22.76 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
...........................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (22.76 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.
Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (22.76 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 100
api keys:
  None
endpoints:
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  948
**** Call ## 1 ## Duration:  128
**** Call ## 2 ## Duration:  124
    Create
**** Call ## 3 ## Duration:  793
      ✓ should create article (795ms)
**** Call ## 4 ## Duration:  108
      ✓ should create article with tags (110ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  754 (ERR)
**** Call ## 7 ## Duration:  83 (ERR)
**** Call ## 8 ## Duration:  97 (ERR)
**** Call ## 9 ## Duration:  46 (ERR)
      ✓ should enforce required fields (981ms)
    Get
**** Call ## 10 ## Duration:  777
      ✓ should get article by slug (778ms)
**** Call ## 11 ## Duration:  97
      ✓ should get article with tags by slug (97ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  948
**** Call ## 14 ## Duration:  132
**** Call ## 15 ## Duration:  148
      ✓ should update article (1230ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  549 (ERR)
      ✓ should disallow empty mutation (549ms)
**** Call ## 18 ## Duration:  67 (ERR)
      ✓ should disallow unauthenticated update (67ms)
**** Call ## 19 ## Duration:  149 (ERR)
      ✓ should disallow updating non-existent article (149ms)
**** Call ## 20 ## Duration:  72 (ERR)
      ✓ should disallow non-author from updating (72ms)
    Favorite
**** Call ## 21 ## Duration:  847
**** Call ## 22 ## Duration:  129
      ✓ should favorite article (977ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  75 (ERR)
      ✓ should disallow favoriting unknown article (76ms)
**** Call ## 25 ## Duration:  855
      ✓ should unfavorite article (855ms)
    Delete
**** Call ## 26 ## Duration:  798
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (842ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown article (59ms)
**** Call ## 30 ## Duration:  72 (ERR)
      ✓ should disallow deleting article by non-author (73ms)
    List
**** Call ## 31 ## Duration:  214
**** Call ## 32 ## Duration:  105
**** Call ## 33 ## Duration:  107
**** Call ## 34 ## Duration:  107
**** Call ## 35 ## Duration:  102
**** Call ## 36 ## Duration:  103
**** Call ## 37 ## Duration:  98
**** Call ## 38 ## Duration:  99
**** Call ## 39 ## Duration:  85
**** Call ## 40 ## Duration:  83
**** Call ## 41 ## Duration:  111
**** Call ## 42 ## Duration:  83
**** Call ## 43 ## Duration:  82
**** Call ## 44 ## Duration:  92
**** Call ## 45 ## Duration:  84
**** Call ## 46 ## Duration:  89
**** Call ## 47 ## Duration:  86
**** Call ## 48 ## Duration:  86
**** Call ## 49 ## Duration:  69
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  1258
      ✓ should list articles (1259ms)
**** Call ## 52 ## Duration:  98
**** Call ## 53 ## Duration:  184
      ✓ should list articles with tag (283ms)
**** Call ## 54 ## Duration:  267
      ✓ should list articles by author (267ms)
**** Call ## 55 ## Duration:  36
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  915
**** Call ## 57 ## Duration:  180
      ✓ should list articles by limit/offset (1096ms)
**** Call ## 58 ## Duration:  569
      ✓ should list articles when authenticated (570ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  563 (ERR)
**** Call ## 62 ## Duration:  797
**** Call ## 63 ## Duration:  827
**** Call ## 64 ## Duration:  334
**** Call ## 65 ## Duration:  141
**** Call ## 66 ## Duration:  536
      ✓ should get feed (2635ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  861
      ✓ should get tags (861ms)

  Comment
**** Call ## 69 ## Duration:  170
**** Call ## 70 ## Duration:  144
**** Call ## 71 ## Duration:  89
    Create
**** Call ## 72 ## Duration:  718
**** Call ## 73 ## Duration:  167
**** Call ## 74 ## Duration:  102
**** Call ## 75 ## Duration:  107
**** Call ## 76 ## Duration:  107
**** Call ## 77 ## Duration:  94
**** Call ## 78 ## Duration:  76
**** Call ## 79 ## Duration:  97
**** Call ## 80 ## Duration:  98
**** Call ## 81 ## Duration:  79
      ✓ should create comment (1650ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  620 (ERR)
      ✓ should enforce comment body (621ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  939
      ✓ should get all comments for article (939ms)
    Delete
**** Call ## 86 ## Duration:  868
      ✓ should delete comment (868ms)
**** Call ## 87 ## Duration:  56 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  631 (ERR)
      ✓ should disallow deleting unknown comment (632ms)

  User
    Create
**** Call ## 90 ## Duration:  159
      ✓ should create user (160ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  757 (ERR)
      ✓ should disallow same email (758ms)
**** Call ## 93 ## Duration:  26 (ERR)
**** Call ## 94 ## Duration:  25 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (96ms)
    Login
**** Call ## 97 ## Duration:  861
      ✓ should login (861ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  791 (ERR)
      ✓ should disallow wrong password (792ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  748
      ✓ should get current user (748ms)
**** Call ## 104 ## Duration:  31 (ERR)
**** Call ## 105 ## Duration:  578 (ERR)
**** Call ## 106 ## Duration:  53 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (683ms)
    Profile
**** Call ## 108 ## Duration:  798
      ✓ should get profile (798ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (46ms)
**** Call ## 110 ## Duration:  171
**** Call ## 111 ## Duration:  173
**** Call ## 112 ## Duration:  138
**** Call ## 113 ## Duration:  90
**** Call ## 114 ## Duration:  70
**** Call ## 115 ## Duration:  140
**** Call ## 116 ## Duration:  90
**** Call ## 117 ## Duration:  839
**** Call ## 118 ## Duration:  96
**** Call ## 119 ## Duration:  146
      ✓ should follow/unfollow user (1956ms)
**** Call ## 120 ## Duration:  56 (ERR)
      ✓ should disallow following with bad token (56ms)
    Update
**** Call ## 121 ## Duration:  830
**** Call ## 122 ## Duration:  121
**** Call ## 123 ## Duration:  71
**** Call ## 124 ## Duration:  72
      ✓ should update user (1095ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  721 (ERR)
      ✓ should disallow missing token/email in update (743ms)
**** Call ## 127 ## Duration:  188
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (254ms)

  Util
    Ping
**** Call ## 129 ## Duration:  490
      ✓ should ping (490ms)


  58 passing (33s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  223
**** Call ## 1 ## Duration:  143
**** Call ## 2 ## Duration:  118
    Create
**** Call ## 3 ## Duration:  174
      ✓ should create article (176ms)
**** Call ## 4 ## Duration:  101
      ✓ should create article with tags (103ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  123 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  71 (ERR)
**** Call ## 9 ## Duration:  62 (ERR)
      ✓ should enforce required fields (322ms)
    Get
**** Call ## 10 ## Duration:  146
      ✓ should get article by slug (146ms)
**** Call ## 11 ## Duration:  109
      ✓ should get article with tags by slug (109ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  220
**** Call ## 14 ## Duration:  135
**** Call ## 15 ## Duration:  136
      ✓ should update article (495ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  58 (ERR)
      ✓ should disallow empty mutation (58ms)
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  74 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  90 (ERR)
      ✓ should disallow non-author from updating (91ms)
    Favorite
**** Call ## 21 ## Duration:  207
**** Call ## 22 ## Duration:  162
      ✓ should favorite article (370ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  69 (ERR)
      ✓ should disallow favoriting unknown article (70ms)
**** Call ## 25 ## Duration:  192
      ✓ should unfavorite article (192ms)
    Delete
**** Call ## 26 ## Duration:  176
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (214ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  77 (ERR)
      ✓ should disallow deleting unknown article (77ms)
**** Call ## 30 ## Duration:  82 (ERR)
      ✓ should disallow deleting article by non-author (83ms)
    List
**** Call ## 31 ## Duration:  135
**** Call ## 32 ## Duration:  101
**** Call ## 33 ## Duration:  96
**** Call ## 34 ## Duration:  105
**** Call ## 35 ## Duration:  103
**** Call ## 36 ## Duration:  111
**** Call ## 37 ## Duration:  95
**** Call ## 38 ## Duration:  78
**** Call ## 39 ## Duration:  88
**** Call ## 40 ## Duration:  107
**** Call ## 41 ## Duration:  92
**** Call ## 42 ## Duration:  87
**** Call ## 43 ## Duration:  106
**** Call ## 44 ## Duration:  79
**** Call ## 45 ## Duration:  82
**** Call ## 46 ## Duration:  63
**** Call ## 47 ## Duration:  86
**** Call ## 48 ## Duration:  74
**** Call ## 49 ## Duration:  57
**** Call ## 50 ## Duration:  82
**** Call ## 51 ## Duration:  1054
      ✓ should list articles (1055ms)
**** Call ## 52 ## Duration:  123
**** Call ## 53 ## Duration:  365
      ✓ should list articles with tag (488ms)
**** Call ## 54 ## Duration:  283
      ✓ should list articles by author (283ms)
**** Call ## 55 ## Duration:  127
      ✓ should list articles favorited by user (128ms)
**** Call ## 56 ## Duration:  196
**** Call ## 57 ## Duration:  249
      ✓ should list articles by limit/offset (445ms)
**** Call ## 58 ## Duration:  711
      ✓ should list articles when authenticated (711ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  60 (ERR)
**** Call ## 60 ## Duration:  67 (ERR)
**** Call ## 62 ## Duration:  149
**** Call ## 63 ## Duration:  132
**** Call ## 64 ## Duration:  398
**** Call ## 65 ## Duration:  109
**** Call ## 66 ## Duration:  563
      ✓ should get feed (1352ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  113
      ✓ should get tags (114ms)

  Comment
**** Call ## 69 ## Duration:  135
**** Call ## 70 ## Duration:  153
**** Call ## 71 ## Duration:  92
    Create
**** Call ## 72 ## Duration:  126
**** Call ## 73 ## Duration:  112
**** Call ## 74 ## Duration:  160
**** Call ## 75 ## Duration:  108
**** Call ## 76 ## Duration:  95
**** Call ## 77 ## Duration:  93
**** Call ## 78 ## Duration:  92
**** Call ## 79 ## Duration:  108
**** Call ## 80 ## Duration:  94
**** Call ## 81 ## Duration:  164
      ✓ should create comment (1153ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  99 (ERR)
      ✓ should enforce comment body (100ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  307
      ✓ should get all comments for article (308ms)
    Delete
**** Call ## 86 ## Duration:  126
      ✓ should delete comment (126ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  102 (ERR)
      ✓ should disallow deleting unknown comment (102ms)

  User
    Create
**** Call ## 90 ## Duration:  115
      ✓ should create user (116ms)
**** Call ## 91 ## Duration:  67 (ERR)
      ✓ should disallow same username (68ms)
**** Call ## 92 ## Duration:  52 (ERR)
      ✓ should disallow same email (53ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  126
      ✓ should login (126ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  96 (ERR)
      ✓ should disallow wrong password (96ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  163
      ✓ should get current user (163ms)
**** Call ## 104 ## Duration:  29 (ERR)
**** Call ## 105 ## Duration:  60 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (131ms)
    Profile
**** Call ## 108 ## Duration:  124
      ✓ should get profile (125ms)
**** Call ## 109 ## Duration:  58 (ERR)
      ✓ should disallow unknown username (58ms)
**** Call ## 110 ## Duration:  141
**** Call ## 111 ## Duration:  137
**** Call ## 112 ## Duration:  108
**** Call ## 113 ## Duration:  97
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  130
**** Call ## 116 ## Duration:  99
**** Call ## 117 ## Duration:  208
**** Call ## 118 ## Duration:  131
**** Call ## 119 ## Duration:  131
      ✓ should follow/unfollow user (1247ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  157
**** Call ## 122 ## Duration:  95
**** Call ## 123 ## Duration:  57
**** Call ## 124 ## Duration:  73
      ✓ should update user (382ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  101 (ERR)
      ✓ should disallow missing token/email in update (125ms)
**** Call ## 127 ## Duration:  96
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (159ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  172
**** Call ## 1 ## Duration:  142
**** Call ## 2 ## Duration:  119
    Create
**** Call ## 3 ## Duration:  98
      ✓ should create article (101ms)
**** Call ## 4 ## Duration:  106
      ✓ should create article with tags (108ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  134 (ERR)
**** Call ## 7 ## Duration:  75 (ERR)
**** Call ## 8 ## Duration:  147 (ERR)
**** Call ## 9 ## Duration:  71 (ERR)
      ✓ should enforce required fields (429ms)
    Get
**** Call ## 10 ## Duration:  102
      ✓ should get article by slug (102ms)
**** Call ## 11 ## Duration:  68
      ✓ should get article with tags by slug (68ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  198
**** Call ## 14 ## Duration:  126
**** Call ## 15 ## Duration:  113
      ✓ should update article (439ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  116 (ERR)
      ✓ should disallow empty mutation (117ms)
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (75ms)
**** Call ## 20 ## Duration:  78 (ERR)
      ✓ should disallow non-author from updating (78ms)
    Favorite
**** Call ## 21 ## Duration:  197
**** Call ## 22 ## Duration:  113
      ✓ should favorite article (310ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  71 (ERR)
      ✓ should disallow favoriting unknown article (71ms)
**** Call ## 25 ## Duration:  183
      ✓ should unfavorite article (183ms)
    Delete
**** Call ## 26 ## Duration:  164
**** Call ## 27 ## Duration:  25 (ERR)
      ✓ should delete article (189ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (75ms)
**** Call ## 30 ## Duration:  73 (ERR)
      ✓ should disallow deleting article by non-author (73ms)
    List
**** Call ## 31 ## Duration:  102
**** Call ## 32 ## Duration:  109
**** Call ## 33 ## Duration:  96
**** Call ## 34 ## Duration:  97
**** Call ## 35 ## Duration:  108
**** Call ## 36 ## Duration:  103
**** Call ## 37 ## Duration:  95
**** Call ## 38 ## Duration:  95
**** Call ## 39 ## Duration:  98
**** Call ## 40 ## Duration:  101
**** Call ## 41 ## Duration:  80
**** Call ## 42 ## Duration:  68
**** Call ## 43 ## Duration:  88
**** Call ## 44 ## Duration:  86
**** Call ## 45 ## Duration:  67
**** Call ## 46 ## Duration:  93
**** Call ## 47 ## Duration:  115
**** Call ## 48 ## Duration:  88
**** Call ## 49 ## Duration:  82
**** Call ## 50 ## Duration:  80
**** Call ## 51 ## Duration:  855
      ✓ should list articles (855ms)
**** Call ## 52 ## Duration:  129
**** Call ## 53 ## Duration:  473
      ✓ should list articles with tag (602ms)
**** Call ## 54 ## Duration:  277
      ✓ should list articles by author (277ms)
**** Call ## 55 ## Duration:  36
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  269
**** Call ## 57 ## Duration:  173
      ✓ should list articles by limit/offset (442ms)
**** Call ## 58 ## Duration:  809
      ✓ should list articles when authenticated (809ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  56 (ERR)
**** Call ## 62 ## Duration:  273
**** Call ## 63 ## Duration:  144
**** Call ## 64 ## Duration:  319
**** Call ## 65 ## Duration:  135
**** Call ## 66 ## Duration:  537
      ✓ should get feed (1408ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  96
      ✓ should get tags (96ms)

  Comment
**** Call ## 69 ## Duration:  136
**** Call ## 70 ## Duration:  116
**** Call ## 71 ## Duration:  151
    Create
**** Call ## 72 ## Duration:  166
**** Call ## 73 ## Duration:  105
**** Call ## 74 ## Duration:  123
**** Call ## 75 ## Duration:  108
**** Call ## 76 ## Duration:  88
**** Call ## 77 ## Duration:  107
**** Call ## 78 ## Duration:  81
**** Call ## 79 ## Duration:  84
**** Call ## 80 ## Duration:  76
**** Call ## 81 ## Duration:  110
      ✓ should create comment (1050ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  91 (ERR)
      ✓ should enforce comment body (91ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  308
      ✓ should get all comments for article (308ms)
    Delete
**** Call ## 86 ## Duration:  145
      ✓ should delete comment (146ms)
**** Call ## 87 ## Duration:  37 (ERR)
      ✓ only comment author should be able to delete comment
**** Call ## 88 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  54 (ERR)
      ✓ should disallow deleting unknown comment (54ms)

  User
    Create
**** Call ## 90 ## Duration:  172
      ✓ should create user (172ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  122
      ✓ should login (122ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  98 (ERR)
      ✓ should disallow wrong password (99ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  99
      ✓ should get current user (101ms)
**** Call ## 104 ## Duration:  42 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  47 (ERR)
**** Call ## 107 ## Duration:  19 (ERR)
      ✓ should disallow bad tokens (130ms)
    Profile
**** Call ## 108 ## Duration:  122
      ✓ should get profile (122ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  119
**** Call ## 111 ## Duration:  142
**** Call ## 112 ## Duration:  98
**** Call ## 113 ## Duration:  94
**** Call ## 114 ## Duration:  92
**** Call ## 115 ## Duration:  191
**** Call ## 116 ## Duration:  135
**** Call ## 117 ## Duration:  185
**** Call ## 118 ## Duration:  127
**** Call ## 119 ## Duration:  100
      ✓ should follow/unfollow user (1286ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  176
**** Call ## 122 ## Duration:  72
**** Call ## 123 ## Duration:  70
**** Call ## 124 ## Duration:  74
      ✓ should update user (395ms)
**** Call ## 125 ## Duration:  26 (ERR)
**** Call ## 126 ## Duration:  93 (ERR)
      ✓ should disallow missing token/email in update (120ms)
**** Call ## 127 ## Duration:  104
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (167ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  177
**** Call ## 1 ## Duration:  128
**** Call ## 2 ## Duration:  125
    Create
**** Call ## 3 ## Duration:  106
      ✓ should create article (108ms)
**** Call ## 4 ## Duration:  110
      ✓ should create article with tags (112ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  85 (ERR)
**** Call ## 8 ## Duration:  63 (ERR)
**** Call ## 9 ## Duration:  95 (ERR)
      ✓ should enforce required fields (313ms)
    Get
**** Call ## 10 ## Duration:  116
      ✓ should get article by slug (116ms)
**** Call ## 11 ## Duration:  97
      ✓ should get article with tags by slug (97ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  155
**** Call ## 14 ## Duration:  135
**** Call ## 15 ## Duration:  135
      ✓ should update article (430ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  189 (ERR)
      ✓ should disallow updating non-existent article (190ms)
**** Call ## 20 ## Duration:  70 (ERR)
      ✓ should disallow non-author from updating (70ms)
    Favorite
**** Call ## 21 ## Duration:  148
**** Call ## 22 ## Duration:  124
      ✓ should favorite article (273ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (72ms)
**** Call ## 25 ## Duration:  148
      ✓ should unfavorite article (148ms)
    Delete
**** Call ## 26 ## Duration:  128
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (172ms)
**** Call ## 28 ## Duration:  24 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  73 (ERR)
      ✓ should disallow deleting article by non-author (74ms)
    List
**** Call ## 31 ## Duration:  102
**** Call ## 32 ## Duration:  109
**** Call ## 33 ## Duration:  95
**** Call ## 34 ## Duration:  104
**** Call ## 35 ## Duration:  85
**** Call ## 36 ## Duration:  85
**** Call ## 37 ## Duration:  85
**** Call ## 38 ## Duration:  81
**** Call ## 39 ## Duration:  93
**** Call ## 40 ## Duration:  84
**** Call ## 41 ## Duration:  135
**** Call ## 42 ## Duration:  90
**** Call ## 43 ## Duration:  80
**** Call ## 44 ## Duration:  89
**** Call ## 45 ## Duration:  84
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  85
**** Call ## 48 ## Duration:  122
**** Call ## 49 ## Duration:  96
**** Call ## 50 ## Duration:  80
**** Call ## 51 ## Duration:  871
      ✓ should list articles (871ms)
**** Call ## 52 ## Duration:  148
**** Call ## 53 ## Duration:  587
      ✓ should list articles with tag (735ms)
**** Call ## 54 ## Duration:  282
      ✓ should list articles by author (282ms)
**** Call ## 55 ## Duration:  30
      ✓ should list articles favorited by user
**** Call ## 56 ## Duration:  241
**** Call ## 57 ## Duration:  209
      ✓ should list articles by limit/offset (451ms)
**** Call ## 58 ## Duration:  718 (ERR)
      1) should list articles when authenticated

  26 passing (8s)
  1 failing

  1) Article
       List
         should list articles when authenticated:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:18:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:202:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-01T20_32_28_241Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  172
**** Call ## 1 ## Duration:  132
**** Call ## 2 ## Duration:  172
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (105ms)
**** Call ## 4 ## Duration:  90
      ✓ should create article with tags (92ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  81 (ERR)
**** Call ## 7 ## Duration:  77 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  67 (ERR)
      ✓ should enforce required fields (287ms)
    Get
**** Call ## 10 ## Duration:  103
      ✓ should get article by slug (103ms)
**** Call ## 11 ## Duration:  85
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  47 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  156
      ✓ should update article (457ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  52 (ERR)
      ✓ should disallow updating non-existent article (52ms)
**** Call ## 20 ## Duration:  74 (ERR)
      ✓ should disallow non-author from updating (75ms)
    Favorite
**** Call ## 21 ## Duration:  155
**** Call ## 22 ## Duration:  120
      ✓ should favorite article (275ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  76 (ERR)
      ✓ should disallow favoriting unknown article (77ms)
**** Call ## 25 ## Duration:  172
      ✓ should unfavorite article (172ms)
    Delete
**** Call ## 26 ## Duration:  127
**** Call ## 27 ## Duration:  32 (ERR)
      ✓ should delete article (159ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  80 (ERR)
      ✓ should disallow deleting unknown article (80ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (66ms)
    List
**** Call ## 31 ## Duration:  115
**** Call ## 32 ## Duration:  73
**** Call ## 33 ## Duration:  92
**** Call ## 34 ## Duration:  84
**** Call ## 35 ## Duration:  76
**** Call ## 36 ## Duration:  109
**** Call ## 37 ## Duration:  89
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  89
**** Call ## 40 ## Duration:  81
**** Call ## 41 ## Duration:  87
**** Call ## 42 ## Duration:  151
**** Call ## 43 ## Duration:  76
**** Call ## 44 ## Duration:  105
**** Call ## 45 ## Duration:  85
**** Call ## 46 ## Duration:  79
**** Call ## 47 ## Duration:  78
**** Call ## 48 ## Duration:  77
**** Call ## 49 ## Duration:  90
**** Call ## 50 ## Duration:  122
**** Call ## 51 ## Duration:  1293
      ✓ should list articles (1293ms)
**** Call ## 52 ## Duration:  158
**** Call ## 53 ## Duration:  551
      ✓ should list articles with tag (709ms)
**** Call ## 54 ## Duration:  381
      ✓ should list articles by author (382ms)
**** Call ## 55 ## Duration:  50
      ✓ should list articles favorited by user (50ms)
**** Call ## 56 ## Duration:  155
**** Call ## 57 ## Duration:  153
      ✓ should list articles by limit/offset (308ms)
**** Call ## 58 ## Duration:  880
      ✓ should list articles when authenticated (880ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  59 (ERR)
**** Call ## 60 ## Duration:  68 (ERR)
**** Call ## 62 ## Duration:  101
**** Call ## 63 ## Duration:  148
**** Call ## 64 ## Duration:  387
**** Call ## 65 ## Duration:  109
**** Call ## 66 ## Duration:  745
      ✓ should get feed (1491ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  109
      ✓ should get tags (109ms)

  Comment
**** Call ## 69 ## Duration:  134
**** Call ## 70 ## Duration:  115
**** Call ## 71 ## Duration:  76
    Create
**** Call ## 72 ## Duration:  147
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  89
**** Call ## 75 ## Duration:  102
**** Call ## 76 ## Duration:  109
**** Call ## 77 ## Duration:  86
**** Call ## 78 ## Duration:  80
**** Call ## 79 ## Duration:  86
**** Call ## 80 ## Duration:  100
**** Call ## 81 ## Duration:  92
      ✓ should create comment (1004ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (67ms)
    Get
**** Call ## 85 ## Duration:  304
      ✓ should get all comments for article (304ms)
    Delete
**** Call ## 86 ## Duration:  149
      ✓ should delete comment (149ms)
**** Call ## 87 ## Duration:  46 (ERR)
      ✓ only comment author should be able to delete comment (47ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  146
      ✓ should create user (147ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  50 (ERR)
      ✓ should disallow same email (50ms)
**** Call ## 93 ## Duration:  25 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  27 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (92ms)
    Login
**** Call ## 97 ## Duration:  88
      ✓ should login (88ms)
**** Call ## 98 ## Duration:  46 (ERR)
      ✓ should disallow unknown email (46ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (60ms)
    Get
**** Call ## 103 ## Duration:  54
      ✓ should get current user (54ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (88ms)
    Profile
**** Call ## 108 ## Duration:  87
      ✓ should get profile (87ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  120
**** Call ## 111 ## Duration:  122
**** Call ## 112 ## Duration:  96
**** Call ## 113 ## Duration:  83
**** Call ## 114 ## Duration:  73
**** Call ## 115 ## Duration:  119
**** Call ## 116 ## Duration:  101
**** Call ## 117 ## Duration:  132
**** Call ## 118 ## Duration:  108
**** Call ## 119 ## Duration:  161
      ✓ should follow/unfollow user (1119ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  105
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  166
**** Call ## 124 ## Duration:  63
      ✓ should update user (404ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  133
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (199ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  201
**** Call ## 1 ## Duration:  121
**** Call ## 2 ## Duration:  177
    Create
**** Call ## 3 ## Duration:  133
      ✓ should create article (136ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (81ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  79 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  80 (ERR)
**** Call ## 9 ## Duration:  75 (ERR)
      ✓ should enforce required fields (307ms)
    Get
**** Call ## 10 ## Duration:  124
      ✓ should get article by slug (124ms)
**** Call ## 11 ## Duration:  78
      ✓ should get article with tags by slug (78ms)
**** Call ## 12 ## Duration:  24 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  220
**** Call ## 14 ## Duration:  150
**** Call ## 15 ## Duration:  130
      ✓ should update article (505ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  82 (ERR)
      ✓ should disallow updating non-existent article (83ms)
**** Call ## 20 ## Duration:  78 (ERR)
      ✓ should disallow non-author from updating (79ms)
    Favorite
**** Call ## 21 ## Duration:  130
**** Call ## 22 ## Duration:  101
      ✓ should favorite article (231ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  71 (ERR)
      ✓ should disallow favoriting unknown article (71ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (135ms)
    Delete
**** Call ## 26 ## Duration:  133
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (168ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  78 (ERR)
      ✓ should disallow deleting unknown article (79ms)
**** Call ## 30 ## Duration:  74 (ERR)
      ✓ should disallow deleting article by non-author (74ms)
    List
**** Call ## 31 ## Duration:  106
**** Call ## 32 ## Duration:  105
**** Call ## 33 ## Duration:  107
**** Call ## 34 ## Duration:  81
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  90
**** Call ## 37 ## Duration:  109
**** Call ## 38 ## Duration:  98
**** Call ## 39 ## Duration:  73
**** Call ## 40 ## Duration:  100
**** Call ## 41 ## Duration:  87
**** Call ## 42 ## Duration:  90
**** Call ## 43 ## Duration:  85
**** Call ## 44 ## Duration:  83
**** Call ## 45 ## Duration:  89
**** Call ## 46 ## Duration:  76
**** Call ## 47 ## Duration:  85
**** Call ## 48 ## Duration:  83
**** Call ## 49 ## Duration:  91
**** Call ## 50 ## Duration:  87
**** Call ## 51 ## Duration:  947
      ✓ should list articles (947ms)
**** Call ## 52 ## Duration:  187
**** Call ## 53 ## Duration:  639
      ✓ should list articles with tag (827ms)
**** Call ## 54 ## Duration:  265
      ✓ should list articles by author (266ms)
**** Call ## 55 ## Duration:  56
      ✓ should list articles favorited by user (56ms)
**** Call ## 56 ## Duration:  158
**** Call ## 57 ## Duration:  155
      ✓ should list articles by limit/offset (314ms)
**** Call ## 58 ## Duration:  832
      ✓ should list articles when authenticated (833ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  88
**** Call ## 63 ## Duration:  145
**** Call ## 64 ## Duration:  305
**** Call ## 65 ## Duration:  98
**** Call ## 66 ## Duration:  615
      ✓ should get feed (1253ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  90
      ✓ should get tags (91ms)

  Comment
**** Call ## 69 ## Duration:  108
**** Call ## 70 ## Duration:  105
**** Call ## 71 ## Duration:  87
    Create
**** Call ## 72 ## Duration:  147
**** Call ## 73 ## Duration:  94
**** Call ## 74 ## Duration:  93
**** Call ## 75 ## Duration:  89
**** Call ## 76 ## Duration:  86
**** Call ## 77 ## Duration:  82
**** Call ## 78 ## Duration:  82
**** Call ## 79 ## Duration:  81
**** Call ## 80 ## Duration:  87
**** Call ## 81 ## Duration:  92
      ✓ should create comment (933ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  52 (ERR)
      ✓ should enforce comment body (52ms)
**** Call ## 84 ## Duration:  54 (ERR)
      ✓ should disallow non-existent article (55ms)
    Get
**** Call ## 85 ## Duration:  259
      ✓ should get all comments for article (259ms)
    Delete
**** Call ## 86 ## Duration:  165
      ✓ should delete comment (165ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (64ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown comment (57ms)

  User
    Create
**** Call ## 90 ## Duration:  181
      ✓ should create user (181ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  56 (ERR)
      ✓ should disallow same email (57ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  38 (ERR)
      ✓ should enforce required fields (107ms)
    Login
**** Call ## 97 ## Duration:  90
      ✓ should login (90ms)
**** Call ## 98 ## Duration:  52 (ERR)
      ✓ should disallow unknown email (52ms)
**** Call ## 99 ## Duration:  59 (ERR)
      ✓ should disallow wrong password (61ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  24 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (86ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  37 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  122
**** Call ## 111 ## Duration:  144
**** Call ## 112 ## Duration:  108
**** Call ## 113 ## Duration:  86
**** Call ## 114 ## Duration:  75
**** Call ## 115 ## Duration:  120
**** Call ## 116 ## Duration:  114
**** Call ## 117 ## Duration:  139
**** Call ## 118 ## Duration:  132
**** Call ## 119 ## Duration:  131
      ✓ should follow/unfollow user (1172ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  103
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  58
**** Call ## 124 ## Duration:  45
      ✓ should update user (274ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  54 (ERR)
      ✓ should disallow missing token/email in update (76ms)
**** Call ## 127 ## Duration:  192
**** Call ## 128 ## Duration:  54 (ERR)
      ✓ should disallow reusing email (246ms)

  Util
    Ping
**** Call ## 129 ## Duration:  30
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  179
**** Call ## 1 ## Duration:  99
**** Call ## 2 ## Duration:  87
    Create
**** Call ## 3 ## Duration:  103
      ✓ should create article (107ms)
**** Call ## 4 ## Duration:  101
      ✓ should create article with tags (102ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  73 (ERR)
**** Call ## 7 ## Duration:  67 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  72 (ERR)
      ✓ should enforce required fields (274ms)
    Get
**** Call ## 10 ## Duration:  108
      ✓ should get article by slug (108ms)
**** Call ## 11 ## Duration:  98
      ✓ should get article with tags by slug (99ms)
**** Call ## 12 ## Duration:  27 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  150
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  190
      ✓ should update article (487ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  75 (ERR)
      ✓ should disallow updating non-existent article (77ms)
**** Call ## 20 ## Duration:  71 (ERR)
      ✓ should disallow non-author from updating (71ms)
    Favorite
**** Call ## 21 ## Duration:  143
**** Call ## 22 ## Duration:  1140
      ✓ should favorite article (1284ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (67ms)
**** Call ## 25 ## Duration:  126
      ✓ should unfavorite article (126ms)
    Delete
**** Call ## 26 ## Duration:  118
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (160ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  76 (ERR)
      ✓ should disallow deleting article by non-author (76ms)
    List
**** Call ## 31 ## Duration:  118
**** Call ## 32 ## Duration:  90
**** Call ## 33 ## Duration:  84
**** Call ## 34 ## Duration:  113
**** Call ## 35 ## Duration:  75
**** Call ## 36 ## Duration:  98
**** Call ## 37 ## Duration:  78
**** Call ## 38 ## Duration:  194
**** Call ## 39 ## Duration:  82
**** Call ## 40 ## Duration:  74
**** Call ## 41 ## Duration:  74
**** Call ## 42 ## Duration:  82
**** Call ## 43 ## Duration:  65
**** Call ## 44 ## Duration:  74
**** Call ## 45 ## Duration:  90
**** Call ## 46 ## Duration:  68
**** Call ## 47 ## Duration:  86
**** Call ## 48 ## Duration:  61
**** Call ## 49 ## Duration:  94
**** Call ## 50 ## Duration:  111
**** Call ## 51 ## Duration:  881
      ✓ should list articles (883ms)
**** Call ## 52 ## Duration:  214
**** Call ## 53 ## Duration:  593
      ✓ should list articles with tag (807ms)
**** Call ## 54 ## Duration:  333
      ✓ should list articles by author (333ms)
**** Call ## 55 ## Duration:  46
      ✓ should list articles favorited by user (46ms)
**** Call ## 56 ## Duration:  136
**** Call ## 57 ## Duration:  156
      ✓ should list articles by limit/offset (293ms)
**** Call ## 58 ## Duration:  1036
      ✓ should list articles when authenticated (1037ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  72 (ERR)
**** Call ## 62 ## Duration:  87
**** Call ## 63 ## Duration:  151
**** Call ## 64 ## Duration:  418
**** Call ## 65 ## Duration:  147
**** Call ## 66 ## Duration:  586
      ✓ should get feed (1389ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  100
      ✓ should get tags (100ms)

  Comment
**** Call ## 69 ## Duration:  129
**** Call ## 70 ## Duration:  107
**** Call ## 71 ## Duration:  96
    Create
**** Call ## 72 ## Duration:  124
**** Call ## 73 ## Duration:  103
**** Call ## 74 ## Duration:  118
**** Call ## 75 ## Duration:  120
**** Call ## 76 ## Duration:  102
**** Call ## 77 ## Duration:  88
**** Call ## 78 ## Duration:  109
**** Call ## 79 ## Duration:  107
**** Call ## 80 ## Duration:  106
**** Call ## 81 ## Duration:  123
      ✓ should create comment (1102ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  53 (ERR)
      ✓ should enforce comment body (53ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  316
      ✓ should get all comments for article (316ms)
    Delete
**** Call ## 86 ## Duration:  153
      ✓ should delete comment (154ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  34 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  112 (ERR)
      ✓ should disallow deleting unknown comment (113ms)

  User
    Create
**** Call ## 90 ## Duration:  126
      ✓ should create user (128ms)
**** Call ## 91 ## Duration:  55 (ERR)
      ✓ should disallow same username (55ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (83ms)
    Login
**** Call ## 97 ## Duration:  73
      ✓ should login (73ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  99
      ✓ should get current user (100ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  26 (ERR)
      ✓ should disallow bad tokens (91ms)
    Profile
**** Call ## 108 ## Duration:  86
      ✓ should get profile (86ms)
**** Call ## 109 ## Duration:  46 (ERR)
      ✓ should disallow unknown username (46ms)
**** Call ## 110 ## Duration:  106
**** Call ## 111 ## Duration:  154
**** Call ## 112 ## Duration:  112
**** Call ## 113 ## Duration:  72
**** Call ## 114 ## Duration:  59
**** Call ## 115 ## Duration:  96
**** Call ## 116 ## Duration:  130
**** Call ## 117 ## Duration:  132
**** Call ## 118 ## Duration:  132
**** Call ## 119 ## Duration:  213
      ✓ should follow/unfollow user (1208ms)
**** Call ## 120 ## Duration:  24 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  88
**** Call ## 122 ## Duration:  54
**** Call ## 123 ## Duration:  47
**** Call ## 124 ## Duration:  56
      ✓ should update user (245ms)
**** Call ## 125 ## Duration:  18 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (64ms)
**** Call ## 127 ## Duration:  124
**** Call ## 128 ## Duration:  54 (ERR)
      ✓ should disallow reusing email (178ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  199
**** Call ## 1 ## Duration:  119
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (105ms)
**** Call ## 4 ## Duration:  107
      ✓ should create article with tags (109ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  81 (ERR)
**** Call ## 7 ## Duration:  63 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  65 (ERR)
      ✓ should enforce required fields (266ms)
    Get
**** Call ## 10 ## Duration:  114
      ✓ should get article by slug (114ms)
**** Call ## 11 ## Duration:  100
      ✓ should get article with tags by slug (100ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  133
**** Call ## 14 ## Duration:  119
**** Call ## 15 ## Duration:  185
      ✓ should update article (441ms)
**** Call ## 16 ## Duration:  28 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  74 (ERR)
      ✓ should disallow updating non-existent article (74ms)
**** Call ## 20 ## Duration:  69 (ERR)
      ✓ should disallow non-author from updating (69ms)
    Favorite
**** Call ## 21 ## Duration:  136
**** Call ## 22 ## Duration:  91
      ✓ should favorite article (227ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  82 (ERR)
      ✓ should disallow favoriting unknown article (83ms)
**** Call ## 25 ## Duration:  145
      ✓ should unfavorite article (145ms)
    Delete
**** Call ## 26 ## Duration:  127
**** Call ## 27 ## Duration:  30 (ERR)
      ✓ should delete article (159ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  70 (ERR)
      ✓ should disallow deleting article by non-author (70ms)
    List
**** Call ## 31 ## Duration:  96
**** Call ## 32 ## Duration:  86
**** Call ## 33 ## Duration:  92
**** Call ## 34 ## Duration:  176
**** Call ## 35 ## Duration:  186
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  100
**** Call ## 38 ## Duration:  83
**** Call ## 39 ## Duration:  132
**** Call ## 40 ## Duration:  136
**** Call ## 41 ## Duration:  69
**** Call ## 42 ## Duration:  86
**** Call ## 43 ## Duration:  74
**** Call ## 44 ## Duration:  85
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  76
**** Call ## 47 ## Duration:  93
**** Call ## 48 ## Duration:  67
**** Call ## 49 ## Duration:  74
**** Call ## 50 ## Duration:  79
**** Call ## 51 ## Duration:  918
      ✓ should list articles (919ms)
**** Call ## 52 ## Duration:  242
**** Call ## 53 ## Duration:  575
      ✓ should list articles with tag (817ms)
**** Call ## 54 ## Duration:  285
      ✓ should list articles by author (285ms)
**** Call ## 55 ## Duration:  59
      ✓ should list articles favorited by user (59ms)
**** Call ## 56 ## Duration:  153
**** Call ## 57 ## Duration:  168
      ✓ should list articles by limit/offset (321ms)
**** Call ## 58 ## Duration:  813
      ✓ should list articles when authenticated (814ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 59 ## Duration:  27 (ERR)
**** Call ## 61 ## Duration:  38 (ERR)
**** Call ## 62 ## Duration:  102
**** Call ## 63 ## Duration:  107
**** Call ## 64 ## Duration:  338
**** Call ## 65 ## Duration:  100
**** Call ## 66 ## Duration:  604
      ✓ should get feed (1251ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  106
      ✓ should get tags (107ms)

  Comment
**** Call ## 69 ## Duration:  145
**** Call ## 70 ## Duration:  117
**** Call ## 71 ## Duration:  78
    Create
**** Call ## 72 ## Duration:  114
**** Call ## 73 ## Duration:  105
**** Call ## 74 ## Duration:  90
**** Call ## 75 ## Duration:  94
**** Call ## 76 ## Duration:  121
**** Call ## 77 ## Duration:  109
**** Call ## 78 ## Duration:  96
**** Call ## 79 ## Duration:  75
**** Call ## 80 ## Duration:  101
**** Call ## 81 ## Duration:  92
      ✓ should create comment (1001ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  323
      ✓ should get all comments for article (324ms)
    Delete
**** Call ## 86 ## Duration:  145
      ✓ should delete comment (145ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  127
      ✓ should create user (127ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (46ms)
**** Call ## 92 ## Duration:  48 (ERR)
      ✓ should disallow same email (48ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  65
      ✓ should login (65ms)
**** Call ## 98 ## Duration:  34 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (88ms)
    Profile
**** Call ## 108 ## Duration:  80
      ✓ should get profile (80ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  96
**** Call ## 111 ## Duration:  141
**** Call ## 112 ## Duration:  129
**** Call ## 113 ## Duration:  82
**** Call ## 114 ## Duration:  72
**** Call ## 115 ## Duration:  122
**** Call ## 116 ## Duration:  97
**** Call ## 117 ## Duration:  142
**** Call ## 118 ## Duration:  165
**** Call ## 119 ## Duration:  104
      ✓ should follow/unfollow user (1153ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  65
**** Call ## 123 ## Duration:  49
**** Call ## 124 ## Duration:  70
      ✓ should update user (275ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  31 (ERR)
      ✓ should disallow missing token/email in update (53ms)
**** Call ## 127 ## Duration:  134
**** Call ## 128 ## Duration:  53 (ERR)
      ✓ should disallow reusing email (187ms)

  Util
    Ping
**** Call ## 129 ## Duration:  19
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  213
**** Call ## 1 ## Duration:  121
**** Call ## 2 ## Duration:  91
    Create
**** Call ## 3 ## Duration:  110
      ✓ should create article (112ms)
**** Call ## 4 ## Duration:  103
      ✓ should create article with tags (106ms)
**** Call ## 5 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  76 (ERR)
**** Call ## 7 ## Duration:  117 (ERR)
**** Call ## 8 ## Duration:  73 (ERR)
**** Call ## 9 ## Duration:  142 (ERR)
      ✓ should enforce required fields (409ms)
    Get
**** Call ## 10 ## Duration:  97
      ✓ should get article by slug (97ms)
**** Call ## 11 ## Duration:  95
      ✓ should get article with tags by slug (95ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  177
**** Call ## 14 ## Duration:  153
**** Call ## 15 ## Duration:  149
      ✓ should update article (480ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  87 (ERR)
      ✓ should disallow updating non-existent article (89ms)
**** Call ## 20 ## Duration:  88 (ERR)
      ✓ should disallow non-author from updating (88ms)
    Favorite
**** Call ## 21 ## Duration:  149
**** Call ## 22 ## Duration:  110
      ✓ should favorite article (261ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  88 (ERR)
      ✓ should disallow favoriting unknown article (88ms)
**** Call ## 25 ## Duration:  136
      ✓ should unfavorite article (137ms)
    Delete
**** Call ## 26 ## Duration:  113
**** Call ## 27 ## Duration:  44 (ERR)
      ✓ should delete article (158ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown article (73ms)
**** Call ## 30 ## Duration:  116 (ERR)
      ✓ should disallow deleting article by non-author (116ms)
    List
**** Call ## 31 ## Duration:  113
**** Call ## 32 ## Duration:  112
**** Call ## 33 ## Duration:  111
**** Call ## 34 ## Duration:  100
**** Call ## 35 ## Duration:  93
**** Call ## 36 ## Duration:  102
**** Call ## 37 ## Duration:  97
**** Call ## 38 ## Duration:  80
**** Call ## 39 ## Duration:  72
**** Call ## 40 ## Duration:  139
**** Call ## 41 ## Duration:  90
**** Call ## 42 ## Duration:  84
**** Call ## 43 ## Duration:  71
**** Call ## 44 ## Duration:  80
**** Call ## 45 ## Duration:  104
**** Call ## 46 ## Duration:  84
**** Call ## 47 ## Duration:  130
**** Call ## 48 ## Duration:  89
**** Call ## 49 ## Duration:  110
**** Call ## 50 ## Duration:  103
**** Call ## 51 ## Duration:  863
      ✓ should list articles (863ms)
**** Call ## 52 ## Duration:  255
**** Call ## 53 ## Duration:  688
      ✓ should list articles with tag (945ms)
**** Call ## 54 ## Duration:  286
      ✓ should list articles by author (286ms)
**** Call ## 55 ## Duration:  46
      ✓ should list articles favorited by user (46ms)
**** Call ## 56 ## Duration:  151
**** Call ## 57 ## Duration:  151
      ✓ should list articles by limit/offset (303ms)
**** Call ## 58 ## Duration:  904
      ✓ should list articles when authenticated (904ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  88
**** Call ## 63 ## Duration:  154
**** Call ## 64 ## Duration:  326
**** Call ## 65 ## Duration:  131
**** Call ## 66 ## Duration:  558
      ✓ should get feed (1257ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  101
      ✓ should get tags (101ms)

  Comment
**** Call ## 69 ## Duration:  114
**** Call ## 70 ## Duration:  111
**** Call ## 71 ## Duration:  79
    Create
**** Call ## 72 ## Duration:  132
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  107
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  103
**** Call ## 77 ## Duration:  90
**** Call ## 78 ## Duration:  118
**** Call ## 79 ## Duration:  99
**** Call ## 80 ## Duration:  83
**** Call ## 81 ## Duration:  70
      ✓ should create comment (1016ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  287
      ✓ should get all comments for article (287ms)
    Delete
**** Call ## 86 ## Duration:  115
      ✓ should delete comment (115ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  127
      ✓ should create user (128ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  75 (ERR)
      ✓ should disallow same email (75ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  20 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (80ms)
    Login
**** Call ## 97 ## Duration:  79
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  25 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (67ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (88ms)
    Profile
**** Call ## 108 ## Duration:  69
      ✓ should get profile (69ms)
**** Call ## 109 ## Duration:  51 (ERR)
      ✓ should disallow unknown username (52ms)
**** Call ## 110 ## Duration:  130
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  136
**** Call ## 113 ## Duration:  64
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  123
**** Call ## 116 ## Duration:  113
**** Call ## 117 ## Duration:  147
**** Call ## 118 ## Duration:  148
**** Call ## 119 ## Duration:  126
      ✓ should follow/unfollow user (1182ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  160
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  57
      ✓ should update user (374ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (70ms)
**** Call ## 127 ## Duration:  128
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (193ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  183
**** Call ## 1 ## Duration:  121
**** Call ## 2 ## Duration:  108
    Create
**** Call ## 3 ## Duration:  124
      ✓ should create article (128ms)
**** Call ## 4 ## Duration:  105
      ✓ should create article with tags (108ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  75 (ERR)
**** Call ## 7 ## Duration:  78 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (273ms)
    Get
**** Call ## 10 ## Duration:  91
      ✓ should get article by slug (92ms)
**** Call ## 11 ## Duration:  96
      ✓ should get article with tags by slug (96ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  184
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  138
      ✓ should update article (472ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  130
**** Call ## 22 ## Duration:  115
      ✓ should favorite article (245ms)
**** Call ## 23 ## Duration:  18 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (72ms)
**** Call ## 25 ## Duration:  141
      ✓ should unfavorite article (141ms)
    Delete
**** Call ## 26 ## Duration:  119
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (159ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  79 (ERR)
      ✓ should disallow deleting unknown article (80ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (67ms)
    List
**** Call ## 31 ## Duration:  99
**** Call ## 32 ## Duration:  79
**** Call ## 33 ## Duration:  94
**** Call ## 34 ## Duration:  72
**** Call ## 35 ## Duration:  74
**** Call ## 36 ## Duration:  81
**** Call ## 37 ## Duration:  91
**** Call ## 38 ## Duration:  67
**** Call ## 39 ## Duration:  89
**** Call ## 40 ## Duration:  79
**** Call ## 41 ## Duration:  94
**** Call ## 42 ## Duration:  79
**** Call ## 43 ## Duration:  88
**** Call ## 44 ## Duration:  134
**** Call ## 45 ## Duration:  97
**** Call ## 46 ## Duration:  73
**** Call ## 47 ## Duration:  69
**** Call ## 48 ## Duration:  93
**** Call ## 49 ## Duration:  99
**** Call ## 50 ## Duration:  134
**** Call ## 51 ## Duration:  766
      ✓ should list articles (766ms)
**** Call ## 52 ## Duration:  239
**** Call ## 53 ## Duration:  528
      ✓ should list articles with tag (769ms)
**** Call ## 54 ## Duration:  300
      ✓ should list articles by author (301ms)
**** Call ## 55 ## Duration:  76
      ✓ should list articles favorited by user (76ms)
**** Call ## 56 ## Duration:  150
**** Call ## 57 ## Duration:  151
      ✓ should list articles by limit/offset (302ms)
**** Call ## 58 ## Duration:  724
      ✓ should list articles when authenticated (724ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  53 (ERR)
**** Call ## 62 ## Duration:  96
**** Call ## 63 ## Duration:  113
**** Call ## 64 ## Duration:  384
**** Call ## 65 ## Duration:  96
**** Call ## 66 ## Duration:  475
      ✓ should get feed (1166ms)
**** Call ## 67 ## Duration:  50 (ERR)
      ✓ should disallow unauthenticated feed (50ms)
    Tags
**** Call ## 68 ## Duration:  200
      ✓ should get tags (200ms)

  Comment
**** Call ## 69 ## Duration:  125
**** Call ## 70 ## Duration:  160
**** Call ## 71 ## Duration:  131
    Create
**** Call ## 72 ## Duration:  122
**** Call ## 73 ## Duration:  106
**** Call ## 74 ## Duration:  118
**** Call ## 75 ## Duration:  112
**** Call ## 76 ## Duration:  162
**** Call ## 77 ## Duration:  100
**** Call ## 78 ## Duration:  96
**** Call ## 79 ## Duration:  109
**** Call ## 80 ## Duration:  75
**** Call ## 81 ## Duration:  96
      ✓ should create comment (1101ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  52 (ERR)
      ✓ should enforce comment body (52ms)
**** Call ## 84 ## Duration:  68 (ERR)
      ✓ should disallow non-existent article (69ms)
    Get
**** Call ## 85 ## Duration:  250
      ✓ should get all comments for article (250ms)
    Delete
**** Call ## 86 ## Duration:  108
      ✓ should delete comment (108ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (72ms)

  User
    Create
**** Call ## 90 ## Duration:  165
      ✓ should create user (165ms)
**** Call ## 91 ## Duration:  52 (ERR)
      ✓ should disallow same username (52ms)
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  72
      ✓ should login (73ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  18 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (58ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  29 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (92ms)
    Profile
**** Call ## 108 ## Duration:  88
      ✓ should get profile (89ms)
**** Call ## 109 ## Duration:  49 (ERR)
      ✓ should disallow unknown username (49ms)
**** Call ## 110 ## Duration:  119
**** Call ## 111 ## Duration:  119
**** Call ## 112 ## Duration:  124
**** Call ## 113 ## Duration:  85
**** Call ## 114 ## Duration:  73
**** Call ## 115 ## Duration:  108
**** Call ## 116 ## Duration:  116
**** Call ## 117 ## Duration:  135
**** Call ## 118 ## Duration:  122
**** Call ## 119 ## Duration:  121
      ✓ should follow/unfollow user (1126ms)
**** Call ## 120 ## Duration:  19 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  97
**** Call ## 122 ## Duration:  69
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  65
      ✓ should update user (299ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  72 (ERR)
      ✓ should disallow missing token/email in update (97ms)
**** Call ## 127 ## Duration:  316
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (381ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  161
**** Call ## 1 ## Duration:  115
**** Call ## 2 ## Duration:  98
    Create
**** Call ## 3 ## Duration:  95
      ✓ should create article (98ms)
**** Call ## 4 ## Duration:  82
      ✓ should create article with tags (84ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  76 (ERR)
**** Call ## 7 ## Duration:  68 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  70 (ERR)
      ✓ should enforce required fields (274ms)
    Get
**** Call ## 10 ## Duration:  86
      ✓ should get article by slug (86ms)
**** Call ## 11 ## Duration:  79
      ✓ should get article with tags by slug (79ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  138
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  142
      ✓ should update article (426ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  122 (ERR)
      ✓ should disallow updating non-existent article (122ms)
**** Call ## 20 ## Duration:  54 (ERR)
      ✓ should disallow non-author from updating (54ms)
    Favorite
**** Call ## 21 ## Duration:  134
**** Call ## 22 ## Duration:  104
      ✓ should favorite article (238ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  220
      ✓ should unfavorite article (220ms)
    Delete
**** Call ## 26 ## Duration:  113
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (153ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  81 (ERR)
      ✓ should disallow deleting unknown article (81ms)
**** Call ## 30 ## Duration:  60 (ERR)
      ✓ should disallow deleting article by non-author (60ms)
    List
**** Call ## 31 ## Duration:  88
**** Call ## 32 ## Duration:  76
**** Call ## 33 ## Duration:  102
**** Call ## 34 ## Duration:  86
**** Call ## 35 ## Duration:  83
**** Call ## 36 ## Duration:  97
**** Call ## 37 ## Duration:  67
**** Call ## 38 ## Duration:  64
**** Call ## 39 ## Duration:  76
**** Call ## 40 ## Duration:  67
**** Call ## 41 ## Duration:  78
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  109
**** Call ## 44 ## Duration:  94
**** Call ## 45 ## Duration:  77
**** Call ## 46 ## Duration:  99
**** Call ## 47 ## Duration:  89
**** Call ## 48 ## Duration:  83
**** Call ## 49 ## Duration:  73
**** Call ## 50 ## Duration:  83
**** Call ## 51 ## Duration:  1017
      ✓ should list articles (1017ms)
**** Call ## 52 ## Duration:  327
**** Call ## 53 ## Duration:  579
      ✓ should list articles with tag (906ms)
**** Call ## 54 ## Duration:  266
      ✓ should list articles by author (267ms)
**** Call ## 55 ## Duration:  78
      ✓ should list articles favorited by user (78ms)
**** Call ## 56 ## Duration:  166
**** Call ## 57 ## Duration:  168
      ✓ should list articles by limit/offset (334ms)
**** Call ## 58 ## Duration:  888
      ✓ should list articles when authenticated (888ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  107
**** Call ## 63 ## Duration:  176
**** Call ## 64 ## Duration:  348
**** Call ## 65 ## Duration:  98
**** Call ## 66 ## Duration:  563
      ✓ should get feed (1292ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  152
      ✓ should get tags (152ms)

  Comment
**** Call ## 69 ## Duration:  130
**** Call ## 70 ## Duration:  115
**** Call ## 71 ## Duration:  129
    Create
**** Call ## 72 ## Duration:  196
**** Call ## 73 ## Duration:  117
**** Call ## 74 ## Duration:  116
**** Call ## 75 ## Duration:  114
**** Call ## 76 ## Duration:  119
**** Call ## 77 ## Duration:  112
**** Call ## 78 ## Duration:  93
**** Call ## 79 ## Duration:  103
**** Call ## 80 ## Duration:  115
**** Call ## 81 ## Duration:  120
      ✓ should create comment (1205ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  96 (ERR)
      ✓ should disallow non-existent article (96ms)
    Get
**** Call ## 85 ## Duration:  283
      ✓ should get all comments for article (284ms)
    Delete
**** Call ## 86 ## Duration:  113
      ✓ should delete comment (113ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  55 (ERR)
      ✓ should disallow deleting unknown comment (56ms)

  User
    Create
**** Call ## 90 ## Duration:  137
      ✓ should create user (138ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  70 (ERR)
      ✓ should disallow same email (70ms)
**** Call ## 93 ## Duration:  20 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (89ms)
    Login
**** Call ## 97 ## Duration:  65
      ✓ should login (65ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  42 (ERR)
      ✓ should disallow wrong password (42ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  18 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (44ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (81ms)
    Profile
**** Call ## 108 ## Duration:  67
      ✓ should get profile (67ms)
**** Call ## 109 ## Duration:  48 (ERR)
      ✓ should disallow unknown username (49ms)
**** Call ## 110 ## Duration:  131
**** Call ## 111 ## Duration:  124
**** Call ## 112 ## Duration:  213
**** Call ## 113 ## Duration:  80
**** Call ## 114 ## Duration:  59
**** Call ## 115 ## Duration:  156
**** Call ## 116 ## Duration:  94
**** Call ## 117 ## Duration:  138
**** Call ## 118 ## Duration:  98
**** Call ## 119 ## Duration:  103
      ✓ should follow/unfollow user (1197ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  70
**** Call ## 122 ## Duration:  62
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  72
      ✓ should update user (258ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (63ms)
**** Call ## 127 ## Duration:  108
**** Call ## 128 ## Duration:  78 (ERR)
      ✓ should disallow reusing email (186ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  229
**** Call ## 1 ## Duration:  206
**** Call ## 2 ## Duration:  123
    Create
**** Call ## 3 ## Duration:  122
      ✓ should create article (125ms)
**** Call ## 4 ## Duration:  89
      ✓ should create article with tags (91ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  68 (ERR)
**** Call ## 7 ## Duration:  53 (ERR)
**** Call ## 8 ## Duration:  54 (ERR)
**** Call ## 9 ## Duration:  57 (ERR)
      ✓ should enforce required fields (233ms)
    Get
**** Call ## 10 ## Duration:  103
      ✓ should get article by slug (103ms)
**** Call ## 11 ## Duration:  79
      ✓ should get article with tags by slug (79ms)
**** Call ## 12 ## Duration:  47 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  174
**** Call ## 14 ## Duration:  154
**** Call ## 15 ## Duration:  139
      ✓ should update article (469ms)
**** Call ## 16 ## Duration:  26 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  74 (ERR)
      ✓ should disallow updating non-existent article (74ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (62ms)
    Favorite
**** Call ## 21 ## Duration:  156
**** Call ## 22 ## Duration:  151
      ✓ should favorite article (308ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  137
      ✓ should unfavorite article (137ms)
    Delete
**** Call ## 26 ## Duration:  105
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (144ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  86 (ERR)
      ✓ should disallow deleting article by non-author (86ms)
    List
**** Call ## 31 ## Duration:  228
**** Call ## 32 ## Duration:  69
**** Call ## 33 ## Duration:  87
**** Call ## 34 ## Duration:  64
**** Call ## 35 ## Duration:  97
**** Call ## 36 ## Duration:  75
**** Call ## 37 ## Duration:  153
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  76
**** Call ## 40 ## Duration:  69
**** Call ## 41 ## Duration:  79
**** Call ## 42 ## Duration:  76
**** Call ## 43 ## Duration:  71
**** Call ## 44 ## Duration:  102
**** Call ## 45 ## Duration:  68
**** Call ## 46 ## Duration:  90
**** Call ## 47 ## Duration:  58
**** Call ## 48 ## Duration:  73
**** Call ## 49 ## Duration:  60
**** Call ## 50 ## Duration:  54
**** Call ## 51 ## Duration:  958
      ✓ should list articles (958ms)
**** Call ## 52 ## Duration:  360
**** Call ## 53 ## Duration:  562
      ✓ should list articles with tag (923ms)
**** Call ## 54 ## Duration:  475
      ✓ should list articles by author (476ms)
**** Call ## 55 ## Duration:  88
      ✓ should list articles favorited by user (88ms)
**** Call ## 56 ## Duration:  158
**** Call ## 57 ## Duration:  236
      ✓ should list articles by limit/offset (394ms)
**** Call ## 58 ## Duration:  864
      ✓ should list articles when authenticated (864ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 61 ## Duration:  59 (ERR)
**** Call ## 62 ## Duration:  92
**** Call ## 63 ## Duration:  128
**** Call ## 64 ## Duration:  366
**** Call ## 65 ## Duration:  99
**** Call ## 66 ## Duration:  485
      ✓ should get feed (1171ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  130
      ✓ should get tags (130ms)

  Comment
**** Call ## 69 ## Duration:  115
**** Call ## 70 ## Duration:  99
**** Call ## 71 ## Duration:  99
    Create
**** Call ## 72 ## Duration:  111
**** Call ## 73 ## Duration:  99
**** Call ## 74 ## Duration:  107
**** Call ## 75 ## Duration:  106
**** Call ## 76 ## Duration:  139
**** Call ## 77 ## Duration:  84
**** Call ## 78 ## Duration:  79
**** Call ## 79 ## Duration:  91
**** Call ## 80 ## Duration:  90
**** Call ## 81 ## Duration:  93
      ✓ should create comment (1003ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  64 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  304
      ✓ should get all comments for article (305ms)
    Delete
**** Call ## 86 ## Duration:  121
      ✓ should delete comment (121ms)
**** Call ## 87 ## Duration:  67 (ERR)
      ✓ only comment author should be able to delete comment (67ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (67ms)

  User
    Create
**** Call ## 90 ## Duration:  112
      ✓ should create user (113ms)
**** Call ## 91 ## Duration:  37 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (88ms)
    Login
**** Call ## 97 ## Duration:  76
      ✓ should login (76ms)
**** Call ## 98 ## Duration:  34 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  25 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (67ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (86ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  147
**** Call ## 111 ## Duration:  121
**** Call ## 112 ## Duration:  90
**** Call ## 113 ## Duration:  85
**** Call ## 114 ## Duration:  62
**** Call ## 115 ## Duration:  105
**** Call ## 116 ## Duration:  82
**** Call ## 117 ## Duration:  124
**** Call ## 118 ## Duration:  92
**** Call ## 119 ## Duration:  134
      ✓ should follow/unfollow user (1042ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  90
**** Call ## 123 ## Duration:  46
**** Call ## 124 ## Duration:  63
      ✓ should update user (291ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  38 (ERR)
      ✓ should disallow missing token/email in update (58ms)
**** Call ## 127 ## Duration:  96
**** Call ## 128 ## Duration:  49 (ERR)
      ✓ should disallow reusing email (146ms)

  Util
    Ping
**** Call ## 129 ## Duration:  26
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  165
**** Call ## 1 ## Duration:  125
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  133
      ✓ should create article (135ms)
**** Call ## 4 ## Duration:  89
      ✓ should create article with tags (91ms)
**** Call ## 5 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  69 (ERR)
**** Call ## 7 ## Duration:  72 (ERR)
**** Call ## 8 ## Duration:  69 (ERR)
**** Call ## 9 ## Duration:  85 (ERR)
      ✓ should enforce required fields (296ms)
    Get
**** Call ## 10 ## Duration:  95
      ✓ should get article by slug (95ms)
**** Call ## 11 ## Duration:  86
      ✓ should get article with tags by slug (86ms)
**** Call ## 12 ## Duration:  38 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  144
**** Call ## 15 ## Duration:  137
      ✓ should update article (438ms)
**** Call ## 16 ## Duration:  18 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  19 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  65 (ERR)
      ✓ should disallow updating non-existent article (65ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  162
**** Call ## 22 ## Duration:  110
      ✓ should favorite article (273ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (64ms)
**** Call ## 25 ## Duration:  148
      ✓ should unfavorite article (148ms)
    Delete
**** Call ## 26 ## Duration:  108
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (144ms)
**** Call ## 28 ## Duration:  80 (ERR)
      ✓ should disallow deleting by unauthenticated user (80ms)
**** Call ## 29 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown article (73ms)
**** Call ## 30 ## Duration:  110 (ERR)
      ✓ should disallow deleting article by non-author (111ms)
    List
**** Call ## 31 ## Duration:  84
**** Call ## 32 ## Duration:  208
**** Call ## 33 ## Duration:  82
**** Call ## 34 ## Duration:  84
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  92
**** Call ## 37 ## Duration:  68
**** Call ## 38 ## Duration:  66
**** Call ## 39 ## Duration:  87
**** Call ## 40 ## Duration:  89
**** Call ## 41 ## Duration:  84
**** Call ## 42 ## Duration:  97
**** Call ## 43 ## Duration:  75
**** Call ## 44 ## Duration:  58
**** Call ## 45 ## Duration:  86
**** Call ## 46 ## Duration:  59
**** Call ## 47 ## Duration:  95
**** Call ## 48 ## Duration:  67
**** Call ## 49 ## Duration:  113
**** Call ## 50 ## Duration:  106
**** Call ## 51 ## Duration:  1196
      ✓ should list articles (1196ms)
**** Call ## 52 ## Duration:  352
**** Call ## 53 ## Duration:  566
      ✓ should list articles with tag (919ms)
**** Call ## 54 ## Duration:  333
      ✓ should list articles by author (333ms)
**** Call ## 55 ## Duration:  74
      ✓ should list articles favorited by user (74ms)
**** Call ## 56 ## Duration:  151
**** Call ## 57 ## Duration:  146
      ✓ should list articles by limit/offset (299ms)
**** Call ## 58 ## Duration:  770
      ✓ should list articles when authenticated (771ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  20 (ERR)
**** Call ## 59 ## Duration:  27 (ERR)
**** Call ## 60 ## Duration:  43 (ERR)
**** Call ## 62 ## Duration:  100
**** Call ## 63 ## Duration:  267
**** Call ## 64 ## Duration:  337
**** Call ## 65 ## Duration:  125
**** Call ## 66 ## Duration:  533
      ✓ should get feed (1362ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  117
      ✓ should get tags (117ms)

  Comment
**** Call ## 69 ## Duration:  127
**** Call ## 70 ## Duration:  105
**** Call ## 71 ## Duration:  92
    Create
**** Call ## 72 ## Duration:  104
**** Call ## 73 ## Duration:  85
**** Call ## 74 ## Duration:  96
**** Call ## 75 ## Duration:  102
**** Call ## 76 ## Duration:  96
**** Call ## 77 ## Duration:  97
**** Call ## 78 ## Duration:  93
**** Call ## 79 ## Duration:  93
**** Call ## 80 ## Duration:  71
**** Call ## 81 ## Duration:  137
      ✓ should create comment (974ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  51 (ERR)
      ✓ should enforce comment body (51ms)
**** Call ## 84 ## Duration:  41 (ERR)
      ✓ should disallow non-existent article (42ms)
    Get
**** Call ## 85 ## Duration:  272
      ✓ should get all comments for article (272ms)
    Delete
**** Call ## 86 ## Duration:  100
      ✓ should delete comment (100ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (66ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown comment (58ms)

  User
    Create
**** Call ## 90 ## Duration:  105
      ✓ should create user (106ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  64 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  20 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (85ms)
    Login
**** Call ## 97 ## Duration:  84
      ✓ should login (84ms)
**** Call ## 98 ## Duration:  36 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  19 (ERR)
      ✓ should enforce required fields (59ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  61 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (122ms)
    Profile
**** Call ## 108 ## Duration:  69
      ✓ should get profile (69ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  113
**** Call ## 111 ## Duration:  146
**** Call ## 112 ## Duration:  127
**** Call ## 113 ## Duration:  114
**** Call ## 114 ## Duration:  112
**** Call ## 115 ## Duration:  110
**** Call ## 116 ## Duration:  99
**** Call ## 117 ## Duration:  132
**** Call ## 118 ## Duration:  124
**** Call ## 119 ## Duration:  141
      ✓ should follow/unfollow user (1218ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  93
**** Call ## 122 ## Duration:  77
**** Call ## 123 ## Duration:  70
**** Call ## 124 ## Duration:  63
      ✓ should update user (303ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  44 (ERR)
      ✓ should disallow missing token/email in update (64ms)
**** Call ## 127 ## Duration:  98
**** Call ## 128 ## Duration:  67 (ERR)
      ✓ should disallow reusing email (166ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  163
**** Call ## 1 ## Duration:  97
**** Call ## 2 ## Duration:  114
    Create
**** Call ## 3 ## Duration:  1085
      ✓ should create article (1087ms)
**** Call ## 4 ## Duration:  79
      ✓ should create article with tags (81ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  54 (ERR)
**** Call ## 7 ## Duration:  56 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  55 (ERR)
      ✓ should enforce required fields (229ms)
    Get
**** Call ## 10 ## Duration:  98
      ✓ should get article by slug (98ms)
**** Call ## 11 ## Duration:  86
      ✓ should get article with tags by slug (86ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  216
**** Call ## 14 ## Duration:  140
**** Call ## 15 ## Duration:  180
      ✓ should update article (541ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  20 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  63 (ERR)
      ✓ should disallow updating non-existent article (63ms)
**** Call ## 20 ## Duration:  68 (ERR)
      ✓ should disallow non-author from updating (69ms)
    Favorite
**** Call ## 21 ## Duration:  139
**** Call ## 22 ## Duration:  106
      ✓ should favorite article (245ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  66 (ERR)
      ✓ should disallow favoriting unknown article (66ms)
**** Call ## 25 ## Duration:  226
      ✓ should unfavorite article (226ms)
    Delete
**** Call ## 26 ## Duration:  109
**** Call ## 27 ## Duration:  38 (ERR)
      ✓ should delete article (148ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  77 (ERR)
      ✓ should disallow deleting article by non-author (78ms)
    List
**** Call ## 31 ## Duration:  94
**** Call ## 32 ## Duration:  78
**** Call ## 33 ## Duration:  97
**** Call ## 34 ## Duration:  79
**** Call ## 35 ## Duration:  83
**** Call ## 36 ## Duration:  79
**** Call ## 37 ## Duration:  96
**** Call ## 38 ## Duration:  67
**** Call ## 39 ## Duration:  97
**** Call ## 40 ## Duration:  131
**** Call ## 41 ## Duration:  56
**** Call ## 42 ## Duration:  125
**** Call ## 43 ## Duration:  79
**** Call ## 44 ## Duration:  137
**** Call ## 45 ## Duration:  68
**** Call ## 46 ## Duration:  84
**** Call ## 47 ## Duration:  75
**** Call ## 48 ## Duration:  70
**** Call ## 49 ## Duration:  73
**** Call ## 50 ## Duration:  80
**** Call ## 51 ## Duration:  701 (ERR)
      1) should list articles

  21 passing (6s)
  1 failing

  1) Article
       List
         should list articles:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:18:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:202:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)




npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2019-11-01T20_45_20_453Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  158
**** Call ## 1 ## Duration:  128
**** Call ## 2 ## Duration:  94
    Create
**** Call ## 3 ## Duration:  97
      ✓ should create article (99ms)
**** Call ## 4 ## Duration:  104
      ✓ should create article with tags (106ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  71 (ERR)
**** Call ## 7 ## Duration:  74 (ERR)
**** Call ## 8 ## Duration:  68 (ERR)
**** Call ## 9 ## Duration:  72 (ERR)
      ✓ should enforce required fields (285ms)
    Get
**** Call ## 10 ## Duration:  114
      ✓ should get article by slug (115ms)
**** Call ## 11 ## Duration:  132
      ✓ should get article with tags by slug (132ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  142
**** Call ## 14 ## Duration:  147
**** Call ## 15 ## Duration:  151
      ✓ should update article (442ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  63 (ERR)
      ✓ should disallow updating non-existent article (63ms)
**** Call ## 20 ## Duration:  54 (ERR)
      ✓ should disallow non-author from updating (54ms)
    Favorite
**** Call ## 21 ## Duration:  153
**** Call ## 22 ## Duration:  87
      ✓ should favorite article (240ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  60 (ERR)
      ✓ should disallow favoriting unknown article (61ms)
**** Call ## 25 ## Duration:  162
      ✓ should unfavorite article (163ms)
    Delete
**** Call ## 26 ## Duration:  101
**** Call ## 27 ## Duration:  45 (ERR)
      ✓ should delete article (146ms)
**** Call ## 28 ## Duration:  19 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  64 (ERR)
      ✓ should disallow deleting article by non-author (64ms)
    List
**** Call ## 31 ## Duration:  99
**** Call ## 32 ## Duration:  151
**** Call ## 33 ## Duration:  69
**** Call ## 34 ## Duration:  85
**** Call ## 35 ## Duration:  85
**** Call ## 36 ## Duration:  86
**** Call ## 37 ## Duration:  124
**** Call ## 38 ## Duration:  81
**** Call ## 39 ## Duration:  84
**** Call ## 40 ## Duration:  91
**** Call ## 41 ## Duration:  71
**** Call ## 42 ## Duration:  81
**** Call ## 43 ## Duration:  89
**** Call ## 44 ## Duration:  86
**** Call ## 45 ## Duration:  167
**** Call ## 46 ## Duration:  75
**** Call ## 47 ## Duration:  88
**** Call ## 48 ## Duration:  82
**** Call ## 49 ## Duration:  123
**** Call ## 50 ## Duration:  103
**** Call ## 51 ## Duration:  1157
      ✓ should list articles (1157ms)
**** Call ## 52 ## Duration:  386
**** Call ## 53 ## Duration:  603
      ✓ should list articles with tag (989ms)
**** Call ## 54 ## Duration:  278
      ✓ should list articles by author (278ms)
**** Call ## 55 ## Duration:  87
      ✓ should list articles favorited by user (87ms)
**** Call ## 56 ## Duration:  158
**** Call ## 57 ## Duration:  158
      ✓ should list articles by limit/offset (316ms)
**** Call ## 58 ## Duration:  844
      ✓ should list articles when authenticated (844ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  22 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  28 (ERR)
**** Call ## 62 ## Duration:  83
**** Call ## 63 ## Duration:  147
**** Call ## 64 ## Duration:  318
**** Call ## 65 ## Duration:  115
**** Call ## 66 ## Duration:  523
      ✓ should get feed (1187ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  226
      ✓ should get tags (226ms)

  Comment
**** Call ## 69 ## Duration:  120
**** Call ## 70 ## Duration:  116
**** Call ## 71 ## Duration:  88
    Create
**** Call ## 72 ## Duration:  125
**** Call ## 73 ## Duration:  84
**** Call ## 74 ## Duration:  69
**** Call ## 75 ## Duration:  77
**** Call ## 76 ## Duration:  80
**** Call ## 77 ## Duration:  72
**** Call ## 78 ## Duration:  66
**** Call ## 79 ## Duration:  117
**** Call ## 80 ## Duration:  110
**** Call ## 81 ## Duration:  83
      ✓ should create comment (883ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  42 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  51 (ERR)
      ✓ should disallow non-existent article (51ms)
    Get
**** Call ## 85 ## Duration:  339
      ✓ should get all comments for article (340ms)
    Delete
**** Call ## 86 ## Duration:  117
      ✓ should delete comment (117ms)
**** Call ## 87 ## Duration:  53 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  17 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown comment (63ms)

  User
    Create
**** Call ## 90 ## Duration:  100
      ✓ should create user (100ms)
**** Call ## 91 ## Duration:  45 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (82ms)
    Login
**** Call ## 97 ## Duration:  103
      ✓ should login (103ms)
**** Call ## 98 ## Duration:  35 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  31 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (73ms)
    Get
**** Call ## 103 ## Duration:  77
      ✓ should get current user (77ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  20 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  104
**** Call ## 111 ## Duration:  130
**** Call ## 112 ## Duration:  97
**** Call ## 113 ## Duration:  66
**** Call ## 114 ## Duration:  59
**** Call ## 115 ## Duration:  111
**** Call ## 116 ## Duration:  95
**** Call ## 117 ## Duration:  147
**** Call ## 118 ## Duration:  93
**** Call ## 119 ## Duration:  110
      ✓ should follow/unfollow user (1016ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  109
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  60
      ✓ should update user (305ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  42 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  103
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (161ms)

  Util
    Ping
**** Call ## 129 ## Duration:  30
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  178
**** Call ## 1 ## Duration:  112
**** Call ## 2 ## Duration:  118
    Create
**** Call ## 3 ## Duration:  110
      ✓ should create article (112ms)
**** Call ## 4 ## Duration:  103
      ✓ should create article with tags (105ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  84 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (269ms)
    Get
**** Call ## 10 ## Duration:  85
      ✓ should get article by slug (86ms)
**** Call ## 11 ## Duration:  84
      ✓ should get article with tags by slug (84ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  154
**** Call ## 14 ## Duration:  159
**** Call ## 15 ## Duration:  128
      ✓ should update article (443ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  74 (ERR)
      ✓ should disallow non-author from updating (74ms)
    Favorite
**** Call ## 21 ## Duration:  124
**** Call ## 22 ## Duration:  99
      ✓ should favorite article (223ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  78 (ERR)
      ✓ should disallow favoriting unknown article (79ms)
**** Call ## 25 ## Duration:  121
      ✓ should unfavorite article (121ms)
    Delete
**** Call ## 26 ## Duration:  112
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (155ms)
**** Call ## 28 ## Duration:  25 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (70ms)
**** Call ## 30 ## Duration:  65 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  109
**** Call ## 32 ## Duration:  95
**** Call ## 33 ## Duration:  99
**** Call ## 34 ## Duration:  89
**** Call ## 35 ## Duration:  99
**** Call ## 36 ## Duration:  93
**** Call ## 37 ## Duration:  107
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  80
**** Call ## 40 ## Duration:  84
**** Call ## 41 ## Duration:  106
**** Call ## 42 ## Duration:  81
**** Call ## 43 ## Duration:  81
**** Call ## 44 ## Duration:  58
**** Call ## 45 ## Duration:  80
**** Call ## 46 ## Duration:  73
**** Call ## 47 ## Duration:  80
**** Call ## 48 ## Duration:  81
**** Call ## 49 ## Duration:  67
**** Call ## 50 ## Duration:  66
**** Call ## 51 ## Duration:  873
      ✓ should list articles (874ms)
**** Call ## 52 ## Duration:  537
**** Call ## 53 ## Duration:  579
      ✓ should list articles with tag (1117ms)
**** Call ## 54 ## Duration:  294
      ✓ should list articles by author (294ms)
**** Call ## 55 ## Duration:  90
      ✓ should list articles favorited by user (90ms)
**** Call ## 56 ## Duration:  163
**** Call ## 57 ## Duration:  212
      ✓ should list articles by limit/offset (376ms)
**** Call ## 58 ## Duration:  758
      ✓ should list articles when authenticated (759ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  74
**** Call ## 63 ## Duration:  124
**** Call ## 64 ## Duration:  330
**** Call ## 65 ## Duration:  98
**** Call ## 66 ## Duration:  562
      ✓ should get feed (1188ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  154
      ✓ should get tags (154ms)

  Comment
**** Call ## 69 ## Duration:  191
**** Call ## 70 ## Duration:  118
**** Call ## 71 ## Duration:  71
    Create
**** Call ## 72 ## Duration:  98
**** Call ## 73 ## Duration:  94
**** Call ## 74 ## Duration:  83
**** Call ## 75 ## Duration:  105
**** Call ## 76 ## Duration:  164
**** Call ## 77 ## Duration:  85
**** Call ## 78 ## Duration:  113
**** Call ## 79 ## Duration:  77
**** Call ## 80 ## Duration:  98
**** Call ## 81 ## Duration:  95
      ✓ should create comment (1013ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  53 (ERR)
      ✓ should enforce comment body (53ms)
**** Call ## 84 ## Duration:  74 (ERR)
      ✓ should disallow non-existent article (74ms)
    Get
**** Call ## 85 ## Duration:  263
      ✓ should get all comments for article (263ms)
    Delete
**** Call ## 86 ## Duration:  108
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (52ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (66ms)

  User
    Create
**** Call ## 90 ## Duration:  109
      ✓ should create user (110ms)
**** Call ## 91 ## Duration:  29 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (68ms)
**** Call ## 93 ## Duration:  22 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (88ms)
    Login
**** Call ## 97 ## Duration:  73
      ✓ should login (73ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (45ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (63ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  37 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (100ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  108
**** Call ## 111 ## Duration:  135
**** Call ## 112 ## Duration:  97
**** Call ## 113 ## Duration:  88
**** Call ## 114 ## Duration:  64
**** Call ## 115 ## Duration:  115
**** Call ## 116 ## Duration:  113
**** Call ## 117 ## Duration:  201
**** Call ## 118 ## Duration:  140
**** Call ## 119 ## Duration:  97
      ✓ should follow/unfollow user (1162ms)
**** Call ## 120 ## Duration:  26 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  85
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  51
**** Call ## 124 ## Duration:  64
      ✓ should update user (268ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  60 (ERR)
      ✓ should disallow missing token/email in update (80ms)
**** Call ## 127 ## Duration:  101
**** Call ## 128 ## Duration:  56 (ERR)
      ✓ should disallow reusing email (157ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  167
**** Call ## 1 ## Duration:  92
**** Call ## 2 ## Duration:  100
    Create
**** Call ## 3 ## Duration:  106
      ✓ should create article (110ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (92ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  61 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  58 (ERR)
**** Call ## 9 ## Duration:  75 (ERR)
      ✓ should enforce required fields (252ms)
    Get
**** Call ## 10 ## Duration:  89
      ✓ should get article by slug (89ms)
**** Call ## 11 ## Duration:  85
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  144
**** Call ## 14 ## Duration:  167
**** Call ## 15 ## Duration:  124
      ✓ should update article (438ms)
**** Call ## 16 ## Duration:  118 (ERR)
      ✓ should disallow missing mutation (119ms)
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  85 (ERR)
      ✓ should disallow updating non-existent article (86ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  152
**** Call ## 22 ## Duration:  92
      ✓ should favorite article (244ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  78 (ERR)
      ✓ should disallow favoriting unknown article (78ms)
**** Call ## 25 ## Duration:  141
      ✓ should unfavorite article (142ms)
    Delete
**** Call ## 26 ## Duration:  163
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (211ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (75ms)
**** Call ## 30 ## Duration:  54 (ERR)
      ✓ should disallow deleting article by non-author (54ms)
    List
**** Call ## 31 ## Duration:  95
**** Call ## 32 ## Duration:  83
**** Call ## 33 ## Duration:  97
**** Call ## 34 ## Duration:  86
**** Call ## 35 ## Duration:  145
**** Call ## 36 ## Duration:  84
**** Call ## 37 ## Duration:  105
**** Call ## 38 ## Duration:  78
**** Call ## 39 ## Duration:  85
**** Call ## 40 ## Duration:  246
**** Call ## 41 ## Duration:  89
**** Call ## 42 ## Duration:  114
**** Call ## 43 ## Duration:  66
**** Call ## 44 ## Duration:  84
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  80
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  79
**** Call ## 49 ## Duration:  110
**** Call ## 50 ## Duration:  88
**** Call ## 51 ## Duration:  884
      ✓ should list articles (885ms)
**** Call ## 52 ## Duration:  460
**** Call ## 53 ## Duration:  544
      ✓ should list articles with tag (1005ms)
**** Call ## 54 ## Duration:  334
      ✓ should list articles by author (334ms)
**** Call ## 55 ## Duration:  102
      ✓ should list articles favorited by user (102ms)
**** Call ## 56 ## Duration:  298
**** Call ## 57 ## Duration:  155
      ✓ should list articles by limit/offset (453ms)
**** Call ## 58 ## Duration:  774
      ✓ should list articles when authenticated (774ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  22 (ERR)
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  96
**** Call ## 63 ## Duration:  121
**** Call ## 64 ## Duration:  346
**** Call ## 65 ## Duration:  117
**** Call ## 66 ## Duration:  494
      ✓ should get feed (1175ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  167
      ✓ should get tags (167ms)

  Comment
**** Call ## 69 ## Duration:  130
**** Call ## 70 ## Duration:  134
**** Call ## 71 ## Duration:  94
    Create
**** Call ## 72 ## Duration:  110
**** Call ## 73 ## Duration:  103
**** Call ## 74 ## Duration:  92
**** Call ## 75 ## Duration:  100
**** Call ## 76 ## Duration:  89
**** Call ## 77 ## Duration:  118
**** Call ## 78 ## Duration:  122
**** Call ## 79 ## Duration:  101
**** Call ## 80 ## Duration:  98
**** Call ## 81 ## Duration:  79
      ✓ should create comment (1012ms)
**** Call ## 82 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  41 (ERR)
      ✓ should enforce comment body (41ms)
**** Call ## 84 ## Duration:  55 (ERR)
      ✓ should disallow non-existent article (55ms)
    Get
**** Call ## 85 ## Duration:  284
      ✓ should get all comments for article (284ms)
    Delete
**** Call ## 86 ## Duration:  143
      ✓ should delete comment (143ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (55ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (70ms)

  User
    Create
**** Call ## 90 ## Duration:  122
      ✓ should create user (122ms)
**** Call ## 91 ## Duration:  29 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  59 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  18 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (88ms)
    Login
**** Call ## 97 ## Duration:  76
      ✓ should login (77ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  55
      ✓ should get current user (55ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (90ms)
    Profile
**** Call ## 108 ## Duration:  102
      ✓ should get profile (103ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  171
**** Call ## 111 ## Duration:  150
**** Call ## 112 ## Duration:  162
**** Call ## 113 ## Duration:  132
**** Call ## 114 ## Duration:  57
**** Call ## 115 ## Duration:  115
**** Call ## 116 ## Duration:  122
**** Call ## 117 ## Duration:  130
**** Call ## 118 ## Duration:  136
**** Call ## 119 ## Duration:  114
      ✓ should follow/unfollow user (1290ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  86
**** Call ## 122 ## Duration:  83
**** Call ## 123 ## Duration:  50
**** Call ## 124 ## Duration:  49
      ✓ should update user (268ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  54 (ERR)
      ✓ should disallow missing token/email in update (77ms)
**** Call ## 127 ## Duration:  110
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (162ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  174
**** Call ## 1 ## Duration:  132
**** Call ## 2 ## Duration:  121
    Create
**** Call ## 3 ## Duration:  115
      ✓ should create article (117ms)
**** Call ## 4 ## Duration:  70
      ✓ should create article with tags (73ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  66 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  73 (ERR)
      ✓ should enforce required fields (260ms)
    Get
**** Call ## 10 ## Duration:  85
      ✓ should get article by slug (85ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (90ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  165
**** Call ## 15 ## Duration:  143
      ✓ should update article (465ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  69 (ERR)
      ✓ should disallow updating non-existent article (69ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (67ms)
    Favorite
**** Call ## 21 ## Duration:  152
**** Call ## 22 ## Duration:  110
      ✓ should favorite article (262ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  82 (ERR)
      ✓ should disallow favoriting unknown article (82ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (136ms)
    Delete
**** Call ## 26 ## Duration:  137
**** Call ## 27 ## Duration:  44 (ERR)
      ✓ should delete article (182ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown article (63ms)
**** Call ## 30 ## Duration:  55 (ERR)
      ✓ should disallow deleting article by non-author (55ms)
    List
**** Call ## 31 ## Duration:  84
**** Call ## 32 ## Duration:  105
**** Call ## 33 ## Duration:  100
**** Call ## 34 ## Duration:  123
**** Call ## 35 ## Duration:  68
**** Call ## 36 ## Duration:  90
**** Call ## 37 ## Duration:  98
**** Call ## 38 ## Duration:  86
**** Call ## 39 ## Duration:  62
**** Call ## 40 ## Duration:  82
**** Call ## 41 ## Duration:  84
**** Call ## 42 ## Duration:  100
**** Call ## 43 ## Duration:  122
**** Call ## 44 ## Duration:  54
**** Call ## 45 ## Duration:  52
**** Call ## 46 ## Duration:  119
**** Call ## 47 ## Duration:  63
**** Call ## 48 ## Duration:  65
**** Call ## 49 ## Duration:  70
**** Call ## 50 ## Duration:  76
**** Call ## 51 ## Duration:  892
      ✓ should list articles (892ms)
**** Call ## 52 ## Duration:  498
**** Call ## 53 ## Duration:  527
      ✓ should list articles with tag (1025ms)
**** Call ## 54 ## Duration:  330
      ✓ should list articles by author (330ms)
**** Call ## 55 ## Duration:  86
      ✓ should list articles favorited by user (86ms)
**** Call ## 56 ## Duration:  156
**** Call ## 57 ## Duration:  157
      ✓ should list articles by limit/offset (314ms)
**** Call ## 58 ## Duration:  864
      ✓ should list articles when authenticated (864ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  38 (ERR)
**** Call ## 62 ## Duration:  89
**** Call ## 63 ## Duration:  141
**** Call ## 64 ## Duration:  393
**** Call ## 65 ## Duration:  119
**** Call ## 66 ## Duration:  573
      ✓ should get feed (1319ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  236
      ✓ should get tags (236ms)

  Comment
**** Call ## 69 ## Duration:  114
**** Call ## 70 ## Duration:  89
**** Call ## 71 ## Duration:  73
    Create
**** Call ## 72 ## Duration:  106
**** Call ## 73 ## Duration:  93
**** Call ## 74 ## Duration:  85
**** Call ## 75 ## Duration:  80
**** Call ## 76 ## Duration:  86
**** Call ## 77 ## Duration:  103
**** Call ## 78 ## Duration:  64
**** Call ## 79 ## Duration:  74
**** Call ## 80 ## Duration:  84
**** Call ## 81 ## Duration:  79
      ✓ should create comment (856ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  55 (ERR)
      ✓ should disallow non-existent article (55ms)
    Get
**** Call ## 85 ## Duration:  224
      ✓ should get all comments for article (224ms)
    Delete
**** Call ## 86 ## Duration:  128
      ✓ should delete comment (128ms)
**** Call ## 87 ## Duration:  56 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  97
      ✓ should create user (97ms)
**** Call ## 91 ## Duration:  33 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  62 (ERR)
      ✓ should disallow same email (62ms)
**** Call ## 93 ## Duration:  278 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  18 (ERR)
      ✓ should enforce required fields (337ms)
    Login
**** Call ## 97 ## Duration:  75
      ✓ should login (75ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (67ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  19 (ERR)
**** Call ## 106 ## Duration:  26 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (88ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  103
**** Call ## 111 ## Duration:  126
**** Call ## 112 ## Duration:  122
**** Call ## 113 ## Duration:  69
**** Call ## 114 ## Duration:  98
**** Call ## 115 ## Duration:  119
**** Call ## 116 ## Duration:  101
**** Call ## 117 ## Duration:  137
**** Call ## 118 ## Duration:  106
**** Call ## 119 ## Duration:  97
      ✓ should follow/unfollow user (1079ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  94
**** Call ## 122 ## Duration:  100
**** Call ## 123 ## Duration:  64
**** Call ## 124 ## Duration:  50
      ✓ should update user (310ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (71ms)
**** Call ## 127 ## Duration:  109
**** Call ## 128 ## Duration:  59 (ERR)
      ✓ should disallow reusing email (169ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  183
**** Call ## 1 ## Duration:  123
**** Call ## 2 ## Duration:  102
    Create
**** Call ## 3 ## Duration:  138
      ✓ should create article (140ms)
**** Call ## 4 ## Duration:  74
      ✓ should create article with tags (75ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  74 (ERR)
**** Call ## 7 ## Duration:  60 (ERR)
**** Call ## 8 ## Duration:  63 (ERR)
**** Call ## 9 ## Duration:  53 (ERR)
      ✓ should enforce required fields (253ms)
    Get
**** Call ## 10 ## Duration:  86
      ✓ should get article by slug (86ms)
**** Call ## 11 ## Duration:  149
      ✓ should get article with tags by slug (149ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  160
**** Call ## 14 ## Duration:  155
**** Call ## 15 ## Duration:  120
      ✓ should update article (437ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  62 (ERR)
      ✓ should disallow updating non-existent article (63ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  205
**** Call ## 22 ## Duration:  127
      ✓ should favorite article (332ms)
**** Call ## 23 ## Duration:  26 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  105 (ERR)
      ✓ should disallow favoriting unknown article (106ms)
**** Call ## 25 ## Duration:  136
      ✓ should unfavorite article (137ms)
    Delete
**** Call ## 26 ## Duration:  120
**** Call ## 27 ## Duration:  37 (ERR)
      ✓ should delete article (158ms)
**** Call ## 28 ## Duration:  24 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (64ms)
    List
**** Call ## 31 ## Duration:  86
**** Call ## 32 ## Duration:  84
**** Call ## 33 ## Duration:  83
**** Call ## 34 ## Duration:  74
**** Call ## 35 ## Duration:  99
**** Call ## 36 ## Duration:  82
**** Call ## 37 ## Duration:  82
**** Call ## 38 ## Duration:  79
**** Call ## 39 ## Duration:  73
**** Call ## 40 ## Duration:  78
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  134
**** Call ## 43 ## Duration:  110
**** Call ## 44 ## Duration:  95
**** Call ## 45 ## Duration:  59
**** Call ## 46 ## Duration:  61
**** Call ## 47 ## Duration:  86
**** Call ## 48 ## Duration:  75
**** Call ## 49 ## Duration:  75
**** Call ## 50 ## Duration:  75
**** Call ## 51 ## Duration:  1042
      ✓ should list articles (1042ms)
**** Call ## 52 ## Duration:  502
**** Call ## 53 ## Duration:  576
      ✓ should list articles with tag (1078ms)
**** Call ## 54 ## Duration:  291
      ✓ should list articles by author (291ms)
**** Call ## 55 ## Duration:  117
      ✓ should list articles favorited by user (117ms)
**** Call ## 56 ## Duration:  294
**** Call ## 57 ## Duration:  166
      ✓ should list articles by limit/offset (460ms)
**** Call ## 58 ## Duration:  786
      ✓ should list articles when authenticated (787ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 62 ## Duration:  92
**** Call ## 63 ## Duration:  126
**** Call ## 64 ## Duration:  323
**** Call ## 65 ## Duration:  125
**** Call ## 66 ## Duration:  552
      ✓ should get feed (1219ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  199
      ✓ should get tags (199ms)

  Comment
**** Call ## 69 ## Duration:  99
**** Call ## 70 ## Duration:  111
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  108
**** Call ## 73 ## Duration:  105
**** Call ## 74 ## Duration:  106
**** Call ## 75 ## Duration:  92
**** Call ## 76 ## Duration:  101
**** Call ## 77 ## Duration:  98
**** Call ## 78 ## Duration:  109
**** Call ## 79 ## Duration:  90
**** Call ## 80 ## Duration:  88
**** Call ## 81 ## Duration:  86
      ✓ should create comment (987ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  47 (ERR)
      ✓ should disallow non-existent article (48ms)
    Get
**** Call ## 85 ## Duration:  264
      ✓ should get all comments for article (264ms)
    Delete
**** Call ## 86 ## Duration:  105
      ✓ should delete comment (105ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown comment (66ms)

  User
    Create
**** Call ## 90 ## Duration:  114
      ✓ should create user (114ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  55 (ERR)
      ✓ should disallow same email (55ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  21 (ERR)
      ✓ should enforce required fields (86ms)
    Login
**** Call ## 97 ## Duration:  66
      ✓ should login (66ms)
**** Call ## 98 ## Duration:  35 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  42 (ERR)
      ✓ should disallow wrong password (42ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  26 (ERR)
**** Call ## 102 ## Duration:  17 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  97
**** Call ## 111 ## Duration:  130
**** Call ## 112 ## Duration:  115
**** Call ## 113 ## Duration:  98
**** Call ## 114 ## Duration:  60
**** Call ## 115 ## Duration:  84
**** Call ## 116 ## Duration:  95
**** Call ## 117 ## Duration:  105
**** Call ## 118 ## Duration:  96
**** Call ## 119 ## Duration:  98
      ✓ should follow/unfollow user (980ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  83
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  77
**** Call ## 124 ## Duration:  58
      ✓ should update user (284ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  42 (ERR)
      ✓ should disallow missing token/email in update (63ms)
**** Call ## 127 ## Duration:  85
**** Call ## 128 ## Duration:  58 (ERR)
      ✓ should disallow reusing email (144ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  179
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  107
    Create
**** Call ## 3 ## Duration:  144
      ✓ should create article (146ms)
**** Call ## 4 ## Duration:  92
      ✓ should create article with tags (94ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  117 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  57 (ERR)
**** Call ## 9 ## Duration:  62 (ERR)
      ✓ should enforce required fields (300ms)
    Get
**** Call ## 10 ## Duration:  80
      ✓ should get article by slug (80ms)
**** Call ## 11 ## Duration:  80
      ✓ should get article with tags by slug (80ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  183
**** Call ## 14 ## Duration:  156
**** Call ## 15 ## Duration:  136
      ✓ should update article (479ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  151 (ERR)
      ✓ should disallow unauthenticated update (151ms)
**** Call ## 19 ## Duration:  60 (ERR)
      ✓ should disallow updating non-existent article (61ms)
**** Call ## 20 ## Duration:  67 (ERR)
      ✓ should disallow non-author from updating (68ms)
    Favorite
**** Call ## 21 ## Duration:  126
**** Call ## 22 ## Duration:  108
      ✓ should favorite article (235ms)
**** Call ## 23 ## Duration:  20 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  64 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  130
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  116
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (151ms)
**** Call ## 28 ## Duration:  20 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  73 (ERR)
      ✓ should disallow deleting article by non-author (73ms)
    List
**** Call ## 31 ## Duration:  85
**** Call ## 32 ## Duration:  87
**** Call ## 33 ## Duration:  98
**** Call ## 34 ## Duration:  91
**** Call ## 35 ## Duration:  95
**** Call ## 36 ## Duration:  87
**** Call ## 37 ## Duration:  92
**** Call ## 38 ## Duration:  81
**** Call ## 39 ## Duration:  163
**** Call ## 40 ## Duration:  76
**** Call ## 41 ## Duration:  73
**** Call ## 42 ## Duration:  105
**** Call ## 43 ## Duration:  64
**** Call ## 44 ## Duration:  85
**** Call ## 45 ## Duration:  81
**** Call ## 46 ## Duration:  74
**** Call ## 47 ## Duration:  68
**** Call ## 48 ## Duration:  70
**** Call ## 49 ## Duration:  97
**** Call ## 50 ## Duration:  74
**** Call ## 51 ## Duration:  952
      ✓ should list articles (952ms)
**** Call ## 52 ## Duration:  1386
**** Call ## 53 ## Duration:  546
      ✓ should list articles with tag (1933ms)
**** Call ## 54 ## Duration:  332
      ✓ should list articles by author (332ms)
**** Call ## 55 ## Duration:  104
      ✓ should list articles favorited by user (105ms)
**** Call ## 56 ## Duration:  198
**** Call ## 57 ## Duration:  142
      ✓ should list articles by limit/offset (340ms)
**** Call ## 58 ## Duration:  810
      ✓ should list articles when authenticated (811ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  21 (ERR)
**** Call ## 59 ## Duration:  27 (ERR)
**** Call ## 60 ## Duration:  82 (ERR)
**** Call ## 62 ## Duration:  87
**** Call ## 63 ## Duration:  122
**** Call ## 64 ## Duration:  430
**** Call ## 65 ## Duration:  124
**** Call ## 66 ## Duration:  460
      ✓ should get feed (1224ms)
**** Call ## 67 ## Duration:  30 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  250
      ✓ should get tags (250ms)

  Comment
**** Call ## 69 ## Duration:  113
**** Call ## 70 ## Duration:  130
**** Call ## 71 ## Duration:  73
    Create
**** Call ## 72 ## Duration:  112
**** Call ## 73 ## Duration:  90
**** Call ## 74 ## Duration:  101
**** Call ## 75 ## Duration:  96
**** Call ## 76 ## Duration:  86
**** Call ## 77 ## Duration:  91
**** Call ## 78 ## Duration:  90
**** Call ## 79 ## Duration:  129
**** Call ## 80 ## Duration:  72
**** Call ## 81 ## Duration:  107
      ✓ should create comment (978ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  289
      ✓ should get all comments for article (289ms)
    Delete
**** Call ## 86 ## Duration:  96
      ✓ should delete comment (97ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (53ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  111
      ✓ should create user (112ms)
**** Call ## 91 ## Duration:  27 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  71 (ERR)
      ✓ should disallow same email (71ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  25 (ERR)
      ✓ should enforce required fields (90ms)
    Login
**** Call ## 97 ## Duration:  64
      ✓ should login (65ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (62ms)
    Get
**** Call ## 103 ## Duration:  63
      ✓ should get current user (63ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (86ms)
    Profile
**** Call ## 108 ## Duration:  64
      ✓ should get profile (65ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  156
**** Call ## 111 ## Duration:  118
**** Call ## 112 ## Duration:  99
**** Call ## 113 ## Duration:  72
**** Call ## 114 ## Duration:  55
**** Call ## 115 ## Duration:  111
**** Call ## 116 ## Duration:  108
**** Call ## 117 ## Duration:  114
**** Call ## 118 ## Duration:  108
**** Call ## 119 ## Duration:  98
      ✓ should follow/unfollow user (1041ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  85
**** Call ## 122 ## Duration:  64
**** Call ## 123 ## Duration:  56
**** Call ## 124 ## Duration:  57
      ✓ should update user (265ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  42 (ERR)
      ✓ should disallow missing token/email in update (61ms)
**** Call ## 127 ## Duration:  88
**** Call ## 128 ## Duration:  49 (ERR)
      ✓ should disallow reusing email (138ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  184
**** Call ## 1 ## Duration:  118
**** Call ## 2 ## Duration:  122
    Create
**** Call ## 3 ## Duration:  111
      ✓ should create article (113ms)
**** Call ## 4 ## Duration:  100
      ✓ should create article with tags (102ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  112 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  61 (ERR)
      ✓ should enforce required fields (304ms)
    Get
**** Call ## 10 ## Duration:  155
      ✓ should get article by slug (156ms)
**** Call ## 11 ## Duration:  95
      ✓ should get article with tags by slug (96ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  143
**** Call ## 14 ## Duration:  130
**** Call ## 15 ## Duration:  118
      ✓ should update article (392ms)
**** Call ## 16 ## Duration:  19 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  81 (ERR)
      ✓ should disallow updating non-existent article (81ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  137
**** Call ## 22 ## Duration:  98
      ✓ should favorite article (236ms)
**** Call ## 23 ## Duration:  18 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  71 (ERR)
      ✓ should disallow favoriting unknown article (71ms)
**** Call ## 25 ## Duration:  141
      ✓ should unfavorite article (143ms)
    Delete
**** Call ## 26 ## Duration:  124
**** Call ## 27 ## Duration:  56 (ERR)
      ✓ should delete article (181ms)
**** Call ## 28 ## Duration:  25 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  59 (ERR)
      ✓ should disallow deleting unknown article (59ms)
**** Call ## 30 ## Duration:  62 (ERR)
      ✓ should disallow deleting article by non-author (62ms)
    List
**** Call ## 31 ## Duration:  102
**** Call ## 32 ## Duration:  73
**** Call ## 33 ## Duration:  82
**** Call ## 34 ## Duration:  99
**** Call ## 35 ## Duration:  66
**** Call ## 36 ## Duration:  149
**** Call ## 37 ## Duration:  81
**** Call ## 38 ## Duration:  70
**** Call ## 39 ## Duration:  73
**** Call ## 40 ## Duration:  97
**** Call ## 41 ## Duration:  84
**** Call ## 42 ## Duration:  79
**** Call ## 43 ## Duration:  86
**** Call ## 44 ## Duration:  63
**** Call ## 45 ## Duration:  102
**** Call ## 46 ## Duration:  84
**** Call ## 47 ## Duration:  77
**** Call ## 48 ## Duration:  82
**** Call ## 49 ## Duration:  76
**** Call ## 50 ## Duration:  85
**** Call ## 51 ## Duration:  1045
      ✓ should list articles (1046ms)
**** Call ## 52 ## Duration:  510
**** Call ## 53 ## Duration:  539
      ✓ should list articles with tag (1051ms)
**** Call ## 54 ## Duration:  396
      ✓ should list articles by author (396ms)
**** Call ## 55 ## Duration:  117
      ✓ should list articles favorited by user (117ms)
**** Call ## 56 ## Duration:  223
**** Call ## 57 ## Duration:  133
      ✓ should list articles by limit/offset (356ms)
**** Call ## 58 ## Duration:  843
      ✓ should list articles when authenticated (844ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  20 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  27 (ERR)
**** Call ## 62 ## Duration:  82
**** Call ## 63 ## Duration:  113
**** Call ## 64 ## Duration:  358
**** Call ## 65 ## Duration:  106
**** Call ## 66 ## Duration:  544
      ✓ should get feed (1205ms)
**** Call ## 67 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  211
      ✓ should get tags (211ms)

  Comment
**** Call ## 69 ## Duration:  134
**** Call ## 70 ## Duration:  111
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  114
**** Call ## 73 ## Duration:  129
**** Call ## 74 ## Duration:  97
**** Call ## 75 ## Duration:  82
**** Call ## 76 ## Duration:  89
**** Call ## 77 ## Duration:  100
**** Call ## 78 ## Duration:  161
**** Call ## 79 ## Duration:  90
**** Call ## 80 ## Duration:  84
**** Call ## 81 ## Duration:  78
      ✓ should create comment (1028ms)
**** Call ## 82 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  53 (ERR)
      ✓ should enforce comment body (53ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  232
      ✓ should get all comments for article (233ms)
    Delete
**** Call ## 86 ## Duration:  139
      ✓ should delete comment (139ms)
**** Call ## 87 ## Duration:  67 (ERR)
      ✓ only comment author should be able to delete comment (67ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  52 (ERR)
      ✓ should disallow deleting unknown comment (52ms)

  User
    Create
**** Call ## 90 ## Duration:  120
      ✓ should create user (120ms)
**** Call ## 91 ## Duration:  27 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  21 (ERR)
**** Call ## 95 ## Duration:  36 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (102ms)
    Login
**** Call ## 97 ## Duration:  79
      ✓ should login (79ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  75 (ERR)
      ✓ should disallow wrong password (75ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (64ms)
    Get
**** Call ## 103 ## Duration:  54
      ✓ should get current user (54ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  29 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  26 (ERR)
      ✓ should disallow bad tokens (96ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  106
**** Call ## 111 ## Duration:  118
**** Call ## 112 ## Duration:  101
**** Call ## 113 ## Duration:  124
**** Call ## 114 ## Duration:  76
**** Call ## 115 ## Duration:  100
**** Call ## 116 ## Duration:  82
**** Call ## 117 ## Duration:  127
**** Call ## 118 ## Duration:  113
**** Call ## 119 ## Duration:  120
      ✓ should follow/unfollow user (1068ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  98
**** Call ## 122 ## Duration:  152
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  56
      ✓ should update user (360ms)
**** Call ## 125 ## Duration:  20 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  80
**** Call ## 128 ## Duration:  48 (ERR)
      ✓ should disallow reusing email (129ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  161
**** Call ## 1 ## Duration:  115
**** Call ## 2 ## Duration:  93
    Create
**** Call ## 3 ## Duration:  97
      ✓ should create article (101ms)
**** Call ## 4 ## Duration:  96
      ✓ should create article with tags (97ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  64 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  64 (ERR)
      ✓ should enforce required fields (252ms)
    Get
**** Call ## 10 ## Duration:  98
      ✓ should get article by slug (99ms)
**** Call ## 11 ## Duration:  88
      ✓ should get article with tags by slug (89ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  177
**** Call ## 14 ## Duration:  131
**** Call ## 15 ## Duration:  142
      ✓ should update article (455ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  84 (ERR)
      ✓ should disallow updating non-existent article (84ms)
**** Call ## 20 ## Duration:  82 (ERR)
      ✓ should disallow non-author from updating (83ms)
    Favorite
**** Call ## 21 ## Duration:  156
**** Call ## 22 ## Duration:  109
      ✓ should favorite article (265ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  147 (ERR)
      ✓ should disallow favoriting unknown article (147ms)
**** Call ## 25 ## Duration:  134
      ✓ should unfavorite article (134ms)
    Delete
**** Call ## 26 ## Duration:  105
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (147ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown article (58ms)
**** Call ## 30 ## Duration:  81 (ERR)
      ✓ should disallow deleting article by non-author (82ms)
    List
**** Call ## 31 ## Duration:  89
**** Call ## 32 ## Duration:  80
**** Call ## 33 ## Duration:  111
**** Call ## 34 ## Duration:  116
**** Call ## 35 ## Duration:  72
**** Call ## 36 ## Duration:  72
**** Call ## 37 ## Duration:  69
**** Call ## 38 ## Duration:  98
**** Call ## 39 ## Duration:  86
**** Call ## 40 ## Duration:  72
**** Call ## 41 ## Duration:  72
**** Call ## 42 ## Duration:  109
**** Call ## 43 ## Duration:  59
**** Call ## 44 ## Duration:  69
**** Call ## 45 ## Duration:  64
**** Call ## 46 ## Duration:  65
**** Call ## 47 ## Duration:  84
**** Call ## 48 ## Duration:  58
**** Call ## 49 ## Duration:  92
**** Call ## 50 ## Duration:  74
**** Call ## 51 ## Duration:  1072
      ✓ should list articles (1072ms)
**** Call ## 52 ## Duration:  514
**** Call ## 53 ## Duration:  605
      ✓ should list articles with tag (1119ms)
**** Call ## 54 ## Duration:  262
      ✓ should list articles by author (262ms)
**** Call ## 55 ## Duration:  75
      ✓ should list articles favorited by user (75ms)
**** Call ## 56 ## Duration:  166
**** Call ## 57 ## Duration:  188
      ✓ should list articles by limit/offset (354ms)
**** Call ## 58 ## Duration:  819
      ✓ should list articles when authenticated (819ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  23 (ERR)
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  134
**** Call ## 63 ## Duration:  132
**** Call ## 64 ## Duration:  378
**** Call ## 65 ## Duration:  97
**** Call ## 66 ## Duration:  478
      ✓ should get feed (1221ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  211
      ✓ should get tags (211ms)

  Comment
**** Call ## 69 ## Duration:  113
**** Call ## 70 ## Duration:  100
**** Call ## 71 ## Duration:  93
    Create
**** Call ## 72 ## Duration:  129
**** Call ## 73 ## Duration:  142
**** Call ## 74 ## Duration:  104
**** Call ## 75 ## Duration:  99
**** Call ## 76 ## Duration:  91
**** Call ## 77 ## Duration:  89
**** Call ## 78 ## Duration:  92
**** Call ## 79 ## Duration:  83
**** Call ## 80 ## Duration:  85
**** Call ## 81 ## Duration:  90
      ✓ should create comment (1006ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  52 (ERR)
      ✓ should enforce comment body (52ms)
**** Call ## 84 ## Duration:  52 (ERR)
      ✓ should disallow non-existent article (53ms)
    Get
**** Call ## 85 ## Duration:  259
      ✓ should get all comments for article (259ms)
    Delete
**** Call ## 86 ## Duration:  122
      ✓ should delete comment (122ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (55ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  108
      ✓ should create user (109ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  52 (ERR)
      ✓ should disallow same email (53ms)
**** Call ## 93 ## Duration:  19 (ERR)
**** Call ## 94 ## Duration:  25 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (84ms)
    Login
**** Call ## 97 ## Duration:  66
      ✓ should login (66ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  28 (ERR)
**** Call ## 102 ## Duration:  17 (ERR)
      ✓ should enforce required fields (67ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  18 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  20 (ERR)
      ✓ should disallow bad tokens (78ms)
    Profile
**** Call ## 108 ## Duration:  61
      ✓ should get profile (62ms)
**** Call ## 109 ## Duration:  35 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  93
**** Call ## 111 ## Duration:  118
**** Call ## 112 ## Duration:  102
**** Call ## 113 ## Duration:  73
**** Call ## 114 ## Duration:  52
**** Call ## 115 ## Duration:  101
**** Call ## 116 ## Duration:  101
**** Call ## 117 ## Duration:  139
**** Call ## 118 ## Duration:  102
**** Call ## 119 ## Duration:  112
      ✓ should follow/unfollow user (994ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  133
**** Call ## 122 ## Duration:  64
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  63
      ✓ should update user (322ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (71ms)
**** Call ## 127 ## Duration:  121
**** Call ## 128 ## Duration:  56 (ERR)
      ✓ should disallow reusing email (178ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  137
**** Call ## 1 ## Duration:  99
**** Call ## 2 ## Duration:  92
    Create
**** Call ## 3 ## Duration:  99
      ✓ should create article (102ms)
**** Call ## 4 ## Duration:  80
      ✓ should create article with tags (82ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  61 (ERR)
**** Call ## 7 ## Duration:  66 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  64 (ERR)
      ✓ should enforce required fields (258ms)
    Get
**** Call ## 10 ## Duration:  87
      ✓ should get article by slug (87ms)
**** Call ## 11 ## Duration:  90
      ✓ should get article with tags by slug (90ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  199
**** Call ## 14 ## Duration:  128
**** Call ## 15 ## Duration:  112
      ✓ should update article (441ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  77 (ERR)
      ✓ should disallow updating non-existent article (77ms)
**** Call ## 20 ## Duration:  54 (ERR)
      ✓ should disallow non-author from updating (55ms)
    Favorite
**** Call ## 21 ## Duration:  125
**** Call ## 22 ## Duration:  149
      ✓ should favorite article (274ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  58 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  114
      ✓ should unfavorite article (114ms)
    Delete
**** Call ## 26 ## Duration:  108
**** Call ## 27 ## Duration:  35 (ERR)
      ✓ should delete article (144ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  72 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  80
**** Call ## 32 ## Duration:  76
**** Call ## 33 ## Duration:  94
**** Call ## 34 ## Duration:  95
**** Call ## 35 ## Duration:  82
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  76
**** Call ## 38 ## Duration:  98
**** Call ## 39 ## Duration:  70
**** Call ## 40 ## Duration:  87
**** Call ## 41 ## Duration:  82
**** Call ## 42 ## Duration:  77
**** Call ## 43 ## Duration:  88
**** Call ## 44 ## Duration:  149
**** Call ## 45 ## Duration:  92
**** Call ## 46 ## Duration:  75
**** Call ## 47 ## Duration:  107
**** Call ## 48 ## Duration:  83
**** Call ## 49 ## Duration:  102
**** Call ## 50 ## Duration:  79
**** Call ## 51 ## Duration:  848
      ✓ should list articles (849ms)
**** Call ## 52 ## Duration:  577
**** Call ## 53 ## Duration:  557
      ✓ should list articles with tag (1134ms)
**** Call ## 54 ## Duration:  246
      ✓ should list articles by author (247ms)
**** Call ## 55 ## Duration:  156
      ✓ should list articles favorited by user (156ms)
**** Call ## 56 ## Duration:  166
**** Call ## 57 ## Duration:  164
      ✓ should list articles by limit/offset (330ms)
**** Call ## 58 ## Duration:  733
      ✓ should list articles when authenticated (733ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  22 (ERR)
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  74
**** Call ## 63 ## Duration:  125
**** Call ## 64 ## Duration:  340
**** Call ## 65 ## Duration:  116
**** Call ## 66 ## Duration:  557
      ✓ should get feed (1214ms)
**** Call ## 67 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  183
      ✓ should get tags (183ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  81
**** Call ## 71 ## Duration:  77
    Create
**** Call ## 72 ## Duration:  114
**** Call ## 73 ## Duration:  93
**** Call ## 74 ## Duration:  102
**** Call ## 75 ## Duration:  93
**** Call ## 76 ## Duration:  111
**** Call ## 77 ## Duration:  100
**** Call ## 78 ## Duration:  103
**** Call ## 79 ## Duration:  83
**** Call ## 80 ## Duration:  91
**** Call ## 81 ## Duration:  87
      ✓ should create comment (977ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  39 (ERR)
      ✓ should enforce comment body (39ms)
**** Call ## 84 ## Duration:  51 (ERR)
      ✓ should disallow non-existent article (52ms)
    Get
**** Call ## 85 ## Duration:  241
      ✓ should get all comments for article (241ms)
    Delete
**** Call ## 86 ## Duration:  111
      ✓ should delete comment (111ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  18 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  69 (ERR)
      ✓ should disallow deleting unknown comment (69ms)

  User
    Create
**** Call ## 90 ## Duration:  144
      ✓ should create user (144ms)
**** Call ## 91 ## Duration:  39 (ERR)
      ✓ should disallow same username (39ms)
**** Call ## 92 ## Duration:  71 (ERR)
      ✓ should disallow same email (71ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  19 (ERR)
**** Call ## 96 ## Duration:  20 (ERR)
      ✓ should enforce required fields (87ms)
    Login
**** Call ## 97 ## Duration:  67
      ✓ should login (68ms)
**** Call ## 98 ## Duration:  37 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (65ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  20 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (89ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  118
**** Call ## 111 ## Duration:  124
**** Call ## 112 ## Duration:  86
**** Call ## 113 ## Duration:  81
**** Call ## 114 ## Duration:  294
**** Call ## 115 ## Duration:  131
**** Call ## 116 ## Duration:  115
**** Call ## 117 ## Duration:  133
**** Call ## 118 ## Duration:  117
**** Call ## 119 ## Duration:  113
      ✓ should follow/unfollow user (1316ms)
**** Call ## 120 ## Duration:  18 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  69
**** Call ## 122 ## Duration:  51
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  69
      ✓ should update user (242ms)
**** Call ## 125 ## Duration:  52 (ERR)
**** Call ## 126 ## Duration:  25 (ERR)
      ✓ should disallow missing token/email in update (78ms)
**** Call ## 127 ## Duration:  107
**** Call ## 128 ## Duration:  41 (ERR)
      ✓ should disallow reusing email (149ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  156
**** Call ## 1 ## Duration:  119
**** Call ## 2 ## Duration:  113
    Create
**** Call ## 3 ## Duration:  97
      ✓ should create article (100ms)
**** Call ## 4 ## Duration:  89
      ✓ should create article with tags (91ms)
**** Call ## 5 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  64 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (244ms)
    Get
**** Call ## 10 ## Duration:  94
      ✓ should get article by slug (95ms)
**** Call ## 11 ## Duration:  76
      ✓ should get article with tags by slug (77ms)
**** Call ## 12 ## Duration:  36 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  135
**** Call ## 15 ## Duration:  170
      ✓ should update article (460ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  60 (ERR)
      ✓ should disallow non-author from updating (60ms)
    Favorite
**** Call ## 21 ## Duration:  139
**** Call ## 22 ## Duration:  113
      ✓ should favorite article (253ms)
**** Call ## 23 ## Duration:  19 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  51 (ERR)
      ✓ should disallow favoriting unknown article (51ms)
**** Call ## 25 ## Duration:  123
      ✓ should unfavorite article (123ms)
    Delete
**** Call ## 26 ## Duration:  119
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (162ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  75 (ERR)
      ✓ should disallow deleting unknown article (75ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (69ms)
    List
**** Call ## 31 ## Duration:  97
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  193
**** Call ## 34 ## Duration:  83
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  104
**** Call ## 37 ## Duration:  93
**** Call ## 38 ## Duration:  117
**** Call ## 39 ## Duration:  81
**** Call ## 40 ## Duration:  82
**** Call ## 41 ## Duration:  71
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  56
**** Call ## 44 ## Duration:  87
**** Call ## 45 ## Duration:  72
**** Call ## 46 ## Duration:  80
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  62
**** Call ## 49 ## Duration:  63
**** Call ## 50 ## Duration:  66
**** Call ## 51 ## Duration:  927
      ✓ should list articles (927ms)
**** Call ## 52 ## Duration:  488
**** Call ## 53 ## Duration:  715
      ✓ should list articles with tag (1205ms)
**** Call ## 54 ## Duration:  318
      ✓ should list articles by author (318ms)
**** Call ## 55 ## Duration:  112
      ✓ should list articles favorited by user (112ms)
**** Call ## 56 ## Duration:  142
**** Call ## 57 ## Duration:  185
      ✓ should list articles by limit/offset (327ms)
**** Call ## 58 ## Duration:  808
      ✓ should list articles when authenticated (808ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  21 (ERR)
**** Call ## 60 ## Duration:  21 (ERR)
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 62 ## Duration:  81
**** Call ## 63 ## Duration:  129
**** Call ## 64 ## Duration:  359
**** Call ## 65 ## Duration:  111
**** Call ## 66 ## Duration:  458
      ✓ should get feed (1140ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  272
      ✓ should get tags (272ms)

  Comment
**** Call ## 69 ## Duration:  113
**** Call ## 70 ## Duration:  99
**** Call ## 71 ## Duration:  92
    Create
**** Call ## 72 ## Duration:  100
**** Call ## 73 ## Duration:  77
**** Call ## 74 ## Duration:  88
**** Call ## 75 ## Duration:  111
**** Call ## 76 ## Duration:  82
**** Call ## 77 ## Duration:  73
**** Call ## 78 ## Duration:  95
**** Call ## 79 ## Duration:  77
**** Call ## 80 ## Duration:  78
**** Call ## 81 ## Duration:  72
      ✓ should create comment (855ms)
**** Call ## 82 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  57 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  326
      ✓ should get all comments for article (326ms)
    Delete
**** Call ## 86 ## Duration:  147
      ✓ should delete comment (147ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (59ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  149 (ERR)
      ✓ should disallow deleting unknown comment (151ms)

  User
    Create
**** Call ## 90 ## Duration:  121
      ✓ should create user (123ms)
**** Call ## 91 ## Duration:  42 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  52 (ERR)
**** Call ## 94 ## Duration:  19 (ERR)
**** Call ## 95 ## Duration:  30 (ERR)
**** Call ## 96 ## Duration:  19 (ERR)
      ✓ should enforce required fields (122ms)
    Login
**** Call ## 97 ## Duration:  71
      ✓ should login (71ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  20 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  20 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  19 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  18 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (82ms)
    Profile
**** Call ## 108 ## Duration:  65
      ✓ should get profile (65ms)
**** Call ## 109 ## Duration:  32 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  143
**** Call ## 111 ## Duration:  111
**** Call ## 112 ## Duration:  70
**** Call ## 113 ## Duration:  79
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  93
**** Call ## 116 ## Duration:  128
**** Call ## 117 ## Duration:  128
**** Call ## 118 ## Duration:  102
**** Call ## 119 ## Duration:  97
      ✓ should follow/unfollow user (1015ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  103
**** Call ## 122 ## Duration:  44
**** Call ## 123 ## Duration:  110
**** Call ## 124 ## Duration:  45
      ✓ should update user (304ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  37 (ERR)
      ✓ should disallow missing token/email in update (59ms)
**** Call ## 127 ## Duration:  99
**** Call ## 128 ## Duration:  47 (ERR)
      ✓ should disallow reusing email (146ms)

  Util
    Ping
**** Call ## 129 ## Duration:  28
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uvlggwwm56.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  150
**** Call ## 1 ## Duration:  114
**** Call ## 2 ## Duration:  99
    Create
**** Call ## 3 ## Duration:  93
      ✓ should create article (95ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (90ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  67 (ERR)
**** Call ## 7 ## Duration:  62 (ERR)
**** Call ## 8 ## Duration:  58 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (249ms)
    Get
**** Call ## 10 ## Duration:  76
      ✓ should get article by slug (76ms)
**** Call ## 11 ## Duration:  79
      ✓ should get article with tags by slug (79ms)
**** Call ## 12 ## Duration:  43 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  152
**** Call ## 14 ## Duration:  164
**** Call ## 15 ## Duration:  145
      ✓ should update article (466ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  78 (ERR)
      ✓ should disallow updating non-existent article (78ms)
**** Call ## 20 ## Duration:  51 (ERR)
      ✓ should disallow non-author from updating (52ms)
    Favorite
**** Call ## 21 ## Duration:  131
**** Call ## 22 ## Duration:  129
      ✓ should favorite article (261ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  106
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (148ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  58 (ERR)
      ✓ should disallow deleting article by non-author (58ms)
    List
**** Call ## 31 ## Duration:  100
**** Call ## 32 ## Duration:  102
**** Call ## 33 ## Duration:  80
**** Call ## 34 ## Duration:  73
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  94
**** Call ## 37 ## Duration:  70
**** Call ## 38 ## Duration:  73
**** Call ## 39 ## Duration:  74
**** Call ## 40 ## Duration:  89
**** Call ## 41 ## Duration:  79
**** Call ## 42 ## Duration:  81
**** Call ## 43 ## Duration:  66
**** Call ## 44 ## Duration:  75
**** Call ## 45 ## Duration:  83
**** Call ## 46 ## Duration:  71
**** Call ## 47 ## Duration:  71
**** Call ## 48 ## Duration:  86
**** Call ## 49 ## Duration:  70
**** Call ## 50 ## Duration:  81
**** Call ## 51 ## Duration:  912
      ✓ should list articles (912ms)
**** Call ## 52 ## Duration:  538
**** Call ## 53 ## Duration:  622
      ✓ should list articles with tag (1160ms)
**** Call ## 54 ## Duration:  321
      ✓ should list articles by author (321ms)
**** Call ## 55 ## Duration:  91
      ✓ should list articles favorited by user (91ms)
**** Call ## 56 ## Duration:  132
**** Call ## 57 ## Duration:  156
      ✓ should list articles by limit/offset (288ms)
**** Call ## 58 ## Duration:  721
      ✓ should list articles when authenticated (721ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 60 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 62 ## Duration:  89
**** Call ## 63 ## Duration:  130
**** Call ## 64 ## Duration:  440
**** Call ## 65 ## Duration:  120
**** Call ## 66 ## Duration:  548
      ✓ should get feed (1328ms)
**** Call ## 67 ## Duration:  19 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  268
      ✓ should get tags (268ms)

  Comment
**** Call ## 69 ## Duration:  116
**** Call ## 70 ## Duration:  82
**** Call ## 71 ## Duration:  92
    Create
**** Call ## 72 ## Duration:  111
**** Call ## 73 ## Duration:  96
**** Call ## 74 ## Duration:  121
**** Call ## 75 ## Duration:  106
**** Call ## 76 ## Duration:  89
**** Call ## 77 ## Duration:  105
**** Call ## 78 ## Duration:  78
**** Call ## 79 ## Duration:  173
**** Call ## 80 ## Duration:  92
**** Call ## 81 ## Duration:  83
      ✓ should create comment (1055ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  61 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  261
      ✓ should get all comments for article (261ms)
    Delete
**** Call ## 86 ## Duration:  94
      ✓ should delete comment (94ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (55ms)
**** Call ## 88 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown comment (68ms)

  User
    Create
**** Call ## 90 ## Duration:  115
      ✓ should create user (115ms)
**** Call ## 91 ## Duration:  46 (ERR)
      ✓ should disallow same username (47ms)
**** Call ## 92 ## Duration:  54 (ERR)
      ✓ should disallow same email (55ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  25 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (93ms)
    Login
**** Call ## 97 ## Duration:  83
      ✓ should login (83ms)
**** Call ## 98 ## Duration:  39 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  19 (ERR)
**** Call ## 101 ## Duration:  19 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (61ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  19 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (85ms)
    Profile
**** Call ## 108 ## Duration:  69
      ✓ should get profile (69ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  106
**** Call ## 111 ## Duration:  120
**** Call ## 112 ## Duration:  105
**** Call ## 113 ## Duration:  83
**** Call ## 114 ## Duration:  69
**** Call ## 115 ## Duration:  117
**** Call ## 116 ## Duration:  72
**** Call ## 117 ## Duration:  132
**** Call ## 118 ## Duration:  112
**** Call ## 119 ## Duration:  92
      ✓ should follow/unfollow user (1009ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  81
**** Call ## 122 ## Duration:  46
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  60
      ✓ should update user (251ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  30 (ERR)
      ✓ should disallow missing token/email in update (55ms)
**** Call ## 127 ## Duration:  238
**** Call ## 128 ## Duration:  51 (ERR)
      ✓ should disallow reusing email (290ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (14s)

results20191101165205/rec-res-9-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
.......................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
