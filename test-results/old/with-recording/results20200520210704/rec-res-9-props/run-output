Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
........
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (28.77 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
....................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 176
WARNING:
  You have 176 resources in your service.
  CloudFormation has a hard limit of 200 resources in a service.
  For advice on avoiding this limit, check out this link: http://bit.ly/2IiYB38.
api keys:
  None
endpoints:
  POST - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  1474
**** Call ## 1 ## Duration:  187
**** Call ## 2 ## Duration:  174
    Create
**** Call ## 3 ## Duration:  1151
      ✓ should create article (1154ms)
**** Call ## 4 ## Duration:  187
      ✓ should create article with tags (188ms)
**** Call ## 5 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 6 ## Duration:  135 (ERR)
**** Call ## 7 ## Duration:  172 (ERR)
**** Call ## 8 ## Duration:  142 (ERR)
**** Call ## 9 ## Duration:  171 (ERR)
      ✓ should enforce required fields (620ms)
    Get
**** Call ## 10 ## Duration:  1194
      ✓ should get article by slug (1195ms)
**** Call ## 11 ## Duration:  156
      ✓ should get article with tags by slug (156ms)
**** Call ## 12 ## Duration:  163 (ERR)
      ✓ should disallow unknown slug (163ms)
    Update
**** Call ## 13 ## Duration:  1294
**** Call ## 14 ## Duration:  213
**** Call ## 15 ## Duration:  210
      ✓ should update article (1719ms)
**** Call ## 16 ## Duration:  86 (ERR)
      ✓ should disallow missing mutation (86ms)
**** Call ## 17 ## Duration:  90 (ERR)
      ✓ should disallow empty mutation (90ms)
**** Call ## 18 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated update (88ms)
**** Call ## 19 ## Duration:  142 (ERR)
      ✓ should disallow updating non-existent article (142ms)
**** Call ## 20 ## Duration:  150 (ERR)
      ✓ should disallow non-author from updating (151ms)
    Favorite
**** Call ## 21 ## Duration:  1184
**** Call ## 22 ## Duration:  350
      ✓ should favorite article (1534ms)
**** Call ## 23 ## Duration:  84 (ERR)
      ✓ should disallow favoriting by unauthenticated user (85ms)
**** Call ## 24 ## Duration:  164 (ERR)
      ✓ should disallow favoriting unknown article (164ms)
**** Call ## 25 ## Duration:  1253
      ✓ should unfavorite article (1253ms)
    Delete
**** Call ## 26 ## Duration:  1214
**** Call ## 27 ## Duration:  117 (ERR)
      ✓ should delete article (1332ms)
**** Call ## 28 ## Duration:  119 (ERR)
      ✓ should disallow deleting by unauthenticated user (120ms)
**** Call ## 29 ## Duration:  130 (ERR)
      ✓ should disallow deleting unknown article (130ms)
**** Call ## 30 ## Duration:  126 (ERR)
      ✓ should disallow deleting article by non-author (128ms)
    List
**** Call ## 31 ## Duration:  158
**** Call ## 32 ## Duration:  177
**** Call ## 33 ## Duration:  134
**** Call ## 34 ## Duration:  173
**** Call ## 35 ## Duration:  165
**** Call ## 36 ## Duration:  222
**** Call ## 37 ## Duration:  155
**** Call ## 38 ## Duration:  138
**** Call ## 39 ## Duration:  138
**** Call ## 40 ## Duration:  164
**** Call ## 41 ## Duration:  143
**** Call ## 42 ## Duration:  163
**** Call ## 43 ## Duration:  124
**** Call ## 44 ## Duration:  154
**** Call ## 45 ## Duration:  154
**** Call ## 46 ## Duration:  148
**** Call ## 47 ## Duration:  181
**** Call ## 48 ## Duration:  137
**** Call ## 49 ## Duration:  147
**** Call ## 50 ## Duration:  144
**** Call ## 51 ## Duration:  1707
      ✓ should list articles (1708ms)
**** Call ## 52 ## Duration:  159
**** Call ## 53 ## Duration:  236
      ✓ should list articles with tag (396ms)
**** Call ## 54 ## Duration:  351
      ✓ should list articles by author (351ms)
**** Call ## 55 ## Duration:  100
      ✓ should list articles favorited by user (100ms)
**** Call ## 56 ## Duration:  175
**** Call ## 57 ## Duration:  221
      ✓ should list articles by limit/offset (396ms)
**** Call ## 58 ## Duration:  517
      ✓ should list articles when authenticated (518ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  92 (ERR)
**** Call ## 59 ## Duration:  98 (ERR)
**** Call ## 61 ## Duration:  154 (ERR)
**** Call ## 62 ## Duration:  1183
**** Call ## 63 ## Duration:  1174
**** Call ## 64 ## Duration:  383
**** Call ## 65 ## Duration:  178
**** Call ## 66 ## Duration:  536
      ✓ should get feed (3458ms)
**** Call ## 67 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated feed (89ms)
    Tags
**** Call ## 68 ## Duration:  1167
      ✓ should get tags (1167ms)

  Comment
**** Call ## 69 ## Duration:  233
**** Call ## 70 ## Duration:  204
**** Call ## 71 ## Duration:  241
    Create
**** Call ## 72 ## Duration:  1091
**** Call ## 73 ## Duration:  186
**** Call ## 74 ## Duration:  182
**** Call ## 75 ## Duration:  161
**** Call ## 76 ## Duration:  245
**** Call ## 77 ## Duration:  171
**** Call ## 78 ## Duration:  263
**** Call ## 79 ## Duration:  153
**** Call ## 80 ## Duration:  224
**** Call ## 81 ## Duration:  147
      ✓ should create comment (2825ms)
**** Call ## 82 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 83 ## Duration:  112 (ERR)
      ✓ should enforce comment body (112ms)
**** Call ## 84 ## Duration:  120 (ERR)
      ✓ should disallow non-existent article (120ms)
    Get
**** Call ## 85 ## Duration:  1607
      ✓ should get all comments for article (1607ms)
    Delete
**** Call ## 86 ## Duration:  1056
      ✓ should delete comment (1057ms)
**** Call ## 87 ## Duration:  111 (ERR)
      ✓ only comment author should be able to delete comment (111ms)
**** Call ## 88 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated user (90ms)
**** Call ## 89 ## Duration:  125 (ERR)
      ✓ should disallow deleting unknown comment (126ms)

  User
    Create
**** Call ## 90 ## Duration:  216
      ✓ should create user (216ms)
**** Call ## 91 ## Duration:  103 (ERR)
      ✓ should disallow same username (103ms)
**** Call ## 92 ## Duration:  246 (ERR)
      ✓ should disallow same email (246ms)
**** Call ## 93 ## Duration:  87 (ERR)
**** Call ## 94 ## Duration:  119 (ERR)
**** Call ## 95 ## Duration:  91 (ERR)
**** Call ## 96 ## Duration:  84 (ERR)
      ✓ should enforce required fields (381ms)
    Login
**** Call ## 97 ## Duration:  1168
      ✓ should login (1168ms)
**** Call ## 98 ## Duration:  98 (ERR)
      ✓ should disallow unknown email (98ms)
**** Call ## 99 ## Duration:  105 (ERR)
      ✓ should disallow wrong password (105ms)
**** Call ## 100 ## Duration:  94 (ERR)
**** Call ## 101 ## Duration:  81 (ERR)
**** Call ## 102 ## Duration:  84 (ERR)
      ✓ should enforce required fields (259ms)
    Get
**** Call ## 103 ## Duration:  1191
      ✓ should get current user (1191ms)
**** Call ## 104 ## Duration:  81 (ERR)
**** Call ## 105 ## Duration:  83 (ERR)
**** Call ## 106 ## Duration:  112 (ERR)
**** Call ## 107 ## Duration:  118 (ERR)
      ✓ should disallow bad tokens (397ms)
    Profile
**** Call ## 108 ## Duration:  1251
      ✓ should get profile (1251ms)
**** Call ## 109 ## Duration:  110 (ERR)
      ✓ should disallow unknown username (110ms)
**** Call ## 110 ## Duration:  193
**** Call ## 111 ## Duration:  194
**** Call ## 112 ## Duration:  210
**** Call ## 113 ## Duration:  158
**** Call ## 114 ## Duration:  141
**** Call ## 115 ## Duration:  218
**** Call ## 116 ## Duration:  193
**** Call ## 117 ## Duration:  1159
**** Call ## 118 ## Duration:  245
**** Call ## 119 ## Duration:  196
      ✓ should follow/unfollow user (2908ms)
**** Call ## 120 ## Duration:  80 (ERR)
      ✓ should disallow following with bad token (81ms)
    Update
**** Call ## 121 ## Duration:  1134
**** Call ## 122 ## Duration:  193
**** Call ## 123 ## Duration:  124
**** Call ## 124 ## Duration:  128
      ✓ should update user (1580ms)
**** Call ## 125 ## Duration:  81 (ERR)
**** Call ## 126 ## Duration:  104 (ERR)
      ✓ should disallow missing token/email in update (186ms)
**** Call ## 127 ## Duration:  171
**** Call ## 128 ## Duration:  123 (ERR)
      ✓ should disallow reusing email (294ms)

  Util
    Ping
**** Call ## 129 ## Duration:  937
      ✓ should ping (938ms)


  58 passing (42s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  243
**** Call ## 1 ## Duration:  173
**** Call ## 2 ## Duration:  191
    Create
**** Call ## 3 ## Duration:  238
      ✓ should create article (240ms)
**** Call ## 4 ## Duration:  160
      ✓ should create article with tags (161ms)
**** Call ## 5 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (86ms)
**** Call ## 6 ## Duration:  131 (ERR)
**** Call ## 7 ## Duration:  135 (ERR)
**** Call ## 8 ## Duration:  110 (ERR)
**** Call ## 9 ## Duration:  137 (ERR)
      ✓ should enforce required fields (514ms)
    Get
**** Call ## 10 ## Duration:  247
      ✓ should get article by slug (247ms)
**** Call ## 11 ## Duration:  192
      ✓ should get article with tags by slug (192ms)
**** Call ## 12 ## Duration:  98 (ERR)
      ✓ should disallow unknown slug (99ms)
    Update
**** Call ## 13 ## Duration:  288
**** Call ## 14 ## Duration:  224
**** Call ## 15 ## Duration:  223
      ✓ should update article (739ms)
**** Call ## 16 ## Duration:  80 (ERR)
      ✓ should disallow missing mutation (80ms)
**** Call ## 17 ## Duration:  85 (ERR)
      ✓ should disallow empty mutation (87ms)
**** Call ## 18 ## Duration:  104 (ERR)
      ✓ should disallow unauthenticated update (104ms)
**** Call ## 19 ## Duration:  182 (ERR)
      ✓ should disallow updating non-existent article (183ms)
**** Call ## 20 ## Duration:  609 (ERR)
      ✓ should disallow non-author from updating (609ms)
    Favorite
**** Call ## 21 ## Duration:  322
**** Call ## 22 ## Duration:  219
      ✓ should favorite article (541ms)
**** Call ## 23 ## Duration:  91 (ERR)
      ✓ should disallow favoriting by unauthenticated user (91ms)
**** Call ## 24 ## Duration:  169 (ERR)
      ✓ should disallow favoriting unknown article (170ms)
**** Call ## 25 ## Duration:  262
      ✓ should unfavorite article (262ms)
    Delete
**** Call ## 26 ## Duration:  295
**** Call ## 27 ## Duration:  123 (ERR)
      ✓ should delete article (418ms)
**** Call ## 28 ## Duration:  83 (ERR)
      ✓ should disallow deleting by unauthenticated user (83ms)
**** Call ## 29 ## Duration:  145 (ERR)
      ✓ should disallow deleting unknown article (145ms)
**** Call ## 30 ## Duration:  143 (ERR)
      ✓ should disallow deleting article by non-author (143ms)
    List
**** Call ## 31 ## Duration:  197
**** Call ## 32 ## Duration:  147
**** Call ## 33 ## Duration:  146
**** Call ## 34 ## Duration:  171
**** Call ## 35 ## Duration:  152
**** Call ## 36 ## Duration:  167
**** Call ## 37 ## Duration:  158
**** Call ## 38 ## Duration:  193
**** Call ## 39 ## Duration:  153
**** Call ## 40 ## Duration:  150
**** Call ## 41 ## Duration:  132
**** Call ## 42 ## Duration:  128
**** Call ## 43 ## Duration:  160
**** Call ## 44 ## Duration:  154
**** Call ## 45 ## Duration:  140
**** Call ## 46 ## Duration:  149
**** Call ## 47 ## Duration:  147
**** Call ## 48 ## Duration:  120
**** Call ## 49 ## Duration:  184
**** Call ## 50 ## Duration:  145
**** Call ## 51 ## Duration:  689
      ✓ should list articles (690ms)
**** Call ## 52 ## Duration:  157
**** Call ## 53 ## Duration:  342
      ✓ should list articles with tag (500ms)
**** Call ## 54 ## Duration:  377
      ✓ should list articles by author (378ms)
**** Call ## 55 ## Duration:  101
      ✓ should list articles favorited by user (101ms)
**** Call ## 56 ## Duration:  165
**** Call ## 57 ## Duration:  162
      ✓ should list articles by limit/offset (327ms)
**** Call ## 58 ## Duration:  579
      ✓ should list articles when authenticated (579ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  85 (ERR)
**** Call ## 60 ## Duration:  88 (ERR)
**** Call ## 61 ## Duration:  99 (ERR)
**** Call ## 62 ## Duration:  216
**** Call ## 63 ## Duration:  275
**** Call ## 64 ## Duration:  432
**** Call ## 65 ## Duration:  197
**** Call ## 66 ## Duration:  536
      ✓ should get feed (1660ms)
**** Call ## 67 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated feed (87ms)
    Tags
**** Call ## 68 ## Duration:  197
      ✓ should get tags (198ms)

  Comment
**** Call ## 69 ## Duration:  181
**** Call ## 70 ## Duration:  180
**** Call ## 71 ## Duration:  157
    Create
**** Call ## 72 ## Duration:  226
**** Call ## 73 ## Duration:  161
**** Call ## 74 ## Duration:  179
**** Call ## 75 ## Duration:  142
**** Call ## 76 ## Duration:  187
**** Call ## 77 ## Duration:  173
**** Call ## 78 ## Duration:  197
**** Call ## 79 ## Duration:  214
**** Call ## 80 ## Duration:  171
**** Call ## 81 ## Duration:  165
      ✓ should create comment (1818ms)
**** Call ## 82 ## Duration:  101 (ERR)
      ✓ should disallow unauthenticated user (101ms)
**** Call ## 83 ## Duration:  102 (ERR)
      ✓ should enforce comment body (102ms)
**** Call ## 84 ## Duration:  155 (ERR)
      ✓ should disallow non-existent article (155ms)
    Get
**** Call ## 85 ## Duration:  265
      ✓ should get all comments for article (265ms)
    Delete
**** Call ## 86 ## Duration:  177
      ✓ should delete comment (177ms)
**** Call ## 87 ## Duration:  107 (ERR)
      ✓ only comment author should be able to delete comment (109ms)
**** Call ## 88 ## Duration:  111 (ERR)
      ✓ should disallow unauthenticated user (111ms)
**** Call ## 89 ## Duration:  122 (ERR)
      ✓ should disallow deleting unknown comment (122ms)

  User
    Create
**** Call ## 90 ## Duration:  170
      ✓ should create user (171ms)
**** Call ## 91 ## Duration:  111 (ERR)
      ✓ should disallow same username (111ms)
**** Call ## 92 ## Duration:  118 (ERR)
      ✓ should disallow same email (119ms)
**** Call ## 93 ## Duration:  107 (ERR)
**** Call ## 94 ## Duration:  106 (ERR)
**** Call ## 95 ## Duration:  125 (ERR)
**** Call ## 96 ## Duration:  86 (ERR)
      ✓ should enforce required fields (425ms)
    Login
**** Call ## 97 ## Duration:  221
      ✓ should login (222ms)
**** Call ## 98 ## Duration:  102 (ERR)
      ✓ should disallow unknown email (103ms)
**** Call ## 99 ## Duration:  103 (ERR)
      ✓ should disallow wrong password (103ms)
**** Call ## 100 ## Duration:  115 (ERR)
**** Call ## 101 ## Duration:  132 (ERR)
**** Call ## 102 ## Duration:  79 (ERR)
      ✓ should enforce required fields (328ms)
    Get
**** Call ## 103 ## Duration:  126
      ✓ should get current user (126ms)
**** Call ## 104 ## Duration:  95 (ERR)
**** Call ## 105 ## Duration:  83 (ERR)
**** Call ## 106 ## Duration:  87 (ERR)
**** Call ## 107 ## Duration:  94 (ERR)
      ✓ should disallow bad tokens (359ms)
    Profile
**** Call ## 108 ## Duration:  206
      ✓ should get profile (206ms)
**** Call ## 109 ## Duration:  101 (ERR)
      ✓ should disallow unknown username (101ms)
**** Call ## 110 ## Duration:  178
**** Call ## 111 ## Duration:  213
**** Call ## 112 ## Duration:  175
**** Call ## 113 ## Duration:  148
**** Call ## 114 ## Duration:  114
**** Call ## 115 ## Duration:  180
**** Call ## 116 ## Duration:  237
**** Call ## 117 ## Duration:  303
**** Call ## 118 ## Duration:  152
**** Call ## 119 ## Duration:  185
      ✓ should follow/unfollow user (1887ms)
**** Call ## 120 ## Duration:  91 (ERR)
      ✓ should disallow following with bad token (92ms)
    Update
**** Call ## 121 ## Duration:  226
**** Call ## 122 ## Duration:  149
**** Call ## 123 ## Duration:  122
**** Call ## 124 ## Duration:  169
      ✓ should update user (668ms)
**** Call ## 125 ## Duration:  82 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (183ms)
**** Call ## 127 ## Duration:  166
**** Call ## 128 ## Duration:  116 (ERR)
      ✓ should disallow reusing email (283ms)

  Util
    Ping
**** Call ## 129 ## Duration:  82
      ✓ should ping (82ms)


  58 passing (23s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  230
**** Call ## 1 ## Duration:  201
**** Call ## 2 ## Duration:  211
    Create
**** Call ## 3 ## Duration:  158
      ✓ should create article (160ms)
**** Call ## 4 ## Duration:  145
      ✓ should create article with tags (147ms)
**** Call ## 5 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 6 ## Duration:  122 (ERR)
**** Call ## 7 ## Duration:  111 (ERR)
**** Call ## 8 ## Duration:  122 (ERR)
**** Call ## 9 ## Duration:  123 (ERR)
      ✓ should enforce required fields (480ms)
    Get
**** Call ## 10 ## Duration:  150
      ✓ should get article by slug (151ms)
**** Call ## 11 ## Duration:  163
      ✓ should get article with tags by slug (163ms)
**** Call ## 12 ## Duration:  227 (ERR)
      ✓ should disallow unknown slug (227ms)
    Update
**** Call ## 13 ## Duration:  274
**** Call ## 14 ## Duration:  223
**** Call ## 15 ## Duration:  214
      ✓ should update article (712ms)
**** Call ## 16 ## Duration:  145 (ERR)
      ✓ should disallow missing mutation (146ms)
**** Call ## 17 ## Duration:  90 (ERR)
      ✓ should disallow empty mutation (91ms)
**** Call ## 18 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated update (87ms)
**** Call ## 19 ## Duration:  128 (ERR)
      ✓ should disallow updating non-existent article (128ms)
**** Call ## 20 ## Duration:  131 (ERR)
      ✓ should disallow non-author from updating (131ms)
    Favorite
**** Call ## 21 ## Duration:  255
**** Call ## 22 ## Duration:  181
      ✓ should favorite article (436ms)
**** Call ## 23 ## Duration:  131 (ERR)
      ✓ should disallow favoriting by unauthenticated user (132ms)
**** Call ## 24 ## Duration:  182 (ERR)
      ✓ should disallow favoriting unknown article (182ms)
**** Call ## 25 ## Duration:  210
      ✓ should unfavorite article (210ms)
    Delete
**** Call ## 26 ## Duration:  203
**** Call ## 27 ## Duration:  109 (ERR)
      ✓ should delete article (312ms)
**** Call ## 28 ## Duration:  87 (ERR)
      ✓ should disallow deleting by unauthenticated user (87ms)
**** Call ## 29 ## Duration:  134 (ERR)
      ✓ should disallow deleting unknown article (134ms)
**** Call ## 30 ## Duration:  143 (ERR)
      ✓ should disallow deleting article by non-author (143ms)
    List
**** Call ## 31 ## Duration:  152
**** Call ## 32 ## Duration:  150
**** Call ## 33 ## Duration:  328
**** Call ## 34 ## Duration:  152
**** Call ## 35 ## Duration:  164
**** Call ## 36 ## Duration:  143
**** Call ## 37 ## Duration:  148
**** Call ## 38 ## Duration:  149
**** Call ## 39 ## Duration:  126
**** Call ## 40 ## Duration:  157
**** Call ## 41 ## Duration:  148
**** Call ## 42 ## Duration:  190
**** Call ## 43 ## Duration:  140
**** Call ## 44 ## Duration:  166
**** Call ## 45 ## Duration:  141
**** Call ## 46 ## Duration:  155
**** Call ## 47 ## Duration:  131
**** Call ## 48 ## Duration:  147
**** Call ## 49 ## Duration:  139
**** Call ## 50 ## Duration:  143
**** Call ## 51 ## Duration:  605
      ✓ should list articles (605ms)
**** Call ## 52 ## Duration:  179
**** Call ## 53 ## Duration:  389
      ✓ should list articles with tag (568ms)
**** Call ## 54 ## Duration:  359
      ✓ should list articles by author (359ms)
**** Call ## 55 ## Duration:  93
      ✓ should list articles favorited by user (93ms)
**** Call ## 56 ## Duration:  144
**** Call ## 57 ## Duration:  179
      ✓ should list articles by limit/offset (323ms)
**** Call ## 58 ## Duration:  667
      ✓ should list articles when authenticated (667ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  85 (ERR)
**** Call ## 60 ## Duration:  129 (ERR)
**** Call ## 59 ## Duration:  155 (ERR)
**** Call ## 62 ## Duration:  153
**** Call ## 63 ## Duration:  195
**** Call ## 64 ## Duration:  398
**** Call ## 65 ## Duration:  236
**** Call ## 66 ## Duration:  575
      ✓ should get feed (1558ms)
**** Call ## 67 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated feed (88ms)
    Tags
**** Call ## 68 ## Duration:  157
      ✓ should get tags (157ms)

  Comment
**** Call ## 69 ## Duration:  169
**** Call ## 70 ## Duration:  169
**** Call ## 71 ## Duration:  151
    Create
**** Call ## 72 ## Duration:  165
**** Call ## 73 ## Duration:  159
**** Call ## 74 ## Duration:  162
**** Call ## 75 ## Duration:  189
**** Call ## 76 ## Duration:  219
**** Call ## 77 ## Duration:  154
**** Call ## 78 ## Duration:  153
**** Call ## 79 ## Duration:  211
**** Call ## 80 ## Duration:  149
**** Call ## 81 ## Duration:  178
      ✓ should create comment (1741ms)
**** Call ## 82 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 83 ## Duration:  99 (ERR)
      ✓ should enforce comment body (99ms)
**** Call ## 84 ## Duration:  108 (ERR)
      ✓ should disallow non-existent article (108ms)
    Get
**** Call ## 85 ## Duration:  291
      ✓ should get all comments for article (291ms)
    Delete
**** Call ## 86 ## Duration:  163
      ✓ should delete comment (164ms)
**** Call ## 87 ## Duration:  146 (ERR)
      ✓ only comment author should be able to delete comment (147ms)
**** Call ## 88 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated user (78ms)
**** Call ## 89 ## Duration:  126 (ERR)
      ✓ should disallow deleting unknown comment (126ms)

  User
    Create
**** Call ## 90 ## Duration:  188
      ✓ should create user (188ms)
**** Call ## 91 ## Duration:  98 (ERR)
      ✓ should disallow same username (98ms)
**** Call ## 92 ## Duration:  129 (ERR)
      ✓ should disallow same email (129ms)
**** Call ## 93 ## Duration:  79 (ERR)
**** Call ## 94 ## Duration:  84 (ERR)
**** Call ## 95 ## Duration:  84 (ERR)
**** Call ## 96 ## Duration:  85 (ERR)
      ✓ should enforce required fields (332ms)
    Login
**** Call ## 97 ## Duration:  183
      ✓ should login (183ms)
**** Call ## 98 ## Duration:  100 (ERR)
      ✓ should disallow unknown email (100ms)
**** Call ## 99 ## Duration:  105 (ERR)
      ✓ should disallow wrong password (106ms)
**** Call ## 100 ## Duration:  125 (ERR)
**** Call ## 101 ## Duration:  78 (ERR)
**** Call ## 102 ## Duration:  78 (ERR)
      ✓ should enforce required fields (283ms)
    Get
**** Call ## 103 ## Duration:  177
      ✓ should get current user (177ms)
**** Call ## 104 ## Duration:  87 (ERR)
**** Call ## 105 ## Duration:  85 (ERR)
**** Call ## 106 ## Duration:  91 (ERR)
**** Call ## 107 ## Duration:  80 (ERR)
      ✓ should disallow bad tokens (343ms)
    Profile
**** Call ## 108 ## Duration:  164
      ✓ should get profile (164ms)
**** Call ## 109 ## Duration:  99 (ERR)
      ✓ should disallow unknown username (100ms)
**** Call ## 110 ## Duration:  186
**** Call ## 111 ## Duration:  177
**** Call ## 112 ## Duration:  167
**** Call ## 113 ## Duration:  159
**** Call ## 114 ## Duration:  133
**** Call ## 115 ## Duration:  192
**** Call ## 116 ## Duration:  171
**** Call ## 117 ## Duration:  267
**** Call ## 118 ## Duration:  196
**** Call ## 119 ## Duration:  276
      ✓ should follow/unfollow user (1927ms)
**** Call ## 120 ## Duration:  178 (ERR)
      ✓ should disallow following with bad token (178ms)
    Update
**** Call ## 121 ## Duration:  185
**** Call ## 122 ## Duration:  125
**** Call ## 123 ## Duration:  126
**** Call ## 124 ## Duration:  115
      ✓ should update user (553ms)
**** Call ## 125 ## Duration:  78 (ERR)
**** Call ## 126 ## Duration:  131 (ERR)
      ✓ should disallow missing token/email in update (210ms)
**** Call ## 127 ## Duration:  205
**** Call ## 128 ## Duration:  116 (ERR)
      ✓ should disallow reusing email (322ms)

  Util
    Ping
**** Call ## 129 ## Duration:  95
      ✓ should ping (95ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  242
**** Call ## 1 ## Duration:  183
**** Call ## 2 ## Duration:  188
    Create
**** Call ## 3 ## Duration:  145
      ✓ should create article (147ms)
**** Call ## 4 ## Duration:  161
      ✓ should create article with tags (162ms)
**** Call ## 5 ## Duration:  108 (ERR)
      ✓ should disallow unauthenticated user (108ms)
**** Call ## 6 ## Duration:  113 (ERR)
**** Call ## 7 ## Duration:  133 (ERR)
**** Call ## 8 ## Duration:  115 (ERR)
**** Call ## 9 ## Duration:  116 (ERR)
      ✓ should enforce required fields (479ms)
    Get
**** Call ## 10 ## Duration:  183
      ✓ should get article by slug (183ms)
**** Call ## 11 ## Duration:  132
      ✓ should get article with tags by slug (132ms)
**** Call ## 12 ## Duration:  105 (ERR)
      ✓ should disallow unknown slug (105ms)
    Update
**** Call ## 13 ## Duration:  230
**** Call ## 14 ## Duration:  200
**** Call ## 15 ## Duration:  208
      ✓ should update article (639ms)
**** Call ## 16 ## Duration:  94 (ERR)
      ✓ should disallow missing mutation (94ms)
**** Call ## 17 ## Duration:  80 (ERR)
      ✓ should disallow empty mutation (81ms)
**** Call ## 18 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated update (79ms)
**** Call ## 19 ## Duration:  144 (ERR)
      ✓ should disallow updating non-existent article (144ms)
**** Call ## 20 ## Duration:  135 (ERR)
      ✓ should disallow non-author from updating (136ms)
    Favorite
**** Call ## 21 ## Duration:  209
**** Call ## 22 ## Duration:  228
      ✓ should favorite article (437ms)
**** Call ## 23 ## Duration:  81 (ERR)
      ✓ should disallow favoriting by unauthenticated user (83ms)
**** Call ## 24 ## Duration:  140 (ERR)
      ✓ should disallow favoriting unknown article (140ms)
**** Call ## 25 ## Duration:  158
      ✓ should unfavorite article (158ms)
    Delete
**** Call ## 26 ## Duration:  166
**** Call ## 27 ## Duration:  133 (ERR)
      ✓ should delete article (300ms)
**** Call ## 28 ## Duration:  82 (ERR)
      ✓ should disallow deleting by unauthenticated user (83ms)
**** Call ## 29 ## Duration:  131 (ERR)
      ✓ should disallow deleting unknown article (131ms)
**** Call ## 30 ## Duration:  124 (ERR)
      ✓ should disallow deleting article by non-author (125ms)
    List
**** Call ## 31 ## Duration:  149
**** Call ## 32 ## Duration:  138
**** Call ## 33 ## Duration:  248
**** Call ## 34 ## Duration:  155
**** Call ## 35 ## Duration:  153
**** Call ## 36 ## Duration:  132
**** Call ## 37 ## Duration:  134
**** Call ## 38 ## Duration:  147
**** Call ## 39 ## Duration:  132
**** Call ## 40 ## Duration:  123
**** Call ## 41 ## Duration:  148
**** Call ## 42 ## Duration:  138
**** Call ## 43 ## Duration:  144
**** Call ## 44 ## Duration:  322
**** Call ## 45 ## Duration:  132
**** Call ## 46 ## Duration:  139
**** Call ## 47 ## Duration:  135
**** Call ## 48 ## Duration:  225
**** Call ## 49 ## Duration:  133
**** Call ## 50 ## Duration:  133
**** Call ## 51 ## Duration:  492
      ✓ should list articles (492ms)
**** Call ## 52 ## Duration:  219
**** Call ## 53 ## Duration:  531
      ✓ should list articles with tag (751ms)
**** Call ## 54 ## Duration:  338
      ✓ should list articles by author (338ms)
**** Call ## 55 ## Duration:  103
      ✓ should list articles favorited by user (104ms)
**** Call ## 56 ## Duration:  160
**** Call ## 57 ## Duration:  280
      ✓ should list articles by limit/offset (440ms)
**** Call ## 58 ## Duration:  609
      ✓ should list articles when authenticated (609ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  86 (ERR)
**** Call ## 59 ## Duration:  93 (ERR)
**** Call ## 61 ## Duration:  127 (ERR)
**** Call ## 62 ## Duration:  168
**** Call ## 63 ## Duration:  277
**** Call ## 64 ## Duration:  350
**** Call ## 65 ## Duration:  210
**** Call ## 66 ## Duration:  596
      ✓ should get feed (1603ms)
**** Call ## 67 ## Duration:  110 (ERR)
      ✓ should disallow unauthenticated feed (110ms)
    Tags
**** Call ## 68 ## Duration:  218
      ✓ should get tags (218ms)

  Comment
**** Call ## 69 ## Duration:  170
**** Call ## 70 ## Duration:  192
**** Call ## 71 ## Duration:  147
    Create
**** Call ## 72 ## Duration:  174
**** Call ## 73 ## Duration:  211
**** Call ## 74 ## Duration:  169
**** Call ## 75 ## Duration:  144
**** Call ## 76 ## Duration:  189
**** Call ## 77 ## Duration:  161
**** Call ## 78 ## Duration:  138
**** Call ## 79 ## Duration:  170
**** Call ## 80 ## Duration:  169
**** Call ## 81 ## Duration:  940
      ✓ should create comment (2467ms)
**** Call ## 82 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 83 ## Duration:  113 (ERR)
      ✓ should enforce comment body (113ms)
**** Call ## 84 ## Duration:  111 (ERR)
      ✓ should disallow non-existent article (112ms)
    Get
**** Call ## 85 ## Duration:  319
      ✓ should get all comments for article (320ms)
    Delete
**** Call ## 86 ## Duration:  163
      ✓ should delete comment (163ms)
**** Call ## 87 ## Duration:  132 (ERR)
      ✓ only comment author should be able to delete comment (132ms)
**** Call ## 88 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 89 ## Duration:  115 (ERR)
      ✓ should disallow deleting unknown comment (115ms)

  User
    Create
**** Call ## 90 ## Duration:  206
      ✓ should create user (207ms)
**** Call ## 91 ## Duration:  92 (ERR)
      ✓ should disallow same username (92ms)
**** Call ## 92 ## Duration:  115 (ERR)
      ✓ should disallow same email (116ms)
**** Call ## 93 ## Duration:  83 (ERR)
**** Call ## 94 ## Duration:  82 (ERR)
**** Call ## 95 ## Duration:  82 (ERR)
**** Call ## 96 ## Duration:  89 (ERR)
      ✓ should enforce required fields (337ms)
    Login
**** Call ## 97 ## Duration:  122
      ✓ should login (122ms)
**** Call ## 98 ## Duration:  98 (ERR)
      ✓ should disallow unknown email (99ms)
**** Call ## 99 ## Duration:  110 (ERR)
      ✓ should disallow wrong password (111ms)
**** Call ## 100 ## Duration:  87 (ERR)
**** Call ## 101 ## Duration:  119 (ERR)
**** Call ## 102 ## Duration:  84 (ERR)
      ✓ should enforce required fields (290ms)
    Get
**** Call ## 103 ## Duration:  147
      ✓ should get current user (147ms)
**** Call ## 104 ## Duration:  169 (ERR)
**** Call ## 105 ## Duration:  78 (ERR)
**** Call ## 106 ## Duration:  85 (ERR)
**** Call ## 107 ## Duration:  108 (ERR)
      ✓ should disallow bad tokens (442ms)
    Profile
**** Call ## 108 ## Duration:  128
      ✓ should get profile (128ms)
**** Call ## 109 ## Duration:  103 (ERR)
      ✓ should disallow unknown username (103ms)
**** Call ## 110 ## Duration:  151
**** Call ## 111 ## Duration:  202
**** Call ## 112 ## Duration:  184
**** Call ## 113 ## Duration:  160
**** Call ## 114 ## Duration:  152
**** Call ## 115 ## Duration:  165
**** Call ## 116 ## Duration:  224
**** Call ## 117 ## Duration:  202
**** Call ## 118 ## Duration:  195
**** Call ## 119 ## Duration:  180
      ✓ should follow/unfollow user (1818ms)
**** Call ## 120 ## Duration:  107 (ERR)
      ✓ should disallow following with bad token (107ms)
    Update
**** Call ## 121 ## Duration:  174
**** Call ## 122 ## Duration:  137
**** Call ## 123 ## Duration:  126
**** Call ## 124 ## Duration:  121
      ✓ should update user (558ms)
**** Call ## 125 ## Duration:  91 (ERR)
**** Call ## 126 ## Duration:  140 (ERR)
      ✓ should disallow missing token/email in update (231ms)
**** Call ## 127 ## Duration:  341
**** Call ## 128 ## Duration:  126 (ERR)
      ✓ should disallow reusing email (467ms)

  Util
    Ping
**** Call ## 129 ## Duration:  85
      ✓ should ping (85ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  233
**** Call ## 1 ## Duration:  189
**** Call ## 2 ## Duration:  160
    Create
**** Call ## 3 ## Duration:  144
      ✓ should create article (147ms)
**** Call ## 4 ## Duration:  145
      ✓ should create article with tags (147ms)
**** Call ## 5 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 6 ## Duration:  121 (ERR)
**** Call ## 7 ## Duration:  121 (ERR)
**** Call ## 8 ## Duration:  109 (ERR)
**** Call ## 9 ## Duration:  117 (ERR)
      ✓ should enforce required fields (470ms)
    Get
**** Call ## 10 ## Duration:  190
      ✓ should get article by slug (190ms)
**** Call ## 11 ## Duration:  153
      ✓ should get article with tags by slug (154ms)
**** Call ## 12 ## Duration:  103 (ERR)
      ✓ should disallow unknown slug (104ms)
    Update
**** Call ## 13 ## Duration:  206
**** Call ## 14 ## Duration:  200
**** Call ## 15 ## Duration:  201
      ✓ should update article (609ms)
**** Call ## 16 ## Duration:  87 (ERR)
      ✓ should disallow missing mutation (87ms)
**** Call ## 17 ## Duration:  83 (ERR)
      ✓ should disallow empty mutation (83ms)
**** Call ## 18 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated update (85ms)
**** Call ## 19 ## Duration:  143 (ERR)
      ✓ should disallow updating non-existent article (143ms)
**** Call ## 20 ## Duration:  116 (ERR)
      ✓ should disallow non-author from updating (117ms)
    Favorite
**** Call ## 21 ## Duration:  187
**** Call ## 22 ## Duration:  175
      ✓ should favorite article (363ms)
**** Call ## 23 ## Duration:  84 (ERR)
      ✓ should disallow favoriting by unauthenticated user (84ms)
**** Call ## 24 ## Duration:  127 (ERR)
      ✓ should disallow favoriting unknown article (127ms)
**** Call ## 25 ## Duration:  183
      ✓ should unfavorite article (183ms)
    Delete
**** Call ## 26 ## Duration:  175
**** Call ## 27 ## Duration:  99 (ERR)
      ✓ should delete article (275ms)
**** Call ## 28 ## Duration:  86 (ERR)
      ✓ should disallow deleting by unauthenticated user (87ms)
**** Call ## 29 ## Duration:  130 (ERR)
      ✓ should disallow deleting unknown article (130ms)
**** Call ## 30 ## Duration:  130 (ERR)
      ✓ should disallow deleting article by non-author (131ms)
    List
**** Call ## 31 ## Duration:  138
**** Call ## 32 ## Duration:  132
**** Call ## 33 ## Duration:  136
**** Call ## 34 ## Duration:  148
**** Call ## 35 ## Duration:  125
**** Call ## 36 ## Duration:  205
**** Call ## 37 ## Duration:  163
**** Call ## 38 ## Duration:  120
**** Call ## 39 ## Duration:  131
**** Call ## 40 ## Duration:  183
**** Call ## 41 ## Duration:  120
**** Call ## 42 ## Duration:  271
**** Call ## 43 ## Duration:  156
**** Call ## 44 ## Duration:  212
**** Call ## 45 ## Duration:  163
**** Call ## 46 ## Duration:  191
**** Call ## 47 ## Duration:  203
**** Call ## 48 ## Duration:  156
**** Call ## 49 ## Duration:  139
**** Call ## 50 ## Duration:  140
**** Call ## 51 ## Duration:  720
      ✓ should list articles (721ms)
**** Call ## 52 ## Duration:  254
**** Call ## 53 ## Duration:  474
      ✓ should list articles with tag (728ms)
**** Call ## 54 ## Duration:  314
      ✓ should list articles by author (315ms)
**** Call ## 55 ## Duration:  109
      ✓ should list articles favorited by user (109ms)
**** Call ## 56 ## Duration:  154
**** Call ## 57 ## Duration:  136
      ✓ should list articles by limit/offset (290ms)
**** Call ## 58 ## Duration:  701
      ✓ should list articles when authenticated (701ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  83 (ERR)
**** Call ## 61 ## Duration:  88 (ERR)
**** Call ## 59 ## Duration:  91 (ERR)
**** Call ## 62 ## Duration:  157
**** Call ## 63 ## Duration:  170
**** Call ## 64 ## Duration:  370
**** Call ## 65 ## Duration:  174
**** Call ## 66 ## Duration:  624
      ✓ should get feed (1500ms)
**** Call ## 67 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated feed (85ms)
    Tags
**** Call ## 68 ## Duration:  134
      ✓ should get tags (134ms)

  Comment
**** Call ## 69 ## Duration:  207
**** Call ## 70 ## Duration:  215
**** Call ## 71 ## Duration:  129
    Create
**** Call ## 72 ## Duration:  150
**** Call ## 73 ## Duration:  161
**** Call ## 74 ## Duration:  203
**** Call ## 75 ## Duration:  170
**** Call ## 76 ## Duration:  164
**** Call ## 77 ## Duration:  150
**** Call ## 78 ## Duration:  163
**** Call ## 79 ## Duration:  177
**** Call ## 80 ## Duration:  166
**** Call ## 81 ## Duration:  158
      ✓ should create comment (1664ms)
**** Call ## 82 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 83 ## Duration:  110 (ERR)
      ✓ should enforce comment body (110ms)
**** Call ## 84 ## Duration:  100 (ERR)
      ✓ should disallow non-existent article (100ms)
    Get
**** Call ## 85 ## Duration:  315
      ✓ should get all comments for article (315ms)
    Delete
**** Call ## 86 ## Duration:  205
      ✓ should delete comment (205ms)
**** Call ## 87 ## Duration:  120 (ERR)
      ✓ only comment author should be able to delete comment (121ms)
**** Call ## 88 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 89 ## Duration:  125 (ERR)
      ✓ should disallow deleting unknown comment (125ms)

  User
    Create
**** Call ## 90 ## Duration:  187
      ✓ should create user (188ms)
**** Call ## 91 ## Duration:  118 (ERR)
      ✓ should disallow same username (118ms)
**** Call ## 92 ## Duration:  129 (ERR)
      ✓ should disallow same email (129ms)
**** Call ## 93 ## Duration:  80 (ERR)
**** Call ## 94 ## Duration:  83 (ERR)
**** Call ## 95 ## Duration:  86 (ERR)
**** Call ## 96 ## Duration:  80 (ERR)
      ✓ should enforce required fields (330ms)
    Login
**** Call ## 97 ## Duration:  158
      ✓ should login (158ms)
**** Call ## 98 ## Duration:  139 (ERR)
      ✓ should disallow unknown email (139ms)
**** Call ## 99 ## Duration:  104 (ERR)
      ✓ should disallow wrong password (104ms)
**** Call ## 100 ## Duration:  105 (ERR)
**** Call ## 101 ## Duration:  83 (ERR)
**** Call ## 102 ## Duration:  81 (ERR)
      ✓ should enforce required fields (269ms)
    Get
**** Call ## 103 ## Duration:  114
      ✓ should get current user (114ms)
**** Call ## 104 ## Duration:  92 (ERR)
**** Call ## 105 ## Duration:  82 (ERR)
**** Call ## 106 ## Duration:  103 (ERR)
**** Call ## 107 ## Duration:  81 (ERR)
      ✓ should disallow bad tokens (359ms)
    Profile
**** Call ## 108 ## Duration:  139
      ✓ should get profile (139ms)
**** Call ## 109 ## Duration:  156 (ERR)
      ✓ should disallow unknown username (156ms)
**** Call ## 110 ## Duration:  173
**** Call ## 111 ## Duration:  182
**** Call ## 112 ## Duration:  286
**** Call ## 113 ## Duration:  283
**** Call ## 114 ## Duration:  194
**** Call ## 115 ## Duration:  172
**** Call ## 116 ## Duration:  193
**** Call ## 117 ## Duration:  195
**** Call ## 118 ## Duration:  194
**** Call ## 119 ## Duration:  199
      ✓ should follow/unfollow user (2073ms)
**** Call ## 120 ## Duration:  80 (ERR)
      ✓ should disallow following with bad token (81ms)
    Update
**** Call ## 121 ## Duration:  125
**** Call ## 122 ## Duration:  113
**** Call ## 123 ## Duration:  113
**** Call ## 124 ## Duration:  161
      ✓ should update user (512ms)
**** Call ## 125 ## Duration:  81 (ERR)
**** Call ## 126 ## Duration:  98 (ERR)
      ✓ should disallow missing token/email in update (182ms)
**** Call ## 127 ## Duration:  189
**** Call ## 128 ## Duration:  186 (ERR)
      ✓ should disallow reusing email (376ms)

  Util
    Ping
**** Call ## 129 ## Duration:  87
      ✓ should ping (88ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  264
**** Call ## 1 ## Duration:  186
**** Call ## 2 ## Duration:  176
    Create
**** Call ## 3 ## Duration:  145
      ✓ should create article (147ms)
**** Call ## 4 ## Duration:  136
      ✓ should create article with tags (138ms)
**** Call ## 5 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated user (89ms)
**** Call ## 6 ## Duration:  143 (ERR)
**** Call ## 7 ## Duration:  120 (ERR)
**** Call ## 8 ## Duration:  142 (ERR)
**** Call ## 9 ## Duration:  108 (ERR)
      ✓ should enforce required fields (514ms)
    Get
**** Call ## 10 ## Duration:  167
      ✓ should get article by slug (167ms)
**** Call ## 11 ## Duration:  160
      ✓ should get article with tags by slug (160ms)
**** Call ## 12 ## Duration:  101 (ERR)
      ✓ should disallow unknown slug (101ms)
    Update
**** Call ## 13 ## Duration:  187
**** Call ## 14 ## Duration:  201
**** Call ## 15 ## Duration:  174
      ✓ should update article (563ms)
**** Call ## 16 ## Duration:  112 (ERR)
      ✓ should disallow missing mutation (112ms)
**** Call ## 17 ## Duration:  90 (ERR)
      ✓ should disallow empty mutation (91ms)
**** Call ## 18 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated update (87ms)
**** Call ## 19 ## Duration:  130 (ERR)
      ✓ should disallow updating non-existent article (131ms)
**** Call ## 20 ## Duration:  164 (ERR)
      ✓ should disallow non-author from updating (164ms)
    Favorite
**** Call ## 21 ## Duration:  221
**** Call ## 22 ## Duration:  182
      ✓ should favorite article (403ms)
**** Call ## 23 ## Duration:  82 (ERR)
      ✓ should disallow favoriting by unauthenticated user (82ms)
**** Call ## 24 ## Duration:  137 (ERR)
      ✓ should disallow favoriting unknown article (137ms)
**** Call ## 25 ## Duration:  191
      ✓ should unfavorite article (192ms)
    Delete
**** Call ## 26 ## Duration:  157
**** Call ## 27 ## Duration:  105 (ERR)
      ✓ should delete article (262ms)
**** Call ## 28 ## Duration:  85 (ERR)
      ✓ should disallow deleting by unauthenticated user (85ms)
**** Call ## 29 ## Duration:  141 (ERR)
      ✓ should disallow deleting unknown article (141ms)
**** Call ## 30 ## Duration:  125 (ERR)
      ✓ should disallow deleting article by non-author (125ms)
    List
**** Call ## 31 ## Duration:  184
**** Call ## 32 ## Duration:  179
**** Call ## 33 ## Duration:  148
**** Call ## 34 ## Duration:  201
**** Call ## 35 ## Duration:  135
**** Call ## 36 ## Duration:  130
**** Call ## 37 ## Duration:  150
**** Call ## 38 ## Duration:  146
**** Call ## 39 ## Duration:  135
**** Call ## 40 ## Duration:  132
**** Call ## 41 ## Duration:  139
**** Call ## 42 ## Duration:  141
**** Call ## 43 ## Duration:  151
**** Call ## 44 ## Duration:  141
**** Call ## 45 ## Duration:  151
**** Call ## 46 ## Duration:  120
**** Call ## 47 ## Duration:  174
**** Call ## 48 ## Duration:  129
**** Call ## 49 ## Duration:  176
**** Call ## 50 ## Duration:  148
**** Call ## 51 ## Duration:  565
      ✓ should list articles (566ms)
**** Call ## 52 ## Duration:  247
**** Call ## 53 ## Duration:  476
      ✓ should list articles with tag (724ms)
**** Call ## 54 ## Duration:  362
      ✓ should list articles by author (362ms)
**** Call ## 55 ## Duration:  129
      ✓ should list articles favorited by user (129ms)
**** Call ## 56 ## Duration:  154
**** Call ## 57 ## Duration:  165
      ✓ should list articles by limit/offset (320ms)
**** Call ## 58 ## Duration:  571
      ✓ should list articles when authenticated (571ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  86 (ERR)
**** Call ## 60 ## Duration:  88 (ERR)
**** Call ## 61 ## Duration:  96 (ERR)
**** Call ## 62 ## Duration:  138
**** Call ## 63 ## Duration:  179
**** Call ## 64 ## Duration:  419
**** Call ## 65 ## Duration:  198
**** Call ## 66 ## Duration:  497
      ✓ should get feed (1433ms)
**** Call ## 67 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated feed (83ms)
    Tags
**** Call ## 68 ## Duration:  188
      ✓ should get tags (188ms)

  Comment
**** Call ## 69 ## Duration:  173
**** Call ## 70 ## Duration:  148
**** Call ## 71 ## Duration:  131
    Create
**** Call ## 72 ## Duration:  162
**** Call ## 73 ## Duration:  163
**** Call ## 74 ## Duration:  183
**** Call ## 75 ## Duration:  161
**** Call ## 76 ## Duration:  179
**** Call ## 77 ## Duration:  270
**** Call ## 78 ## Duration:  154
**** Call ## 79 ## Duration:  164
**** Call ## 80 ## Duration:  146
**** Call ## 81 ## Duration:  222
      ✓ should create comment (1805ms)
**** Call ## 82 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 83 ## Duration:  95 (ERR)
      ✓ should enforce comment body (95ms)
**** Call ## 84 ## Duration:  109 (ERR)
      ✓ should disallow non-existent article (109ms)
    Get
**** Call ## 85 ## Duration:  284
      ✓ should get all comments for article (284ms)
    Delete
**** Call ## 86 ## Duration:  210
      ✓ should delete comment (210ms)
**** Call ## 87 ## Duration:  148 (ERR)
      ✓ only comment author should be able to delete comment (148ms)
**** Call ## 88 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 89 ## Duration:  125 (ERR)
      ✓ should disallow deleting unknown comment (125ms)

  User
    Create
**** Call ## 90 ## Duration:  178
      ✓ should create user (178ms)
**** Call ## 91 ## Duration:  99 (ERR)
      ✓ should disallow same username (99ms)
**** Call ## 92 ## Duration:  103 (ERR)
      ✓ should disallow same email (103ms)
**** Call ## 93 ## Duration:  192 (ERR)
**** Call ## 94 ## Duration:  291 (ERR)
**** Call ## 95 ## Duration:  77 (ERR)
**** Call ## 96 ## Duration:  83 (ERR)
      ✓ should enforce required fields (646ms)
    Login
**** Call ## 97 ## Duration:  139
      ✓ should login (139ms)
**** Call ## 98 ## Duration:  125 (ERR)
      ✓ should disallow unknown email (125ms)
**** Call ## 99 ## Duration:  185 (ERR)
      ✓ should disallow wrong password (186ms)
**** Call ## 100 ## Duration:  162 (ERR)
**** Call ## 101 ## Duration:  82 (ERR)
**** Call ## 102 ## Duration:  156 (ERR)
      ✓ should enforce required fields (400ms)
    Get
**** Call ## 103 ## Duration:  109
      ✓ should get current user (110ms)
**** Call ## 104 ## Duration:  79 (ERR)
**** Call ## 105 ## Duration:  80 (ERR)
**** Call ## 106 ## Duration:  86 (ERR)
**** Call ## 107 ## Duration:  78 (ERR)
      ✓ should disallow bad tokens (323ms)
    Profile
**** Call ## 108 ## Duration:  134
      ✓ should get profile (134ms)
**** Call ## 109 ## Duration:  99 (ERR)
      ✓ should disallow unknown username (101ms)
**** Call ## 110 ## Duration:  186
**** Call ## 111 ## Duration:  196
**** Call ## 112 ## Duration:  220
**** Call ## 113 ## Duration:  145
**** Call ## 114 ## Duration:  142
**** Call ## 115 ## Duration:  159
**** Call ## 116 ## Duration:  190
**** Call ## 117 ## Duration:  204
**** Call ## 118 ## Duration:  205
**** Call ## 119 ## Duration:  212
      ✓ should follow/unfollow user (1865ms)
**** Call ## 120 ## Duration:  86 (ERR)
      ✓ should disallow following with bad token (86ms)
    Update
**** Call ## 121 ## Duration:  155
**** Call ## 122 ## Duration:  133
**** Call ## 123 ## Duration:  130
**** Call ## 124 ## Duration:  154
      ✓ should update user (574ms)
**** Call ## 125 ## Duration:  84 (ERR)
**** Call ## 126 ## Duration:  2017 (ERR)
      ✓ should disallow missing token/email in update (2101ms)
**** Call ## 127 ## Duration:  165
**** Call ## 128 ## Duration:  114 (ERR)
      ✓ should disallow reusing email (279ms)

  Util
    Ping
**** Call ## 129 ## Duration:  81
      ✓ should ping (82ms)


  58 passing (23s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  222
**** Call ## 1 ## Duration:  174
**** Call ## 2 ## Duration:  159
    Create
**** Call ## 3 ## Duration:  156
      ✓ should create article (158ms)
**** Call ## 4 ## Duration:  149
      ✓ should create article with tags (150ms)
**** Call ## 5 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 6 ## Duration:  122 (ERR)
**** Call ## 7 ## Duration:  111 (ERR)
**** Call ## 8 ## Duration:  119 (ERR)
**** Call ## 9 ## Duration:  165 (ERR)
      ✓ should enforce required fields (517ms)
    Get
**** Call ## 10 ## Duration:  160
      ✓ should get article by slug (160ms)
**** Call ## 11 ## Duration:  176
      ✓ should get article with tags by slug (177ms)
**** Call ## 12 ## Duration:  102 (ERR)
      ✓ should disallow unknown slug (102ms)
    Update
**** Call ## 13 ## Duration:  200
**** Call ## 14 ## Duration:  175
**** Call ## 15 ## Duration:  221
      ✓ should update article (599ms)
**** Call ## 16 ## Duration:  91 (ERR)
      ✓ should disallow missing mutation (92ms)
**** Call ## 17 ## Duration:  103 (ERR)
      ✓ should disallow empty mutation (103ms)
**** Call ## 18 ## Duration:  110 (ERR)
      ✓ should disallow unauthenticated update (111ms)
**** Call ## 19 ## Duration:  119 (ERR)
      ✓ should disallow updating non-existent article (120ms)
**** Call ## 20 ## Duration:  125 (ERR)
      ✓ should disallow non-author from updating (125ms)
    Favorite
**** Call ## 21 ## Duration:  187
**** Call ## 22 ## Duration:  170
      ✓ should favorite article (358ms)
**** Call ## 23 ## Duration:  80 (ERR)
      ✓ should disallow favoriting by unauthenticated user (80ms)
**** Call ## 24 ## Duration:  123 (ERR)
      ✓ should disallow favoriting unknown article (123ms)
**** Call ## 25 ## Duration:  201
      ✓ should unfavorite article (202ms)
    Delete
**** Call ## 26 ## Duration:  178
**** Call ## 27 ## Duration:  99 (ERR)
      ✓ should delete article (277ms)
**** Call ## 28 ## Duration:  91 (ERR)
      ✓ should disallow deleting by unauthenticated user (91ms)
**** Call ## 29 ## Duration:  139 (ERR)
      ✓ should disallow deleting unknown article (140ms)
**** Call ## 30 ## Duration:  134 (ERR)
      ✓ should disallow deleting article by non-author (134ms)
    List
**** Call ## 31 ## Duration:  157
**** Call ## 32 ## Duration:  136
**** Call ## 33 ## Duration:  156
**** Call ## 34 ## Duration:  128
**** Call ## 35 ## Duration:  130
**** Call ## 36 ## Duration:  134
**** Call ## 37 ## Duration:  130
**** Call ## 38 ## Duration:  137
**** Call ## 39 ## Duration:  127
**** Call ## 40 ## Duration:  147
**** Call ## 41 ## Duration:  121
**** Call ## 42 ## Duration:  137
**** Call ## 43 ## Duration:  134
**** Call ## 44 ## Duration:  126
**** Call ## 45 ## Duration:  117
**** Call ## 46 ## Duration:  133
**** Call ## 47 ## Duration:  118
**** Call ## 48 ## Duration:  130
**** Call ## 49 ## Duration:  148
**** Call ## 50 ## Duration:  133
**** Call ## 51 ## Duration:  658
      ✓ should list articles (658ms)
**** Call ## 52 ## Duration:  264
**** Call ## 53 ## Duration:  503
      ✓ should list articles with tag (767ms)
**** Call ## 54 ## Duration:  289
      ✓ should list articles by author (289ms)
**** Call ## 55 ## Duration:  121
      ✓ should list articles favorited by user (121ms)
**** Call ## 56 ## Duration:  146
**** Call ## 57 ## Duration:  157
      ✓ should list articles by limit/offset (305ms)
**** Call ## 58 ## Duration:  694
      ✓ should list articles when authenticated (695ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  80 (ERR)
**** Call ## 59 ## Duration:  84 (ERR)
**** Call ## 61 ## Duration:  94 (ERR)
**** Call ## 62 ## Duration:  159
**** Call ## 63 ## Duration:  203
**** Call ## 64 ## Duration:  303
**** Call ## 65 ## Duration:  196
**** Call ## 66 ## Duration:  686
      ✓ should get feed (1549ms)
**** Call ## 67 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated feed (84ms)
    Tags
**** Call ## 68 ## Duration:  135
      ✓ should get tags (136ms)

  Comment
**** Call ## 69 ## Duration:  183
**** Call ## 70 ## Duration:  175
**** Call ## 71 ## Duration:  167
    Create
**** Call ## 72 ## Duration:  175
**** Call ## 73 ## Duration:  206
**** Call ## 74 ## Duration:  158
**** Call ## 75 ## Duration:  154
**** Call ## 76 ## Duration:  143
**** Call ## 77 ## Duration:  137
**** Call ## 78 ## Duration:  169
**** Call ## 79 ## Duration:  165
**** Call ## 80 ## Duration:  170
**** Call ## 81 ## Duration:  162
      ✓ should create comment (1643ms)
**** Call ## 82 ## Duration:  93 (ERR)
      ✓ should disallow unauthenticated user (93ms)
**** Call ## 83 ## Duration:  106 (ERR)
      ✓ should enforce comment body (107ms)
**** Call ## 84 ## Duration:  113 (ERR)
      ✓ should disallow non-existent article (114ms)
    Get
**** Call ## 85 ## Duration:  255
      ✓ should get all comments for article (255ms)
    Delete
**** Call ## 86 ## Duration:  201
      ✓ should delete comment (202ms)
**** Call ## 87 ## Duration:  149 (ERR)
      ✓ only comment author should be able to delete comment (149ms)
**** Call ## 88 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated user (91ms)
**** Call ## 89 ## Duration:  111 (ERR)
      ✓ should disallow deleting unknown comment (112ms)

  User
    Create
**** Call ## 90 ## Duration:  166
      ✓ should create user (166ms)
**** Call ## 91 ## Duration:  111 (ERR)
      ✓ should disallow same username (111ms)
**** Call ## 92 ## Duration:  119 (ERR)
      ✓ should disallow same email (120ms)
**** Call ## 93 ## Duration:  88 (ERR)
**** Call ## 94 ## Duration:  82 (ERR)
**** Call ## 95 ## Duration:  83 (ERR)
**** Call ## 96 ## Duration:  81 (ERR)
      ✓ should enforce required fields (335ms)
    Login
**** Call ## 97 ## Duration:  137
      ✓ should login (137ms)
**** Call ## 98 ## Duration:  103 (ERR)
      ✓ should disallow unknown email (104ms)
**** Call ## 99 ## Duration:  116 (ERR)
      ✓ should disallow wrong password (116ms)
**** Call ## 100 ## Duration:  82 (ERR)
**** Call ## 101 ## Duration:  82 (ERR)
**** Call ## 102 ## Duration:  88 (ERR)
      ✓ should enforce required fields (252ms)
    Get
**** Call ## 103 ## Duration:  109
      ✓ should get current user (109ms)
**** Call ## 104 ## Duration:  83 (ERR)
**** Call ## 105 ## Duration:  83 (ERR)
**** Call ## 106 ## Duration:  102 (ERR)
**** Call ## 107 ## Duration:  80 (ERR)
      ✓ should disallow bad tokens (350ms)
    Profile
**** Call ## 108 ## Duration:  130
      ✓ should get profile (131ms)
**** Call ## 109 ## Duration:  104 (ERR)
      ✓ should disallow unknown username (105ms)
**** Call ## 110 ## Duration:  190
**** Call ## 111 ## Duration:  199
**** Call ## 112 ## Duration:  532
**** Call ## 113 ## Duration:  158
**** Call ## 114 ## Duration:  133
**** Call ## 115 ## Duration:  179
**** Call ## 116 ## Duration:  202
**** Call ## 117 ## Duration:  180
**** Call ## 118 ## Duration:  183
**** Call ## 119 ## Duration:  325
      ✓ should follow/unfollow user (2288ms)
**** Call ## 120 ## Duration:  121 (ERR)
      ✓ should disallow following with bad token (121ms)
    Update
**** Call ## 121 ## Duration:  153
**** Call ## 122 ## Duration:  124
**** Call ## 123 ## Duration:  120
**** Call ## 124 ## Duration:  111
      ✓ should update user (510ms)
**** Call ## 125 ## Duration:  104 (ERR)
**** Call ## 126 ## Duration:  96 (ERR)
      ✓ should disallow missing token/email in update (202ms)
**** Call ## 127 ## Duration:  211
**** Call ## 128 ## Duration:  146 (ERR)
      ✓ should disallow reusing email (357ms)

  Util
    Ping
**** Call ## 129 ## Duration:  80
      ✓ should ping (80ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  255
**** Call ## 1 ## Duration:  183
**** Call ## 2 ## Duration:  162
    Create
**** Call ## 3 ## Duration:  161
      ✓ should create article (164ms)
**** Call ## 4 ## Duration:  188
      ✓ should create article with tags (189ms)
**** Call ## 5 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 6 ## Duration:  1146 (ERR)
**** Call ## 7 ## Duration:  154 (ERR)
**** Call ## 8 ## Duration:  127 (ERR)
**** Call ## 9 ## Duration:  129 (ERR)
      ✓ should enforce required fields (1558ms)
    Get
**** Call ## 10 ## Duration:  150
      ✓ should get article by slug (150ms)
**** Call ## 11 ## Duration:  165
      ✓ should get article with tags by slug (165ms)
**** Call ## 12 ## Duration:  99 (ERR)
      ✓ should disallow unknown slug (100ms)
    Update
**** Call ## 13 ## Duration:  220
**** Call ## 14 ## Duration:  205
**** Call ## 15 ## Duration:  225
      ✓ should update article (653ms)
**** Call ## 16 ## Duration:  77 (ERR)
      ✓ should disallow missing mutation (78ms)
**** Call ## 17 ## Duration:  100 (ERR)
      ✓ should disallow empty mutation (101ms)
**** Call ## 18 ## Duration:  77 (ERR)
      ✓ should disallow unauthenticated update (77ms)
**** Call ## 19 ## Duration:  134 (ERR)
      ✓ should disallow updating non-existent article (134ms)
**** Call ## 20 ## Duration:  170 (ERR)
      ✓ should disallow non-author from updating (171ms)
    Favorite
**** Call ## 21 ## Duration:  219
**** Call ## 22 ## Duration:  175
      ✓ should favorite article (395ms)
**** Call ## 23 ## Duration:  80 (ERR)
      ✓ should disallow favoriting by unauthenticated user (80ms)
**** Call ## 24 ## Duration:  126 (ERR)
      ✓ should disallow favoriting unknown article (126ms)
**** Call ## 25 ## Duration:  176
      ✓ should unfavorite article (177ms)
    Delete
**** Call ## 26 ## Duration:  226
**** Call ## 27 ## Duration:  103 (ERR)
      ✓ should delete article (329ms)
**** Call ## 28 ## Duration:  88 (ERR)
      ✓ should disallow deleting by unauthenticated user (88ms)
**** Call ## 29 ## Duration:  129 (ERR)
      ✓ should disallow deleting unknown article (130ms)
**** Call ## 30 ## Duration:  178 (ERR)
      ✓ should disallow deleting article by non-author (178ms)
    List
**** Call ## 31 ## Duration:  164
**** Call ## 32 ## Duration:  163
**** Call ## 33 ## Duration:  133
**** Call ## 34 ## Duration:  161
**** Call ## 35 ## Duration:  134
**** Call ## 36 ## Duration:  168
**** Call ## 37 ## Duration:  175
**** Call ## 38 ## Duration:  158
**** Call ## 39 ## Duration:  134
**** Call ## 40 ## Duration:  128
**** Call ## 41 ## Duration:  158
**** Call ## 42 ## Duration:  137
**** Call ## 43 ## Duration:  141
**** Call ## 44 ## Duration:  159
**** Call ## 45 ## Duration:  173
**** Call ## 46 ## Duration:  155
**** Call ## 47 ## Duration:  145
**** Call ## 48 ## Duration:  166
**** Call ## 49 ## Duration:  185
**** Call ## 50 ## Duration:  159
**** Call ## 51 ## Duration:  487
      ✓ should list articles (488ms)
**** Call ## 52 ## Duration:  270
**** Call ## 53 ## Duration:  385
      ✓ should list articles with tag (656ms)
**** Call ## 54 ## Duration:  304
      ✓ should list articles by author (304ms)
**** Call ## 55 ## Duration:  124
      ✓ should list articles favorited by user (125ms)
**** Call ## 56 ## Duration:  194
**** Call ## 57 ## Duration:  149
      ✓ should list articles by limit/offset (343ms)
**** Call ## 58 ## Duration:  589
      ✓ should list articles when authenticated (589ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  81 (ERR)
**** Call ## 60 ## Duration:  86 (ERR)
**** Call ## 59 ## Duration:  102 (ERR)
**** Call ## 62 ## Duration:  211
**** Call ## 63 ## Duration:  240
**** Call ## 64 ## Duration:  332
**** Call ## 65 ## Duration:  197
**** Call ## 66 ## Duration:  486
      ✓ should get feed (1470ms)
**** Call ## 67 ## Duration:  89 (ERR)
      ✓ should disallow unauthenticated feed (89ms)
    Tags
**** Call ## 68 ## Duration:  169
      ✓ should get tags (171ms)

  Comment
**** Call ## 69 ## Duration:  191
**** Call ## 70 ## Duration:  167
**** Call ## 71 ## Duration:  180
    Create
**** Call ## 72 ## Duration:  214
**** Call ## 73 ## Duration:  467
**** Call ## 74 ## Duration:  231
**** Call ## 75 ## Duration:  178
**** Call ## 76 ## Duration:  175
**** Call ## 77 ## Duration:  159
**** Call ## 78 ## Duration:  139
**** Call ## 79 ## Duration:  132
**** Call ## 80 ## Duration:  153
**** Call ## 81 ## Duration:  175
      ✓ should create comment (2025ms)
**** Call ## 82 ## Duration:  93 (ERR)
      ✓ should disallow unauthenticated user (93ms)
**** Call ## 83 ## Duration:  111 (ERR)
      ✓ should enforce comment body (111ms)
**** Call ## 84 ## Duration:  103 (ERR)
      ✓ should disallow non-existent article (104ms)
    Get
**** Call ## 85 ## Duration:  274
      ✓ should get all comments for article (274ms)
    Delete
**** Call ## 86 ## Duration:  170
      ✓ should delete comment (170ms)
**** Call ## 87 ## Duration:  148 (ERR)
      ✓ only comment author should be able to delete comment (148ms)
**** Call ## 88 ## Duration:  89 (ERR)
      ✓ should disallow unauthenticated user (89ms)
**** Call ## 89 ## Duration:  109 (ERR)
      ✓ should disallow deleting unknown comment (110ms)

  User
    Create
**** Call ## 90 ## Duration:  204
      ✓ should create user (204ms)
**** Call ## 91 ## Duration:  100 (ERR)
      ✓ should disallow same username (100ms)
**** Call ## 92 ## Duration:  102 (ERR)
      ✓ should disallow same email (102ms)
**** Call ## 93 ## Duration:  86 (ERR)
**** Call ## 94 ## Duration:  80 (ERR)
**** Call ## 95 ## Duration:  86 (ERR)
**** Call ## 96 ## Duration:  82 (ERR)
      ✓ should enforce required fields (337ms)
    Login
**** Call ## 97 ## Duration:  144
      ✓ should login (144ms)
**** Call ## 98 ## Duration:  108 (ERR)
      ✓ should disallow unknown email (109ms)
**** Call ## 99 ## Duration:  109 (ERR)
      ✓ should disallow wrong password (109ms)
**** Call ## 100 ## Duration:  87 (ERR)
**** Call ## 101 ## Duration:  96 (ERR)
**** Call ## 102 ## Duration:  122 (ERR)
      ✓ should enforce required fields (305ms)
    Get
**** Call ## 103 ## Duration:  113
      ✓ should get current user (113ms)
**** Call ## 104 ## Duration:  84 (ERR)
**** Call ## 105 ## Duration:  81 (ERR)
**** Call ## 106 ## Duration:  91 (ERR)
**** Call ## 107 ## Duration:  112 (ERR)
      ✓ should disallow bad tokens (369ms)
    Profile
**** Call ## 108 ## Duration:  136
      ✓ should get profile (136ms)
**** Call ## 109 ## Duration:  105 (ERR)
      ✓ should disallow unknown username (105ms)
**** Call ## 110 ## Duration:  156
**** Call ## 111 ## Duration:  272
**** Call ## 112 ## Duration:  154
**** Call ## 113 ## Duration:  134
**** Call ## 114 ## Duration:  139
**** Call ## 115 ## Duration:  156
**** Call ## 116 ## Duration:  208
**** Call ## 117 ## Duration:  187
**** Call ## 118 ## Duration:  204
**** Call ## 119 ## Duration:  191
      ✓ should follow/unfollow user (1801ms)
**** Call ## 120 ## Duration:  80 (ERR)
      ✓ should disallow following with bad token (82ms)
    Update
**** Call ## 121 ## Duration:  276
**** Call ## 122 ## Duration:  159
**** Call ## 123 ## Duration:  141
**** Call ## 124 ## Duration:  136
      ✓ should update user (712ms)
**** Call ## 125 ## Duration:  84 (ERR)
**** Call ## 126 ## Duration:  90 (ERR)
      ✓ should disallow missing token/email in update (176ms)
**** Call ## 127 ## Duration:  196
**** Call ## 128 ## Duration:  112 (ERR)
      ✓ should disallow reusing email (308ms)

  Util
    Ping
**** Call ## 129 ## Duration:  99
      ✓ should ping (101ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  214
**** Call ## 1 ## Duration:  172
**** Call ## 2 ## Duration:  164
    Create
**** Call ## 3 ## Duration:  154
      ✓ should create article (156ms)
**** Call ## 4 ## Duration:  157
      ✓ should create article with tags (161ms)
**** Call ## 5 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 6 ## Duration:  139 (ERR)
**** Call ## 7 ## Duration:  125 (ERR)
**** Call ## 8 ## Duration:  129 (ERR)
**** Call ## 9 ## Duration:  162 (ERR)
      ✓ should enforce required fields (556ms)
    Get
**** Call ## 10 ## Duration:  168
      ✓ should get article by slug (169ms)
**** Call ## 11 ## Duration:  138
      ✓ should get article with tags by slug (138ms)
**** Call ## 12 ## Duration:  122 (ERR)
      ✓ should disallow unknown slug (122ms)
    Update
**** Call ## 13 ## Duration:  219
**** Call ## 14 ## Duration:  201
**** Call ## 15 ## Duration:  240
      ✓ should update article (662ms)
**** Call ## 16 ## Duration:  111 (ERR)
      ✓ should disallow missing mutation (112ms)
**** Call ## 17 ## Duration:  85 (ERR)
      ✓ should disallow empty mutation (85ms)
**** Call ## 18 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated update (83ms)
**** Call ## 19 ## Duration:  125 (ERR)
      ✓ should disallow updating non-existent article (126ms)
**** Call ## 20 ## Duration:  176 (ERR)
      ✓ should disallow non-author from updating (176ms)
    Favorite
**** Call ## 21 ## Duration:  203
**** Call ## 22 ## Duration:  175
      ✓ should favorite article (379ms)
**** Call ## 23 ## Duration:  80 (ERR)
      ✓ should disallow favoriting by unauthenticated user (80ms)
**** Call ## 24 ## Duration:  467 (ERR)
      ✓ should disallow favoriting unknown article (468ms)
**** Call ## 25 ## Duration:  206
      ✓ should unfavorite article (206ms)
    Delete
**** Call ## 26 ## Duration:  183
**** Call ## 27 ## Duration:  105 (ERR)
      ✓ should delete article (289ms)
**** Call ## 28 ## Duration:  103 (ERR)
      ✓ should disallow deleting by unauthenticated user (103ms)
**** Call ## 29 ## Duration:  127 (ERR)
      ✓ should disallow deleting unknown article (127ms)
**** Call ## 30 ## Duration:  133 (ERR)
      ✓ should disallow deleting article by non-author (133ms)
    List
**** Call ## 31 ## Duration:  166
**** Call ## 32 ## Duration:  170
**** Call ## 33 ## Duration:  179
**** Call ## 34 ## Duration:  143
**** Call ## 35 ## Duration:  161
**** Call ## 36 ## Duration:  143
**** Call ## 37 ## Duration:  169
**** Call ## 38 ## Duration:  190
**** Call ## 39 ## Duration:  152
**** Call ## 40 ## Duration:  185
**** Call ## 41 ## Duration:  257
**** Call ## 42 ## Duration:  159
**** Call ## 43 ## Duration:  140
**** Call ## 44 ## Duration:  163
**** Call ## 45 ## Duration:  154
**** Call ## 46 ## Duration:  149
**** Call ## 47 ## Duration:  131
**** Call ## 48 ## Duration:  215
**** Call ## 49 ## Duration:  156
**** Call ## 50 ## Duration:  225
**** Call ## 51 ## Duration:  553
      ✓ should list articles (554ms)
**** Call ## 52 ## Duration:  347
**** Call ## 53 ## Duration:  457
      ✓ should list articles with tag (805ms)
**** Call ## 54 ## Duration:  343
      ✓ should list articles by author (344ms)
**** Call ## 55 ## Duration:  128
      ✓ should list articles favorited by user (129ms)
**** Call ## 56 ## Duration:  160
**** Call ## 57 ## Duration:  165
      ✓ should list articles by limit/offset (325ms)
**** Call ## 58 ## Duration:  589
      ✓ should list articles when authenticated (589ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  79 (ERR)
**** Call ## 61 ## Duration:  85 (ERR)
**** Call ## 60 ## Duration:  95 (ERR)
**** Call ## 62 ## Duration:  174
**** Call ## 63 ## Duration:  218
**** Call ## 64 ## Duration:  1339
**** Call ## 65 ## Duration:  163
**** Call ## 66 ## Duration:  533
      ✓ should get feed (2427ms)
**** Call ## 67 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated feed (88ms)
    Tags
**** Call ## 68 ## Duration:  155
      ✓ should get tags (155ms)

  Comment
**** Call ## 69 ## Duration:  164
**** Call ## 70 ## Duration:  175
**** Call ## 71 ## Duration:  145
    Create
**** Call ## 72 ## Duration:  171
**** Call ## 73 ## Duration:  147
**** Call ## 74 ## Duration:  143
**** Call ## 75 ## Duration:  150
**** Call ## 76 ## Duration:  155
**** Call ## 77 ## Duration:  162
**** Call ## 78 ## Duration:  317
**** Call ## 79 ## Duration:  377
**** Call ## 80 ## Duration:  190
**** Call ## 81 ## Duration:  139
      ✓ should create comment (1954ms)
**** Call ## 82 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 83 ## Duration:  103 (ERR)
      ✓ should enforce comment body (103ms)
**** Call ## 84 ## Duration:  119 (ERR)
      ✓ should disallow non-existent article (120ms)
    Get
**** Call ## 85 ## Duration:  272
      ✓ should get all comments for article (272ms)
    Delete
**** Call ## 86 ## Duration:  454
      ✓ should delete comment (454ms)
**** Call ## 87 ## Duration:  123 (ERR)
      ✓ only comment author should be able to delete comment (123ms)
**** Call ## 88 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated user (88ms)
**** Call ## 89 ## Duration:  115 (ERR)
      ✓ should disallow deleting unknown comment (115ms)

  User
    Create
**** Call ## 90 ## Duration:  209
      ✓ should create user (210ms)
**** Call ## 91 ## Duration:  117 (ERR)
      ✓ should disallow same username (117ms)
**** Call ## 92 ## Duration:  132 (ERR)
      ✓ should disallow same email (133ms)
**** Call ## 93 ## Duration:  85 (ERR)
**** Call ## 94 ## Duration:  113 (ERR)
**** Call ## 95 ## Duration:  83 (ERR)
**** Call ## 96 ## Duration:  91 (ERR)
      ✓ should enforce required fields (373ms)
    Login
**** Call ## 97 ## Duration:  132
      ✓ should login (133ms)
**** Call ## 98 ## Duration:  100 (ERR)
      ✓ should disallow unknown email (100ms)
**** Call ## 99 ## Duration:  108 (ERR)
      ✓ should disallow wrong password (109ms)
**** Call ## 100 ## Duration:  82 (ERR)
**** Call ## 101 ## Duration:  87 (ERR)
**** Call ## 102 ## Duration:  78 (ERR)
      ✓ should enforce required fields (250ms)
    Get
**** Call ## 103 ## Duration:  99
      ✓ should get current user (99ms)
**** Call ## 104 ## Duration:  81 (ERR)
**** Call ## 105 ## Duration:  86 (ERR)
**** Call ## 106 ## Duration:  84 (ERR)
**** Call ## 107 ## Duration:  87 (ERR)
      ✓ should disallow bad tokens (339ms)
    Profile
**** Call ## 108 ## Duration:  130
      ✓ should get profile (131ms)
**** Call ## 109 ## Duration:  129 (ERR)
      ✓ should disallow unknown username (129ms)
**** Call ## 110 ## Duration:  211
**** Call ## 111 ## Duration:  167
**** Call ## 112 ## Duration:  187
**** Call ## 113 ## Duration:  142
**** Call ## 114 ## Duration:  129
**** Call ## 115 ## Duration:  178
**** Call ## 116 ## Duration:  291
**** Call ## 117 ## Duration:  183
**** Call ## 118 ## Duration:  171
**** Call ## 119 ## Duration:  187
      ✓ should follow/unfollow user (1850ms)
**** Call ## 120 ## Duration:  89 (ERR)
      ✓ should disallow following with bad token (89ms)
    Update
**** Call ## 121 ## Duration:  139
**** Call ## 122 ## Duration:  111
**** Call ## 123 ## Duration:  129
**** Call ## 124 ## Duration:  113
      ✓ should update user (495ms)
**** Call ## 125 ## Duration:  84 (ERR)
**** Call ## 126 ## Duration:  99 (ERR)
      ✓ should disallow missing token/email in update (184ms)
**** Call ## 127 ## Duration:  150
**** Call ## 128 ## Duration:  122 (ERR)
      ✓ should disallow reusing email (273ms)

  Util
    Ping
**** Call ## 129 ## Duration:  111
      ✓ should ping (112ms)


  58 passing (23s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  251
**** Call ## 1 ## Duration:  169
**** Call ## 2 ## Duration:  169
    Create
**** Call ## 3 ## Duration:  150
      ✓ should create article (152ms)
**** Call ## 4 ## Duration:  136
      ✓ should create article with tags (138ms)
**** Call ## 5 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (86ms)
**** Call ## 6 ## Duration:  102 (ERR)
**** Call ## 7 ## Duration:  166 (ERR)
**** Call ## 8 ## Duration:  139 (ERR)
**** Call ## 9 ## Duration:  117 (ERR)
      ✓ should enforce required fields (525ms)
    Get
**** Call ## 10 ## Duration:  149
      ✓ should get article by slug (150ms)
**** Call ## 11 ## Duration:  141
      ✓ should get article with tags by slug (141ms)
**** Call ## 12 ## Duration:  114 (ERR)
      ✓ should disallow unknown slug (116ms)
    Update
**** Call ## 13 ## Duration:  208
**** Call ## 14 ## Duration:  236
**** Call ## 15 ## Duration:  207
      ✓ should update article (652ms)
**** Call ## 16 ## Duration:  79 (ERR)
      ✓ should disallow missing mutation (80ms)
**** Call ## 17 ## Duration:  85 (ERR)
      ✓ should disallow empty mutation (85ms)
**** Call ## 18 ## Duration:  143 (ERR)
      ✓ should disallow unauthenticated update (143ms)
**** Call ## 19 ## Duration:  123 (ERR)
      ✓ should disallow updating non-existent article (124ms)
**** Call ## 20 ## Duration:  117 (ERR)
      ✓ should disallow non-author from updating (117ms)
    Favorite
**** Call ## 21 ## Duration:  189
**** Call ## 22 ## Duration:  207
      ✓ should favorite article (398ms)
**** Call ## 23 ## Duration:  80 (ERR)
      ✓ should disallow favoriting by unauthenticated user (80ms)
**** Call ## 24 ## Duration:  133 (ERR)
      ✓ should disallow favoriting unknown article (134ms)
**** Call ## 25 ## Duration:  204
      ✓ should unfavorite article (204ms)
    Delete
**** Call ## 26 ## Duration:  191
**** Call ## 27 ## Duration:  95 (ERR)
      ✓ should delete article (287ms)
**** Call ## 28 ## Duration:  83 (ERR)
      ✓ should disallow deleting by unauthenticated user (84ms)
**** Call ## 29 ## Duration:  139 (ERR)
      ✓ should disallow deleting unknown article (139ms)
**** Call ## 30 ## Duration:  121 (ERR)
      ✓ should disallow deleting article by non-author (122ms)
    List
**** Call ## 31 ## Duration:  148
**** Call ## 32 ## Duration:  144
**** Call ## 33 ## Duration:  151
**** Call ## 34 ## Duration:  134
**** Call ## 35 ## Duration:  163
**** Call ## 36 ## Duration:  178
**** Call ## 37 ## Duration:  141
**** Call ## 38 ## Duration:  163
**** Call ## 39 ## Duration:  178
**** Call ## 40 ## Duration:  124
**** Call ## 41 ## Duration:  199
**** Call ## 42 ## Duration:  145
**** Call ## 43 ## Duration:  164
**** Call ## 44 ## Duration:  140
**** Call ## 45 ## Duration:  152
**** Call ## 46 ## Duration:  139
**** Call ## 47 ## Duration:  133
**** Call ## 48 ## Duration:  167
**** Call ## 49 ## Duration:  123
**** Call ## 50 ## Duration:  113
**** Call ## 51 ## Duration:  739
      ✓ should list articles (739ms)
**** Call ## 52 ## Duration:  352
**** Call ## 53 ## Duration:  483
      ✓ should list articles with tag (836ms)
**** Call ## 54 ## Duration:  385
      ✓ should list articles by author (385ms)
**** Call ## 55 ## Duration:  195
      ✓ should list articles favorited by user (195ms)
**** Call ## 56 ## Duration:  198
**** Call ## 57 ## Duration:  166
      ✓ should list articles by limit/offset (365ms)
**** Call ## 58 ## Duration:  732
      ✓ should list articles when authenticated (732ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  85 (ERR)
**** Call ## 61 ## Duration:  85 (ERR)
**** Call ## 59 ## Duration:  88 (ERR)
**** Call ## 62 ## Duration:  173
**** Call ## 63 ## Duration:  193
**** Call ## 64 ## Duration:  360
**** Call ## 65 ## Duration:  210
**** Call ## 66 ## Duration:  548
      ✓ should get feed (1486ms)
**** Call ## 67 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated feed (80ms)
    Tags
**** Call ## 68 ## Duration:  229
      ✓ should get tags (229ms)

  Comment
**** Call ## 69 ## Duration:  179
**** Call ## 70 ## Duration:  162
**** Call ## 71 ## Duration:  154
    Create
**** Call ## 72 ## Duration:  203
**** Call ## 73 ## Duration:  174
**** Call ## 74 ## Duration:  183
**** Call ## 75 ## Duration:  161
**** Call ## 76 ## Duration:  179
**** Call ## 77 ## Duration:  187
**** Call ## 78 ## Duration:  163
**** Call ## 79 ## Duration:  197
**** Call ## 80 ## Duration:  166
**** Call ## 81 ## Duration:  160
      ✓ should create comment (1775ms)
**** Call ## 82 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (86ms)
**** Call ## 83 ## Duration:  163 (ERR)
      ✓ should enforce comment body (164ms)
**** Call ## 84 ## Duration:  115 (ERR)
      ✓ should disallow non-existent article (115ms)
    Get
**** Call ## 85 ## Duration:  316
      ✓ should get all comments for article (316ms)
    Delete
**** Call ## 86 ## Duration:  163
      ✓ should delete comment (164ms)
**** Call ## 87 ## Duration:  120 (ERR)
      ✓ only comment author should be able to delete comment (120ms)
**** Call ## 88 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 89 ## Duration:  115 (ERR)
      ✓ should disallow deleting unknown comment (115ms)

  User
    Create
**** Call ## 90 ## Duration:  171
      ✓ should create user (171ms)
**** Call ## 91 ## Duration:  87 (ERR)
      ✓ should disallow same username (88ms)
**** Call ## 92 ## Duration:  111 (ERR)
      ✓ should disallow same email (111ms)
**** Call ## 93 ## Duration:  83 (ERR)
**** Call ## 94 ## Duration:  80 (ERR)
**** Call ## 95 ## Duration:  84 (ERR)
**** Call ## 96 ## Duration:  82 (ERR)
      ✓ should enforce required fields (331ms)
    Login
**** Call ## 97 ## Duration:  141
      ✓ should login (141ms)
**** Call ## 98 ## Duration:  97 (ERR)
      ✓ should disallow unknown email (97ms)
**** Call ## 99 ## Duration:  106 (ERR)
      ✓ should disallow wrong password (106ms)
**** Call ## 100 ## Duration:  90 (ERR)
**** Call ## 101 ## Duration:  79 (ERR)
**** Call ## 102 ## Duration:  110 (ERR)
      ✓ should enforce required fields (281ms)
    Get
**** Call ## 103 ## Duration:  106
      ✓ should get current user (106ms)
**** Call ## 104 ## Duration:  85 (ERR)
**** Call ## 105 ## Duration:  83 (ERR)
**** Call ## 106 ## Duration:  80 (ERR)
**** Call ## 107 ## Duration:  83 (ERR)
      ✓ should disallow bad tokens (334ms)
    Profile
**** Call ## 108 ## Duration:  119
      ✓ should get profile (119ms)
**** Call ## 109 ## Duration:  100 (ERR)
      ✓ should disallow unknown username (101ms)
**** Call ## 110 ## Duration:  160
**** Call ## 111 ## Duration:  192
**** Call ## 112 ## Duration:  182
**** Call ## 113 ## Duration:  196
**** Call ## 114 ## Duration:  155
**** Call ## 115 ## Duration:  159
**** Call ## 116 ## Duration:  153
**** Call ## 117 ## Duration:  177
**** Call ## 118 ## Duration:  151
**** Call ## 119 ## Duration:  146
      ✓ should follow/unfollow user (1673ms)
**** Call ## 120 ## Duration:  108 (ERR)
      ✓ should disallow following with bad token (108ms)
    Update
**** Call ## 121 ## Duration:  144
**** Call ## 122 ## Duration:  117
**** Call ## 123 ## Duration:  129
**** Call ## 124 ## Duration:  134
      ✓ should update user (524ms)
**** Call ## 125 ## Duration:  88 (ERR)
**** Call ## 126 ## Duration:  103 (ERR)
      ✓ should disallow missing token/email in update (192ms)
**** Call ## 127 ## Duration:  211
**** Call ## 128 ## Duration:  109 (ERR)
      ✓ should disallow reusing email (321ms)

  Util
    Ping
**** Call ## 129 ## Duration:  78
      ✓ should ping (79ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  257
**** Call ## 1 ## Duration:  135
**** Call ## 2 ## Duration:  182
    Create
**** Call ## 3 ## Duration:  149
      ✓ should create article (152ms)
**** Call ## 4 ## Duration:  142
      ✓ should create article with tags (143ms)
**** Call ## 5 ## Duration:  125 (ERR)
      ✓ should disallow unauthenticated user (126ms)
**** Call ## 6 ## Duration:  169 (ERR)
**** Call ## 7 ## Duration:  110 (ERR)
**** Call ## 8 ## Duration:  138 (ERR)
**** Call ## 9 ## Duration:  151 (ERR)
      ✓ should enforce required fields (570ms)
    Get
**** Call ## 10 ## Duration:  159
      ✓ should get article by slug (159ms)
**** Call ## 11 ## Duration:  500
      ✓ should get article with tags by slug (500ms)
**** Call ## 12 ## Duration:  165 (ERR)
      ✓ should disallow unknown slug (166ms)
    Update
**** Call ## 13 ## Duration:  219
**** Call ## 14 ## Duration:  162
**** Call ## 15 ## Duration:  153
      ✓ should update article (536ms)
**** Call ## 16 ## Duration:  82 (ERR)
      ✓ should disallow missing mutation (83ms)
**** Call ## 17 ## Duration:  94 (ERR)
      ✓ should disallow empty mutation (94ms)
**** Call ## 18 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated update (83ms)
**** Call ## 19 ## Duration:  136 (ERR)
      ✓ should disallow updating non-existent article (136ms)
**** Call ## 20 ## Duration:  110 (ERR)
      ✓ should disallow non-author from updating (110ms)
    Favorite
**** Call ## 21 ## Duration:  194
**** Call ## 22 ## Duration:  181
      ✓ should favorite article (376ms)
**** Call ## 23 ## Duration:  81 (ERR)
      ✓ should disallow favoriting by unauthenticated user (82ms)
**** Call ## 24 ## Duration:  208 (ERR)
      ✓ should disallow favoriting unknown article (208ms)
**** Call ## 25 ## Duration:  206
      ✓ should unfavorite article (206ms)
    Delete
**** Call ## 26 ## Duration:  191
**** Call ## 27 ## Duration:  94 (ERR)
      ✓ should delete article (285ms)
**** Call ## 28 ## Duration:  138 (ERR)
      ✓ should disallow deleting by unauthenticated user (138ms)
**** Call ## 29 ## Duration:  147 (ERR)
      ✓ should disallow deleting unknown article (147ms)
**** Call ## 30 ## Duration:  203 (ERR)
      ✓ should disallow deleting article by non-author (204ms)
    List
**** Call ## 31 ## Duration:  157
**** Call ## 32 ## Duration:  144
**** Call ## 33 ## Duration:  185
**** Call ## 34 ## Duration:  143
**** Call ## 35 ## Duration:  144
**** Call ## 36 ## Duration:  202
**** Call ## 37 ## Duration:  190
**** Call ## 38 ## Duration:  155
**** Call ## 39 ## Duration:  180
**** Call ## 40 ## Duration:  131
**** Call ## 41 ## Duration:  134
**** Call ## 42 ## Duration:  134
**** Call ## 43 ## Duration:  160
**** Call ## 44 ## Duration:  130
**** Call ## 45 ## Duration:  147
**** Call ## 46 ## Duration:  155
**** Call ## 47 ## Duration:  214
**** Call ## 48 ## Duration:  135
**** Call ## 49 ## Duration:  154
**** Call ## 50 ## Duration:  168
**** Call ## 51 ## Duration:  592
      ✓ should list articles (593ms)
**** Call ## 52 ## Duration:  302
**** Call ## 53 ## Duration:  486
      ✓ should list articles with tag (788ms)
**** Call ## 54 ## Duration:  394
      ✓ should list articles by author (394ms)
**** Call ## 55 ## Duration:  120
      ✓ should list articles favorited by user (121ms)
**** Call ## 56 ## Duration:  147
**** Call ## 57 ## Duration:  193
      ✓ should list articles by limit/offset (340ms)
**** Call ## 58 ## Duration:  637
      ✓ should list articles when authenticated (637ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  5795 (ERR)
**** Call ## 61 ## Duration:  5802 (ERR)
**** Call ## 59 ## Duration:  5811 (ERR)
**** Call ## 62 ## Duration:  5868
**** Call ## 63 ## Duration:  193
**** Call ## 64 ## Duration:  449
**** Call ## 65 ## Duration:  197
**** Call ## 66 ## Duration:  426
      ✓ should get feed (7133ms)
**** Call ## 67 ## Duration:  103 (ERR)
      ✓ should disallow unauthenticated feed (103ms)
    Tags
**** Call ## 68 ## Duration:  173
      ✓ should get tags (174ms)

  Comment
**** Call ## 69 ## Duration:  168
**** Call ## 70 ## Duration:  183
**** Call ## 71 ## Duration:  141
    Create
**** Call ## 72 ## Duration:  169
**** Call ## 73 ## Duration:  152
**** Call ## 74 ## Duration:  197
**** Call ## 75 ## Duration:  191
**** Call ## 76 ## Duration:  141
**** Call ## 77 ## Duration:  162
**** Call ## 78 ## Duration:  154
**** Call ## 79 ## Duration:  156
**** Call ## 80 ## Duration:  158
**** Call ## 81 ## Duration:  204
      ✓ should create comment (1686ms)
**** Call ## 82 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (86ms)
**** Call ## 83 ## Duration:  98 (ERR)
      ✓ should enforce comment body (98ms)
**** Call ## 84 ## Duration:  114 (ERR)
      ✓ should disallow non-existent article (115ms)
    Get
**** Call ## 85 ## Duration:  577
      ✓ should get all comments for article (577ms)
    Delete
**** Call ## 86 ## Duration:  151
      ✓ should delete comment (151ms)
**** Call ## 87 ## Duration:  115 (ERR)
      ✓ only comment author should be able to delete comment (115ms)
**** Call ## 88 ## Duration:  198 (ERR)
      ✓ should disallow unauthenticated user (198ms)
**** Call ## 89 ## Duration:  124 (ERR)
      ✓ should disallow deleting unknown comment (125ms)

  User
    Create
**** Call ## 90 ## Duration:  202
      ✓ should create user (202ms)
**** Call ## 91 ## Duration:  106 (ERR)
      ✓ should disallow same username (107ms)
**** Call ## 92 ## Duration:  116 (ERR)
      ✓ should disallow same email (117ms)
**** Call ## 93 ## Duration:  108 (ERR)
**** Call ## 94 ## Duration:  83 (ERR)
**** Call ## 95 ## Duration:  92 (ERR)
**** Call ## 96 ## Duration:  80 (ERR)
      ✓ should enforce required fields (364ms)
    Login
**** Call ## 97 ## Duration:  133
      ✓ should login (133ms)
**** Call ## 98 ## Duration:  122 (ERR)
      ✓ should disallow unknown email (122ms)
**** Call ## 99 ## Duration:  515 (ERR)
      ✓ should disallow wrong password (515ms)
**** Call ## 100 ## Duration:  98 (ERR)
**** Call ## 101 ## Duration:  127 (ERR)
**** Call ## 102 ## Duration:  81 (ERR)
      ✓ should enforce required fields (308ms)
    Get
**** Call ## 103 ## Duration:  117
      ✓ should get current user (118ms)
**** Call ## 104 ## Duration:  113 (ERR)
**** Call ## 105 ## Duration:  80 (ERR)
**** Call ## 106 ## Duration:  79 (ERR)
**** Call ## 107 ## Duration:  90 (ERR)
      ✓ should disallow bad tokens (363ms)
    Profile
**** Call ## 108 ## Duration:  141
      ✓ should get profile (141ms)
**** Call ## 109 ## Duration:  94 (ERR)
      ✓ should disallow unknown username (94ms)
**** Call ## 110 ## Duration:  161
**** Call ## 111 ## Duration:  225
**** Call ## 112 ## Duration:  170
**** Call ## 113 ## Duration:  140
**** Call ## 114 ## Duration:  125
**** Call ## 115 ## Duration:  193
**** Call ## 116 ## Duration:  317
**** Call ## 117 ## Duration:  184
**** Call ## 118 ## Duration:  164
**** Call ## 119 ## Duration:  163
      ✓ should follow/unfollow user (1846ms)
**** Call ## 120 ## Duration:  80 (ERR)
      ✓ should disallow following with bad token (80ms)
    Update
**** Call ## 121 ## Duration:  165
**** Call ## 122 ## Duration:  139
**** Call ## 123 ## Duration:  111
**** Call ## 124 ## Duration:  121
      ✓ should update user (538ms)
**** Call ## 125 ## Duration:  82 (ERR)
**** Call ## 126 ## Duration:  107 (ERR)
      ✓ should disallow missing token/email in update (190ms)
**** Call ## 127 ## Duration:  152
**** Call ## 128 ## Duration:  102 (ERR)
      ✓ should disallow reusing email (255ms)

  Util
    Ping
**** Call ## 129 ## Duration:  85
      ✓ should ping (85ms)


  58 passing (28s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  210
**** Call ## 1 ## Duration:  162
**** Call ## 2 ## Duration:  152
    Create
**** Call ## 3 ## Duration:  150
      ✓ should create article (152ms)
**** Call ## 4 ## Duration:  134
      ✓ should create article with tags (136ms)
**** Call ## 5 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 6 ## Duration:  116 (ERR)
**** Call ## 7 ## Duration:  146 (ERR)
**** Call ## 8 ## Duration:  129 (ERR)
**** Call ## 9 ## Duration:  125 (ERR)
      ✓ should enforce required fields (516ms)
    Get
**** Call ## 10 ## Duration:  144
      ✓ should get article by slug (145ms)
**** Call ## 11 ## Duration:  177
      ✓ should get article with tags by slug (177ms)
**** Call ## 12 ## Duration:  188 (ERR)
      ✓ should disallow unknown slug (189ms)
    Update
**** Call ## 13 ## Duration:  231
**** Call ## 14 ## Duration:  217
**** Call ## 15 ## Duration:  210
      ✓ should update article (661ms)
**** Call ## 16 ## Duration:  81 (ERR)
      ✓ should disallow missing mutation (81ms)
**** Call ## 17 ## Duration:  86 (ERR)
      ✓ should disallow empty mutation (86ms)
**** Call ## 18 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated update (85ms)
**** Call ## 19 ## Duration:  153 (ERR)
      ✓ should disallow updating non-existent article (154ms)
**** Call ## 20 ## Duration:  121 (ERR)
      ✓ should disallow non-author from updating (122ms)
    Favorite
**** Call ## 21 ## Duration:  242
**** Call ## 22 ## Duration:  168
      ✓ should favorite article (410ms)
**** Call ## 23 ## Duration:  83 (ERR)
      ✓ should disallow favoriting by unauthenticated user (84ms)
**** Call ## 24 ## Duration:  133 (ERR)
      ✓ should disallow favoriting unknown article (134ms)
**** Call ## 25 ## Duration:  180
      ✓ should unfavorite article (180ms)
    Delete
**** Call ## 26 ## Duration:  177
**** Call ## 27 ## Duration:  106 (ERR)
      ✓ should delete article (284ms)
**** Call ## 28 ## Duration:  80 (ERR)
      ✓ should disallow deleting by unauthenticated user (80ms)
**** Call ## 29 ## Duration:  245 (ERR)
      ✓ should disallow deleting unknown article (245ms)
**** Call ## 30 ## Duration:  126 (ERR)
      ✓ should disallow deleting article by non-author (126ms)
    List
**** Call ## 31 ## Duration:  137
**** Call ## 32 ## Duration:  130
**** Call ## 33 ## Duration:  135
**** Call ## 34 ## Duration:  182
**** Call ## 35 ## Duration:  131
**** Call ## 36 ## Duration:  153
**** Call ## 37 ## Duration:  129
**** Call ## 38 ## Duration:  150
**** Call ## 39 ## Duration:  127
**** Call ## 40 ## Duration:  131
**** Call ## 41 ## Duration:  140
**** Call ## 42 ## Duration:  124
**** Call ## 43 ## Duration:  122
**** Call ## 44 ## Duration:  380
**** Call ## 45 ## Duration:  128
**** Call ## 46 ## Duration:  142
**** Call ## 47 ## Duration:  186
**** Call ## 48 ## Duration:  136
**** Call ## 49 ## Duration:  149
**** Call ## 50 ## Duration:  133
**** Call ## 51 ## Duration:  450
      ✓ should list articles (450ms)
**** Call ## 52 ## Duration:  349
**** Call ## 53 ## Duration:  423
      ✓ should list articles with tag (772ms)
**** Call ## 54 ## Duration:  314
      ✓ should list articles by author (314ms)
**** Call ## 55 ## Duration:  170
      ✓ should list articles favorited by user (170ms)
**** Call ## 56 ## Duration:  225
**** Call ## 57 ## Duration:  196
      ✓ should list articles by limit/offset (421ms)
**** Call ## 58 ## Duration:  528
      ✓ should list articles when authenticated (528ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  85 (ERR)
**** Call ## 60 ## Duration:  115 (ERR)
**** Call ## 59 ## Duration:  120 (ERR)
**** Call ## 62 ## Duration:  167
**** Call ## 63 ## Duration:  198
**** Call ## 64 ## Duration:  365
**** Call ## 65 ## Duration:  202
**** Call ## 66 ## Duration:  541
      ✓ should get feed (1476ms)
**** Call ## 67 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated feed (81ms)
    Tags
**** Call ## 68 ## Duration:  210
      ✓ should get tags (210ms)

  Comment
**** Call ## 69 ## Duration:  165
**** Call ## 70 ## Duration:  162
**** Call ## 71 ## Duration:  168
    Create
**** Call ## 72 ## Duration:  162
**** Call ## 73 ## Duration:  148
**** Call ## 74 ## Duration:  134
**** Call ## 75 ## Duration:  134
**** Call ## 76 ## Duration:  167
**** Call ## 77 ## Duration:  165
**** Call ## 78 ## Duration:  129
**** Call ## 79 ## Duration:  133
**** Call ## 80 ## Duration:  136
**** Call ## 81 ## Duration:  148
      ✓ should create comment (1460ms)
**** Call ## 82 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (79ms)
**** Call ## 83 ## Duration:  89 (ERR)
      ✓ should enforce comment body (89ms)
**** Call ## 84 ## Duration:  111 (ERR)
      ✓ should disallow non-existent article (112ms)
    Get
**** Call ## 85 ## Duration:  250
      ✓ should get all comments for article (250ms)
    Delete
**** Call ## 86 ## Duration:  186
      ✓ should delete comment (186ms)
**** Call ## 87 ## Duration:  114 (ERR)
      ✓ only comment author should be able to delete comment (115ms)
**** Call ## 88 ## Duration:  124 (ERR)
      ✓ should disallow unauthenticated user (124ms)
**** Call ## 89 ## Duration:  113 (ERR)
      ✓ should disallow deleting unknown comment (113ms)

  User
    Create
**** Call ## 90 ## Duration:  155
      ✓ should create user (155ms)
**** Call ## 91 ## Duration:  101 (ERR)
      ✓ should disallow same username (102ms)
**** Call ## 92 ## Duration:  118 (ERR)
      ✓ should disallow same email (118ms)
**** Call ## 93 ## Duration:  79 (ERR)
**** Call ## 94 ## Duration:  82 (ERR)
**** Call ## 95 ## Duration:  86 (ERR)
**** Call ## 96 ## Duration:  138 (ERR)
      ✓ should enforce required fields (387ms)
    Login
**** Call ## 97 ## Duration:  230
      ✓ should login (230ms)
**** Call ## 98 ## Duration:  104 (ERR)
      ✓ should disallow unknown email (104ms)
**** Call ## 99 ## Duration:  102 (ERR)
      ✓ should disallow wrong password (103ms)
**** Call ## 100 ## Duration:  87 (ERR)
**** Call ## 101 ## Duration:  81 (ERR)
**** Call ## 102 ## Duration:  94 (ERR)
      ✓ should enforce required fields (262ms)
    Get
**** Call ## 103 ## Duration:  112
      ✓ should get current user (112ms)
**** Call ## 104 ## Duration:  82 (ERR)
**** Call ## 105 ## Duration:  82 (ERR)
**** Call ## 106 ## Duration:  97 (ERR)
**** Call ## 107 ## Duration:  99 (ERR)
      ✓ should disallow bad tokens (361ms)
    Profile
**** Call ## 108 ## Duration:  139
      ✓ should get profile (140ms)
**** Call ## 109 ## Duration:  93 (ERR)
      ✓ should disallow unknown username (94ms)
**** Call ## 110 ## Duration:  160
**** Call ## 111 ## Duration:  240
**** Call ## 112 ## Duration:  187
**** Call ## 113 ## Duration:  133
**** Call ## 114 ## Duration:  131
**** Call ## 115 ## Duration:  198
**** Call ## 116 ## Duration:  177
**** Call ## 117 ## Duration:  184
**** Call ## 118 ## Duration:  168
**** Call ## 119 ## Duration:  177
      ✓ should follow/unfollow user (1757ms)
**** Call ## 120 ## Duration:  77 (ERR)
      ✓ should disallow following with bad token (77ms)
    Update
**** Call ## 121 ## Duration:  148
**** Call ## 122 ## Duration:  127
**** Call ## 123 ## Duration:  118
**** Call ## 124 ## Duration:  259
      ✓ should update user (652ms)
**** Call ## 125 ## Duration:  84 (ERR)
**** Call ## 126 ## Duration:  101 (ERR)
      ✓ should disallow missing token/email in update (185ms)
**** Call ## 127 ## Duration:  174
**** Call ## 128 ## Duration:  129 (ERR)
      ✓ should disallow reusing email (304ms)

  Util
    Ping
**** Call ## 129 ## Duration:  90
      ✓ should ping (91ms)


  58 passing (20s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  201
**** Call ## 1 ## Duration:  163
**** Call ## 2 ## Duration:  174
    Create
**** Call ## 3 ## Duration:  132
      ✓ should create article (135ms)
**** Call ## 4 ## Duration:  137
      ✓ should create article with tags (138ms)
**** Call ## 5 ## Duration:  93 (ERR)
      ✓ should disallow unauthenticated user (93ms)
**** Call ## 6 ## Duration:  146 (ERR)
**** Call ## 7 ## Duration:  112 (ERR)
**** Call ## 8 ## Duration:  116 (ERR)
**** Call ## 9 ## Duration:  109 (ERR)
      ✓ should enforce required fields (486ms)
    Get
**** Call ## 10 ## Duration:  161
      ✓ should get article by slug (161ms)
**** Call ## 11 ## Duration:  147
      ✓ should get article with tags by slug (147ms)
**** Call ## 12 ## Duration:  95 (ERR)
      ✓ should disallow unknown slug (96ms)
    Update
**** Call ## 13 ## Duration:  213
**** Call ## 14 ## Duration:  206
**** Call ## 15 ## Duration:  185
      ✓ should update article (607ms)
**** Call ## 16 ## Duration:  82 (ERR)
      ✓ should disallow missing mutation (82ms)
**** Call ## 17 ## Duration:  93 (ERR)
      ✓ should disallow empty mutation (93ms)
**** Call ## 18 ## Duration:  96 (ERR)
      ✓ should disallow unauthenticated update (97ms)
**** Call ## 19 ## Duration:  125 (ERR)
      ✓ should disallow updating non-existent article (126ms)
**** Call ## 20 ## Duration:  137 (ERR)
      ✓ should disallow non-author from updating (138ms)
    Favorite
**** Call ## 21 ## Duration:  230
**** Call ## 22 ## Duration:  1195
      ✓ should favorite article (1425ms)
**** Call ## 23 ## Duration:  131 (ERR)
      ✓ should disallow favoriting by unauthenticated user (131ms)
**** Call ## 24 ## Duration:  135 (ERR)
      ✓ should disallow favoriting unknown article (136ms)
**** Call ## 25 ## Duration:  177
      ✓ should unfavorite article (178ms)
    Delete
**** Call ## 26 ## Duration:  173
**** Call ## 27 ## Duration:  99 (ERR)
      ✓ should delete article (273ms)
**** Call ## 28 ## Duration:  85 (ERR)
      ✓ should disallow deleting by unauthenticated user (85ms)
**** Call ## 29 ## Duration:  147 (ERR)
      ✓ should disallow deleting unknown article (148ms)
**** Call ## 30 ## Duration:  123 (ERR)
      ✓ should disallow deleting article by non-author (123ms)
    List
**** Call ## 31 ## Duration:  140
**** Call ## 32 ## Duration:  137
**** Call ## 33 ## Duration:  135
**** Call ## 34 ## Duration:  116
**** Call ## 35 ## Duration:  117
**** Call ## 36 ## Duration:  100
**** Call ## 37 ## Duration:  145
**** Call ## 38 ## Duration:  105
**** Call ## 39 ## Duration:  108
**** Call ## 40 ## Duration:  164
**** Call ## 41 ## Duration:  134
**** Call ## 42 ## Duration:  100
**** Call ## 43 ## Duration:  98
**** Call ## 44 ## Duration:  107
**** Call ## 45 ## Duration:  108
**** Call ## 46 ## Duration:  111
**** Call ## 47 ## Duration:  133
**** Call ## 48 ## Duration:  110
**** Call ## 49 ## Duration:  109
**** Call ## 50 ## Duration:  106
**** Call ## 51 ## Duration:  511
      ✓ should list articles (512ms)
**** Call ## 52 ## Duration:  300
**** Call ## 53 ## Duration:  465
      ✓ should list articles with tag (765ms)
**** Call ## 54 ## Duration:  267
      ✓ should list articles by author (268ms)
**** Call ## 55 ## Duration:  114
      ✓ should list articles favorited by user (114ms)
**** Call ## 56 ## Duration:  125
**** Call ## 57 ## Duration:  126
      ✓ should list articles by limit/offset (251ms)
**** Call ## 58 ## Duration:  536
      ✓ should list articles when authenticated (537ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  60 (ERR)
**** Call ## 59 ## Duration:  61 (ERR)
**** Call ## 61 ## Duration:  66 (ERR)
**** Call ## 62 ## Duration:  124
**** Call ## 63 ## Duration:  170
**** Call ## 64 ## Duration:  342
**** Call ## 65 ## Duration:  161
**** Call ## 66 ## Duration:  380
      ✓ should get feed (1178ms)
**** Call ## 67 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated feed (58ms)
    Tags
**** Call ## 68 ## Duration:  130
      ✓ should get tags (130ms)

  Comment
**** Call ## 69 ## Duration:  139
**** Call ## 70 ## Duration:  140
**** Call ## 71 ## Duration:  142
    Create
**** Call ## 72 ## Duration:  158
**** Call ## 73 ## Duration:  160
**** Call ## 74 ## Duration:  124
**** Call ## 75 ## Duration:  119
**** Call ## 76 ## Duration:  126
**** Call ## 77 ## Duration:  127
**** Call ## 78 ## Duration:  127
**** Call ## 79 ## Duration:  120
**** Call ## 80 ## Duration:  105
**** Call ## 81 ## Duration:  108
      ✓ should create comment (1279ms)
**** Call ## 82 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated user (60ms)
**** Call ## 83 ## Duration:  86 (ERR)
      ✓ should enforce comment body (86ms)
**** Call ## 84 ## Duration:  82 (ERR)
      ✓ should disallow non-existent article (82ms)
    Get
**** Call ## 85 ## Duration:  250
      ✓ should get all comments for article (251ms)
    Delete
**** Call ## 86 ## Duration:  136
      ✓ should delete comment (136ms)
**** Call ## 87 ## Duration:  91 (ERR)
      ✓ only comment author should be able to delete comment (92ms)
**** Call ## 88 ## Duration:  57 (ERR)
      ✓ should disallow unauthenticated user (57ms)
**** Call ## 89 ## Duration:  94 (ERR)
      ✓ should disallow deleting unknown comment (95ms)

  User
    Create
**** Call ## 90 ## Duration:  159
      ✓ should create user (160ms)
**** Call ## 91 ## Duration:  78 (ERR)
      ✓ should disallow same username (79ms)
**** Call ## 92 ## Duration:  86 (ERR)
      ✓ should disallow same email (87ms)
**** Call ## 93 ## Duration:  58 (ERR)
**** Call ## 94 ## Duration:  58 (ERR)
**** Call ## 95 ## Duration:  60 (ERR)
**** Call ## 96 ## Duration:  58 (ERR)
      ✓ should enforce required fields (236ms)
    Login
**** Call ## 97 ## Duration:  113
      ✓ should login (113ms)
**** Call ## 98 ## Duration:  79 (ERR)
      ✓ should disallow unknown email (80ms)
**** Call ## 99 ## Duration:  72 (ERR)
      ✓ should disallow wrong password (72ms)
**** Call ## 100 ## Duration:  61 (ERR)
**** Call ## 101 ## Duration:  62 (ERR)
**** Call ## 102 ## Duration:  62 (ERR)
      ✓ should enforce required fields (186ms)
    Get
**** Call ## 103 ## Duration:  76
      ✓ should get current user (76ms)
**** Call ## 104 ## Duration:  56 (ERR)
**** Call ## 105 ## Duration:  61 (ERR)
**** Call ## 106 ## Duration:  58 (ERR)
**** Call ## 107 ## Duration:  79 (ERR)
      ✓ should disallow bad tokens (255ms)
    Profile
**** Call ## 108 ## Duration:  91
      ✓ should get profile (91ms)
**** Call ## 109 ## Duration:  79 (ERR)
      ✓ should disallow unknown username (79ms)
**** Call ## 110 ## Duration:  136
**** Call ## 111 ## Duration:  167
**** Call ## 112 ## Duration:  137
**** Call ## 113 ## Duration:  122
**** Call ## 114 ## Duration:  95
**** Call ## 115 ## Duration:  140
**** Call ## 116 ## Duration:  163
**** Call ## 117 ## Duration:  160
**** Call ## 118 ## Duration:  158
**** Call ## 119 ## Duration:  132
      ✓ should follow/unfollow user (1413ms)
**** Call ## 120 ## Duration:  102 (ERR)
      ✓ should disallow following with bad token (103ms)
    Update
**** Call ## 121 ## Duration:  105
**** Call ## 122 ## Duration:  92
**** Call ## 123 ## Duration:  84
**** Call ## 124 ## Duration:  101
      ✓ should update user (382ms)
**** Call ## 125 ## Duration:  88 (ERR)
**** Call ## 126 ## Duration:  69 (ERR)
      ✓ should disallow missing token/email in update (158ms)
**** Call ## 127 ## Duration:  132
**** Call ## 128 ## Duration:  82 (ERR)
      ✓ should disallow reusing email (215ms)

  Util
    Ping
**** Call ## 129 ## Duration:  64
      ✓ should ping (64ms)


  58 passing (18s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  248
**** Call ## 1 ## Duration:  165
**** Call ## 2 ## Duration:  127
    Create
**** Call ## 3 ## Duration:  132
      ✓ should create article (134ms)
**** Call ## 4 ## Duration:  116
      ✓ should create article with tags (118ms)
**** Call ## 5 ## Duration:  63 (ERR)
      ✓ should disallow unauthenticated user (63ms)
**** Call ## 6 ## Duration:  105 (ERR)
**** Call ## 7 ## Duration:  118 (ERR)
**** Call ## 8 ## Duration:  112 (ERR)
**** Call ## 9 ## Duration:  104 (ERR)
      ✓ should enforce required fields (440ms)
    Get
**** Call ## 10 ## Duration:  237
      ✓ should get article by slug (237ms)
**** Call ## 11 ## Duration:  111
      ✓ should get article with tags by slug (111ms)
**** Call ## 12 ## Duration:  93 (ERR)
      ✓ should disallow unknown slug (95ms)
    Update
**** Call ## 13 ## Duration:  191
**** Call ## 14 ## Duration:  158
**** Call ## 15 ## Duration:  186
      ✓ should update article (536ms)
**** Call ## 16 ## Duration:  60 (ERR)
      ✓ should disallow missing mutation (62ms)
**** Call ## 17 ## Duration:  60 (ERR)
      ✓ should disallow empty mutation (61ms)
**** Call ## 18 ## Duration:  62 (ERR)
      ✓ should disallow unauthenticated update (62ms)
**** Call ## 19 ## Duration:  109 (ERR)
      ✓ should disallow updating non-existent article (109ms)
**** Call ## 20 ## Duration:  98 (ERR)
      ✓ should disallow non-author from updating (98ms)
    Favorite
**** Call ## 21 ## Duration:  145
**** Call ## 22 ## Duration:  146
      ✓ should favorite article (291ms)
**** Call ## 23 ## Duration:  61 (ERR)
      ✓ should disallow favoriting by unauthenticated user (62ms)
**** Call ## 24 ## Duration:  98 (ERR)
      ✓ should disallow favoriting unknown article (98ms)
**** Call ## 25 ## Duration:  170
      ✓ should unfavorite article (170ms)
    Delete
**** Call ## 26 ## Duration:  134
**** Call ## 27 ## Duration:  75 (ERR)
      ✓ should delete article (209ms)
**** Call ## 28 ## Duration:  66 (ERR)
      ✓ should disallow deleting by unauthenticated user (66ms)
**** Call ## 29 ## Duration:  129 (ERR)
      ✓ should disallow deleting unknown article (129ms)
**** Call ## 30 ## Duration:  125 (ERR)
      ✓ should disallow deleting article by non-author (125ms)
    List
**** Call ## 31 ## Duration:  136
**** Call ## 32 ## Duration:  131
**** Call ## 33 ## Duration:  125
**** Call ## 34 ## Duration:  128
**** Call ## 35 ## Duration:  129
**** Call ## 36 ## Duration:  122
**** Call ## 37 ## Duration:  118
**** Call ## 38 ## Duration:  122
**** Call ## 39 ## Duration:  124
**** Call ## 40 ## Duration:  110
**** Call ## 41 ## Duration:  129
**** Call ## 42 ## Duration:  129
**** Call ## 43 ## Duration:  172
**** Call ## 44 ## Duration:  116
**** Call ## 45 ## Duration:  100
**** Call ## 46 ## Duration:  115
**** Call ## 47 ## Duration:  116
**** Call ## 48 ## Duration:  109
**** Call ## 49 ## Duration:  122
**** Call ## 50 ## Duration:  111
**** Call ## 51 ## Duration:  458
      ✓ should list articles (458ms)
**** Call ## 52 ## Duration:  302
**** Call ## 53 ## Duration:  514
      ✓ should list articles with tag (817ms)
**** Call ## 54 ## Duration:  213
      ✓ should list articles by author (213ms)
**** Call ## 55 ## Duration:  110
      ✓ should list articles favorited by user (111ms)
**** Call ## 56 ## Duration:  111
**** Call ## 57 ## Duration:  147
      ✓ should list articles by limit/offset (258ms)
**** Call ## 58 ## Duration:  554
      ✓ should list articles when authenticated (554ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  60 (ERR)
**** Call ## 61 ## Duration:  62 (ERR)
**** Call ## 60 ## Duration:  67 (ERR)
**** Call ## 62 ## Duration:  133
**** Call ## 63 ## Duration:  168
**** Call ## 64 ## Duration:  341
**** Call ## 65 ## Duration:  148
**** Call ## 66 ## Duration:  437
      ✓ should get feed (1231ms)
**** Call ## 67 ## Duration:  57 (ERR)
      ✓ should disallow unauthenticated feed (57ms)
    Tags
**** Call ## 68 ## Duration:  149
      ✓ should get tags (150ms)

  Comment
**** Call ## 69 ## Duration:  136
**** Call ## 70 ## Duration:  146
**** Call ## 71 ## Duration:  111
    Create
**** Call ## 72 ## Duration:  147
**** Call ## 73 ## Duration:  122
**** Call ## 74 ## Duration:  130
**** Call ## 75 ## Duration:  140
**** Call ## 76 ## Duration:  134
**** Call ## 77 ## Duration:  121
**** Call ## 78 ## Duration:  161
**** Call ## 79 ## Duration:  129
**** Call ## 80 ## Duration:  128
**** Call ## 81 ## Duration:  123
      ✓ should create comment (1338ms)
**** Call ## 82 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 83 ## Duration:  67 (ERR)
      ✓ should enforce comment body (67ms)
**** Call ## 84 ## Duration:  119 (ERR)
      ✓ should disallow non-existent article (119ms)
    Get
**** Call ## 85 ## Duration:  222
      ✓ should get all comments for article (222ms)
    Delete
**** Call ## 86 ## Duration:  141
      ✓ should delete comment (141ms)
**** Call ## 87 ## Duration:  91 (ERR)
      ✓ only comment author should be able to delete comment (91ms)
**** Call ## 88 ## Duration:  57 (ERR)
      ✓ should disallow unauthenticated user (57ms)
**** Call ## 89 ## Duration:  99 (ERR)
      ✓ should disallow deleting unknown comment (99ms)

  User
    Create
**** Call ## 90 ## Duration:  121
      ✓ should create user (122ms)
**** Call ## 91 ## Duration:  68 (ERR)
      ✓ should disallow same username (68ms)
**** Call ## 92 ## Duration:  96 (ERR)
      ✓ should disallow same email (96ms)
**** Call ## 93 ## Duration:  59 (ERR)
**** Call ## 94 ## Duration:  58 (ERR)
**** Call ## 95 ## Duration:  99 (ERR)
**** Call ## 96 ## Duration:  56 (ERR)
      ✓ should enforce required fields (273ms)
    Login
**** Call ## 97 ## Duration:  117
      ✓ should login (117ms)
**** Call ## 98 ## Duration:  104 (ERR)
      ✓ should disallow unknown email (105ms)
**** Call ## 99 ## Duration:  76 (ERR)
      ✓ should disallow wrong password (77ms)
**** Call ## 100 ## Duration:  55 (ERR)
**** Call ## 101 ## Duration:  61 (ERR)
**** Call ## 102 ## Duration:  57 (ERR)
      ✓ should enforce required fields (175ms)
    Get
**** Call ## 103 ## Duration:  78
      ✓ should get current user (79ms)
**** Call ## 104 ## Duration:  60 (ERR)
**** Call ## 105 ## Duration:  66 (ERR)
**** Call ## 106 ## Duration:  62 (ERR)
**** Call ## 107 ## Duration:  60 (ERR)
      ✓ should disallow bad tokens (249ms)
    Profile
**** Call ## 108 ## Duration:  99
      ✓ should get profile (99ms)
**** Call ## 109 ## Duration:  78 (ERR)
      ✓ should disallow unknown username (79ms)
**** Call ## 110 ## Duration:  120
**** Call ## 111 ## Duration:  184
**** Call ## 112 ## Duration:  180
**** Call ## 113 ## Duration:  112
**** Call ## 114 ## Duration:  109
**** Call ## 115 ## Duration:  149
**** Call ## 116 ## Duration:  152
**** Call ## 117 ## Duration:  149
**** Call ## 118 ## Duration:  135
**** Call ## 119 ## Duration:  122
      ✓ should follow/unfollow user (1413ms)
**** Call ## 120 ## Duration:  78 (ERR)
      ✓ should disallow following with bad token (78ms)
    Update
**** Call ## 121 ## Duration:  140
**** Call ## 122 ## Duration:  91
**** Call ## 123 ## Duration:  97
**** Call ## 124 ## Duration:  113
      ✓ should update user (443ms)
**** Call ## 125 ## Duration:  62 (ERR)
**** Call ## 126 ## Duration:  78 (ERR)
      ✓ should disallow missing token/email in update (141ms)
**** Call ## 127 ## Duration:  134
**** Call ## 128 ## Duration:  90 (ERR)
      ✓ should disallow reusing email (224ms)

  Util
    Ping
**** Call ## 129 ## Duration:  80
      ✓ should ping (80ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  172
**** Call ## 1 ## Duration:  152
**** Call ## 2 ## Duration:  125
    Create
**** Call ## 3 ## Duration:  110
      ✓ should create article (112ms)
**** Call ## 4 ## Duration:  127
      ✓ should create article with tags (130ms)
**** Call ## 5 ## Duration:  63 (ERR)
      ✓ should disallow unauthenticated user (64ms)
**** Call ## 6 ## Duration:  90 (ERR)
**** Call ## 7 ## Duration:  98 (ERR)
**** Call ## 8 ## Duration:  84 (ERR)
**** Call ## 9 ## Duration:  102 (ERR)
      ✓ should enforce required fields (376ms)
    Get
**** Call ## 10 ## Duration:  123
      ✓ should get article by slug (123ms)
**** Call ## 11 ## Duration:  144
      ✓ should get article with tags by slug (145ms)
**** Call ## 12 ## Duration:  94 (ERR)
      ✓ should disallow unknown slug (94ms)
    Update
**** Call ## 13 ## Duration:  220
**** Call ## 14 ## Duration:  194
**** Call ## 15 ## Duration:  186
      ✓ should update article (601ms)
**** Call ## 16 ## Duration:  61 (ERR)
      ✓ should disallow missing mutation (61ms)
**** Call ## 17 ## Duration:  58 (ERR)
      ✓ should disallow empty mutation (58ms)
**** Call ## 18 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated update (61ms)
**** Call ## 19 ## Duration:  100 (ERR)
      ✓ should disallow updating non-existent article (100ms)
**** Call ## 20 ## Duration:  98 (ERR)
      ✓ should disallow non-author from updating (99ms)
    Favorite
**** Call ## 21 ## Duration:  152
**** Call ## 22 ## Duration:  140
      ✓ should favorite article (292ms)
**** Call ## 23 ## Duration:  80 (ERR)
      ✓ should disallow favoriting by unauthenticated user (80ms)
**** Call ## 24 ## Duration:  121 (ERR)
      ✓ should disallow favoriting unknown article (121ms)
**** Call ## 25 ## Duration:  151
      ✓ should unfavorite article (151ms)
    Delete
**** Call ## 26 ## Duration:  139
**** Call ## 27 ## Duration:  75 (ERR)
      ✓ should delete article (215ms)
**** Call ## 28 ## Duration:  64 (ERR)
      ✓ should disallow deleting by unauthenticated user (64ms)
**** Call ## 29 ## Duration:  102 (ERR)
      ✓ should disallow deleting unknown article (102ms)
**** Call ## 30 ## Duration:  102 (ERR)
      ✓ should disallow deleting article by non-author (102ms)
    List
**** Call ## 31 ## Duration:  110
**** Call ## 32 ## Duration:  131
**** Call ## 33 ## Duration:  129
**** Call ## 34 ## Duration:  118
**** Call ## 35 ## Duration:  130
**** Call ## 36 ## Duration:  123
**** Call ## 37 ## Duration:  97
**** Call ## 38 ## Duration:  124
**** Call ## 39 ## Duration:  100
**** Call ## 40 ## Duration:  104
**** Call ## 41 ## Duration:  109
**** Call ## 42 ## Duration:  121
**** Call ## 43 ## Duration:  119
**** Call ## 44 ## Duration:  108
**** Call ## 45 ## Duration:  142
**** Call ## 46 ## Duration:  112
**** Call ## 47 ## Duration:  105
**** Call ## 48 ## Duration:  112
**** Call ## 49 ## Duration:  96
**** Call ## 50 ## Duration:  97
**** Call ## 51 ## Duration:  451
      ✓ should list articles (452ms)
**** Call ## 52 ## Duration:  393
**** Call ## 53 ## Duration:  478
      ✓ should list articles with tag (871ms)
**** Call ## 54 ## Duration:  255
      ✓ should list articles by author (255ms)
**** Call ## 55 ## Duration:  124
      ✓ should list articles favorited by user (124ms)
**** Call ## 56 ## Duration:  136
**** Call ## 57 ## Duration:  120
      ✓ should list articles by limit/offset (256ms)
**** Call ## 58 ## Duration:  512
      ✓ should list articles when authenticated (512ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  59 (ERR)
**** Call ## 59 ## Duration:  64 (ERR)
**** Call ## 61 ## Duration:  73 (ERR)
**** Call ## 62 ## Duration:  122
**** Call ## 63 ## Duration:  166
**** Call ## 64 ## Duration:  399
**** Call ## 65 ## Duration:  172
**** Call ## 66 ## Duration:  423
      ✓ should get feed (1286ms)
**** Call ## 67 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated feed (60ms)
    Tags
**** Call ## 68 ## Duration:  194
      ✓ should get tags (194ms)

  Comment
**** Call ## 69 ## Duration:  141
**** Call ## 70 ## Duration:  142
**** Call ## 71 ## Duration:  108
    Create
**** Call ## 72 ## Duration:  130
**** Call ## 73 ## Duration:  128
**** Call ## 74 ## Duration:  128
**** Call ## 75 ## Duration:  142
**** Call ## 76 ## Duration:  139
**** Call ## 77 ## Duration:  124
**** Call ## 78 ## Duration:  134
**** Call ## 79 ## Duration:  134
**** Call ## 80 ## Duration:  130
**** Call ## 81 ## Duration:  118
      ✓ should create comment (1310ms)
**** Call ## 82 ## Duration:  70 (ERR)
      ✓ should disallow unauthenticated user (70ms)
**** Call ## 83 ## Duration:  76 (ERR)
      ✓ should enforce comment body (76ms)
**** Call ## 84 ## Duration:  86 (ERR)
      ✓ should disallow non-existent article (86ms)
    Get
**** Call ## 85 ## Duration:  224
      ✓ should get all comments for article (225ms)
    Delete
**** Call ## 86 ## Duration:  139
      ✓ should delete comment (139ms)
**** Call ## 87 ## Duration:  99 (ERR)
      ✓ only comment author should be able to delete comment (100ms)
**** Call ## 88 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 89 ## Duration:  78 (ERR)
      ✓ should disallow deleting unknown comment (79ms)

  User
    Create
**** Call ## 90 ## Duration:  158
      ✓ should create user (159ms)
**** Call ## 91 ## Duration:  73 (ERR)
      ✓ should disallow same username (73ms)
**** Call ## 92 ## Duration:  96 (ERR)
      ✓ should disallow same email (96ms)
**** Call ## 93 ## Duration:  83 (ERR)
**** Call ## 94 ## Duration:  59 (ERR)
**** Call ## 95 ## Duration:  79 (ERR)
**** Call ## 96 ## Duration:  61 (ERR)
      ✓ should enforce required fields (285ms)
    Login
**** Call ## 97 ## Duration:  112
      ✓ should login (112ms)
**** Call ## 98 ## Duration:  76 (ERR)
      ✓ should disallow unknown email (76ms)
**** Call ## 99 ## Duration:  83 (ERR)
      ✓ should disallow wrong password (83ms)
**** Call ## 100 ## Duration:  57 (ERR)
**** Call ## 101 ## Duration:  56 (ERR)
**** Call ## 102 ## Duration:  81 (ERR)
      ✓ should enforce required fields (197ms)
    Get
**** Call ## 103 ## Duration:  84
      ✓ should get current user (84ms)
**** Call ## 104 ## Duration:  60 (ERR)
**** Call ## 105 ## Duration:  69 (ERR)
**** Call ## 106 ## Duration:  57 (ERR)
**** Call ## 107 ## Duration:  58 (ERR)
      ✓ should disallow bad tokens (247ms)
    Profile
**** Call ## 108 ## Duration:  98
      ✓ should get profile (98ms)
**** Call ## 109 ## Duration:  77 (ERR)
      ✓ should disallow unknown username (77ms)
**** Call ## 110 ## Duration:  149
**** Call ## 111 ## Duration:  148
**** Call ## 112 ## Duration:  137
**** Call ## 113 ## Duration:  92
**** Call ## 114 ## Duration:  92
**** Call ## 115 ## Duration:  123
**** Call ## 116 ## Duration:  147
**** Call ## 117 ## Duration:  168
**** Call ## 118 ## Duration:  174
**** Call ## 119 ## Duration:  139
      ✓ should follow/unfollow user (1373ms)
**** Call ## 120 ## Duration:  57 (ERR)
      ✓ should disallow following with bad token (57ms)
    Update
**** Call ## 121 ## Duration:  123
**** Call ## 122 ## Duration:  104
**** Call ## 123 ## Duration:  96
**** Call ## 124 ## Duration:  84
      ✓ should update user (408ms)
**** Call ## 125 ## Duration:  74 (ERR)
**** Call ## 126 ## Duration:  74 (ERR)
      ✓ should disallow missing token/email in update (148ms)
**** Call ## 127 ## Duration:  119
**** Call ## 128 ## Duration:  82 (ERR)
      ✓ should disallow reusing email (202ms)

  Util
    Ping
**** Call ## 129 ## Duration:  60
      ✓ should ping (61ms)


  58 passing (16s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  184
**** Call ## 1 ## Duration:  154
**** Call ## 2 ## Duration:  141
    Create
**** Call ## 3 ## Duration:  123
      ✓ should create article (124ms)
**** Call ## 4 ## Duration:  116
      ✓ should create article with tags (117ms)
**** Call ## 5 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 6 ## Duration:  99 (ERR)
**** Call ## 7 ## Duration:  112 (ERR)
**** Call ## 8 ## Duration:  87 (ERR)
**** Call ## 9 ## Duration:  96 (ERR)
      ✓ should enforce required fields (395ms)
    Get
**** Call ## 10 ## Duration:  119
      ✓ should get article by slug (120ms)
**** Call ## 11 ## Duration:  116
      ✓ should get article with tags by slug (116ms)
**** Call ## 12 ## Duration:  74 (ERR)
      ✓ should disallow unknown slug (75ms)
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  169
**** Call ## 15 ## Duration:  148
      ✓ should update article (472ms)
**** Call ## 16 ## Duration:  57 (ERR)
      ✓ should disallow missing mutation (57ms)
**** Call ## 17 ## Duration:  56 (ERR)
      ✓ should disallow empty mutation (57ms)
**** Call ## 18 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated update (60ms)
**** Call ## 19 ## Duration:  95 (ERR)
      ✓ should disallow updating non-existent article (96ms)
**** Call ## 20 ## Duration:  94 (ERR)
      ✓ should disallow non-author from updating (94ms)
    Favorite
**** Call ## 21 ## Duration:  177
**** Call ## 22 ## Duration:  124
      ✓ should favorite article (301ms)
**** Call ## 23 ## Duration:  57 (ERR)
      ✓ should disallow favoriting by unauthenticated user (58ms)
**** Call ## 24 ## Duration:  117 (ERR)
      ✓ should disallow favoriting unknown article (118ms)
**** Call ## 25 ## Duration:  152
      ✓ should unfavorite article (152ms)
    Delete
**** Call ## 26 ## Duration:  136
**** Call ## 27 ## Duration:  83 (ERR)
      ✓ should delete article (221ms)
**** Call ## 28 ## Duration:  65 (ERR)
      ✓ should disallow deleting by unauthenticated user (66ms)
**** Call ## 29 ## Duration:  119 (ERR)
      ✓ should disallow deleting unknown article (119ms)
**** Call ## 30 ## Duration:  125 (ERR)
      ✓ should disallow deleting article by non-author (125ms)
    List
**** Call ## 31 ## Duration:  110
**** Call ## 32 ## Duration:  135
**** Call ## 33 ## Duration:  244
**** Call ## 34 ## Duration:  118
**** Call ## 35 ## Duration:  104
**** Call ## 36 ## Duration:  117
**** Call ## 37 ## Duration:  117
**** Call ## 38 ## Duration:  104
**** Call ## 39 ## Duration:  123
**** Call ## 40 ## Duration:  108
**** Call ## 41 ## Duration:  117
**** Call ## 42 ## Duration:  108
**** Call ## 43 ## Duration:  120
**** Call ## 44 ## Duration:  126
**** Call ## 45 ## Duration:  116
**** Call ## 46 ## Duration:  115
**** Call ## 47 ## Duration:  138
**** Call ## 48 ## Duration:  116
**** Call ## 49 ## Duration:  128
**** Call ## 50 ## Duration:  114
**** Call ## 51 ## Duration:  606
      ✓ should list articles (606ms)
**** Call ## 52 ## Duration:  371
**** Call ## 53 ## Duration:  491
      ✓ should list articles with tag (862ms)
**** Call ## 54 ## Duration:  295
      ✓ should list articles by author (295ms)
**** Call ## 55 ## Duration:  139
      ✓ should list articles favorited by user (139ms)
**** Call ## 56 ## Duration:  139
**** Call ## 57 ## Duration:  146
      ✓ should list articles by limit/offset (285ms)
**** Call ## 58 ## Duration:  472
      ✓ should list articles when authenticated (472ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  58 (ERR)
**** Call ## 60 ## Duration:  63 (ERR)
**** Call ## 61 ## Duration:  66 (ERR)
**** Call ## 62 ## Duration:  114
**** Call ## 63 ## Duration:  172
**** Call ## 64 ## Duration:  320
**** Call ## 65 ## Duration:  141
**** Call ## 66 ## Duration:  508
      ✓ should get feed (1258ms)
**** Call ## 67 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated feed (60ms)
    Tags
**** Call ## 68 ## Duration:  187
      ✓ should get tags (187ms)

  Comment
**** Call ## 69 ## Duration:  155
**** Call ## 70 ## Duration:  166
**** Call ## 71 ## Duration:  154
    Create
**** Call ## 72 ## Duration:  141
**** Call ## 73 ## Duration:  144
**** Call ## 74 ## Duration:  155
**** Call ## 75 ## Duration:  124
**** Call ## 76 ## Duration:  131
**** Call ## 77 ## Duration:  152
**** Call ## 78 ## Duration:  193
**** Call ## 79 ## Duration:  109
**** Call ## 80 ## Duration:  128
**** Call ## 81 ## Duration:  145
      ✓ should create comment (1425ms)
**** Call ## 82 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 83 ## Duration:  93 (ERR)
      ✓ should enforce comment body (95ms)
**** Call ## 84 ## Duration:  92 (ERR)
      ✓ should disallow non-existent article (93ms)
    Get
**** Call ## 85 ## Duration:  237
      ✓ should get all comments for article (237ms)
    Delete
**** Call ## 86 ## Duration:  139
      ✓ should delete comment (140ms)
**** Call ## 87 ## Duration:  95 (ERR)
      ✓ only comment author should be able to delete comment (96ms)
**** Call ## 88 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated user (78ms)
**** Call ## 89 ## Duration:  96 (ERR)
      ✓ should disallow deleting unknown comment (96ms)

  User
    Create
**** Call ## 90 ## Duration:  208
      ✓ should create user (210ms)
**** Call ## 91 ## Duration:  102 (ERR)
      ✓ should disallow same username (102ms)
**** Call ## 92 ## Duration:  85 (ERR)
      ✓ should disallow same email (86ms)
**** Call ## 93 ## Duration:  57 (ERR)
**** Call ## 94 ## Duration:  60 (ERR)
**** Call ## 95 ## Duration:  57 (ERR)
**** Call ## 96 ## Duration:  58 (ERR)
      ✓ should enforce required fields (234ms)
    Login
**** Call ## 97 ## Duration:  103
      ✓ should login (104ms)
**** Call ## 98 ## Duration:  75 (ERR)
      ✓ should disallow unknown email (75ms)
**** Call ## 99 ## Duration:  78 (ERR)
      ✓ should disallow wrong password (80ms)
**** Call ## 100 ## Duration:  79 (ERR)
**** Call ## 101 ## Duration:  80 (ERR)
**** Call ## 102 ## Duration:  61 (ERR)
      ✓ should enforce required fields (220ms)
    Get
**** Call ## 103 ## Duration:  78
      ✓ should get current user (78ms)
**** Call ## 104 ## Duration:  80 (ERR)
**** Call ## 105 ## Duration:  58 (ERR)
**** Call ## 106 ## Duration:  57 (ERR)
**** Call ## 107 ## Duration:  79 (ERR)
      ✓ should disallow bad tokens (275ms)
    Profile
**** Call ## 108 ## Duration:  102
      ✓ should get profile (102ms)
**** Call ## 109 ## Duration:  75 (ERR)
      ✓ should disallow unknown username (75ms)
**** Call ## 110 ## Duration:  136
**** Call ## 111 ## Duration:  174
**** Call ## 112 ## Duration:  121
**** Call ## 113 ## Duration:  120
**** Call ## 114 ## Duration:  108
**** Call ## 115 ## Duration:  136
**** Call ## 116 ## Duration:  127
**** Call ## 117 ## Duration:  183
**** Call ## 118 ## Duration:  161
**** Call ## 119 ## Duration:  133
      ✓ should follow/unfollow user (1399ms)
**** Call ## 120 ## Duration:  78 (ERR)
      ✓ should disallow following with bad token (78ms)
    Update
**** Call ## 121 ## Duration:  120
**** Call ## 122 ## Duration:  113
**** Call ## 123 ## Duration:  82
**** Call ## 124 ## Duration:  95
      ✓ should update user (410ms)
**** Call ## 125 ## Duration:  59 (ERR)
**** Call ## 126 ## Duration:  73 (ERR)
      ✓ should disallow missing token/email in update (132ms)
**** Call ## 127 ## Duration:  157
**** Call ## 128 ## Duration:  109 (ERR)
      ✓ should disallow reusing email (267ms)

  Util
    Ping
**** Call ## 129 ## Duration:  62
      ✓ should ping (63ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  208
**** Call ## 1 ## Duration:  158
**** Call ## 2 ## Duration:  169
    Create
**** Call ## 3 ## Duration:  137
      ✓ should create article (139ms)
**** Call ## 4 ## Duration:  132
      ✓ should create article with tags (133ms)
**** Call ## 5 ## Duration:  113 (ERR)
      ✓ should disallow unauthenticated user (114ms)
**** Call ## 6 ## Duration:  107 (ERR)
**** Call ## 7 ## Duration:  123 (ERR)
**** Call ## 8 ## Duration:  110 (ERR)
**** Call ## 9 ## Duration:  138 (ERR)
      ✓ should enforce required fields (478ms)
    Get
**** Call ## 10 ## Duration:  147
      ✓ should get article by slug (147ms)
**** Call ## 11 ## Duration:  132
      ✓ should get article with tags by slug (132ms)
**** Call ## 12 ## Duration:  95 (ERR)
      ✓ should disallow unknown slug (96ms)
    Update
**** Call ## 13 ## Duration:  188
**** Call ## 14 ## Duration:  205
**** Call ## 15 ## Duration:  188
      ✓ should update article (583ms)
**** Call ## 16 ## Duration:  86 (ERR)
      ✓ should disallow missing mutation (87ms)
**** Call ## 17 ## Duration:  80 (ERR)
      ✓ should disallow empty mutation (81ms)
**** Call ## 18 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated update (83ms)
**** Call ## 19 ## Duration:  135 (ERR)
      ✓ should disallow updating non-existent article (137ms)
**** Call ## 20 ## Duration:  116 (ERR)
      ✓ should disallow non-author from updating (116ms)
    Favorite
**** Call ## 21 ## Duration:  169
**** Call ## 22 ## Duration:  153
      ✓ should favorite article (322ms)
**** Call ## 23 ## Duration:  87 (ERR)
      ✓ should disallow favoriting by unauthenticated user (88ms)
**** Call ## 24 ## Duration:  129 (ERR)
      ✓ should disallow favoriting unknown article (130ms)
**** Call ## 25 ## Duration:  188
      ✓ should unfavorite article (188ms)
    Delete
**** Call ## 26 ## Duration:  160
**** Call ## 27 ## Duration:  97 (ERR)
      ✓ should delete article (257ms)
**** Call ## 28 ## Duration:  77 (ERR)
      ✓ should disallow deleting by unauthenticated user (77ms)
**** Call ## 29 ## Duration:  168 (ERR)
      ✓ should disallow deleting unknown article (169ms)
**** Call ## 30 ## Duration:  124 (ERR)
      ✓ should disallow deleting article by non-author (124ms)
    List
**** Call ## 31 ## Duration:  147
**** Call ## 32 ## Duration:  135
**** Call ## 33 ## Duration:  123
**** Call ## 34 ## Duration:  134
**** Call ## 35 ## Duration:  141
**** Call ## 36 ## Duration:  121
**** Call ## 37 ## Duration:  146
**** Call ## 38 ## Duration:  259
**** Call ## 39 ## Duration:  136
**** Call ## 40 ## Duration:  138
**** Call ## 41 ## Duration:  127
**** Call ## 42 ## Duration:  142
**** Call ## 43 ## Duration:  182
**** Call ## 44 ## Duration:  126
**** Call ## 45 ## Duration:  145
**** Call ## 46 ## Duration:  138
**** Call ## 47 ## Duration:  162
**** Call ## 48 ## Duration:  134
**** Call ## 49 ## Duration:  153
**** Call ## 50 ## Duration:  133
**** Call ## 51 ## Duration:  584
      ✓ should list articles (585ms)
**** Call ## 52 ## Duration:  454
**** Call ## 53 ## Duration:  550
      ✓ should list articles with tag (1005ms)
**** Call ## 54 ## Duration:  291
      ✓ should list articles by author (291ms)
**** Call ## 55 ## Duration:  142
      ✓ should list articles favorited by user (142ms)
**** Call ## 56 ## Duration:  136
**** Call ## 57 ## Duration:  154
      ✓ should list articles by limit/offset (290ms)
**** Call ## 58 ## Duration:  6139 (ERR)
      1) should list articles when authenticated


  26 passing (16s)
  1 failing

  1) Article
       List
         should list articles when authenticated:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:17:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:236:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)



npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2020-05-20T21_22_06_404Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  232
**** Call ## 1 ## Duration:  164
**** Call ## 2 ## Duration:  159
    Create
**** Call ## 3 ## Duration:  188
      ✓ should create article (191ms)
**** Call ## 4 ## Duration:  160
      ✓ should create article with tags (162ms)
**** Call ## 5 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 6 ## Duration:  124 (ERR)
**** Call ## 7 ## Duration:  123 (ERR)
**** Call ## 8 ## Duration:  121 (ERR)
**** Call ## 9 ## Duration:  106 (ERR)
      ✓ should enforce required fields (475ms)
    Get
**** Call ## 10 ## Duration:  172
      ✓ should get article by slug (172ms)
**** Call ## 11 ## Duration:  162
      ✓ should get article with tags by slug (162ms)
**** Call ## 12 ## Duration:  100 (ERR)
      ✓ should disallow unknown slug (100ms)
    Update
**** Call ## 13 ## Duration:  313
**** Call ## 14 ## Duration:  210
**** Call ## 15 ## Duration:  209
      ✓ should update article (735ms)
**** Call ## 16 ## Duration:  80 (ERR)
      ✓ should disallow missing mutation (81ms)
**** Call ## 17 ## Duration:  114 (ERR)
      ✓ should disallow empty mutation (115ms)
**** Call ## 18 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated update (82ms)
**** Call ## 19 ## Duration:  119 (ERR)
      ✓ should disallow updating non-existent article (119ms)
**** Call ## 20 ## Duration:  124 (ERR)
      ✓ should disallow non-author from updating (125ms)
    Favorite
**** Call ## 21 ## Duration:  177
**** Call ## 22 ## Duration:  180
      ✓ should favorite article (357ms)
**** Call ## 23 ## Duration:  91 (ERR)
      ✓ should disallow favoriting by unauthenticated user (92ms)
**** Call ## 24 ## Duration:  114 (ERR)
      ✓ should disallow favoriting unknown article (114ms)
**** Call ## 25 ## Duration:  197
      ✓ should unfavorite article (198ms)
    Delete
**** Call ## 26 ## Duration:  157
**** Call ## 27 ## Duration:  111 (ERR)
      ✓ should delete article (269ms)
**** Call ## 28 ## Duration:  88 (ERR)
      ✓ should disallow deleting by unauthenticated user (89ms)
**** Call ## 29 ## Duration:  139 (ERR)
      ✓ should disallow deleting unknown article (140ms)
**** Call ## 30 ## Duration:  114 (ERR)
      ✓ should disallow deleting article by non-author (114ms)
    List
**** Call ## 31 ## Duration:  168
**** Call ## 32 ## Duration:  133
**** Call ## 33 ## Duration:  139
**** Call ## 34 ## Duration:  129
**** Call ## 35 ## Duration:  133
**** Call ## 36 ## Duration:  126
**** Call ## 37 ## Duration:  144
**** Call ## 38 ## Duration:  126
**** Call ## 39 ## Duration:  125
**** Call ## 40 ## Duration:  120
**** Call ## 41 ## Duration:  132
**** Call ## 42 ## Duration:  125
**** Call ## 43 ## Duration:  141
**** Call ## 44 ## Duration:  125
**** Call ## 45 ## Duration:  152
**** Call ## 46 ## Duration:  137
**** Call ## 47 ## Duration:  120
**** Call ## 48 ## Duration:  141
**** Call ## 49 ## Duration:  160
**** Call ## 50 ## Duration:  109
**** Call ## 51 ## Duration:  799
      ✓ should list articles (799ms)
**** Call ## 52 ## Duration:  482
**** Call ## 53 ## Duration:  563
      ✓ should list articles with tag (1045ms)
**** Call ## 54 ## Duration:  348
      ✓ should list articles by author (348ms)
**** Call ## 55 ## Duration:  148
      ✓ should list articles favorited by user (149ms)
**** Call ## 56 ## Duration:  219
**** Call ## 57 ## Duration:  172
      ✓ should list articles by limit/offset (391ms)
**** Call ## 58 ## Duration:  552
      ✓ should list articles when authenticated (552ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  82 (ERR)
**** Call ## 60 ## Duration:  86 (ERR)
**** Call ## 61 ## Duration:  88 (ERR)
**** Call ## 62 ## Duration:  136
**** Call ## 63 ## Duration:  195
**** Call ## 64 ## Duration:  334
**** Call ## 65 ## Duration:  185
**** Call ## 66 ## Duration:  457
      ✓ should get feed (1309ms)
**** Call ## 67 ## Duration:  124 (ERR)
      ✓ should disallow unauthenticated feed (126ms)
    Tags
**** Call ## 68 ## Duration:  251
      ✓ should get tags (251ms)

  Comment
**** Call ## 69 ## Duration:  186
**** Call ## 70 ## Duration:  167
**** Call ## 71 ## Duration:  178
    Create
**** Call ## 72 ## Duration:  152
**** Call ## 73 ## Duration:  270
**** Call ## 74 ## Duration:  146
**** Call ## 75 ## Duration:  150
**** Call ## 76 ## Duration:  149
**** Call ## 77 ## Duration:  301
**** Call ## 78 ## Duration:  127
**** Call ## 79 ## Duration:  129
**** Call ## 80 ## Duration:  154
**** Call ## 81 ## Duration:  132
      ✓ should create comment (1712ms)
**** Call ## 82 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 83 ## Duration:  93 (ERR)
      ✓ should enforce comment body (93ms)
**** Call ## 84 ## Duration:  96 (ERR)
      ✓ should disallow non-existent article (97ms)
    Get
**** Call ## 85 ## Duration:  301
      ✓ should get all comments for article (302ms)
    Delete
**** Call ## 86 ## Duration:  163
      ✓ should delete comment (163ms)
**** Call ## 87 ## Duration:  109 (ERR)
      ✓ only comment author should be able to delete comment (109ms)
**** Call ## 88 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 89 ## Duration:  110 (ERR)
      ✓ should disallow deleting unknown comment (111ms)

  User
    Create
**** Call ## 90 ## Duration:  168
      ✓ should create user (168ms)
**** Call ## 91 ## Duration:  101 (ERR)
      ✓ should disallow same username (101ms)
**** Call ## 92 ## Duration:  127 (ERR)
      ✓ should disallow same email (129ms)
**** Call ## 93 ## Duration:  83 (ERR)
**** Call ## 94 ## Duration:  79 (ERR)
**** Call ## 95 ## Duration:  84 (ERR)
**** Call ## 96 ## Duration:  88 (ERR)
      ✓ should enforce required fields (335ms)
    Login
**** Call ## 97 ## Duration:  127
      ✓ should login (127ms)
**** Call ## 98 ## Duration:  129 (ERR)
      ✓ should disallow unknown email (129ms)
**** Call ## 99 ## Duration:  104 (ERR)
      ✓ should disallow wrong password (104ms)
**** Call ## 100 ## Duration:  80 (ERR)
**** Call ## 101 ## Duration:  79 (ERR)
**** Call ## 102 ## Duration:  84 (ERR)
      ✓ should enforce required fields (243ms)
    Get
**** Call ## 103 ## Duration:  108
      ✓ should get current user (108ms)
**** Call ## 104 ## Duration:  97 (ERR)
**** Call ## 105 ## Duration:  88 (ERR)
**** Call ## 106 ## Duration:  84 (ERR)
**** Call ## 107 ## Duration:  79 (ERR)
      ✓ should disallow bad tokens (351ms)
    Profile
**** Call ## 108 ## Duration:  136
      ✓ should get profile (136ms)
**** Call ## 109 ## Duration:  100 (ERR)
      ✓ should disallow unknown username (101ms)
**** Call ## 110 ## Duration:  183
**** Call ## 111 ## Duration:  168
**** Call ## 112 ## Duration:  193
**** Call ## 113 ## Duration:  146
**** Call ## 114 ## Duration:  152
**** Call ## 115 ## Duration:  158
**** Call ## 116 ## Duration:  154
**** Call ## 117 ## Duration:  167
**** Call ## 118 ## Duration:  283
**** Call ## 119 ## Duration:  191
      ✓ should follow/unfollow user (1797ms)
**** Call ## 120 ## Duration:  82 (ERR)
      ✓ should disallow following with bad token (82ms)
    Update
**** Call ## 121 ## Duration:  143
**** Call ## 122 ## Duration:  118
**** Call ## 123 ## Duration:  115
**** Call ## 124 ## Duration:  124
      ✓ should update user (501ms)
**** Call ## 125 ## Duration:  84 (ERR)
**** Call ## 126 ## Duration:  109 (ERR)
      ✓ should disallow missing token/email in update (193ms)
**** Call ## 127 ## Duration:  191
**** Call ## 128 ## Duration:  115 (ERR)
      ✓ should disallow reusing email (307ms)

  Util
    Ping
**** Call ## 129 ## Duration:  80
      ✓ should ping (80ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  218
**** Call ## 1 ## Duration:  201
**** Call ## 2 ## Duration:  173
    Create
**** Call ## 3 ## Duration:  181
      ✓ should create article (183ms)
**** Call ## 4 ## Duration:  139
      ✓ should create article with tags (141ms)
**** Call ## 5 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 6 ## Duration:  110 (ERR)
**** Call ## 7 ## Duration:  124 (ERR)
**** Call ## 8 ## Duration:  123 (ERR)
**** Call ## 9 ## Duration:  120 (ERR)
      ✓ should enforce required fields (478ms)
    Get
**** Call ## 10 ## Duration:  182
      ✓ should get article by slug (183ms)
**** Call ## 11 ## Duration:  141
      ✓ should get article with tags by slug (141ms)
**** Call ## 12 ## Duration:  95 (ERR)
      ✓ should disallow unknown slug (96ms)
    Update
**** Call ## 13 ## Duration:  226
**** Call ## 14 ## Duration:  199
**** Call ## 15 ## Duration:  180
      ✓ should update article (607ms)
**** Call ## 16 ## Duration:  85 (ERR)
      ✓ should disallow missing mutation (87ms)
**** Call ## 17 ## Duration:  82 (ERR)
      ✓ should disallow empty mutation (83ms)
**** Call ## 18 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated update (80ms)
**** Call ## 19 ## Duration:  137 (ERR)
      ✓ should disallow updating non-existent article (137ms)
**** Call ## 20 ## Duration:  147 (ERR)
      ✓ should disallow non-author from updating (148ms)
    Favorite
**** Call ## 21 ## Duration:  171
**** Call ## 22 ## Duration:  180
      ✓ should favorite article (353ms)
**** Call ## 23 ## Duration:  128 (ERR)
      ✓ should disallow favoriting by unauthenticated user (128ms)
**** Call ## 24 ## Duration:  359 (ERR)
      ✓ should disallow favoriting unknown article (359ms)
**** Call ## 25 ## Duration:  303
      ✓ should unfavorite article (303ms)
    Delete
**** Call ## 26 ## Duration:  173
**** Call ## 27 ## Duration:  126 (ERR)
      ✓ should delete article (300ms)
**** Call ## 28 ## Duration:  80 (ERR)
      ✓ should disallow deleting by unauthenticated user (81ms)
**** Call ## 29 ## Duration:  117 (ERR)
      ✓ should disallow deleting unknown article (117ms)
**** Call ## 30 ## Duration:  159 (ERR)
      ✓ should disallow deleting article by non-author (160ms)
    List
**** Call ## 31 ## Duration:  149
**** Call ## 32 ## Duration:  168
**** Call ## 33 ## Duration:  139
**** Call ## 34 ## Duration:  132
**** Call ## 35 ## Duration:  131
**** Call ## 36 ## Duration:  134
**** Call ## 37 ## Duration:  202
**** Call ## 38 ## Duration:  131
**** Call ## 39 ## Duration:  138
**** Call ## 40 ## Duration:  140
**** Call ## 41 ## Duration:  151
**** Call ## 42 ## Duration:  139
**** Call ## 43 ## Duration:  112
**** Call ## 44 ## Duration:  176
**** Call ## 45 ## Duration:  138
**** Call ## 46 ## Duration:  140
**** Call ## 47 ## Duration:  135
**** Call ## 48 ## Duration:  134
**** Call ## 49 ## Duration:  132
**** Call ## 50 ## Duration:  124
**** Call ## 51 ## Duration:  639
      ✓ should list articles (639ms)
**** Call ## 52 ## Duration:  570
**** Call ## 53 ## Duration:  440
      ✓ should list articles with tag (1010ms)
**** Call ## 54 ## Duration:  336
      ✓ should list articles by author (336ms)
**** Call ## 55 ## Duration:  150
      ✓ should list articles favorited by user (150ms)
**** Call ## 56 ## Duration:  163
**** Call ## 57 ## Duration:  155
      ✓ should list articles by limit/offset (318ms)
**** Call ## 58 ## Duration:  570
      ✓ should list articles when authenticated (570ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  82 (ERR)
**** Call ## 61 ## Duration:  97 (ERR)
**** Call ## 59 ## Duration:  125 (ERR)
**** Call ## 62 ## Duration:  158
**** Call ## 63 ## Duration:  294
**** Call ## 64 ## Duration:  453
**** Call ## 65 ## Duration:  168
**** Call ## 66 ## Duration:  629
      ✓ should get feed (1704ms)
**** Call ## 67 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated feed (85ms)
    Tags
**** Call ## 68 ## Duration:  277
      ✓ should get tags (277ms)

  Comment
**** Call ## 69 ## Duration:  162
**** Call ## 70 ## Duration:  160
**** Call ## 71 ## Duration:  131
    Create
**** Call ## 72 ## Duration:  170
**** Call ## 73 ## Duration:  155
**** Call ## 74 ## Duration:  160
**** Call ## 75 ## Duration:  159
**** Call ## 76 ## Duration:  155
**** Call ## 77 ## Duration:  194
**** Call ## 78 ## Duration:  146
**** Call ## 79 ## Duration:  202
**** Call ## 80 ## Duration:  137
**** Call ## 81 ## Duration:  137
      ✓ should create comment (1620ms)
**** Call ## 82 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 83 ## Duration:  104 (ERR)
      ✓ should enforce comment body (105ms)
**** Call ## 84 ## Duration:  102 (ERR)
      ✓ should disallow non-existent article (102ms)
    Get
**** Call ## 85 ## Duration:  297
      ✓ should get all comments for article (297ms)
    Delete
**** Call ## 86 ## Duration:  161
      ✓ should delete comment (161ms)
**** Call ## 87 ## Duration:  114 (ERR)
      ✓ only comment author should be able to delete comment (114ms)
**** Call ## 88 ## Duration:  89 (ERR)
      ✓ should disallow unauthenticated user (90ms)
**** Call ## 89 ## Duration:  115 (ERR)
      ✓ should disallow deleting unknown comment (115ms)

  User
    Create
**** Call ## 90 ## Duration:  161
      ✓ should create user (163ms)
**** Call ## 91 ## Duration:  98 (ERR)
      ✓ should disallow same username (98ms)
**** Call ## 92 ## Duration:  107 (ERR)
      ✓ should disallow same email (107ms)
**** Call ## 93 ## Duration:  88 (ERR)
**** Call ## 94 ## Duration:  84 (ERR)
**** Call ## 95 ## Duration:  83 (ERR)
**** Call ## 96 ## Duration:  81 (ERR)
      ✓ should enforce required fields (337ms)
    Login
**** Call ## 97 ## Duration:  156
      ✓ should login (156ms)
**** Call ## 98 ## Duration:  135 (ERR)
      ✓ should disallow unknown email (135ms)
**** Call ## 99 ## Duration:  102 (ERR)
      ✓ should disallow wrong password (103ms)
**** Call ## 100 ## Duration:  98 (ERR)
**** Call ## 101 ## Duration:  79 (ERR)
**** Call ## 102 ## Duration:  95 (ERR)
      ✓ should enforce required fields (274ms)
    Get
**** Call ## 103 ## Duration:  103
      ✓ should get current user (103ms)
**** Call ## 104 ## Duration:  81 (ERR)
**** Call ## 105 ## Duration:  84 (ERR)
**** Call ## 106 ## Duration:  83 (ERR)
**** Call ## 107 ## Duration:  86 (ERR)
      ✓ should disallow bad tokens (335ms)
    Profile
**** Call ## 108 ## Duration:  125
      ✓ should get profile (125ms)
**** Call ## 109 ## Duration:  107 (ERR)
      ✓ should disallow unknown username (107ms)
**** Call ## 110 ## Duration:  152
**** Call ## 111 ## Duration:  178
**** Call ## 112 ## Duration:  170
**** Call ## 113 ## Duration:  136
**** Call ## 114 ## Duration:  112
**** Call ## 115 ## Duration:  151
**** Call ## 116 ## Duration:  172
**** Call ## 117 ## Duration:  190
**** Call ## 118 ## Duration:  208
**** Call ## 119 ## Duration:  197
      ✓ should follow/unfollow user (1669ms)
**** Call ## 120 ## Duration:  138 (ERR)
      ✓ should disallow following with bad token (139ms)
    Update
**** Call ## 121 ## Duration:  147
**** Call ## 122 ## Duration:  124
**** Call ## 123 ## Duration:  132
**** Call ## 124 ## Duration:  114
      ✓ should update user (518ms)
**** Call ## 125 ## Duration:  81 (ERR)
**** Call ## 126 ## Duration:  108 (ERR)
      ✓ should disallow missing token/email in update (189ms)
**** Call ## 127 ## Duration:  173
**** Call ## 128 ## Duration:  116 (ERR)
      ✓ should disallow reusing email (290ms)

  Util
    Ping
**** Call ## 129 ## Duration:  92
      ✓ should ping (92ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  219
**** Call ## 1 ## Duration:  257
**** Call ## 2 ## Duration:  145
    Create
**** Call ## 3 ## Duration:  137
      ✓ should create article (139ms)
**** Call ## 4 ## Duration:  144
      ✓ should create article with tags (145ms)
**** Call ## 5 ## Duration:  94 (ERR)
      ✓ should disallow unauthenticated user (94ms)
**** Call ## 6 ## Duration:  117 (ERR)
**** Call ## 7 ## Duration:  111 (ERR)
**** Call ## 8 ## Duration:  119 (ERR)
**** Call ## 9 ## Duration:  112 (ERR)
      ✓ should enforce required fields (460ms)
    Get
**** Call ## 10 ## Duration:  160
      ✓ should get article by slug (160ms)
**** Call ## 11 ## Duration:  141
      ✓ should get article with tags by slug (142ms)
**** Call ## 12 ## Duration:  93 (ERR)
      ✓ should disallow unknown slug (93ms)
    Update
**** Call ## 13 ## Duration:  249
**** Call ## 14 ## Duration:  199
**** Call ## 15 ## Duration:  198
      ✓ should update article (648ms)
**** Call ## 16 ## Duration:  83 (ERR)
      ✓ should disallow missing mutation (83ms)
**** Call ## 17 ## Duration:  81 (ERR)
      ✓ should disallow empty mutation (82ms)
**** Call ## 18 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated update (89ms)
**** Call ## 19 ## Duration:  135 (ERR)
      ✓ should disallow updating non-existent article (136ms)
**** Call ## 20 ## Duration:  124 (ERR)
      ✓ should disallow non-author from updating (125ms)
    Favorite
**** Call ## 21 ## Duration:  233
**** Call ## 22 ## Duration:  156
      ✓ should favorite article (389ms)
**** Call ## 23 ## Duration:  82 (ERR)
      ✓ should disallow favoriting by unauthenticated user (82ms)
**** Call ## 24 ## Duration:  128 (ERR)
      ✓ should disallow favoriting unknown article (128ms)
**** Call ## 25 ## Duration:  209
      ✓ should unfavorite article (209ms)
    Delete
**** Call ## 26 ## Duration:  179
**** Call ## 27 ## Duration:  135 (ERR)
      ✓ should delete article (314ms)
**** Call ## 28 ## Duration:  98 (ERR)
      ✓ should disallow deleting by unauthenticated user (98ms)
**** Call ## 29 ## Duration:  123 (ERR)
      ✓ should disallow deleting unknown article (123ms)
**** Call ## 30 ## Duration:  110 (ERR)
      ✓ should disallow deleting article by non-author (111ms)
    List
**** Call ## 31 ## Duration:  143
**** Call ## 32 ## Duration:  149
**** Call ## 33 ## Duration:  128
**** Call ## 34 ## Duration:  151
**** Call ## 35 ## Duration:  138
**** Call ## 36 ## Duration:  128
**** Call ## 37 ## Duration:  160
**** Call ## 38 ## Duration:  129
**** Call ## 39 ## Duration:  243
**** Call ## 40 ## Duration:  132
**** Call ## 41 ## Duration:  333
**** Call ## 42 ## Duration:  138
**** Call ## 43 ## Duration:  142
**** Call ## 44 ## Duration:  149
**** Call ## 45 ## Duration:  171
**** Call ## 46 ## Duration:  136
**** Call ## 47 ## Duration:  138
**** Call ## 48 ## Duration:  115
**** Call ## 49 ## Duration:  129
**** Call ## 50 ## Duration:  124
**** Call ## 51 ## Duration:  605
      ✓ should list articles (605ms)
**** Call ## 52 ## Duration:  660
**** Call ## 53 ## Duration:  538
      ✓ should list articles with tag (1198ms)
**** Call ## 54 ## Duration:  1325
      ✓ should list articles by author (1325ms)
**** Call ## 55 ## Duration:  213
      ✓ should list articles favorited by user (214ms)
**** Call ## 56 ## Duration:  170
**** Call ## 57 ## Duration:  154
      ✓ should list articles by limit/offset (325ms)
**** Call ## 58 ## Duration:  469
      ✓ should list articles when authenticated (469ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  82 (ERR)
**** Call ## 59 ## Duration:  93 (ERR)
**** Call ## 61 ## Duration:  99 (ERR)
**** Call ## 62 ## Duration:  140
**** Call ## 63 ## Duration:  174
**** Call ## 64 ## Duration:  371
**** Call ## 65 ## Duration:  161
**** Call ## 66 ## Duration:  497
      ✓ should get feed (1346ms)
**** Call ## 67 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated feed (83ms)
    Tags
**** Call ## 68 ## Duration:  259
      ✓ should get tags (259ms)

  Comment
**** Call ## 69 ## Duration:  267
**** Call ## 70 ## Duration:  161
**** Call ## 71 ## Duration:  130
    Create
**** Call ## 72 ## Duration:  154
**** Call ## 73 ## Duration:  160
**** Call ## 74 ## Duration:  179
**** Call ## 75 ## Duration:  189
**** Call ## 76 ## Duration:  164
**** Call ## 77 ## Duration:  153
**** Call ## 78 ## Duration:  128
**** Call ## 79 ## Duration:  131
**** Call ## 80 ## Duration:  142
**** Call ## 81 ## Duration:  150
      ✓ should create comment (1553ms)
**** Call ## 82 ## Duration:  92 (ERR)
      ✓ should disallow unauthenticated user (93ms)
**** Call ## 83 ## Duration:  90 (ERR)
      ✓ should enforce comment body (90ms)
**** Call ## 84 ## Duration:  104 (ERR)
      ✓ should disallow non-existent article (105ms)
    Get
**** Call ## 85 ## Duration:  235
      ✓ should get all comments for article (235ms)
    Delete
**** Call ## 86 ## Duration:  259
      ✓ should delete comment (259ms)
**** Call ## 87 ## Duration:  114 (ERR)
      ✓ only comment author should be able to delete comment (114ms)
**** Call ## 88 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated user (78ms)
**** Call ## 89 ## Duration:  121 (ERR)
      ✓ should disallow deleting unknown comment (121ms)

  User
    Create
**** Call ## 90 ## Duration:  173
      ✓ should create user (173ms)
**** Call ## 91 ## Duration:  131 (ERR)
      ✓ should disallow same username (131ms)
**** Call ## 92 ## Duration:  121 (ERR)
      ✓ should disallow same email (121ms)
**** Call ## 93 ## Duration:  109 (ERR)
**** Call ## 94 ## Duration:  83 (ERR)
**** Call ## 95 ## Duration:  86 (ERR)
**** Call ## 96 ## Duration:  122 (ERR)
      ✓ should enforce required fields (403ms)
    Login
**** Call ## 97 ## Duration:  213
      ✓ should login (213ms)
**** Call ## 98 ## Duration:  156 (ERR)
      ✓ should disallow unknown email (156ms)
**** Call ## 99 ## Duration:  161 (ERR)
      ✓ should disallow wrong password (161ms)
**** Call ## 100 ## Duration:  96 (ERR)
**** Call ## 101 ## Duration:  81 (ERR)
**** Call ## 102 ## Duration:  84 (ERR)
      ✓ should enforce required fields (263ms)
    Get
**** Call ## 103 ## Duration:  100
      ✓ should get current user (100ms)
**** Call ## 104 ## Duration:  99 (ERR)
**** Call ## 105 ## Duration:  87 (ERR)
**** Call ## 106 ## Duration:  83 (ERR)
**** Call ## 107 ## Duration:  79 (ERR)
      ✓ should disallow bad tokens (348ms)
    Profile
**** Call ## 108 ## Duration:  131
      ✓ should get profile (131ms)
**** Call ## 109 ## Duration:  103 (ERR)
      ✓ should disallow unknown username (103ms)
**** Call ## 110 ## Duration:  158
**** Call ## 111 ## Duration:  278
**** Call ## 112 ## Duration:  201
**** Call ## 113 ## Duration:  187
**** Call ## 114 ## Duration:  119
**** Call ## 115 ## Duration:  175
**** Call ## 116 ## Duration:  168
**** Call ## 117 ## Duration:  189
**** Call ## 118 ## Duration:  170
**** Call ## 119 ## Duration:  159
      ✓ should follow/unfollow user (1806ms)
**** Call ## 120 ## Duration:  89 (ERR)
      ✓ should disallow following with bad token (89ms)
    Update
**** Call ## 121 ## Duration:  169
**** Call ## 122 ## Duration:  154
**** Call ## 123 ## Duration:  154
**** Call ## 124 ## Duration:  163
      ✓ should update user (641ms)
**** Call ## 125 ## Duration:  113 (ERR)
**** Call ## 126 ## Duration:  130 (ERR)
      ✓ should disallow missing token/email in update (243ms)
**** Call ## 127 ## Duration:  125
**** Call ## 128 ## Duration:  144 (ERR)
      ✓ should disallow reusing email (271ms)

  Util
    Ping
**** Call ## 129 ## Duration:  81
      ✓ should ping (82ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  212
**** Call ## 1 ## Duration:  131
**** Call ## 2 ## Duration:  127
    Create
**** Call ## 3 ## Duration:  115
      ✓ should create article (118ms)
**** Call ## 4 ## Duration:  118
      ✓ should create article with tags (121ms)
**** Call ## 5 ## Duration:  60 (ERR)
      ✓ should disallow unauthenticated user (61ms)
**** Call ## 6 ## Duration:  89 (ERR)
**** Call ## 7 ## Duration:  112 (ERR)
**** Call ## 8 ## Duration:  95 (ERR)
**** Call ## 9 ## Duration:  103 (ERR)
      ✓ should enforce required fields (400ms)
    Get
**** Call ## 10 ## Duration:  147
      ✓ should get article by slug (147ms)
**** Call ## 11 ## Duration:  119
      ✓ should get article with tags by slug (119ms)
**** Call ## 12 ## Duration:  77 (ERR)
      ✓ should disallow unknown slug (77ms)
    Update
**** Call ## 13 ## Duration:  199
**** Call ## 14 ## Duration:  166
**** Call ## 15 ## Duration:  193
      ✓ should update article (559ms)
**** Call ## 16 ## Duration:  60 (ERR)
      ✓ should disallow missing mutation (60ms)
**** Call ## 17 ## Duration:  58 (ERR)
      ✓ should disallow empty mutation (59ms)
**** Call ## 18 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated update (60ms)
**** Call ## 19 ## Duration:  128 (ERR)
      ✓ should disallow updating non-existent article (128ms)
**** Call ## 20 ## Duration:  109 (ERR)
      ✓ should disallow non-author from updating (109ms)
    Favorite
**** Call ## 21 ## Duration:  150
**** Call ## 22 ## Duration:  175
      ✓ should favorite article (325ms)
**** Call ## 23 ## Duration:  62 (ERR)
      ✓ should disallow favoriting by unauthenticated user (62ms)
**** Call ## 24 ## Duration:  128 (ERR)
      ✓ should disallow favoriting unknown article (129ms)
**** Call ## 25 ## Duration:  155
      ✓ should unfavorite article (155ms)
    Delete
**** Call ## 26 ## Duration:  155
**** Call ## 27 ## Duration:  97 (ERR)
      ✓ should delete article (253ms)
**** Call ## 28 ## Duration:  81 (ERR)
      ✓ should disallow deleting by unauthenticated user (81ms)
**** Call ## 29 ## Duration:  96 (ERR)
      ✓ should disallow deleting unknown article (96ms)
**** Call ## 30 ## Duration:  100 (ERR)
      ✓ should disallow deleting article by non-author (100ms)
    List
**** Call ## 31 ## Duration:  108
**** Call ## 32 ## Duration:  112
**** Call ## 33 ## Duration:  110
**** Call ## 34 ## Duration:  129
**** Call ## 35 ## Duration:  110
**** Call ## 36 ## Duration:  114
**** Call ## 37 ## Duration:  110
**** Call ## 38 ## Duration:  132
**** Call ## 39 ## Duration:  130
**** Call ## 40 ## Duration:  112
**** Call ## 41 ## Duration:  109
**** Call ## 42 ## Duration:  107
**** Call ## 43 ## Duration:  105
**** Call ## 44 ## Duration:  134
**** Call ## 45 ## Duration:  111
**** Call ## 46 ## Duration:  109
**** Call ## 47 ## Duration:  113
**** Call ## 48 ## Duration:  110
**** Call ## 49 ## Duration:  108
**** Call ## 50 ## Duration:  107
**** Call ## 51 ## Duration:  525
      ✓ should list articles (526ms)
**** Call ## 52 ## Duration:  515
**** Call ## 53 ## Duration:  471
      ✓ should list articles with tag (986ms)
**** Call ## 54 ## Duration:  414
      ✓ should list articles by author (414ms)
**** Call ## 55 ## Duration:  139
      ✓ should list articles favorited by user (139ms)
**** Call ## 56 ## Duration:  115
**** Call ## 57 ## Duration:  126
      ✓ should list articles by limit/offset (242ms)
**** Call ## 58 ## Duration:  542
      ✓ should list articles when authenticated (543ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  60 (ERR)
**** Call ## 60 ## Duration:  61 (ERR)
**** Call ## 61 ## Duration:  65 (ERR)
**** Call ## 62 ## Duration:  144
**** Call ## 63 ## Duration:  188
**** Call ## 64 ## Duration:  338
**** Call ## 65 ## Duration:  210
**** Call ## 66 ## Duration:  442
      ✓ should get feed (1326ms)
**** Call ## 67 ## Duration:  62 (ERR)
      ✓ should disallow unauthenticated feed (62ms)
    Tags
**** Call ## 68 ## Duration:  210
      ✓ should get tags (210ms)

  Comment
**** Call ## 69 ## Duration:  141
**** Call ## 70 ## Duration:  148
**** Call ## 71 ## Duration:  97
    Create
**** Call ## 72 ## Duration:  142
**** Call ## 73 ## Duration:  133
**** Call ## 74 ## Duration:  123
**** Call ## 75 ## Duration:  146
**** Call ## 76 ## Duration:  164
**** Call ## 77 ## Duration:  124
**** Call ## 78 ## Duration:  156
**** Call ## 79 ## Duration:  143
**** Call ## 80 ## Duration:  130
**** Call ## 81 ## Duration:  130
      ✓ should create comment (1393ms)
**** Call ## 82 ## Duration:  62 (ERR)
      ✓ should disallow unauthenticated user (63ms)
**** Call ## 83 ## Duration:  71 (ERR)
      ✓ should enforce comment body (71ms)
**** Call ## 84 ## Duration:  102 (ERR)
      ✓ should disallow non-existent article (103ms)
    Get
**** Call ## 85 ## Duration:  318
      ✓ should get all comments for article (318ms)
    Delete
**** Call ## 86 ## Duration:  131
      ✓ should delete comment (131ms)
**** Call ## 87 ## Duration:  106 (ERR)
      ✓ only comment author should be able to delete comment (107ms)
**** Call ## 88 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 89 ## Duration:  94 (ERR)
      ✓ should disallow deleting unknown comment (95ms)

  User
    Create
**** Call ## 90 ## Duration:  137
      ✓ should create user (138ms)
**** Call ## 91 ## Duration:  64 (ERR)
      ✓ should disallow same username (64ms)
**** Call ## 92 ## Duration:  80 (ERR)
      ✓ should disallow same email (82ms)
**** Call ## 93 ## Duration:  61 (ERR)
**** Call ## 94 ## Duration:  58 (ERR)
**** Call ## 95 ## Duration:  57 (ERR)
**** Call ## 96 ## Duration:  57 (ERR)
      ✓ should enforce required fields (234ms)
    Login
**** Call ## 97 ## Duration:  101
      ✓ should login (102ms)
**** Call ## 98 ## Duration:  79 (ERR)
      ✓ should disallow unknown email (79ms)
**** Call ## 99 ## Duration:  84 (ERR)
      ✓ should disallow wrong password (84ms)
**** Call ## 100 ## Duration:  58 (ERR)
**** Call ## 101 ## Duration:  59 (ERR)
**** Call ## 102 ## Duration:  62 (ERR)
      ✓ should enforce required fields (179ms)
    Get
**** Call ## 103 ## Duration:  88
      ✓ should get current user (89ms)
**** Call ## 104 ## Duration:  63 (ERR)
**** Call ## 105 ## Duration:  83 (ERR)
**** Call ## 106 ## Duration:  63 (ERR)
**** Call ## 107 ## Duration:  58 (ERR)
      ✓ should disallow bad tokens (267ms)
    Profile
**** Call ## 108 ## Duration:  94
      ✓ should get profile (95ms)
**** Call ## 109 ## Duration:  94 (ERR)
      ✓ should disallow unknown username (94ms)
**** Call ## 110 ## Duration:  127
**** Call ## 111 ## Duration:  165
**** Call ## 112 ## Duration:  135
**** Call ## 113 ## Duration:  116
**** Call ## 114 ## Duration:  91
**** Call ## 115 ## Duration:  137
**** Call ## 116 ## Duration:  131
**** Call ## 117 ## Duration:  175
**** Call ## 118 ## Duration:  196
**** Call ## 119 ## Duration:  136
      ✓ should follow/unfollow user (1413ms)
**** Call ## 120 ## Duration:  60 (ERR)
      ✓ should disallow following with bad token (60ms)
    Update
**** Call ## 121 ## Duration:  120
**** Call ## 122 ## Duration:  86
**** Call ## 123 ## Duration:  97
**** Call ## 124 ## Duration:  82
      ✓ should update user (386ms)
**** Call ## 125 ## Duration:  79 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (179ms)
**** Call ## 127 ## Duration:  154
**** Call ## 128 ## Duration:  78 (ERR)
      ✓ should disallow reusing email (234ms)

  Util
    Ping
**** Call ## 129 ## Duration:  60
      ✓ should ping (60ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  196
**** Call ## 1 ## Duration:  141
**** Call ## 2 ## Duration:  140
    Create
**** Call ## 3 ## Duration:  129
      ✓ should create article (132ms)
**** Call ## 4 ## Duration:  152
      ✓ should create article with tags (154ms)
**** Call ## 5 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated user (58ms)
**** Call ## 6 ## Duration:  88 (ERR)
**** Call ## 7 ## Duration:  84 (ERR)
**** Call ## 8 ## Duration:  86 (ERR)
**** Call ## 9 ## Duration:  89 (ERR)
      ✓ should enforce required fields (349ms)
    Get
**** Call ## 10 ## Duration:  121
      ✓ should get article by slug (121ms)
**** Call ## 11 ## Duration:  120
      ✓ should get article with tags by slug (120ms)
**** Call ## 12 ## Duration:  98 (ERR)
      ✓ should disallow unknown slug (99ms)
    Update
**** Call ## 13 ## Duration:  195
**** Call ## 14 ## Duration:  163
**** Call ## 15 ## Duration:  165
      ✓ should update article (525ms)
**** Call ## 16 ## Duration:  61 (ERR)
      ✓ should disallow missing mutation (62ms)
**** Call ## 17 ## Duration:  59 (ERR)
      ✓ should disallow empty mutation (59ms)
**** Call ## 18 ## Duration:  62 (ERR)
      ✓ should disallow unauthenticated update (62ms)
**** Call ## 19 ## Duration:  102 (ERR)
      ✓ should disallow updating non-existent article (102ms)
**** Call ## 20 ## Duration:  100 (ERR)
      ✓ should disallow non-author from updating (100ms)
    Favorite
**** Call ## 21 ## Duration:  168
**** Call ## 22 ## Duration:  147
      ✓ should favorite article (315ms)
**** Call ## 23 ## Duration:  60 (ERR)
      ✓ should disallow favoriting by unauthenticated user (60ms)
**** Call ## 24 ## Duration:  105 (ERR)
      ✓ should disallow favoriting unknown article (105ms)
**** Call ## 25 ## Duration:  156
      ✓ should unfavorite article (156ms)
    Delete
**** Call ## 26 ## Duration:  157
**** Call ## 27 ## Duration:  77 (ERR)
      ✓ should delete article (234ms)
**** Call ## 28 ## Duration:  58 (ERR)
      ✓ should disallow deleting by unauthenticated user (59ms)
**** Call ## 29 ## Duration:  95 (ERR)
      ✓ should disallow deleting unknown article (95ms)
**** Call ## 30 ## Duration:  106 (ERR)
      ✓ should disallow deleting article by non-author (107ms)
    List
**** Call ## 31 ## Duration:  108
**** Call ## 32 ## Duration:  109
**** Call ## 33 ## Duration:  180
**** Call ## 34 ## Duration:  110
**** Call ## 35 ## Duration:  109
**** Call ## 36 ## Duration:  149
**** Call ## 37 ## Duration:  123
**** Call ## 38 ## Duration:  127
**** Call ## 39 ## Duration:  109
**** Call ## 40 ## Duration:  106
**** Call ## 41 ## Duration:  124
**** Call ## 42 ## Duration:  100
**** Call ## 43 ## Duration:  108
**** Call ## 44 ## Duration:  115
**** Call ## 45 ## Duration:  100
**** Call ## 46 ## Duration:  104
**** Call ## 47 ## Duration:  91
**** Call ## 48 ## Duration:  155
**** Call ## 49 ## Duration:  123
**** Call ## 50 ## Duration:  110
**** Call ## 51 ## Duration:  518
      ✓ should list articles (518ms)
**** Call ## 52 ## Duration:  451
**** Call ## 53 ## Duration:  532
      ✓ should list articles with tag (983ms)
**** Call ## 54 ## Duration:  308
      ✓ should list articles by author (309ms)
**** Call ## 55 ## Duration:  150
      ✓ should list articles favorited by user (151ms)
**** Call ## 56 ## Duration:  116
**** Call ## 57 ## Duration:  113
      ✓ should list articles by limit/offset (229ms)
**** Call ## 58 ## Duration:  1161
      ✓ should list articles when authenticated (1162ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  58 (ERR)
**** Call ## 60 ## Duration:  62 (ERR)
**** Call ## 61 ## Duration:  80 (ERR)
**** Call ## 62 ## Duration:  131
**** Call ## 63 ## Duration:  172
**** Call ## 64 ## Duration:  339
**** Call ## 65 ## Duration:  169
**** Call ## 66 ## Duration:  387
      ✓ should get feed (1201ms)
**** Call ## 67 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated feed (60ms)
    Tags
**** Call ## 68 ## Duration:  229
      ✓ should get tags (229ms)

  Comment
**** Call ## 69 ## Duration:  352
**** Call ## 70 ## Duration:  138
**** Call ## 71 ## Duration:  149
    Create
**** Call ## 72 ## Duration:  140
**** Call ## 73 ## Duration:  168
**** Call ## 74 ## Duration:  129
**** Call ## 75 ## Duration:  197
**** Call ## 76 ## Duration:  111
**** Call ## 77 ## Duration:  118
**** Call ## 78 ## Duration:  114
**** Call ## 79 ## Duration:  106
**** Call ## 80 ## Duration:  119
**** Call ## 81 ## Duration:  115
      ✓ should create comment (1319ms)
**** Call ## 82 ## Duration:  58 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 83 ## Duration:  68 (ERR)
      ✓ should enforce comment body (68ms)
**** Call ## 84 ## Duration:  85 (ERR)
      ✓ should disallow non-existent article (85ms)
    Get
**** Call ## 85 ## Duration:  245
      ✓ should get all comments for article (245ms)
    Delete
**** Call ## 86 ## Duration:  143
      ✓ should delete comment (143ms)
**** Call ## 87 ## Duration:  104 (ERR)
      ✓ only comment author should be able to delete comment (104ms)
**** Call ## 88 ## Duration:  55 (ERR)
      ✓ should disallow unauthenticated user (56ms)
**** Call ## 89 ## Duration:  93 (ERR)
      ✓ should disallow deleting unknown comment (93ms)

  User
    Create
**** Call ## 90 ## Duration:  136
      ✓ should create user (136ms)
**** Call ## 91 ## Duration:  78 (ERR)
      ✓ should disallow same username (78ms)
**** Call ## 92 ## Duration:  77 (ERR)
      ✓ should disallow same email (78ms)
**** Call ## 93 ## Duration:  61 (ERR)
**** Call ## 94 ## Duration:  58 (ERR)
**** Call ## 95 ## Duration:  60 (ERR)
**** Call ## 96 ## Duration:  56 (ERR)
      ✓ should enforce required fields (237ms)
    Login
**** Call ## 97 ## Duration:  98
      ✓ should login (98ms)
**** Call ## 98 ## Duration:  78 (ERR)
      ✓ should disallow unknown email (79ms)
**** Call ## 99 ## Duration:  83 (ERR)
      ✓ should disallow wrong password (84ms)
**** Call ## 100 ## Duration:  56 (ERR)
**** Call ## 101 ## Duration:  57 (ERR)
**** Call ## 102 ## Duration:  59 (ERR)
      ✓ should enforce required fields (172ms)
    Get
**** Call ## 103 ## Duration:  81
      ✓ should get current user (81ms)
**** Call ## 104 ## Duration:  82 (ERR)
**** Call ## 105 ## Duration:  57 (ERR)
**** Call ## 106 ## Duration:  59 (ERR)
**** Call ## 107 ## Duration:  60 (ERR)
      ✓ should disallow bad tokens (259ms)
    Profile
**** Call ## 108 ## Duration:  101
      ✓ should get profile (101ms)
**** Call ## 109 ## Duration:  72 (ERR)
      ✓ should disallow unknown username (72ms)
**** Call ## 110 ## Duration:  132
**** Call ## 111 ## Duration:  154
**** Call ## 112 ## Duration:  146
**** Call ## 113 ## Duration:  116
**** Call ## 114 ## Duration:  97
**** Call ## 115 ## Duration:  140
**** Call ## 116 ## Duration:  149
**** Call ## 117 ## Duration:  172
**** Call ## 118 ## Duration:  140
**** Call ## 119 ## Duration:  143
      ✓ should follow/unfollow user (1394ms)
**** Call ## 120 ## Duration:  63 (ERR)
      ✓ should disallow following with bad token (63ms)
    Update
**** Call ## 121 ## Duration:  122
**** Call ## 122 ## Duration:  121
**** Call ## 123 ## Duration:  104
**** Call ## 124 ## Duration:  85
      ✓ should update user (432ms)
**** Call ## 125 ## Duration:  59 (ERR)
**** Call ## 126 ## Duration:  81 (ERR)
      ✓ should disallow missing token/email in update (140ms)
**** Call ## 127 ## Duration:  132
**** Call ## 128 ## Duration:  96 (ERR)
      ✓ should disallow reusing email (229ms)

  Util
    Ping
**** Call ## 129 ## Duration:  59
      ✓ should ping (59ms)


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  190
**** Call ## 1 ## Duration:  151
**** Call ## 2 ## Duration:  115
    Create
**** Call ## 3 ## Duration:  121
      ✓ should create article (124ms)
**** Call ## 4 ## Duration:  121
      ✓ should create article with tags (122ms)
**** Call ## 5 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 6 ## Duration:  89 (ERR)
**** Call ## 7 ## Duration:  113 (ERR)
**** Call ## 8 ## Duration:  100 (ERR)
**** Call ## 9 ## Duration:  89 (ERR)
      ✓ should enforce required fields (394ms)
    Get
**** Call ## 10 ## Duration:  115
      ✓ should get article by slug (115ms)
**** Call ## 11 ## Duration:  125
      ✓ should get article with tags by slug (126ms)
**** Call ## 12 ## Duration:  76 (ERR)
      ✓ should disallow unknown slug (76ms)
    Update
**** Call ## 13 ## Duration:  175
**** Call ## 14 ## Duration:  159
**** Call ## 15 ## Duration:  137
      ✓ should update article (472ms)
**** Call ## 16 ## Duration:  62 (ERR)
      ✓ should disallow missing mutation (62ms)
**** Call ## 17 ## Duration:  78 (ERR)
      ✓ should disallow empty mutation (78ms)
**** Call ## 18 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated update (60ms)
**** Call ## 19 ## Duration:  123 (ERR)
      ✓ should disallow updating non-existent article (124ms)
**** Call ## 20 ## Duration:  92 (ERR)
      ✓ should disallow non-author from updating (93ms)
    Favorite
**** Call ## 21 ## Duration:  172
**** Call ## 22 ## Duration:  176
      ✓ should favorite article (350ms)
**** Call ## 23 ## Duration:  58 (ERR)
      ✓ should disallow favoriting by unauthenticated user (58ms)
**** Call ## 24 ## Duration:  116 (ERR)
      ✓ should disallow favoriting unknown article (116ms)
**** Call ## 25 ## Duration:  166
      ✓ should unfavorite article (167ms)
    Delete
**** Call ## 26 ## Duration:  139
**** Call ## 27 ## Duration:  83 (ERR)
      ✓ should delete article (222ms)
**** Call ## 28 ## Duration:  56 (ERR)
      ✓ should disallow deleting by unauthenticated user (56ms)
**** Call ## 29 ## Duration:  115 (ERR)
      ✓ should disallow deleting unknown article (116ms)
**** Call ## 30 ## Duration:  103 (ERR)
      ✓ should disallow deleting article by non-author (104ms)
    List
**** Call ## 31 ## Duration:  114
**** Call ## 32 ## Duration:  129
**** Call ## 33 ## Duration:  117
**** Call ## 34 ## Duration:  115
**** Call ## 35 ## Duration:  119
**** Call ## 36 ## Duration:  115
**** Call ## 37 ## Duration:  121
**** Call ## 38 ## Duration:  107
**** Call ## 39 ## Duration:  119
**** Call ## 40 ## Duration:  124
**** Call ## 41 ## Duration:  133
**** Call ## 42 ## Duration:  111
**** Call ## 43 ## Duration:  110
**** Call ## 44 ## Duration:  138
**** Call ## 45 ## Duration:  142
**** Call ## 46 ## Duration:  206
**** Call ## 47 ## Duration:  128
**** Call ## 48 ## Duration:  130
**** Call ## 49 ## Duration:  99
**** Call ## 50 ## Duration:  99
**** Call ## 51 ## Duration:  476
      ✓ should list articles (477ms)
**** Call ## 52 ## Duration:  456
**** Call ## 53 ## Duration:  409
      ✓ should list articles with tag (866ms)
**** Call ## 54 ## Duration:  317
      ✓ should list articles by author (317ms)
**** Call ## 55 ## Duration:  188
      ✓ should list articles favorited by user (189ms)
**** Call ## 56 ## Duration:  247
**** Call ## 57 ## Duration:  120
      ✓ should list articles by limit/offset (367ms)
**** Call ## 58 ## Duration:  6071 (ERR)
      1) should list articles when authenticated


  26 passing (14s)
  1 failing

  1) Article
       List
         should list articles when authenticated:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:17:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:236:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)



npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2020-05-20T21_25_30_688Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  179
**** Call ## 1 ## Duration:  166
**** Call ## 2 ## Duration:  204
    Create
**** Call ## 3 ## Duration:  122
      ✓ should create article (124ms)
**** Call ## 4 ## Duration:  115
      ✓ should create article with tags (117ms)
**** Call ## 5 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated user (78ms)
**** Call ## 6 ## Duration:  75 (ERR)
**** Call ## 7 ## Duration:  90 (ERR)
**** Call ## 8 ## Duration:  122 (ERR)
**** Call ## 9 ## Duration:  90 (ERR)
      ✓ should enforce required fields (377ms)
    Get
**** Call ## 10 ## Duration:  133
      ✓ should get article by slug (134ms)
**** Call ## 11 ## Duration:  105
      ✓ should get article with tags by slug (105ms)
**** Call ## 12 ## Duration:  78 (ERR)
      ✓ should disallow unknown slug (79ms)
    Update
**** Call ## 13 ## Duration:  170
**** Call ## 14 ## Duration:  187
**** Call ## 15 ## Duration:  169
      ✓ should update article (532ms)
**** Call ## 16 ## Duration:  59 (ERR)
      ✓ should disallow missing mutation (59ms)
**** Call ## 17 ## Duration:  58 (ERR)
      ✓ should disallow empty mutation (59ms)
**** Call ## 18 ## Duration:  61 (ERR)
      ✓ should disallow unauthenticated update (61ms)
**** Call ## 19 ## Duration:  95 (ERR)
      ✓ should disallow updating non-existent article (97ms)
**** Call ## 20 ## Duration:  85 (ERR)
      ✓ should disallow non-author from updating (85ms)
    Favorite
**** Call ## 21 ## Duration:  192
**** Call ## 22 ## Duration:  178
      ✓ should favorite article (370ms)
**** Call ## 23 ## Duration:  56 (ERR)
      ✓ should disallow favoriting by unauthenticated user (56ms)
**** Call ## 24 ## Duration:  104 (ERR)
      ✓ should disallow favoriting unknown article (105ms)
**** Call ## 25 ## Duration:  151
      ✓ should unfavorite article (151ms)
    Delete
**** Call ## 26 ## Duration:  155
**** Call ## 27 ## Duration:  74 (ERR)
      ✓ should delete article (229ms)
**** Call ## 28 ## Duration:  57 (ERR)
      ✓ should disallow deleting by unauthenticated user (57ms)
**** Call ## 29 ## Duration:  117 (ERR)
      ✓ should disallow deleting unknown article (117ms)
**** Call ## 30 ## Duration:  98 (ERR)
      ✓ should disallow deleting article by non-author (99ms)
    List
**** Call ## 31 ## Duration:  111
**** Call ## 32 ## Duration:  110
**** Call ## 33 ## Duration:  118
**** Call ## 34 ## Duration:  158
**** Call ## 35 ## Duration:  110
**** Call ## 36 ## Duration:  118
**** Call ## 37 ## Duration:  103
**** Call ## 38 ## Duration:  124
**** Call ## 39 ## Duration:  121
**** Call ## 40 ## Duration:  91
**** Call ## 41 ## Duration:  123
**** Call ## 42 ## Duration:  109
**** Call ## 43 ## Duration:  119
**** Call ## 44 ## Duration:  112
**** Call ## 45 ## Duration:  91
**** Call ## 46 ## Duration:  149
**** Call ## 47 ## Duration:  105
**** Call ## 48 ## Duration:  107
**** Call ## 49 ## Duration:  206
**** Call ## 50 ## Duration:  208
**** Call ## 51 ## Duration:  680
      ✓ should list articles (680ms)
**** Call ## 52 ## Duration:  455
**** Call ## 53 ## Duration:  438
      ✓ should list articles with tag (893ms)
**** Call ## 54 ## Duration:  417
      ✓ should list articles by author (417ms)
**** Call ## 55 ## Duration:  157
      ✓ should list articles favorited by user (157ms)
**** Call ## 56 ## Duration:  118
**** Call ## 57 ## Duration:  160
      ✓ should list articles by limit/offset (278ms)
**** Call ## 58 ## Duration:  528
      ✓ should list articles when authenticated (528ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  60 (ERR)
**** Call ## 59 ## Duration:  77 (ERR)
**** Call ## 62 ## Duration:  122
**** Call ## 61 ## Duration:  144 (ERR)
**** Call ## 63 ## Duration:  149
**** Call ## 64 ## Duration:  353
**** Call ## 65 ## Duration:  140
**** Call ## 66 ## Duration:  515
      ✓ should get feed (1281ms)
**** Call ## 67 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated feed (79ms)
    Tags
**** Call ## 68 ## Duration:  269
      ✓ should get tags (269ms)

  Comment
**** Call ## 69 ## Duration:  153
**** Call ## 70 ## Duration:  131
**** Call ## 71 ## Duration:  206
    Create
**** Call ## 72 ## Duration:  144
**** Call ## 73 ## Duration:  151
**** Call ## 74 ## Duration:  156
**** Call ## 75 ## Duration:  119
**** Call ## 76 ## Duration:  152
**** Call ## 77 ## Duration:  126
**** Call ## 78 ## Duration:  126
**** Call ## 79 ## Duration:  146
**** Call ## 80 ## Duration:  131
**** Call ## 81 ## Duration:  107
      ✓ should create comment (1361ms)
**** Call ## 82 ## Duration:  59 (ERR)
      ✓ should disallow unauthenticated user (59ms)
**** Call ## 83 ## Duration:  78 (ERR)
      ✓ should enforce comment body (79ms)
**** Call ## 84 ## Duration:  79 (ERR)
      ✓ should disallow non-existent article (79ms)
    Get
**** Call ## 85 ## Duration:  330
      ✓ should get all comments for article (331ms)
    Delete
**** Call ## 86 ## Duration:  118
      ✓ should delete comment (118ms)
**** Call ## 87 ## Duration:  113 (ERR)
      ✓ only comment author should be able to delete comment (115ms)
**** Call ## 88 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated user (78ms)
**** Call ## 89 ## Duration:  89 (ERR)
      ✓ should disallow deleting unknown comment (89ms)

  User
    Create
**** Call ## 90 ## Duration:  183
      ✓ should create user (183ms)
**** Call ## 91 ## Duration:  94 (ERR)
      ✓ should disallow same username (94ms)
**** Call ## 92 ## Duration:  107 (ERR)
      ✓ should disallow same email (107ms)
**** Call ## 93 ## Duration:  59 (ERR)
**** Call ## 94 ## Duration:  80 (ERR)
**** Call ## 95 ## Duration:  77 (ERR)
**** Call ## 96 ## Duration:  60 (ERR)
      ✓ should enforce required fields (278ms)
    Login
**** Call ## 97 ## Duration:  104
      ✓ should login (105ms)
**** Call ## 98 ## Duration:  113 (ERR)
      ✓ should disallow unknown email (114ms)
**** Call ## 99 ## Duration:  104 (ERR)
      ✓ should disallow wrong password (104ms)
**** Call ## 100 ## Duration:  61 (ERR)
**** Call ## 101 ## Duration:  60 (ERR)
**** Call ## 102 ## Duration:  60 (ERR)
      ✓ should enforce required fields (182ms)
    Get
**** Call ## 103 ## Duration:  90
      ✓ should get current user (90ms)
**** Call ## 104 ## Duration:  77 (ERR)
**** Call ## 105 ## Duration:  62 (ERR)
**** Call ## 106 ## Duration:  77 (ERR)
**** Call ## 107 ## Duration:  59 (ERR)
      ✓ should disallow bad tokens (275ms)
    Profile
**** Call ## 108 ## Duration:  115
      ✓ should get profile (115ms)
**** Call ## 109 ## Duration:  81 (ERR)
      ✓ should disallow unknown username (82ms)
**** Call ## 110 ## Duration:  156
**** Call ## 111 ## Duration:  160
**** Call ## 112 ## Duration:  141
**** Call ## 113 ## Duration:  114
**** Call ## 114 ## Duration:  108
**** Call ## 115 ## Duration:  207
**** Call ## 116 ## Duration:  128
**** Call ## 117 ## Duration:  152
**** Call ## 118 ## Duration:  154
**** Call ## 119 ## Duration:  148
      ✓ should follow/unfollow user (1471ms)
**** Call ## 120 ## Duration:  57 (ERR)
      ✓ should disallow following with bad token (57ms)
    Update
**** Call ## 121 ## Duration:  133
**** Call ## 122 ## Duration:  125
**** Call ## 123 ## Duration:  99
**** Call ## 124 ## Duration:  91
      ✓ should update user (450ms)
**** Call ## 125 ## Duration:  60 (ERR)
**** Call ## 126 ## Duration:  99 (ERR)
      ✓ should disallow missing token/email in update (160ms)
**** Call ## 127 ## Duration:  138
**** Call ## 128 ## Duration:  104 (ERR)
      ✓ should disallow reusing email (243ms)

  Util
    Ping
**** Call ## 129 ## Duration:  59
      ✓ should ping (59ms)


  58 passing (18s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://7jocy5lti1.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  188
**** Call ## 1 ## Duration:  176
**** Call ## 2 ## Duration:  221
    Create
**** Call ## 3 ## Duration:  122
      ✓ should create article (124ms)
**** Call ## 4 ## Duration:  113
      ✓ should create article with tags (114ms)
**** Call ## 5 ## Duration:  57 (ERR)
      ✓ should disallow unauthenticated user (57ms)
**** Call ## 6 ## Duration:  106 (ERR)
**** Call ## 7 ## Duration:  90 (ERR)
**** Call ## 8 ## Duration:  128 (ERR)
**** Call ## 9 ## Duration:  121 (ERR)
      ✓ should enforce required fields (446ms)
    Get
**** Call ## 10 ## Duration:  124
      ✓ should get article by slug (124ms)
**** Call ## 11 ## Duration:  145
      ✓ should get article with tags by slug (145ms)
**** Call ## 12 ## Duration:  95 (ERR)
      ✓ should disallow unknown slug (95ms)
    Update
**** Call ## 13 ## Duration:  177
**** Call ## 14 ## Duration:  173
**** Call ## 15 ## Duration:  233
      ✓ should update article (586ms)
**** Call ## 16 ## Duration:  58 (ERR)
      ✓ should disallow missing mutation (58ms)
**** Call ## 17 ## Duration:  57 (ERR)
      ✓ should disallow empty mutation (58ms)
**** Call ## 18 ## Duration:  55 (ERR)
      ✓ should disallow unauthenticated update (56ms)
**** Call ## 19 ## Duration:  128 (ERR)
      ✓ should disallow updating non-existent article (128ms)
**** Call ## 20 ## Duration:  95 (ERR)
      ✓ should disallow non-author from updating (96ms)
    Favorite
**** Call ## 21 ## Duration:  171
**** Call ## 22 ## Duration:  156
      ✓ should favorite article (327ms)
**** Call ## 23 ## Duration:  61 (ERR)
      ✓ should disallow favoriting by unauthenticated user (62ms)
**** Call ## 24 ## Duration:  116 (ERR)
      ✓ should disallow favoriting unknown article (116ms)
**** Call ## 25 ## Duration:  192
      ✓ should unfavorite article (192ms)
    Delete
**** Call ## 26 ## Duration:  184
**** Call ## 27 ## Duration:  77 (ERR)
      ✓ should delete article (261ms)
**** Call ## 28 ## Duration:  95 (ERR)
      ✓ should disallow deleting by unauthenticated user (96ms)
**** Call ## 29 ## Duration:  97 (ERR)
      ✓ should disallow deleting unknown article (97ms)
**** Call ## 30 ## Duration:  131 (ERR)
      ✓ should disallow deleting article by non-author (131ms)
    List
**** Call ## 31 ## Duration:  127
**** Call ## 32 ## Duration:  113
**** Call ## 33 ## Duration:  110
**** Call ## 34 ## Duration:  153
**** Call ## 35 ## Duration:  106
**** Call ## 36 ## Duration:  131
**** Call ## 37 ## Duration:  122
**** Call ## 38 ## Duration:  109
**** Call ## 39 ## Duration:  109
**** Call ## 40 ## Duration:  112
**** Call ## 41 ## Duration:  121
**** Call ## 42 ## Duration:  111
**** Call ## 43 ## Duration:  192
**** Call ## 44 ## Duration:  123
**** Call ## 45 ## Duration:  112
**** Call ## 46 ## Duration:  100
**** Call ## 47 ## Duration:  87
**** Call ## 48 ## Duration:  133
**** Call ## 49 ## Duration:  105
**** Call ## 50 ## Duration:  128
**** Call ## 51 ## Duration:  1455
      ✓ should list articles (1455ms)
**** Call ## 52 ## Duration:  486
**** Call ## 53 ## Duration:  544
      ✓ should list articles with tag (1031ms)
**** Call ## 54 ## Duration:  313
      ✓ should list articles by author (313ms)
**** Call ## 55 ## Duration:  204
      ✓ should list articles favorited by user (204ms)
**** Call ## 56 ## Duration:  157
**** Call ## 57 ## Duration:  169
      ✓ should list articles by limit/offset (326ms)
**** Call ## 58 ## Duration:  489
      ✓ should list articles when authenticated (489ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  61 (ERR)
**** Call ## 61 ## Duration:  63 (ERR)
**** Call ## 60 ## Duration:  68 (ERR)
**** Call ## 62 ## Duration:  128
**** Call ## 63 ## Duration:  188
**** Call ## 64 ## Duration:  397
**** Call ## 65 ## Duration:  163
**** Call ## 66 ## Duration:  480
      ✓ should get feed (1359ms)
**** Call ## 67 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated feed (81ms)
    Tags
**** Call ## 68 ## Duration:  273
      ✓ should get tags (273ms)

  Comment
**** Call ## 69 ## Duration:  140
**** Call ## 70 ## Duration:  152
**** Call ## 71 ## Duration:  104
    Create
**** Call ## 72 ## Duration:  220
**** Call ## 73 ## Duration:  155
**** Call ## 74 ## Duration:  133
**** Call ## 75 ## Duration:  262
**** Call ## 76 ## Duration:  166
**** Call ## 77 ## Duration:  164
**** Call ## 78 ## Duration:  166
**** Call ## 79 ## Duration:  113
**** Call ## 80 ## Duration:  119
**** Call ## 81 ## Duration:  210
      ✓ should create comment (1709ms)
**** Call ## 82 ## Duration:  75 (ERR)
      ✓ should disallow unauthenticated user (77ms)
**** Call ## 83 ## Duration:  66 (ERR)
      ✓ should enforce comment body (66ms)
**** Call ## 84 ## Duration:  513 (ERR)
      ✓ should disallow non-existent article (513ms)
    Get
**** Call ## 85 ## Duration:  261
      ✓ should get all comments for article (261ms)
    Delete
**** Call ## 86 ## Duration:  129
      ✓ should delete comment (129ms)
**** Call ## 87 ## Duration:  98 (ERR)
      ✓ only comment author should be able to delete comment (98ms)
**** Call ## 88 ## Duration:  77 (ERR)
      ✓ should disallow unauthenticated user (77ms)
**** Call ## 89 ## Duration:  93 (ERR)
      ✓ should disallow deleting unknown comment (94ms)

  User
    Create
**** Call ## 90 ## Duration:  152
      ✓ should create user (152ms)
**** Call ## 91 ## Duration:  64 (ERR)
      ✓ should disallow same username (64ms)
**** Call ## 92 ## Duration:  118 (ERR)
      ✓ should disallow same email (118ms)
**** Call ## 93 ## Duration:  58 (ERR)
**** Call ## 94 ## Duration:  59 (ERR)
**** Call ## 95 ## Duration:  58 (ERR)
**** Call ## 96 ## Duration:  59 (ERR)
      ✓ should enforce required fields (236ms)
    Login
**** Call ## 97 ## Duration:  97
      ✓ should login (98ms)
**** Call ## 98 ## Duration:  66 (ERR)
      ✓ should disallow unknown email (67ms)
**** Call ## 99 ## Duration:  76 (ERR)
      ✓ should disallow wrong password (76ms)
**** Call ## 100 ## Duration:  55 (ERR)
**** Call ## 101 ## Duration:  57 (ERR)
**** Call ## 102 ## Duration:  59 (ERR)
      ✓ should enforce required fields (174ms)
    Get
**** Call ## 103 ## Duration:  103
      ✓ should get current user (103ms)
**** Call ## 104 ## Duration:  79 (ERR)
**** Call ## 105 ## Duration:  57 (ERR)
**** Call ## 106 ## Duration:  64 (ERR)
**** Call ## 107 ## Duration:  75 (ERR)
      ✓ should disallow bad tokens (275ms)
    Profile
**** Call ## 108 ## Duration:  151
      ✓ should get profile (151ms)
**** Call ## 109 ## Duration:  75 (ERR)
      ✓ should disallow unknown username (76ms)
**** Call ## 110 ## Duration:  172
**** Call ## 111 ## Duration:  154
**** Call ## 112 ## Duration:  132
**** Call ## 113 ## Duration:  161
**** Call ## 114 ## Duration:  122
**** Call ## 115 ## Duration:  186
**** Call ## 116 ## Duration:  137
**** Call ## 117 ## Duration:  170
**** Call ## 118 ## Duration:  161
**** Call ## 119 ## Duration:  161
      ✓ should follow/unfollow user (1559ms)
**** Call ## 120 ## Duration:  61 (ERR)
      ✓ should disallow following with bad token (62ms)
    Update
**** Call ## 121 ## Duration:  124
**** Call ## 122 ## Duration:  92
**** Call ## 123 ## Duration:  86
**** Call ## 124 ## Duration:  102
      ✓ should update user (404ms)
**** Call ## 125 ## Duration:  58 (ERR)
**** Call ## 126 ## Duration:  83 (ERR)
      ✓ should disallow missing token/email in update (141ms)
**** Call ## 127 ## Duration:  137
**** Call ## 128 ## Duration:  125 (ERR)
      ✓ should disallow reusing email (262ms)

  Util
    Ping
**** Call ## 129 ## Duration:  65
      ✓ should ping (65ms)


  58 passing (19s)

results20200520210704/rec-res-9-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
.......................................................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
