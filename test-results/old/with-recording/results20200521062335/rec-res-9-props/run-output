Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
........
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (29.12 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
.......................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 176
WARNING:
  You have 176 resources in your service.
  CloudFormation has a hard limit of 200 resources in a service.
  For advice on avoiding this limit, check out this link: http://bit.ly/2IiYB38.
api keys:
  None
endpoints:
  POST - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  1462
**** Call ## 1 ## Duration:  133
**** Call ## 2 ## Duration:  132
    Create
**** Call ## 3 ## Duration:  1237
      ✓ should create article (1239ms)
**** Call ## 4 ## Duration:  95
      ✓ should create article with tags (97ms)
**** Call ## 5 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  93 (ERR)
**** Call ## 7 ## Duration:  75 (ERR)
**** Call ## 8 ## Duration:  114 (ERR)
**** Call ## 9 ## Duration:  86 (ERR)
      ✓ should enforce required fields (372ms)
    Get
**** Call ## 10 ## Duration:  1080
      ✓ should get article by slug (1081ms)
**** Call ## 11 ## Duration:  103
      ✓ should get article with tags by slug (103ms)
**** Call ## 12 ## Duration:  51 (ERR)
      ✓ should disallow unknown slug (53ms)
    Update
**** Call ## 13 ## Duration:  1168
**** Call ## 14 ## Duration:  175
**** Call ## 15 ## Duration:  162
      ✓ should update article (1508ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  42 (ERR)
      ✓ should disallow empty mutation (42ms)
**** Call ## 18 ## Duration:  47 (ERR)
      ✓ should disallow unauthenticated update (47ms)
**** Call ## 19 ## Duration:  954 (ERR)
      ✓ should disallow updating non-existent article (955ms)
**** Call ## 20 ## Duration:  100 (ERR)
      ✓ should disallow non-author from updating (101ms)
    Favorite
**** Call ## 21 ## Duration:  1154
**** Call ## 22 ## Duration:  119
      ✓ should favorite article (1275ms)
**** Call ## 23 ## Duration:  38 (ERR)
      ✓ should disallow favoriting by unauthenticated user (38ms)
**** Call ## 24 ## Duration:  89 (ERR)
      ✓ should disallow favoriting unknown article (89ms)
**** Call ## 25 ## Duration:  1254
      ✓ should unfavorite article (1254ms)
    Delete
**** Call ## 26 ## Duration:  1005
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (1048ms)
**** Call ## 28 ## Duration:  25 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown article (74ms)
**** Call ## 30 ## Duration:  70 (ERR)
      ✓ should disallow deleting article by non-author (70ms)
    List
**** Call ## 31 ## Duration:  90
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  74
**** Call ## 34 ## Duration:  116
**** Call ## 35 ## Duration:  83
**** Call ## 36 ## Duration:  112
**** Call ## 37 ## Duration:  101
**** Call ## 38 ## Duration:  111
**** Call ## 39 ## Duration:  86
**** Call ## 40 ## Duration:  83
**** Call ## 41 ## Duration:  156
**** Call ## 42 ## Duration:  114
**** Call ## 43 ## Duration:  119
**** Call ## 44 ## Duration:  93
**** Call ## 45 ## Duration:  74
**** Call ## 46 ## Duration:  101
**** Call ## 47 ## Duration:  116
**** Call ## 48 ## Duration:  90
**** Call ## 49 ## Duration:  84
**** Call ## 50 ## Duration:  101
**** Call ## 51 ## Duration:  1417
      ✓ should list articles (1417ms)
**** Call ## 52 ## Duration:  83
**** Call ## 53 ## Duration:  159
      ✓ should list articles with tag (242ms)
**** Call ## 54 ## Duration:  249
      ✓ should list articles by author (250ms)
**** Call ## 55 ## Duration:  42
      ✓ should list articles favorited by user (43ms)
**** Call ## 56 ## Duration:  110
**** Call ## 57 ## Duration:  82
      ✓ should list articles by limit/offset (193ms)
**** Call ## 58 ## Duration:  483
      ✓ should list articles when authenticated (483ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  27 (ERR)
**** Call ## 61 ## Duration:  71 (ERR)
**** Call ## 60 ## Duration:  179 (ERR)
**** Call ## 62 ## Duration:  1020
**** Call ## 63 ## Duration:  1334
**** Call ## 64 ## Duration:  267
**** Call ## 65 ## Duration:  126
**** Call ## 66 ## Duration:  340
      ✓ should get feed (3089ms)
**** Call ## 67 ## Duration:  30 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  1087
      ✓ should get tags (1087ms)

  Comment
**** Call ## 69 ## Duration:  195
**** Call ## 70 ## Duration:  133
**** Call ## 71 ## Duration:  157
    Create
**** Call ## 72 ## Duration:  961
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  246
**** Call ## 75 ## Duration:  122
**** Call ## 76 ## Duration:  104
**** Call ## 77 ## Duration:  106
**** Call ## 78 ## Duration:  155
**** Call ## 79 ## Duration:  114
**** Call ## 80 ## Duration:  102
**** Call ## 81 ## Duration:  81
      ✓ should create comment (2100ms)
**** Call ## 82 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  60 (ERR)
      ✓ should enforce comment body (60ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (56ms)
    Get
**** Call ## 85 ## Duration:  1241
      ✓ should get all comments for article (1243ms)
    Delete
**** Call ## 86 ## Duration:  992
      ✓ should delete comment (992ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (64ms)
**** Call ## 88 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown comment (75ms)

  User
    Create
**** Call ## 90 ## Duration:  170
      ✓ should create user (170ms)
**** Call ## 91 ## Duration:  50 (ERR)
      ✓ should disallow same username (51ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (70ms)
**** Call ## 93 ## Duration:  28 (ERR)
**** Call ## 94 ## Duration:  847 (ERR)
**** Call ## 95 ## Duration:  31 (ERR)
**** Call ## 96 ## Duration:  27 (ERR)
      ✓ should enforce required fields (935ms)
    Login
**** Call ## 97 ## Duration:  1129
      ✓ should login (1129ms)
**** Call ## 98 ## Duration:  44 (ERR)
      ✓ should disallow unknown email (44ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  43 (ERR)
**** Call ## 102 ## Duration:  1246 (ERR)
      ✓ should enforce required fields (1313ms)
    Get
**** Call ## 103 ## Duration:  996
      ✓ should get current user (998ms)
**** Call ## 104 ## Duration:  32 (ERR)
**** Call ## 105 ## Duration:  44 (ERR)
**** Call ## 106 ## Duration:  955 (ERR)
**** Call ## 107 ## Duration:  26 (ERR)
      ✓ should disallow bad tokens (1059ms)
    Profile
**** Call ## 108 ## Duration:  1033
      ✓ should get profile (1033ms)
**** Call ## 109 ## Duration:  91 (ERR)
      ✓ should disallow unknown username (91ms)
**** Call ## 110 ## Duration:  279
**** Call ## 111 ## Duration:  136
**** Call ## 112 ## Duration:  162
**** Call ## 113 ## Duration:  105
**** Call ## 114 ## Duration:  73
**** Call ## 115 ## Duration:  148
**** Call ## 116 ## Duration:  103
**** Call ## 117 ## Duration:  1301
**** Call ## 118 ## Duration:  242
**** Call ## 119 ## Duration:  116
      ✓ should follow/unfollow user (2668ms)
**** Call ## 120 ## Duration:  24 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  1098
**** Call ## 122 ## Duration:  267
**** Call ## 123 ## Duration:  62
**** Call ## 124 ## Duration:  54
      ✓ should update user (1482ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  76 (ERR)
      ✓ should disallow missing token/email in update (99ms)
**** Call ## 127 ## Duration:  124
**** Call ## 128 ## Duration:  62 (ERR)
      ✓ should disallow reusing email (187ms)

  Util
    Ping
**** Call ## 129 ## Duration:  823
      ✓ should ping (824ms)


  58 passing (38s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  188
**** Call ## 1 ## Duration:  114
**** Call ## 2 ## Duration:  106
    Create
**** Call ## 3 ## Duration:  194
      ✓ should create article (196ms)
**** Call ## 4 ## Duration:  93
      ✓ should create article with tags (96ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  191 (ERR)
**** Call ## 7 ## Duration:  86 (ERR)
**** Call ## 8 ## Duration:  80 (ERR)
**** Call ## 9 ## Duration:  77 (ERR)
      ✓ should enforce required fields (435ms)
    Get
**** Call ## 10 ## Duration:  248
      ✓ should get article by slug (248ms)
**** Call ## 11 ## Duration:  159
      ✓ should get article with tags by slug (159ms)
**** Call ## 12 ## Duration:  56 (ERR)
      ✓ should disallow unknown slug (59ms)
    Update
**** Call ## 13 ## Duration:  270
**** Call ## 14 ## Duration:  167
**** Call ## 15 ## Duration:  179
      ✓ should update article (618ms)
**** Call ## 16 ## Duration:  30 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  30 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  42 (ERR)
      ✓ should disallow unauthenticated update (42ms)
**** Call ## 19 ## Duration:  116 (ERR)
      ✓ should disallow updating non-existent article (118ms)
**** Call ## 20 ## Duration:  76 (ERR)
      ✓ should disallow non-author from updating (77ms)
    Favorite
**** Call ## 21 ## Duration:  210
**** Call ## 22 ## Duration:  150
      ✓ should favorite article (360ms)
**** Call ## 23 ## Duration:  91 (ERR)
      ✓ should disallow favoriting by unauthenticated user (91ms)
**** Call ## 24 ## Duration:  79 (ERR)
      ✓ should disallow favoriting unknown article (79ms)
**** Call ## 25 ## Duration:  221
      ✓ should unfavorite article (221ms)
    Delete
**** Call ## 26 ## Duration:  195
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (237ms)
**** Call ## 28 ## Duration:  24 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  67 (ERR)
      ✓ should disallow deleting unknown article (68ms)
**** Call ## 30 ## Duration:  79 (ERR)
      ✓ should disallow deleting article by non-author (80ms)
    List
**** Call ## 31 ## Duration:  87
**** Call ## 32 ## Duration:  79
**** Call ## 33 ## Duration:  100
**** Call ## 34 ## Duration:  84
**** Call ## 35 ## Duration:  99
**** Call ## 36 ## Duration:  95
**** Call ## 37 ## Duration:  77
**** Call ## 38 ## Duration:  90
**** Call ## 39 ## Duration:  77
**** Call ## 40 ## Duration:  94
**** Call ## 41 ## Duration:  68
**** Call ## 42 ## Duration:  75
**** Call ## 43 ## Duration:  90
**** Call ## 44 ## Duration:  82
**** Call ## 45 ## Duration:  82
**** Call ## 46 ## Duration:  77
**** Call ## 47 ## Duration:  63
**** Call ## 48 ## Duration:  92
**** Call ## 49 ## Duration:  110
**** Call ## 50 ## Duration:  77
**** Call ## 51 ## Duration:  463
      ✓ should list articles (463ms)
**** Call ## 52 ## Duration:  116
**** Call ## 53 ## Duration:  256
      ✓ should list articles with tag (373ms)
**** Call ## 54 ## Duration:  307
      ✓ should list articles by author (308ms)
**** Call ## 55 ## Duration:  50
      ✓ should list articles favorited by user (50ms)
**** Call ## 56 ## Duration:  104
**** Call ## 57 ## Duration:  100
      ✓ should list articles by limit/offset (204ms)
**** Call ## 58 ## Duration:  268 (ERR)
      1) should list articles when authenticated


  26 passing (7s)
  1 failing

  1) Article
       List
         should list articles when authenticated:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:17:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:236:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)



npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2020-05-21T06_29_33_706Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  215
**** Call ## 1 ## Duration:  135
**** Call ## 2 ## Duration:  119
    Create
**** Call ## 3 ## Duration:  149
      ✓ should create article (151ms)
**** Call ## 4 ## Duration:  101
      ✓ should create article with tags (104ms)
**** Call ## 5 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  115 (ERR)
**** Call ## 7 ## Duration:  83 (ERR)
**** Call ## 8 ## Duration:  77 (ERR)
**** Call ## 9 ## Duration:  89 (ERR)
      ✓ should enforce required fields (366ms)
    Get
**** Call ## 10 ## Duration:  100
      ✓ should get article by slug (101ms)
**** Call ## 11 ## Duration:  78
      ✓ should get article with tags by slug (79ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (45ms)
    Update
**** Call ## 13 ## Duration:  196
**** Call ## 14 ## Duration:  188
**** Call ## 15 ## Duration:  160
      ✓ should update article (548ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  51 (ERR)
      ✓ should disallow empty mutation (51ms)
**** Call ## 18 ## Duration:  34 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  69 (ERR)
      ✓ should disallow updating non-existent article (69ms)
**** Call ## 20 ## Duration:  69 (ERR)
      ✓ should disallow non-author from updating (70ms)
    Favorite
**** Call ## 21 ## Duration:  163
**** Call ## 22 ## Duration:  103
      ✓ should favorite article (267ms)
**** Call ## 23 ## Duration:  27 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  73 (ERR)
      ✓ should disallow favoriting unknown article (74ms)
**** Call ## 25 ## Duration:  180
      ✓ should unfavorite article (180ms)
    Delete
**** Call ## 26 ## Duration:  155
**** Call ## 27 ## Duration:  53 (ERR)
      ✓ should delete article (208ms)
**** Call ## 28 ## Duration:  28 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  74 (ERR)
      ✓ should disallow deleting unknown article (75ms)
**** Call ## 30 ## Duration:  77 (ERR)
      ✓ should disallow deleting article by non-author (78ms)
    List
**** Call ## 31 ## Duration:  104
**** Call ## 32 ## Duration:  96
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  100
**** Call ## 35 ## Duration:  100
**** Call ## 36 ## Duration:  98
**** Call ## 37 ## Duration:  90
**** Call ## 38 ## Duration:  72
**** Call ## 39 ## Duration:  77
**** Call ## 40 ## Duration:  89
**** Call ## 41 ## Duration:  90
**** Call ## 42 ## Duration:  121
**** Call ## 43 ## Duration:  62
**** Call ## 44 ## Duration:  86
**** Call ## 45 ## Duration:  95
**** Call ## 46 ## Duration:  104
**** Call ## 47 ## Duration:  103
**** Call ## 48 ## Duration:  91
**** Call ## 49 ## Duration:  85
**** Call ## 50 ## Duration:  87
**** Call ## 51 ## Duration:  587
      ✓ should list articles (587ms)
**** Call ## 52 ## Duration:  90
**** Call ## 53 ## Duration:  402
      ✓ should list articles with tag (492ms)
**** Call ## 54 ## Duration:  193
      ✓ should list articles by author (193ms)
**** Call ## 55 ## Duration:  44
      ✓ should list articles favorited by user (44ms)
**** Call ## 56 ## Duration:  99
**** Call ## 57 ## Duration:  98
      ✓ should list articles by limit/offset (199ms)
**** Call ## 58 ## Duration:  492
      ✓ should list articles when authenticated (492ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  29 (ERR)
**** Call ## 59 ## Duration:  48 (ERR)
**** Call ## 60 ## Duration:  51 (ERR)
**** Call ## 62 ## Duration:  152
**** Call ## 63 ## Duration:  214
**** Call ## 64 ## Duration:  248
**** Call ## 65 ## Duration:  132
**** Call ## 66 ## Duration:  484
      ✓ should get feed (1233ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  132
      ✓ should get tags (132ms)

  Comment
**** Call ## 69 ## Duration:  111
**** Call ## 70 ## Duration:  109
**** Call ## 71 ## Duration:  90
    Create
**** Call ## 72 ## Duration:  190
**** Call ## 73 ## Duration:  112
**** Call ## 74 ## Duration:  102
**** Call ## 75 ## Duration:  100
**** Call ## 76 ## Duration:  122
**** Call ## 77 ## Duration:  110
**** Call ## 78 ## Duration:  117
**** Call ## 79 ## Duration:  97
**** Call ## 80 ## Duration:  92
**** Call ## 81 ## Duration:  114
      ✓ should create comment (1158ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  116 (ERR)
      ✓ should enforce comment body (116ms)
**** Call ## 84 ## Duration:  73 (ERR)
      ✓ should disallow non-existent article (73ms)
    Get
**** Call ## 85 ## Duration:  223
      ✓ should get all comments for article (223ms)
    Delete
**** Call ## 86 ## Duration:  115
      ✓ should delete comment (115ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  31 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  133 (ERR)
      ✓ should disallow deleting unknown comment (133ms)

  User
    Create
**** Call ## 90 ## Duration:  212
      ✓ should create user (212ms)
**** Call ## 91 ## Duration:  51 (ERR)
      ✓ should disallow same username (51ms)
**** Call ## 92 ## Duration:  60 (ERR)
      ✓ should disallow same email (61ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  30 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  35 (ERR)
      ✓ should enforce required fields (113ms)
    Login
**** Call ## 97 ## Duration:  258
      ✓ should login (258ms)
**** Call ## 98 ## Duration:  47 (ERR)
      ✓ should disallow unknown email (47ms)
**** Call ## 99 ## Duration:  108 (ERR)
      ✓ should disallow wrong password (109ms)
**** Call ## 100 ## Duration:  30 (ERR)
**** Call ## 101 ## Duration:  29 (ERR)
**** Call ## 102 ## Duration:  27 (ERR)
      ✓ should enforce required fields (86ms)
    Get
**** Call ## 103 ## Duration:  141
      ✓ should get current user (141ms)
**** Call ## 104 ## Duration:  26 (ERR)
**** Call ## 105 ## Duration:  30 (ERR)
**** Call ## 106 ## Duration:  25 (ERR)
**** Call ## 107 ## Duration:  30 (ERR)
      ✓ should disallow bad tokens (113ms)
    Profile
**** Call ## 108 ## Duration:  164
      ✓ should get profile (164ms)
**** Call ## 109 ## Duration:  42 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  100
**** Call ## 111 ## Duration:  161
**** Call ## 112 ## Duration:  141
**** Call ## 113 ## Duration:  100
**** Call ## 114 ## Duration:  79
**** Call ## 115 ## Duration:  113
**** Call ## 116 ## Duration:  128
**** Call ## 117 ## Duration:  252
**** Call ## 118 ## Duration:  138
**** Call ## 119 ## Duration:  129
      ✓ should follow/unfollow user (1345ms)
**** Call ## 120 ## Duration:  41 (ERR)
      ✓ should disallow following with bad token (41ms)
    Update
**** Call ## 121 ## Duration:  157
**** Call ## 122 ## Duration:  60
**** Call ## 123 ## Duration:  77
**** Call ## 124 ## Duration:  56
      ✓ should update user (352ms)
**** Call ## 125 ## Duration:  26 (ERR)
**** Call ## 126 ## Duration:  122 (ERR)
      ✓ should disallow missing token/email in update (148ms)
**** Call ## 127 ## Duration:  121
**** Call ## 128 ## Duration:  77 (ERR)
      ✓ should disallow reusing email (199ms)

  Util
    Ping
**** Call ## 129 ## Duration:  33
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  135
**** Call ## 1 ## Duration:  131
**** Call ## 2 ## Duration:  118
    Create
**** Call ## 3 ## Duration:  106
      ✓ should create article (108ms)
**** Call ## 4 ## Duration:  85
      ✓ should create article with tags (88ms)
**** Call ## 5 ## Duration:  98 (ERR)
      ✓ should disallow unauthenticated user (98ms)
**** Call ## 6 ## Duration:  804 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  59 (ERR)
**** Call ## 9 ## Duration:  68 (ERR)
      ✓ should enforce required fields (996ms)
    Get
**** Call ## 10 ## Duration:  87
      ✓ should get article by slug (87ms)
**** Call ## 11 ## Duration:  91
      ✓ should get article with tags by slug (91ms)
**** Call ## 12 ## Duration:  30 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  175
**** Call ## 14 ## Duration:  141
**** Call ## 15 ## Duration:  150
      ✓ should update article (471ms)
**** Call ## 16 ## Duration:  28 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  31 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  95 (ERR)
      ✓ should disallow updating non-existent article (95ms)
**** Call ## 20 ## Duration:  73 (ERR)
      ✓ should disallow non-author from updating (74ms)
    Favorite
**** Call ## 21 ## Duration:  138
**** Call ## 22 ## Duration:  126
      ✓ should favorite article (264ms)
**** Call ## 23 ## Duration:  28 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  69 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (136ms)
    Delete
**** Call ## 26 ## Duration:  114
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (157ms)
**** Call ## 28 ## Duration:  30 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  91
**** Call ## 32 ## Duration:  95
**** Call ## 33 ## Duration:  101
**** Call ## 34 ## Duration:  94
**** Call ## 35 ## Duration:  75
**** Call ## 36 ## Duration:  132
**** Call ## 37 ## Duration:  88
**** Call ## 38 ## Duration:  101
**** Call ## 39 ## Duration:  76
**** Call ## 40 ## Duration:  92
**** Call ## 41 ## Duration:  109
**** Call ## 42 ## Duration:  103
**** Call ## 43 ## Duration:  100
**** Call ## 44 ## Duration:  72
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  84
**** Call ## 47 ## Duration:  101
**** Call ## 48 ## Duration:  86
**** Call ## 49 ## Duration:  102
**** Call ## 50 ## Duration:  100
**** Call ## 51 ## Duration:  471
      ✓ should list articles (471ms)
**** Call ## 52 ## Duration:  118
**** Call ## 53 ## Duration:  393
      ✓ should list articles with tag (511ms)
**** Call ## 54 ## Duration:  276
      ✓ should list articles by author (277ms)
**** Call ## 55 ## Duration:  53
      ✓ should list articles favorited by user (53ms)
**** Call ## 56 ## Duration:  95
**** Call ## 57 ## Duration:  92
      ✓ should list articles by limit/offset (189ms)
**** Call ## 58 ## Duration:  1359
      ✓ should list articles when authenticated (1359ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  26 (ERR)
**** Call ## 60 ## Duration:  34 (ERR)
**** Call ## 61 ## Duration:  37 (ERR)
**** Call ## 62 ## Duration:  163
**** Call ## 63 ## Duration:  170
**** Call ## 64 ## Duration:  336
**** Call ## 65 ## Duration:  142
**** Call ## 66 ## Duration:  472
      ✓ should get feed (1285ms)
**** Call ## 67 ## Duration:  37 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  99
      ✓ should get tags (99ms)

  Comment
**** Call ## 69 ## Duration:  122
**** Call ## 70 ## Duration:  122
**** Call ## 71 ## Duration:  109
    Create
**** Call ## 72 ## Duration:  118
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  115
**** Call ## 75 ## Duration:  106
**** Call ## 76 ## Duration:  103
**** Call ## 77 ## Duration:  121
**** Call ## 78 ## Duration:  93
**** Call ## 79 ## Duration:  148
**** Call ## 80 ## Duration:  136
**** Call ## 81 ## Duration:  107
      ✓ should create comment (1152ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  66 (ERR)
      ✓ should disallow non-existent article (67ms)
    Get
**** Call ## 85 ## Duration:  281
      ✓ should get all comments for article (281ms)
    Delete
**** Call ## 86 ## Duration:  130
      ✓ should delete comment (130ms)
**** Call ## 87 ## Duration:  83 (ERR)
      ✓ only comment author should be able to delete comment (83ms)
**** Call ## 88 ## Duration:  29 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  133
      ✓ should create user (134ms)
**** Call ## 91 ## Duration:  60 (ERR)
      ✓ should disallow same username (60ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (70ms)
**** Call ## 93 ## Duration:  26 (ERR)
**** Call ## 94 ## Duration:  29 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  466 (ERR)
      ✓ should enforce required fields (544ms)
    Login
**** Call ## 97 ## Duration:  153
      ✓ should login (153ms)
**** Call ## 98 ## Duration:  45 (ERR)
      ✓ should disallow unknown email (46ms)
**** Call ## 99 ## Duration:  35 (ERR)
      ✓ should disallow wrong password
**** Call ## 100 ## Duration:  33 (ERR)
**** Call ## 101 ## Duration:  33 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (89ms)
    Get
**** Call ## 103 ## Duration:  99
      ✓ should get current user (99ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  54 (ERR)
**** Call ## 106 ## Duration:  28 (ERR)
**** Call ## 107 ## Duration:  26 (ERR)
      ✓ should disallow bad tokens (134ms)
    Profile
**** Call ## 108 ## Duration:  110
      ✓ should get profile (110ms)
**** Call ## 109 ## Duration:  66 (ERR)
      ✓ should disallow unknown username (66ms)
**** Call ## 110 ## Duration:  136
**** Call ## 111 ## Duration:  137
**** Call ## 112 ## Duration:  118
**** Call ## 113 ## Duration:  95
**** Call ## 114 ## Duration:  66
**** Call ## 115 ## Duration:  110
**** Call ## 116 ## Duration:  110
**** Call ## 117 ## Duration:  165
**** Call ## 118 ## Duration:  117
**** Call ## 119 ## Duration:  105
      ✓ should follow/unfollow user (1162ms)
**** Call ## 120 ## Duration:  32 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  120
**** Call ## 122 ## Duration:  129
**** Call ## 123 ## Duration:  65
**** Call ## 124 ## Duration:  70
      ✓ should update user (386ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  77 (ERR)
      ✓ should disallow missing token/email in update (101ms)
**** Call ## 127 ## Duration:  129
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (193ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (15s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  149
**** Call ## 1 ## Duration:  122
**** Call ## 2 ## Duration:  165
    Create
**** Call ## 3 ## Duration:  132
      ✓ should create article (135ms)
**** Call ## 4 ## Duration:  89
      ✓ should create article with tags (92ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  150 (ERR)
**** Call ## 7 ## Duration:  80 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  76 (ERR)
      ✓ should enforce required fields (370ms)
    Get
**** Call ## 10 ## Duration:  110
      ✓ should get article by slug (110ms)
**** Call ## 11 ## Duration:  130
      ✓ should get article with tags by slug (130ms)
**** Call ## 12 ## Duration:  31 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  150
**** Call ## 14 ## Duration:  158
**** Call ## 15 ## Duration:  122
      ✓ should update article (432ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  22 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  76 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  141
**** Call ## 22 ## Duration:  106
      ✓ should favorite article (248ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  74 (ERR)
      ✓ should disallow favoriting unknown article (74ms)
**** Call ## 25 ## Duration:  127
      ✓ should unfavorite article (127ms)
    Delete
**** Call ## 26 ## Duration:  118
**** Call ## 27 ## Duration:  34 (ERR)
      ✓ should delete article (154ms)
**** Call ## 28 ## Duration:  27 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  86 (ERR)
      ✓ should disallow deleting unknown article (86ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (67ms)
    List
**** Call ## 31 ## Duration:  169
**** Call ## 32 ## Duration:  88
**** Call ## 33 ## Duration:  140
**** Call ## 34 ## Duration:  103
**** Call ## 35 ## Duration:  104
**** Call ## 36 ## Duration:  95
**** Call ## 37 ## Duration:  78
**** Call ## 38 ## Duration:  66
**** Call ## 39 ## Duration:  123
**** Call ## 40 ## Duration:  69
**** Call ## 41 ## Duration:  130
**** Call ## 42 ## Duration:  104
**** Call ## 43 ## Duration:  84
**** Call ## 44 ## Duration:  80
**** Call ## 45 ## Duration:  94
**** Call ## 46 ## Duration:  101
**** Call ## 47 ## Duration:  103
**** Call ## 48 ## Duration:  113
**** Call ## 49 ## Duration:  87
**** Call ## 50 ## Duration:  84
**** Call ## 51 ## Duration:  481
      ✓ should list articles (482ms)
**** Call ## 52 ## Duration:  126
**** Call ## 53 ## Duration:  401
      ✓ should list articles with tag (528ms)
**** Call ## 54 ## Duration:  208
      ✓ should list articles by author (208ms)
**** Call ## 55 ## Duration:  64
      ✓ should list articles favorited by user (64ms)
**** Call ## 56 ## Duration:  99
**** Call ## 57 ## Duration:  100
      ✓ should list articles by limit/offset (199ms)
**** Call ## 58 ## Duration:  464
      ✓ should list articles when authenticated (464ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 59 ## Duration:  30 (ERR)
**** Call ## 62 ## Duration:  135
**** Call ## 63 ## Duration:  147
**** Call ## 64 ## Duration:  233
**** Call ## 65 ## Duration:  147
**** Call ## 66 ## Duration:  392
      ✓ should get feed (1058ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  97
      ✓ should get tags (98ms)

  Comment
**** Call ## 69 ## Duration:  149
**** Call ## 70 ## Duration:  109
**** Call ## 71 ## Duration:  93
    Create
**** Call ## 72 ## Duration:  128
**** Call ## 73 ## Duration:  124
**** Call ## 74 ## Duration:  88
**** Call ## 75 ## Duration:  98
**** Call ## 76 ## Duration:  127
**** Call ## 77 ## Duration:  116
**** Call ## 78 ## Duration:  95
**** Call ## 79 ## Duration:  98
**** Call ## 80 ## Duration:  121
**** Call ## 81 ## Duration:  77
      ✓ should create comment (1075ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  121 (ERR)
      ✓ should enforce comment body (121ms)
**** Call ## 84 ## Duration:  65 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  250
      ✓ should get all comments for article (250ms)
    Delete
**** Call ## 86 ## Duration:  122
      ✓ should delete comment (122ms)
**** Call ## 87 ## Duration:  77 (ERR)
      ✓ only comment author should be able to delete comment (78ms)
**** Call ## 88 ## Duration:  51 (ERR)
      ✓ should disallow unauthenticated user (52ms)
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  137
      ✓ should create user (137ms)
**** Call ## 91 ## Duration:  72 (ERR)
      ✓ should disallow same username (73ms)
**** Call ## 92 ## Duration:  66 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  28 (ERR)
**** Call ## 95 ## Duration:  33 (ERR)
**** Call ## 96 ## Duration:  24 (ERR)
      ✓ should enforce required fields (109ms)
    Login
**** Call ## 97 ## Duration:  72
      ✓ should login (73ms)
**** Call ## 98 ## Duration:  43 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  56 (ERR)
      ✓ should disallow wrong password (56ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  28 (ERR)
**** Call ## 102 ## Duration:  38 (ERR)
      ✓ should enforce required fields (89ms)
    Get
**** Call ## 103 ## Duration:  78
      ✓ should get current user (80ms)
**** Call ## 104 ## Duration:  26 (ERR)
**** Call ## 105 ## Duration:  26 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (99ms)
    Profile
**** Call ## 108 ## Duration:  106
      ✓ should get profile (106ms)
**** Call ## 109 ## Duration:  50 (ERR)
      ✓ should disallow unknown username (50ms)
**** Call ## 110 ## Duration:  130
**** Call ## 111 ## Duration:  104
**** Call ## 112 ## Duration:  115
**** Call ## 113 ## Duration:  91
**** Call ## 114 ## Duration:  88
**** Call ## 115 ## Duration:  141
**** Call ## 116 ## Duration:  145
**** Call ## 117 ## Duration:  144
**** Call ## 118 ## Duration:  158
**** Call ## 119 ## Duration:  139
      ✓ should follow/unfollow user (1257ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  92
**** Call ## 122 ## Duration:  73
**** Call ## 123 ## Duration:  64
**** Call ## 124 ## Duration:  65
      ✓ should update user (295ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  134 (ERR)
      ✓ should disallow missing token/email in update (157ms)
**** Call ## 127 ## Duration:  119
**** Call ## 128 ## Duration:  71 (ERR)
      ✓ should disallow reusing email (190ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  159
**** Call ## 1 ## Duration:  113
**** Call ## 2 ## Duration:  129
    Create
**** Call ## 3 ## Duration:  169
      ✓ should create article (171ms)
**** Call ## 4 ## Duration:  90
      ✓ should create article with tags (91ms)
**** Call ## 5 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  62 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  47 (ERR)
**** Call ## 9 ## Duration:  68 (ERR)
      ✓ should enforce required fields (242ms)
    Get
**** Call ## 10 ## Duration:  112
      ✓ should get article by slug (112ms)
**** Call ## 11 ## Duration:  100
      ✓ should get article with tags by slug (101ms)
**** Call ## 12 ## Duration:  58 (ERR)
      ✓ should disallow unknown slug (59ms)
    Update
**** Call ## 13 ## Duration:  182
**** Call ## 14 ## Duration:  152
**** Call ## 15 ## Duration:  145
      ✓ should update article (485ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  69 (ERR)
      ✓ should disallow non-author from updating (69ms)
    Favorite
**** Call ## 21 ## Duration:  137
**** Call ## 22 ## Duration:  153
      ✓ should favorite article (291ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  89 (ERR)
      ✓ should disallow favoriting unknown article (89ms)
**** Call ## 25 ## Duration:  155
      ✓ should unfavorite article (156ms)
    Delete
**** Call ## 26 ## Duration:  105
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (145ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  64 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  102
**** Call ## 32 ## Duration:  74
**** Call ## 33 ## Duration:  88
**** Call ## 34 ## Duration:  102
**** Call ## 35 ## Duration:  85
**** Call ## 36 ## Duration:  121
**** Call ## 37 ## Duration:  79
**** Call ## 38 ## Duration:  89
**** Call ## 39 ## Duration:  78
**** Call ## 40 ## Duration:  66
**** Call ## 41 ## Duration:  96
**** Call ## 42 ## Duration:  75
**** Call ## 43 ## Duration:  85
**** Call ## 44 ## Duration:  68
**** Call ## 45 ## Duration:  63
**** Call ## 46 ## Duration:  64
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  110
**** Call ## 49 ## Duration:  119
**** Call ## 50 ## Duration:  79
**** Call ## 51 ## Duration:  370
      ✓ should list articles (371ms)
**** Call ## 52 ## Duration:  156
**** Call ## 53 ## Duration:  304
      ✓ should list articles with tag (461ms)
**** Call ## 54 ## Duration:  197
      ✓ should list articles by author (198ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  76
**** Call ## 57 ## Duration:  126
      ✓ should list articles by limit/offset (203ms)
**** Call ## 58 ## Duration:  580
      ✓ should list articles when authenticated (580ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 59 ## Duration:  31 (ERR)
**** Call ## 60 ## Duration:  36 (ERR)
**** Call ## 62 ## Duration:  90
**** Call ## 63 ## Duration:  118
**** Call ## 64 ## Duration:  244
**** Call ## 65 ## Duration:  126
**** Call ## 66 ## Duration:  426
      ✓ should get feed (1008ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  94
      ✓ should get tags (94ms)

  Comment
**** Call ## 69 ## Duration:  114
**** Call ## 70 ## Duration:  113
**** Call ## 71 ## Duration:  99
    Create
**** Call ## 72 ## Duration:  151
**** Call ## 73 ## Duration:  114
**** Call ## 74 ## Duration:  122
**** Call ## 75 ## Duration:  125
**** Call ## 76 ## Duration:  119
**** Call ## 77 ## Duration:  107
**** Call ## 78 ## Duration:  112
**** Call ## 79 ## Duration:  101
**** Call ## 80 ## Duration:  118
**** Call ## 81 ## Duration:  100
      ✓ should create comment (1173ms)
**** Call ## 82 ## Duration:  34 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  62 (ERR)
      ✓ should enforce comment body (63ms)
**** Call ## 84 ## Duration:  65 (ERR)
      ✓ should disallow non-existent article (65ms)
    Get
**** Call ## 85 ## Duration:  270
      ✓ should get all comments for article (270ms)
    Delete
**** Call ## 86 ## Duration:  122
      ✓ should delete comment (122ms)
**** Call ## 87 ## Duration:  58 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown comment (58ms)

  User
    Create
**** Call ## 90 ## Duration:  122
      ✓ should create user (122ms)
**** Call ## 91 ## Duration:  31 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  26 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  30 (ERR)
**** Call ## 96 ## Duration:  30 (ERR)
      ✓ should enforce required fields (113ms)
    Login
**** Call ## 97 ## Duration:  82
      ✓ should login (82ms)
**** Call ## 98 ## Duration:  49 (ERR)
      ✓ should disallow unknown email (49ms)
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (67ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  29 (ERR)
**** Call ## 106 ## Duration:  25 (ERR)
**** Call ## 107 ## Duration:  27 (ERR)
      ✓ should disallow bad tokens (107ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  77 (ERR)
      ✓ should disallow unknown username (77ms)
**** Call ## 110 ## Duration:  117
**** Call ## 111 ## Duration:  125
**** Call ## 112 ## Duration:  85
**** Call ## 113 ## Duration:  109
**** Call ## 114 ## Duration:  59
**** Call ## 115 ## Duration:  113
**** Call ## 116 ## Duration:  129
**** Call ## 117 ## Duration:  153
**** Call ## 118 ## Duration:  137
**** Call ## 119 ## Duration:  147
      ✓ should follow/unfollow user (1177ms)
**** Call ## 120 ## Duration:  24 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  113
**** Call ## 122 ## Duration:  60
**** Call ## 123 ## Duration:  60
**** Call ## 124 ## Duration:  75
      ✓ should update user (310ms)
**** Call ## 125 ## Duration:  26 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (76ms)
**** Call ## 127 ## Duration:  112
**** Call ## 128 ## Duration:  69 (ERR)
      ✓ should disallow reusing email (182ms)

  Util
    Ping
**** Call ## 129 ## Duration:  23
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  153
**** Call ## 1 ## Duration:  117
**** Call ## 2 ## Duration:  110
    Create
**** Call ## 3 ## Duration:  92
      ✓ should create article (94ms)
**** Call ## 4 ## Duration:  101
      ✓ should create article with tags (104ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  113 (ERR)
**** Call ## 7 ## Duration:  65 (ERR)
**** Call ## 8 ## Duration:  76 (ERR)
**** Call ## 9 ## Duration:  61 (ERR)
      ✓ should enforce required fields (317ms)
    Get
**** Call ## 10 ## Duration:  80
      ✓ should get article by slug (80ms)
**** Call ## 11 ## Duration:  83
      ✓ should get article with tags by slug (83ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  166
**** Call ## 14 ## Duration:  174
**** Call ## 15 ## Duration:  104
      ✓ should update article (446ms)
**** Call ## 16 ## Duration:  28 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  24 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  61 (ERR)
      ✓ should disallow updating non-existent article (61ms)
**** Call ## 20 ## Duration:  75 (ERR)
      ✓ should disallow non-author from updating (75ms)
    Favorite
**** Call ## 21 ## Duration:  125
**** Call ## 22 ## Duration:  125
      ✓ should favorite article (251ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  69 (ERR)
      ✓ should disallow favoriting unknown article (69ms)
**** Call ## 25 ## Duration:  131
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  116
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (157ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  75 (ERR)
      ✓ should disallow deleting article by non-author (75ms)
    List
**** Call ## 31 ## Duration:  103
**** Call ## 32 ## Duration:  97
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  101
**** Call ## 35 ## Duration:  95
**** Call ## 36 ## Duration:  103
**** Call ## 37 ## Duration:  112
**** Call ## 38 ## Duration:  160
**** Call ## 39 ## Duration:  76
**** Call ## 40 ## Duration:  102
**** Call ## 41 ## Duration:  84
**** Call ## 42 ## Duration:  94
**** Call ## 43 ## Duration:  139
**** Call ## 44 ## Duration:  98
**** Call ## 45 ## Duration:  100
**** Call ## 46 ## Duration:  100
**** Call ## 47 ## Duration:  104
**** Call ## 48 ## Duration:  84
**** Call ## 49 ## Duration:  325
**** Call ## 50 ## Duration:  116
**** Call ## 51 ## Duration:  367
      ✓ should list articles (367ms)
**** Call ## 52 ## Duration:  173
**** Call ## 53 ## Duration:  368
      ✓ should list articles with tag (541ms)
**** Call ## 54 ## Duration:  195
      ✓ should list articles by author (197ms)
**** Call ## 55 ## Duration:  47
      ✓ should list articles favorited by user (47ms)
**** Call ## 56 ## Duration:  104
**** Call ## 57 ## Duration:  78
      ✓ should list articles by limit/offset (183ms)
**** Call ## 58 ## Duration:  402
      ✓ should list articles when authenticated (402ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 59 ## Duration:  28 (ERR)
**** Call ## 62 ## Duration:  75
**** Call ## 63 ## Duration:  122
**** Call ## 64 ## Duration:  235
**** Call ## 65 ## Duration:  157
**** Call ## 66 ## Duration:  418
      ✓ should get feed (1008ms)
**** Call ## 67 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  91
      ✓ should get tags (91ms)

  Comment
**** Call ## 69 ## Duration:  131
**** Call ## 70 ## Duration:  114
**** Call ## 71 ## Duration:  84
    Create
**** Call ## 72 ## Duration:  119
**** Call ## 73 ## Duration:  101
**** Call ## 74 ## Duration:  92
**** Call ## 75 ## Duration:  106
**** Call ## 76 ## Duration:  91
**** Call ## 77 ## Duration:  108
**** Call ## 78 ## Duration:  106
**** Call ## 79 ## Duration:  97
**** Call ## 80 ## Duration:  125
**** Call ## 81 ## Duration:  95
      ✓ should create comment (1043ms)
**** Call ## 82 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  47 (ERR)
      ✓ should enforce comment body (47ms)
**** Call ## 84 ## Duration:  50 (ERR)
      ✓ should disallow non-existent article (51ms)
    Get
**** Call ## 85 ## Duration:  204
      ✓ should get all comments for article (204ms)
    Delete
**** Call ## 86 ## Duration:  166
      ✓ should delete comment (166ms)
**** Call ## 87 ## Duration:  63 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  122
      ✓ should create user (122ms)
**** Call ## 91 ## Duration:  29 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  62 (ERR)
      ✓ should disallow same email (62ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  26 (ERR)
      ✓ should enforce required fields (99ms)
    Login
**** Call ## 97 ## Duration:  109
      ✓ should login (110ms)
**** Call ## 98 ## Duration:  58 (ERR)
      ✓ should disallow unknown email (58ms)
**** Call ## 99 ## Duration:  104 (ERR)
      ✓ should disallow wrong password (105ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  26 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (71ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  26 (ERR)
**** Call ## 105 ## Duration:  33 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (106ms)
    Profile
**** Call ## 108 ## Duration:  69
      ✓ should get profile (69ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  109
**** Call ## 111 ## Duration:  105
**** Call ## 112 ## Duration:  116
**** Call ## 113 ## Duration:  98
**** Call ## 114 ## Duration:  106
**** Call ## 115 ## Duration:  112
**** Call ## 116 ## Duration:  128
**** Call ## 117 ## Duration:  125
**** Call ## 118 ## Duration:  131
**** Call ## 119 ## Duration:  119
      ✓ should follow/unfollow user (1152ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  95
**** Call ## 122 ## Duration:  83
**** Call ## 123 ## Duration:  63
**** Call ## 124 ## Duration:  55
      ✓ should update user (297ms)
**** Call ## 125 ## Duration:  25 (ERR)
**** Call ## 126 ## Duration:  52 (ERR)
      ✓ should disallow missing token/email in update (78ms)
**** Call ## 127 ## Duration:  124
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (188ms)

  Util
    Ping
**** Call ## 129 ## Duration:  30
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  158
**** Call ## 1 ## Duration:  146
**** Call ## 2 ## Duration:  94
    Create
**** Call ## 3 ## Duration:  111
      ✓ should create article (114ms)
**** Call ## 4 ## Duration:  81
      ✓ should create article with tags (84ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  83 (ERR)
**** Call ## 7 ## Duration:  67 (ERR)
**** Call ## 8 ## Duration:  65 (ERR)
**** Call ## 9 ## Duration:  68 (ERR)
      ✓ should enforce required fields (284ms)
    Get
**** Call ## 10 ## Duration:  86
      ✓ should get article by slug (86ms)
**** Call ## 11 ## Duration:  84
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  163
**** Call ## 14 ## Duration:  137
**** Call ## 15 ## Duration:  141
      ✓ should update article (444ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  33 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  78 (ERR)
      ✓ should disallow non-author from updating (79ms)
    Favorite
**** Call ## 21 ## Duration:  173
**** Call ## 22 ## Duration:  129
      ✓ should favorite article (303ms)
**** Call ## 23 ## Duration:  33 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  149
      ✓ should unfavorite article (149ms)
    Delete
**** Call ## 26 ## Duration:  138
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (182ms)
**** Call ## 28 ## Duration:  26 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  68 (ERR)
      ✓ should disallow deleting article by non-author (68ms)
    List
**** Call ## 31 ## Duration:  132
**** Call ## 32 ## Duration:  88
**** Call ## 33 ## Duration:  82
**** Call ## 34 ## Duration:  89
**** Call ## 35 ## Duration:  106
**** Call ## 36 ## Duration:  85
**** Call ## 37 ## Duration:  86
**** Call ## 38 ## Duration:  97
**** Call ## 39 ## Duration:  92
**** Call ## 40 ## Duration:  81
**** Call ## 41 ## Duration:  81
**** Call ## 42 ## Duration:  72
**** Call ## 43 ## Duration:  86
**** Call ## 44 ## Duration:  93
**** Call ## 45 ## Duration:  99
**** Call ## 46 ## Duration:  71
**** Call ## 47 ## Duration:  84
**** Call ## 48 ## Duration:  90
**** Call ## 49 ## Duration:  64
**** Call ## 50 ## Duration:  68
**** Call ## 51 ## Duration:  551
      ✓ should list articles (552ms)
**** Call ## 52 ## Duration:  233
**** Call ## 53 ## Duration:  367
      ✓ should list articles with tag (600ms)
**** Call ## 54 ## Duration:  215
      ✓ should list articles by author (215ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  83
**** Call ## 57 ## Duration:  90
      ✓ should list articles by limit/offset (175ms)
**** Call ## 58 ## Duration:  525
      ✓ should list articles when authenticated (525ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  30 (ERR)
**** Call ## 61 ## Duration:  43 (ERR)
**** Call ## 62 ## Duration:  81
**** Call ## 63 ## Duration:  147
**** Call ## 64 ## Duration:  242
**** Call ## 65 ## Duration:  124
**** Call ## 66 ## Duration:  487
      ✓ should get feed (1082ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  91
      ✓ should get tags (91ms)

  Comment
**** Call ## 69 ## Duration:  122
**** Call ## 70 ## Duration:  101
**** Call ## 71 ## Duration:  86
    Create
**** Call ## 72 ## Duration:  111
**** Call ## 73 ## Duration:  112
**** Call ## 74 ## Duration:  113
**** Call ## 75 ## Duration:  101
**** Call ## 76 ## Duration:  107
**** Call ## 77 ## Duration:  111
**** Call ## 78 ## Duration:  121
**** Call ## 79 ## Duration:  97
**** Call ## 80 ## Duration:  122
**** Call ## 81 ## Duration:  108
      ✓ should create comment (1105ms)
**** Call ## 82 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (48ms)
**** Call ## 84 ## Duration:  47 (ERR)
      ✓ should disallow non-existent article (48ms)
    Get
**** Call ## 85 ## Duration:  231
      ✓ should get all comments for article (232ms)
    Delete
**** Call ## 86 ## Duration:  136
      ✓ should delete comment (136ms)
**** Call ## 87 ## Duration:  65 (ERR)
      ✓ only comment author should be able to delete comment (66ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  61 (ERR)
      ✓ should disallow deleting unknown comment (61ms)

  User
    Create
**** Call ## 90 ## Duration:  185
      ✓ should create user (186ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  75 (ERR)
      ✓ should disallow same email (76ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  21 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (92ms)
    Login
**** Call ## 97 ## Duration:  113
      ✓ should login (114ms)
**** Call ## 98 ## Duration:  45 (ERR)
      ✓ should disallow unknown email (45ms)
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  38 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  29 (ERR)
      ✓ should enforce required fields (91ms)
    Get
**** Call ## 103 ## Duration:  43
      ✓ should get current user (43ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  50 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (118ms)
    Profile
**** Call ## 108 ## Duration:  63
      ✓ should get profile (63ms)
**** Call ## 109 ## Duration:  54 (ERR)
      ✓ should disallow unknown username (54ms)
**** Call ## 110 ## Duration:  118
**** Call ## 111 ## Duration:  138
**** Call ## 112 ## Duration:  129
**** Call ## 113 ## Duration:  124
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  98
**** Call ## 116 ## Duration:  111
**** Call ## 117 ## Duration:  148
**** Call ## 118 ## Duration:  119
**** Call ## 119 ## Duration:  137
      ✓ should follow/unfollow user (1186ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  104
**** Call ## 122 ## Duration:  66
**** Call ## 123 ## Duration:  152
**** Call ## 124 ## Duration:  53
      ✓ should update user (376ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (71ms)
**** Call ## 127 ## Duration:  129
**** Call ## 128 ## Duration:  75 (ERR)
      ✓ should disallow reusing email (205ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  257
**** Call ## 1 ## Duration:  122
**** Call ## 2 ## Duration:  112
    Create
**** Call ## 3 ## Duration:  164
      ✓ should create article (167ms)
**** Call ## 4 ## Duration:  89
      ✓ should create article with tags (90ms)
**** Call ## 5 ## Duration:  37 (ERR)
      ✓ should disallow unauthenticated user (38ms)
**** Call ## 6 ## Duration:  63 (ERR)
**** Call ## 7 ## Duration:  89 (ERR)
**** Call ## 8 ## Duration:  116 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (329ms)
    Get
**** Call ## 10 ## Duration:  99
      ✓ should get article by slug (99ms)
**** Call ## 11 ## Duration:  85
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  37 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  177
**** Call ## 14 ## Duration:  177
**** Call ## 15 ## Duration:  141
      ✓ should update article (500ms)
**** Call ## 16 ## Duration:  25 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  37 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  34 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  71 (ERR)
      ✓ should disallow updating non-existent article (71ms)
**** Call ## 20 ## Duration:  66 (ERR)
      ✓ should disallow non-author from updating (66ms)
    Favorite
**** Call ## 21 ## Duration:  137
**** Call ## 22 ## Duration:  115
      ✓ should favorite article (253ms)
**** Call ## 23 ## Duration:  21 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  127
      ✓ should unfavorite article (127ms)
    Delete
**** Call ## 26 ## Duration:  103
**** Call ## 27 ## Duration:  57 (ERR)
      ✓ should delete article (160ms)
**** Call ## 28 ## Duration:  26 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  75 (ERR)
      ✓ should disallow deleting article by non-author (75ms)
    List
**** Call ## 31 ## Duration:  90
**** Call ## 32 ## Duration:  202
**** Call ## 33 ## Duration:  103
**** Call ## 34 ## Duration:  79
**** Call ## 35 ## Duration:  94
**** Call ## 36 ## Duration:  82
**** Call ## 37 ## Duration:  111
**** Call ## 38 ## Duration:  99
**** Call ## 39 ## Duration:  88
**** Call ## 40 ## Duration:  80
**** Call ## 41 ## Duration:  93
**** Call ## 42 ## Duration:  73
**** Call ## 43 ## Duration:  88
**** Call ## 44 ## Duration:  95
**** Call ## 45 ## Duration:  72
**** Call ## 46 ## Duration:  109
**** Call ## 47 ## Duration:  74
**** Call ## 48 ## Duration:  84
**** Call ## 49 ## Duration:  75
**** Call ## 50 ## Duration:  67
**** Call ## 51 ## Duration:  637
      ✓ should list articles (637ms)
**** Call ## 52 ## Duration:  192
**** Call ## 53 ## Duration:  350
      ✓ should list articles with tag (542ms)
**** Call ## 54 ## Duration:  194
      ✓ should list articles by author (194ms)
**** Call ## 55 ## Duration:  61
      ✓ should list articles favorited by user (61ms)
**** Call ## 56 ## Duration:  164
**** Call ## 57 ## Duration:  96
      ✓ should list articles by limit/offset (261ms)
**** Call ## 58 ## Duration:  523
      ✓ should list articles when authenticated (524ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  37 (ERR)
**** Call ## 61 ## Duration:  43 (ERR)
**** Call ## 62 ## Duration:  97
**** Call ## 63 ## Duration:  129
**** Call ## 64 ## Duration:  395
**** Call ## 65 ## Duration:  123
**** Call ## 66 ## Duration:  307
      ✓ should get feed (1054ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  97
      ✓ should get tags (97ms)

  Comment
**** Call ## 69 ## Duration:  150
**** Call ## 70 ## Duration:  123
**** Call ## 71 ## Duration:  90
    Create
**** Call ## 72 ## Duration:  98
**** Call ## 73 ## Duration:  109
**** Call ## 74 ## Duration:  113
**** Call ## 75 ## Duration:  111
**** Call ## 76 ## Duration:  104
**** Call ## 77 ## Duration:  110
**** Call ## 78 ## Duration:  103
**** Call ## 79 ## Duration:  91
**** Call ## 80 ## Duration:  89
**** Call ## 81 ## Duration:  132
      ✓ should create comment (1061ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  55 (ERR)
      ✓ should enforce comment body (55ms)
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (63ms)
    Get
**** Call ## 85 ## Duration:  182
      ✓ should get all comments for article (182ms)
    Delete
**** Call ## 86 ## Duration:  108
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (66ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  126 (ERR)
      ✓ should disallow deleting unknown comment (126ms)

  User
    Create
**** Call ## 90 ## Duration:  148
      ✓ should create user (148ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  61 (ERR)
      ✓ should disallow same email (62ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  27 (ERR)
**** Call ## 95 ## Duration:  25 (ERR)
**** Call ## 96 ## Duration:  24 (ERR)
      ✓ should enforce required fields (101ms)
    Login
**** Call ## 97 ## Duration:  137
      ✓ should login (138ms)
**** Call ## 98 ## Duration:  100 (ERR)
      ✓ should disallow unknown email (100ms)
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (52ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  20 (ERR)
**** Call ## 102 ## Duration:  155 (ERR)
      ✓ should enforce required fields (199ms)
    Get
**** Call ## 103 ## Duration:  89
      ✓ should get current user (89ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  22 (ERR)
**** Call ## 106 ## Duration:  26 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (99ms)
    Profile
**** Call ## 108 ## Duration:  66
      ✓ should get profile (66ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  99
**** Call ## 111 ## Duration:  118
**** Call ## 112 ## Duration:  132
**** Call ## 113 ## Duration:  58
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  143
**** Call ## 116 ## Duration:  117
**** Call ## 117 ## Duration:  116
**** Call ## 118 ## Duration:  125
**** Call ## 119 ## Duration:  94
      ✓ should follow/unfollow user (1068ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  93
**** Call ## 122 ## Duration:  61
**** Call ## 123 ## Duration:  64
**** Call ## 124 ## Duration:  63
      ✓ should update user (283ms)
**** Call ## 125 ## Duration:  27 (ERR)
**** Call ## 126 ## Duration:  46 (ERR)
      ✓ should disallow missing token/email in update (73ms)
**** Call ## 127 ## Duration:  147
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (211ms)

  Util
    Ping
**** Call ## 129 ## Duration:  34
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  158
**** Call ## 1 ## Duration:  179
**** Call ## 2 ## Duration:  133
    Create
**** Call ## 3 ## Duration:  115
      ✓ should create article (117ms)
**** Call ## 4 ## Duration:  77
      ✓ should create article with tags (79ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  60 (ERR)
**** Call ## 7 ## Duration:  79 (ERR)
**** Call ## 8 ## Duration:  55 (ERR)
**** Call ## 9 ## Duration:  63 (ERR)
      ✓ should enforce required fields (257ms)
    Get
**** Call ## 10 ## Duration:  92
      ✓ should get article by slug (92ms)
**** Call ## 11 ## Duration:  87
      ✓ should get article with tags by slug (88ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  170
**** Call ## 14 ## Duration:  151
**** Call ## 15 ## Duration:  136
      ✓ should update article (458ms)
**** Call ## 16 ## Duration:  20 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  31 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  78 (ERR)
      ✓ should disallow updating non-existent article (78ms)
**** Call ## 20 ## Duration:  68 (ERR)
      ✓ should disallow non-author from updating (69ms)
    Favorite
**** Call ## 21 ## Duration:  149
**** Call ## 22 ## Duration:  115
      ✓ should favorite article (265ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  62 (ERR)
      ✓ should disallow favoriting unknown article (62ms)
**** Call ## 25 ## Duration:  130
      ✓ should unfavorite article (131ms)
    Delete
**** Call ## 26 ## Duration:  117
**** Call ## 27 ## Duration:  67 (ERR)
      ✓ should delete article (184ms)
**** Call ## 28 ## Duration:  31 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  56 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  81 (ERR)
      ✓ should disallow deleting article by non-author (81ms)
    List
**** Call ## 31 ## Duration:  74
**** Call ## 32 ## Duration:  82
**** Call ## 33 ## Duration:  81
**** Call ## 34 ## Duration:  81
**** Call ## 35 ## Duration:  82
**** Call ## 36 ## Duration:  139
**** Call ## 37 ## Duration:  81
**** Call ## 38 ## Duration:  96
**** Call ## 39 ## Duration:  96
**** Call ## 40 ## Duration:  70
**** Call ## 41 ## Duration:  87
**** Call ## 42 ## Duration:  100
**** Call ## 43 ## Duration:  64
**** Call ## 44 ## Duration:  186
**** Call ## 45 ## Duration:  96
**** Call ## 46 ## Duration:  113
**** Call ## 47 ## Duration:  76
**** Call ## 48 ## Duration:  114
**** Call ## 49 ## Duration:  87
**** Call ## 50 ## Duration:  72
**** Call ## 51 ## Duration:  485
      ✓ should list articles (486ms)
**** Call ## 52 ## Duration:  231
**** Call ## 53 ## Duration:  422
      ✓ should list articles with tag (653ms)
**** Call ## 54 ## Duration:  202
      ✓ should list articles by author (203ms)
**** Call ## 55 ## Duration:  80
      ✓ should list articles favorited by user (80ms)
**** Call ## 56 ## Duration:  79
**** Call ## 57 ## Duration:  101
      ✓ should list articles by limit/offset (180ms)
**** Call ## 58 ## Duration:  451
      ✓ should list articles when authenticated (451ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  27 (ERR)
**** Call ## 59 ## Duration:  36 (ERR)
**** Call ## 60 ## Duration:  47 (ERR)
**** Call ## 62 ## Duration:  106
**** Call ## 63 ## Duration:  150
**** Call ## 64 ## Duration:  255
**** Call ## 65 ## Duration:  139
**** Call ## 66 ## Duration:  497
      ✓ should get feed (1148ms)
**** Call ## 67 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  118
      ✓ should get tags (119ms)

  Comment
**** Call ## 69 ## Duration:  124
**** Call ## 70 ## Duration:  110
**** Call ## 71 ## Duration:  77
    Create
**** Call ## 72 ## Duration:  153
**** Call ## 73 ## Duration:  94
**** Call ## 74 ## Duration:  114
**** Call ## 75 ## Duration:  109
**** Call ## 76 ## Duration:  105
**** Call ## 77 ## Duration:  105
**** Call ## 78 ## Duration:  126
**** Call ## 79 ## Duration:  88
**** Call ## 80 ## Duration:  81
**** Call ## 81 ## Duration:  157
      ✓ should create comment (1133ms)
**** Call ## 82 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  71 (ERR)
      ✓ should enforce comment body (72ms)
**** Call ## 84 ## Duration:  65 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  210
      ✓ should get all comments for article (210ms)
    Delete
**** Call ## 86 ## Duration:  127
      ✓ should delete comment (127ms)
**** Call ## 87 ## Duration:  105 (ERR)
      ✓ only comment author should be able to delete comment (107ms)
**** Call ## 88 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  191 (ERR)
      ✓ should disallow deleting unknown comment (191ms)

  User
    Create
**** Call ## 90 ## Duration:  124
      ✓ should create user (125ms)
**** Call ## 91 ## Duration:  31 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  71 (ERR)
      ✓ should disallow same email (71ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  29 (ERR)
      ✓ should enforce required fields (101ms)
    Login
**** Call ## 97 ## Duration:  76
      ✓ should login (76ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  53 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  38 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  26 (ERR)
      ✓ should enforce required fields (88ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (50ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  21 (ERR)
      ✓ should disallow bad tokens (91ms)
    Profile
**** Call ## 108 ## Duration:  78
      ✓ should get profile (79ms)
**** Call ## 109 ## Duration:  46 (ERR)
      ✓ should disallow unknown username (46ms)
**** Call ## 110 ## Duration:  113
**** Call ## 111 ## Duration:  153
**** Call ## 112 ## Duration:  125
**** Call ## 113 ## Duration:  99
**** Call ## 114 ## Duration:  69
**** Call ## 115 ## Duration:  149
**** Call ## 116 ## Duration:  136
**** Call ## 117 ## Duration:  164
**** Call ## 118 ## Duration:  136
**** Call ## 119 ## Duration:  117
      ✓ should follow/unfollow user (1261ms)
**** Call ## 120 ## Duration:  24 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  107
**** Call ## 122 ## Duration:  70
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  68
      ✓ should update user (315ms)
**** Call ## 125 ## Duration:  19 (ERR)
**** Call ## 126 ## Duration:  57 (ERR)
      ✓ should disallow missing token/email in update (78ms)
**** Call ## 127 ## Duration:  127
**** Call ## 128 ## Duration:  65 (ERR)
      ✓ should disallow reusing email (193ms)

  Util
    Ping
**** Call ## 129 ## Duration:  28
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  146
**** Call ## 1 ## Duration:  114
**** Call ## 2 ## Duration:  98
    Create
**** Call ## 3 ## Duration:  109
      ✓ should create article (112ms)
**** Call ## 4 ## Duration:  210
      ✓ should create article with tags (213ms)
**** Call ## 5 ## Duration:  30 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  63 (ERR)
**** Call ## 7 ## Duration:  63 (ERR)
**** Call ## 8 ## Duration:  56 (ERR)
**** Call ## 9 ## Duration:  63 (ERR)
      ✓ should enforce required fields (249ms)
    Get
**** Call ## 10 ## Duration:  103
      ✓ should get article by slug (104ms)
**** Call ## 11 ## Duration:  96
      ✓ should get article with tags by slug (96ms)
**** Call ## 12 ## Duration:  48 (ERR)
      ✓ should disallow unknown slug (48ms)
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  173
**** Call ## 15 ## Duration:  156
      ✓ should update article (488ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  32 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  36 (ERR)
      ✓ should disallow unauthenticated update (38ms)
**** Call ## 19 ## Duration:  88 (ERR)
      ✓ should disallow updating non-existent article (89ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  134
**** Call ## 22 ## Duration:  115
      ✓ should favorite article (249ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  139
      ✓ should unfavorite article (140ms)
    Delete
**** Call ## 26 ## Duration:  121
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (164ms)
**** Call ## 28 ## Duration:  28 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  72 (ERR)
      ✓ should disallow deleting article by non-author (73ms)
    List
**** Call ## 31 ## Duration:  84
**** Call ## 32 ## Duration:  81
**** Call ## 33 ## Duration:  100
**** Call ## 34 ## Duration:  81
**** Call ## 35 ## Duration:  80
**** Call ## 36 ## Duration:  85
**** Call ## 37 ## Duration:  84
**** Call ## 38 ## Duration:  94
**** Call ## 39 ## Duration:  88
**** Call ## 40 ## Duration:  78
**** Call ## 41 ## Duration:  87
**** Call ## 42 ## Duration:  131
**** Call ## 43 ## Duration:  79
**** Call ## 44 ## Duration:  102
**** Call ## 45 ## Duration:  64
**** Call ## 46 ## Duration:  78
**** Call ## 47 ## Duration:  87
**** Call ## 48 ## Duration:  65
**** Call ## 49 ## Duration:  89
**** Call ## 50 ## Duration:  65
**** Call ## 51 ## Duration:  410
      ✓ should list articles (410ms)
**** Call ## 52 ## Duration:  361
**** Call ## 53 ## Duration:  362
      ✓ should list articles with tag (724ms)
**** Call ## 54 ## Duration:  228
      ✓ should list articles by author (228ms)
**** Call ## 55 ## Duration:  92
      ✓ should list articles favorited by user (92ms)
**** Call ## 56 ## Duration:  88
**** Call ## 57 ## Duration:  97
      ✓ should list articles by limit/offset (186ms)
**** Call ## 58 ## Duration:  481
      ✓ should list articles when authenticated (482ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  26 (ERR)
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 61 ## Duration:  29 (ERR)
**** Call ## 62 ## Duration:  100
**** Call ## 63 ## Duration:  164
**** Call ## 64 ## Duration:  269
**** Call ## 65 ## Duration:  141
**** Call ## 66 ## Duration:  289
      ✓ should get feed (966ms)
**** Call ## 67 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  119
      ✓ should get tags (119ms)

  Comment
**** Call ## 69 ## Duration:  133
**** Call ## 70 ## Duration:  129
**** Call ## 71 ## Duration:  77
    Create
**** Call ## 72 ## Duration:  120
**** Call ## 73 ## Duration:  112
**** Call ## 74 ## Duration:  128
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  109
**** Call ## 77 ## Duration:  103
**** Call ## 78 ## Duration:  112
**** Call ## 79 ## Duration:  95
**** Call ## 80 ## Duration:  123
**** Call ## 81 ## Duration:  82
      ✓ should create comment (1090ms)
**** Call ## 82 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (64ms)
    Get
**** Call ## 85 ## Duration:  235
      ✓ should get all comments for article (235ms)
    Delete
**** Call ## 86 ## Duration:  110
      ✓ should delete comment (110ms)
**** Call ## 87 ## Duration:  53 (ERR)
      ✓ only comment author should be able to delete comment (55ms)
**** Call ## 88 ## Duration:  30 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  85 (ERR)
      ✓ should disallow deleting unknown comment (85ms)

  User
    Create
**** Call ## 90 ## Duration:  93
      ✓ should create user (94ms)
**** Call ## 91 ## Duration:  47 (ERR)
      ✓ should disallow same username (47ms)
**** Call ## 92 ## Duration:  70 (ERR)
      ✓ should disallow same email (70ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  22 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (95ms)
    Login
**** Call ## 97 ## Duration:  69
      ✓ should login (70ms)
**** Call ## 98 ## Duration:  56 (ERR)
      ✓ should disallow unknown email (57ms)
**** Call ## 99 ## Duration:  48 (ERR)
      ✓ should disallow wrong password (48ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (68ms)
    Get
**** Call ## 103 ## Duration:  53
      ✓ should get current user (53ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  29 (ERR)
**** Call ## 106 ## Duration:  26 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (102ms)
    Profile
**** Call ## 108 ## Duration:  76
      ✓ should get profile (77ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (41ms)
**** Call ## 110 ## Duration:  105
**** Call ## 111 ## Duration:  124
**** Call ## 112 ## Duration:  143
**** Call ## 113 ## Duration:  92
**** Call ## 114 ## Duration:  64
**** Call ## 115 ## Duration:  101
**** Call ## 116 ## Duration:  114
**** Call ## 117 ## Duration:  115
**** Call ## 118 ## Duration:  122
**** Call ## 119 ## Duration:  137
      ✓ should follow/unfollow user (1119ms)
**** Call ## 120 ## Duration:  24 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  90
**** Call ## 122 ## Duration:  70
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  44
      ✓ should update user (271ms)
**** Call ## 125 ## Duration:  64 (ERR)
**** Call ## 126 ## Duration:  52 (ERR)
      ✓ should disallow missing token/email in update (117ms)
**** Call ## 127 ## Duration:  112
**** Call ## 128 ## Duration:  61 (ERR)
      ✓ should disallow reusing email (174ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  266
**** Call ## 1 ## Duration:  109
**** Call ## 2 ## Duration:  112
    Create
**** Call ## 3 ## Duration:  89
      ✓ should create article (91ms)
**** Call ## 4 ## Duration:  84
      ✓ should create article with tags (87ms)
**** Call ## 5 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  76 (ERR)
**** Call ## 7 ## Duration:  56 (ERR)
**** Call ## 8 ## Duration:  68 (ERR)
**** Call ## 9 ## Duration:  62 (ERR)
      ✓ should enforce required fields (262ms)
    Get
**** Call ## 10 ## Duration:  90
      ✓ should get article by slug (90ms)
**** Call ## 11 ## Duration:  91
      ✓ should get article with tags by slug (91ms)
**** Call ## 12 ## Duration:  75 (ERR)
      ✓ should disallow unknown slug (75ms)
    Update
**** Call ## 13 ## Duration:  151
**** Call ## 14 ## Duration:  133
**** Call ## 15 ## Duration:  222
      ✓ should update article (508ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  33 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  63 (ERR)
      ✓ should disallow updating non-existent article (63ms)
**** Call ## 20 ## Duration:  87 (ERR)
      ✓ should disallow non-author from updating (88ms)
    Favorite
**** Call ## 21 ## Duration:  120
**** Call ## 22 ## Duration:  174
      ✓ should favorite article (294ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  78 (ERR)
      ✓ should disallow favoriting unknown article (79ms)
**** Call ## 25 ## Duration:  134
      ✓ should unfavorite article (134ms)
    Delete
**** Call ## 26 ## Duration:  118
**** Call ## 27 ## Duration:  40 (ERR)
      ✓ should delete article (161ms)
**** Call ## 28 ## Duration:  25 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  91 (ERR)
      ✓ should disallow deleting unknown article (92ms)
**** Call ## 30 ## Duration:  51 (ERR)
      ✓ should disallow deleting article by non-author (51ms)
    List
**** Call ## 31 ## Duration:  83
**** Call ## 32 ## Duration:  90
**** Call ## 33 ## Duration:  89
**** Call ## 34 ## Duration:  73
**** Call ## 35 ## Duration:  78
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  86
**** Call ## 38 ## Duration:  77
**** Call ## 39 ## Duration:  78
**** Call ## 40 ## Duration:  65
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  85
**** Call ## 44 ## Duration:  99
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  79
**** Call ## 47 ## Duration:  72
**** Call ## 48 ## Duration:  98
**** Call ## 49 ## Duration:  79
**** Call ## 50 ## Duration:  75
**** Call ## 51 ## Duration:  433
      ✓ should list articles (435ms)
**** Call ## 52 ## Duration:  247
**** Call ## 53 ## Duration:  353
      ✓ should list articles with tag (600ms)
**** Call ## 54 ## Duration:  256
      ✓ should list articles by author (256ms)
**** Call ## 55 ## Duration:  81
      ✓ should list articles favorited by user (81ms)
**** Call ## 56 ## Duration:  136
**** Call ## 57 ## Duration:  92
      ✓ should list articles by limit/offset (229ms)
**** Call ## 58 ## Duration:  381
      ✓ should list articles when authenticated (381ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  31 (ERR)
**** Call ## 60 ## Duration:  32 (ERR)
**** Call ## 61 ## Duration:  45 (ERR)
**** Call ## 62 ## Duration:  83
**** Call ## 63 ## Duration:  127
**** Call ## 64 ## Duration:  287
**** Call ## 65 ## Duration:  194
**** Call ## 66 ## Duration:  395
      ✓ should get feed (1088ms)
**** Call ## 67 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  116
      ✓ should get tags (117ms)

  Comment
**** Call ## 69 ## Duration:  176
**** Call ## 70 ## Duration:  115
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  113
**** Call ## 73 ## Duration:  79
**** Call ## 74 ## Duration:  90
**** Call ## 75 ## Duration:  96
**** Call ## 76 ## Duration:  73
**** Call ## 77 ## Duration:  160
**** Call ## 78 ## Duration:  78
**** Call ## 79 ## Duration:  98
**** Call ## 80 ## Duration:  116
**** Call ## 81 ## Duration:  101
      ✓ should create comment (1005ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  212
      ✓ should get all comments for article (213ms)
    Delete
**** Call ## 86 ## Duration:  102
      ✓ should delete comment (103ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (54ms)
**** Call ## 88 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  127
      ✓ should create user (128ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (69ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  31 (ERR)
**** Call ## 95 ## Duration:  29 (ERR)
**** Call ## 96 ## Duration:  26 (ERR)
      ✓ should enforce required fields (108ms)
    Login
**** Call ## 97 ## Duration:  73
      ✓ should login (74ms)
**** Call ## 98 ## Duration:  50 (ERR)
      ✓ should disallow unknown email (50ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  158 (ERR)
**** Call ## 101 ## Duration:  34 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (214ms)
    Get
**** Call ## 103 ## Duration:  50
      ✓ should get current user (51ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  25 (ERR)
**** Call ## 106 ## Duration:  27 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (102ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  38 (ERR)
      ✓ should disallow unknown username (39ms)
**** Call ## 110 ## Duration:  128
**** Call ## 111 ## Duration:  152
**** Call ## 112 ## Duration:  112
**** Call ## 113 ## Duration:  91
**** Call ## 114 ## Duration:  85
**** Call ## 115 ## Duration:  132
**** Call ## 116 ## Duration:  90
**** Call ## 117 ## Duration:  128
**** Call ## 118 ## Duration:  143
**** Call ## 119 ## Duration:  104
      ✓ should follow/unfollow user (1169ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  88
**** Call ## 122 ## Duration:  56
**** Call ## 123 ## Duration:  61
**** Call ## 124 ## Duration:  68
      ✓ should update user (274ms)
**** Call ## 125 ## Duration:  21 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (69ms)
**** Call ## 127 ## Duration:  317
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (381ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  152
**** Call ## 1 ## Duration:  131
**** Call ## 2 ## Duration:  118
    Create
**** Call ## 3 ## Duration:  104
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  100
      ✓ should create article with tags (103ms)
**** Call ## 5 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  65 (ERR)
**** Call ## 7 ## Duration:  61 (ERR)
**** Call ## 8 ## Duration:  48 (ERR)
**** Call ## 9 ## Duration:  75 (ERR)
      ✓ should enforce required fields (252ms)
    Get
**** Call ## 10 ## Duration:  96
      ✓ should get article by slug (96ms)
**** Call ## 11 ## Duration:  121
      ✓ should get article with tags by slug (123ms)
**** Call ## 12 ## Duration:  47 (ERR)
      ✓ should disallow unknown slug (47ms)
    Update
**** Call ## 13 ## Duration:  245
**** Call ## 14 ## Duration:  177
**** Call ## 15 ## Duration:  129
      ✓ should update article (553ms)
**** Call ## 16 ## Duration:  22 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  122 (ERR)
      ✓ should disallow updating non-existent article (124ms)
**** Call ## 20 ## Duration:  72 (ERR)
      ✓ should disallow non-author from updating (72ms)
    Favorite
**** Call ## 21 ## Duration:  149
**** Call ## 22 ## Duration:  123
      ✓ should favorite article (273ms)
**** Call ## 23 ## Duration:  26 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  57 (ERR)
      ✓ should disallow favoriting unknown article (57ms)
**** Call ## 25 ## Duration:  134
      ✓ should unfavorite article (135ms)
    Delete
**** Call ## 26 ## Duration:  109
**** Call ## 27 ## Duration:  37 (ERR)
      ✓ should delete article (147ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  71 (ERR)
      ✓ should disallow deleting article by non-author (71ms)
    List
**** Call ## 31 ## Duration:  140
**** Call ## 32 ## Duration:  83
**** Call ## 33 ## Duration:  93
**** Call ## 34 ## Duration:  103
**** Call ## 35 ## Duration:  86
**** Call ## 36 ## Duration:  91
**** Call ## 37 ## Duration:  69
**** Call ## 38 ## Duration:  85
**** Call ## 39 ## Duration:  70
**** Call ## 40 ## Duration:  103
**** Call ## 41 ## Duration:  115
**** Call ## 42 ## Duration:  83
**** Call ## 43 ## Duration:  80
**** Call ## 44 ## Duration:  86
**** Call ## 45 ## Duration:  78
**** Call ## 46 ## Duration:  117
**** Call ## 47 ## Duration:  91
**** Call ## 48 ## Duration:  78
**** Call ## 49 ## Duration:  68
**** Call ## 50 ## Duration:  77
**** Call ## 51 ## Duration:  516
      ✓ should list articles (517ms)
**** Call ## 52 ## Duration:  240
**** Call ## 53 ## Duration:  310
      ✓ should list articles with tag (550ms)
**** Call ## 54 ## Duration:  230
      ✓ should list articles by author (230ms)
**** Call ## 55 ## Duration:  73
      ✓ should list articles favorited by user (73ms)
**** Call ## 56 ## Duration:  97
**** Call ## 57 ## Duration:  91
      ✓ should list articles by limit/offset (189ms)
**** Call ## 58 ## Duration:  382
      ✓ should list articles when authenticated (382ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  28 (ERR)
**** Call ## 60 ## Duration:  29 (ERR)
**** Call ## 59 ## Duration:  32 (ERR)
**** Call ## 62 ## Duration:  84
**** Call ## 63 ## Duration:  128
**** Call ## 64 ## Duration:  282
**** Call ## 65 ## Duration:  115
**** Call ## 66 ## Duration:  289
      ✓ should get feed (899ms)
**** Call ## 67 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  115
      ✓ should get tags (116ms)

  Comment
**** Call ## 69 ## Duration:  122
**** Call ## 70 ## Duration:  117
**** Call ## 71 ## Duration:  70
    Create
**** Call ## 72 ## Duration:  102
**** Call ## 73 ## Duration:  124
**** Call ## 74 ## Duration:  89
**** Call ## 75 ## Duration:  100
**** Call ## 76 ## Duration:  107
**** Call ## 77 ## Duration:  112
**** Call ## 78 ## Duration:  98
**** Call ## 79 ## Duration:  91
**** Call ## 80 ## Duration:  108
**** Call ## 81 ## Duration:  82
      ✓ should create comment (1016ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  84 (ERR)
      ✓ should enforce comment body (84ms)
**** Call ## 84 ## Duration:  59 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  264
      ✓ should get all comments for article (264ms)
    Delete
**** Call ## 86 ## Duration:  114
      ✓ should delete comment (115ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (55ms)
**** Call ## 88 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  106 (ERR)
      ✓ should disallow deleting unknown comment (106ms)

  User
    Create
**** Call ## 90 ## Duration:  133
      ✓ should create user (133ms)
**** Call ## 91 ## Duration:  46 (ERR)
      ✓ should disallow same username (46ms)
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  35 (ERR)
**** Call ## 95 ## Duration:  34 (ERR)
**** Call ## 96 ## Duration:  27 (ERR)
      ✓ should enforce required fields (121ms)
    Login
**** Call ## 97 ## Duration:  70
      ✓ should login (70ms)
**** Call ## 98 ## Duration:  43 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  54 (ERR)
      ✓ should disallow wrong password (55ms)
**** Call ## 100 ## Duration:  26 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  24 (ERR)
      ✓ should enforce required fields (75ms)
    Get
**** Call ## 103 ## Duration:  48
      ✓ should get current user (48ms)
**** Call ## 104 ## Duration:  20 (ERR)
**** Call ## 105 ## Duration:  24 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (91ms)
    Profile
**** Call ## 108 ## Duration:  68
      ✓ should get profile (68ms)
**** Call ## 109 ## Duration:  47 (ERR)
      ✓ should disallow unknown username (47ms)
**** Call ## 110 ## Duration:  107
**** Call ## 111 ## Duration:  110
**** Call ## 112 ## Duration:  113
**** Call ## 113 ## Duration:  91
**** Call ## 114 ## Duration:  71
**** Call ## 115 ## Duration:  141
**** Call ## 116 ## Duration:  113
**** Call ## 117 ## Duration:  116
**** Call ## 118 ## Duration:  89
**** Call ## 119 ## Duration:  103
      ✓ should follow/unfollow user (1058ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  112
**** Call ## 122 ## Duration:  55
**** Call ## 123 ## Duration:  43
**** Call ## 124 ## Duration:  50
      ✓ should update user (263ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  47 (ERR)
      ✓ should disallow missing token/email in update (72ms)
**** Call ## 127 ## Duration:  138
**** Call ## 128 ## Duration:  69 (ERR)
      ✓ should disallow reusing email (207ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  141
**** Call ## 1 ## Duration:  101
**** Call ## 2 ## Duration:  96
    Create
**** Call ## 3 ## Duration:  100
      ✓ should create article (103ms)
**** Call ## 4 ## Duration:  99
      ✓ should create article with tags (100ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  75 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  67 (ERR)
**** Call ## 9 ## Duration:  75 (ERR)
      ✓ should enforce required fields (286ms)
    Get
**** Call ## 10 ## Duration:  87
      ✓ should get article by slug (88ms)
**** Call ## 11 ## Duration:  82
      ✓ should get article with tags by slug (82ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  134
**** Call ## 14 ## Duration:  170
**** Call ## 15 ## Duration:  155
      ✓ should update article (462ms)
**** Call ## 16 ## Duration:  29 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  23 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  82 (ERR)
      ✓ should disallow updating non-existent article (82ms)
**** Call ## 20 ## Duration:  81 (ERR)
      ✓ should disallow non-author from updating (82ms)
    Favorite
**** Call ## 21 ## Duration:  119
**** Call ## 22 ## Duration:  118
      ✓ should favorite article (238ms)
**** Call ## 23 ## Duration:  30 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  75 (ERR)
      ✓ should disallow favoriting unknown article (75ms)
**** Call ## 25 ## Duration:  151
      ✓ should unfavorite article (151ms)
    Delete
**** Call ## 26 ## Duration:  109
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  89 (ERR)
      ✓ should disallow deleting article by non-author (90ms)
    List
**** Call ## 31 ## Duration:  95
**** Call ## 32 ## Duration:  85
**** Call ## 33 ## Duration:  69
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  74
**** Call ## 36 ## Duration:  91
**** Call ## 37 ## Duration:  64
**** Call ## 38 ## Duration:  92
**** Call ## 39 ## Duration:  85
**** Call ## 40 ## Duration:  53
**** Call ## 41 ## Duration:  70
**** Call ## 42 ## Duration:  66
**** Call ## 43 ## Duration:  119
**** Call ## 44 ## Duration:  73
**** Call ## 45 ## Duration:  76
**** Call ## 46 ## Duration:  96
**** Call ## 47 ## Duration:  73
**** Call ## 48 ## Duration:  105
**** Call ## 49 ## Duration:  78
**** Call ## 50 ## Duration:  84
**** Call ## 51 ## Duration:  370
      ✓ should list articles (370ms)
**** Call ## 52 ## Duration:  273
**** Call ## 53 ## Duration:  374
      ✓ should list articles with tag (647ms)
**** Call ## 54 ## Duration:  188
      ✓ should list articles by author (188ms)
**** Call ## 55 ## Duration:  78
      ✓ should list articles favorited by user (79ms)
**** Call ## 56 ## Duration:  77
**** Call ## 57 ## Duration:  92
      ✓ should list articles by limit/offset (171ms)
**** Call ## 58 ## Duration:  375
      ✓ should list articles when authenticated (375ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  29 (ERR)
**** Call ## 60 ## Duration:  55 (ERR)
**** Call ## 62 ## Duration:  93
**** Call ## 63 ## Duration:  141
**** Call ## 64 ## Duration:  290
**** Call ## 65 ## Duration:  131
**** Call ## 66 ## Duration:  319
      ✓ should get feed (975ms)
**** Call ## 67 ## Duration:  32 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  121
      ✓ should get tags (121ms)

  Comment
**** Call ## 69 ## Duration:  115
**** Call ## 70 ## Duration:  111
**** Call ## 71 ## Duration:  93
    Create
**** Call ## 72 ## Duration:  135
**** Call ## 73 ## Duration:  103
**** Call ## 74 ## Duration:  108
**** Call ## 75 ## Duration:  101
**** Call ## 76 ## Duration:  100
**** Call ## 77 ## Duration:  93
**** Call ## 78 ## Duration:  80
**** Call ## 79 ## Duration:  126
**** Call ## 80 ## Duration:  78
**** Call ## 81 ## Duration:  92
      ✓ should create comment (1018ms)
**** Call ## 82 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  57 (ERR)
      ✓ should enforce comment body (57ms)
**** Call ## 84 ## Duration:  72 (ERR)
      ✓ should disallow non-existent article (74ms)
    Get
**** Call ## 85 ## Duration:  261
      ✓ should get all comments for article (261ms)
    Delete
**** Call ## 86 ## Duration:  173
      ✓ should delete comment (173ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (66ms)
**** Call ## 88 ## Duration:  30 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown comment (62ms)

  User
    Create
**** Call ## 90 ## Duration:  99
      ✓ should create user (100ms)
**** Call ## 91 ## Duration:  52 (ERR)
      ✓ should disallow same username (52ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (69ms)
**** Call ## 93 ## Duration:  24 (ERR)
**** Call ## 94 ## Duration:  29 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  32 (ERR)
      ✓ should enforce required fields (109ms)
    Login
**** Call ## 97 ## Duration:  69
      ✓ should login (69ms)
**** Call ## 98 ## Duration:  47 (ERR)
      ✓ should disallow unknown email (47ms)
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  26 (ERR)
      ✓ should enforce required fields (76ms)
    Get
**** Call ## 103 ## Duration:  57
      ✓ should get current user (57ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  27 (ERR)
**** Call ## 106 ## Duration:  30 (ERR)
**** Call ## 107 ## Duration:  34 (ERR)
      ✓ should disallow bad tokens (118ms)
    Profile
**** Call ## 108 ## Duration:  75
      ✓ should get profile (76ms)
**** Call ## 109 ## Duration:  47 (ERR)
      ✓ should disallow unknown username (47ms)
**** Call ## 110 ## Duration:  105
**** Call ## 111 ## Duration:  123
**** Call ## 112 ## Duration:  127
**** Call ## 113 ## Duration:  106
**** Call ## 114 ## Duration:  60
**** Call ## 115 ## Duration:  133
**** Call ## 116 ## Duration:  116
**** Call ## 117 ## Duration:  114
**** Call ## 118 ## Duration:  105
**** Call ## 119 ## Duration:  116
      ✓ should follow/unfollow user (1106ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  88
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  59
**** Call ## 124 ## Duration:  61
      ✓ should update user (276ms)
**** Call ## 125 ## Duration:  29 (ERR)
**** Call ## 126 ## Duration:  48 (ERR)
      ✓ should disallow missing token/email in update (78ms)
**** Call ## 127 ## Duration:  127
**** Call ## 128 ## Duration:  71 (ERR)
      ✓ should disallow reusing email (199ms)

  Util
    Ping
**** Call ## 129 ## Duration:  28
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  146
**** Call ## 1 ## Duration:  104
**** Call ## 2 ## Duration:  111
    Create
**** Call ## 3 ## Duration:  92
      ✓ should create article (94ms)
**** Call ## 4 ## Duration:  121
      ✓ should create article with tags (123ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  71 (ERR)
**** Call ## 7 ## Duration:  68 (ERR)
**** Call ## 8 ## Duration:  60 (ERR)
**** Call ## 9 ## Duration:  74 (ERR)
      ✓ should enforce required fields (275ms)
    Get
**** Call ## 10 ## Duration:  84
      ✓ should get article by slug (85ms)
**** Call ## 11 ## Duration:  161
      ✓ should get article with tags by slug (161ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  186
**** Call ## 14 ## Duration:  150
**** Call ## 15 ## Duration:  129
      ✓ should update article (468ms)
**** Call ## 16 ## Duration:  25 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  28 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  70 (ERR)
      ✓ should disallow updating non-existent article (70ms)
**** Call ## 20 ## Duration:  68 (ERR)
      ✓ should disallow non-author from updating (68ms)
    Favorite
**** Call ## 21 ## Duration:  120
**** Call ## 22 ## Duration:  95
      ✓ should favorite article (215ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  60 (ERR)
      ✓ should disallow favoriting unknown article (60ms)
**** Call ## 25 ## Duration:  136
      ✓ should unfavorite article (136ms)
    Delete
**** Call ## 26 ## Duration:  107
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (146ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  76 (ERR)
      ✓ should disallow deleting article by non-author (76ms)
    List
**** Call ## 31 ## Duration:  99
**** Call ## 32 ## Duration:  95
**** Call ## 33 ## Duration:  97
**** Call ## 34 ## Duration:  87
**** Call ## 35 ## Duration:  139
**** Call ## 36 ## Duration:  86
**** Call ## 37 ## Duration:  87
**** Call ## 38 ## Duration:  89
**** Call ## 39 ## Duration:  91
**** Call ## 40 ## Duration:  83
**** Call ## 41 ## Duration:  70
**** Call ## 42 ## Duration:  67
**** Call ## 43 ## Duration:  81
**** Call ## 44 ## Duration:  96
**** Call ## 45 ## Duration:  66
**** Call ## 46 ## Duration:  67
**** Call ## 47 ## Duration:  61
**** Call ## 48 ## Duration:  64
**** Call ## 49 ## Duration:  125
**** Call ## 50 ## Duration:  55
**** Call ## 51 ## Duration:  378
      ✓ should list articles (379ms)
**** Call ## 52 ## Duration:  275
**** Call ## 53 ## Duration:  388
      ✓ should list articles with tag (663ms)
**** Call ## 54 ## Duration:  185
      ✓ should list articles by author (186ms)
**** Call ## 55 ## Duration:  78
      ✓ should list articles favorited by user (78ms)
**** Call ## 56 ## Duration:  97
**** Call ## 57 ## Duration:  105
      ✓ should list articles by limit/offset (203ms)
**** Call ## 58 ## Duration:  510
      ✓ should list articles when authenticated (510ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 59 ## Duration:  35 (ERR)
**** Call ## 61 ## Duration:  41 (ERR)
**** Call ## 62 ## Duration:  113
**** Call ## 63 ## Duration:  114
**** Call ## 64 ## Duration:  268
**** Call ## 65 ## Duration:  108
**** Call ## 66 ## Duration:  362
      ✓ should get feed (968ms)
**** Call ## 67 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  207
      ✓ should get tags (207ms)

  Comment
**** Call ## 69 ## Duration:  113
**** Call ## 70 ## Duration:  118
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  90
**** Call ## 73 ## Duration:  103
**** Call ## 74 ## Duration:  101
**** Call ## 75 ## Duration:  242
**** Call ## 76 ## Duration:  74
**** Call ## 77 ## Duration:  103
**** Call ## 78 ## Duration:  87
**** Call ## 79 ## Duration:  92
**** Call ## 80 ## Duration:  96
**** Call ## 81 ## Duration:  110
      ✓ should create comment (1101ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  61 (ERR)
      ✓ should enforce comment body (62ms)
**** Call ## 84 ## Duration:  65 (ERR)
      ✓ should disallow non-existent article (66ms)
    Get
**** Call ## 85 ## Duration:  185
      ✓ should get all comments for article (185ms)
    Delete
**** Call ## 86 ## Duration:  98
      ✓ should delete comment (99ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (61ms)
**** Call ## 88 ## Duration:  31 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  105 (ERR)
      ✓ should disallow deleting unknown comment (105ms)

  User
    Create
**** Call ## 90 ## Duration:  102
      ✓ should create user (104ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  67 (ERR)
      ✓ should disallow same email (67ms)
**** Call ## 93 ## Duration:  40 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  24 (ERR)
      ✓ should enforce required fields (115ms)
    Login
**** Call ## 97 ## Duration:  100
      ✓ should login (100ms)
**** Call ## 98 ## Duration:  47 (ERR)
      ✓ should disallow unknown email (48ms)
**** Call ## 99 ## Duration:  58 (ERR)
      ✓ should disallow wrong password (58ms)
**** Call ## 100 ## Duration:  33 (ERR)
**** Call ## 101 ## Duration:  34 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (92ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  27 (ERR)
**** Call ## 105 ## Duration:  28 (ERR)
**** Call ## 106 ## Duration:  24 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (104ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  48 (ERR)
      ✓ should disallow unknown username (48ms)
**** Call ## 110 ## Duration:  115
**** Call ## 111 ## Duration:  129
**** Call ## 112 ## Duration:  114
**** Call ## 113 ## Duration:  92
**** Call ## 114 ## Duration:  65
**** Call ## 115 ## Duration:  118
**** Call ## 116 ## Duration:  123
**** Call ## 117 ## Duration:  141
**** Call ## 118 ## Duration:  110
**** Call ## 119 ## Duration:  114
      ✓ should follow/unfollow user (1121ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  97
**** Call ## 122 ## Duration:  91
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  50
      ✓ should update user (292ms)
**** Call ## 125 ## Duration:  27 (ERR)
**** Call ## 126 ## Duration:  45 (ERR)
      ✓ should disallow missing token/email in update (72ms)
**** Call ## 127 ## Duration:  111
**** Call ## 128 ## Duration:  64 (ERR)
      ✓ should disallow reusing email (176ms)

  Util
    Ping
**** Call ## 129 ## Duration:  22
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  151
**** Call ## 1 ## Duration:  121
**** Call ## 2 ## Duration:  112
    Create
**** Call ## 3 ## Duration:  83
      ✓ should create article (85ms)
**** Call ## 4 ## Duration:  77
      ✓ should create article with tags (79ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  57 (ERR)
**** Call ## 7 ## Duration:  53 (ERR)
**** Call ## 8 ## Duration:  51 (ERR)
**** Call ## 9 ## Duration:  51 (ERR)
      ✓ should enforce required fields (215ms)
    Get
**** Call ## 10 ## Duration:  89
      ✓ should get article by slug (89ms)
**** Call ## 11 ## Duration:  78
      ✓ should get article with tags by slug (78ms)
**** Call ## 12 ## Duration:  39 (ERR)
      ✓ should disallow unknown slug (39ms)
    Update
**** Call ## 13 ## Duration:  142
**** Call ## 14 ## Duration:  164
**** Call ## 15 ## Duration:  152
      ✓ should update article (460ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  26 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  69 (ERR)
      ✓ should disallow non-author from updating (70ms)
    Favorite
**** Call ## 21 ## Duration:  159
**** Call ## 22 ## Duration:  172
      ✓ should favorite article (332ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  68 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  145
      ✓ should unfavorite article (146ms)
    Delete
**** Call ## 26 ## Duration:  123
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (165ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  58 (ERR)
      ✓ should disallow deleting article by non-author (59ms)
    List
**** Call ## 31 ## Duration:  94
**** Call ## 32 ## Duration:  67
**** Call ## 33 ## Duration:  76
**** Call ## 34 ## Duration:  104
**** Call ## 35 ## Duration:  63
**** Call ## 36 ## Duration:  82
**** Call ## 37 ## Duration:  63
**** Call ## 38 ## Duration:  75
**** Call ## 39 ## Duration:  103
**** Call ## 40 ## Duration:  71
**** Call ## 41 ## Duration:  66
**** Call ## 42 ## Duration:  55
**** Call ## 43 ## Duration:  67
**** Call ## 44 ## Duration:  59
**** Call ## 45 ## Duration:  74
**** Call ## 46 ## Duration:  112
**** Call ## 47 ## Duration:  100
**** Call ## 48 ## Duration:  63
**** Call ## 49 ## Duration:  54
**** Call ## 50 ## Duration:  68
**** Call ## 51 ## Duration:  478
      ✓ should list articles (478ms)
**** Call ## 52 ## Duration:  301
**** Call ## 53 ## Duration:  353
      ✓ should list articles with tag (654ms)
**** Call ## 54 ## Duration:  227
      ✓ should list articles by author (227ms)
**** Call ## 55 ## Duration:  78
      ✓ should list articles favorited by user (78ms)
**** Call ## 56 ## Duration:  86
**** Call ## 57 ## Duration:  105
      ✓ should list articles by limit/offset (192ms)
**** Call ## 58 ## Duration:  338
      ✓ should list articles when authenticated (338ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  24 (ERR)
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 59 ## Duration:  29 (ERR)
**** Call ## 62 ## Duration:  134
**** Call ## 63 ## Duration:  141
**** Call ## 64 ## Duration:  282
**** Call ## 65 ## Duration:  125
**** Call ## 66 ## Duration:  392
      ✓ should get feed (1079ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  168
      ✓ should get tags (168ms)

  Comment
**** Call ## 69 ## Duration:  136
**** Call ## 70 ## Duration:  131
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  107
**** Call ## 73 ## Duration:  95
**** Call ## 74 ## Duration:  102
**** Call ## 75 ## Duration:  83
**** Call ## 76 ## Duration:  90
**** Call ## 77 ## Duration:  93
**** Call ## 78 ## Duration:  117
**** Call ## 79 ## Duration:  216
**** Call ## 80 ## Duration:  107
**** Call ## 81 ## Duration:  95
      ✓ should create comment (1107ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  59 (ERR)
      ✓ should enforce comment body (59ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  260
      ✓ should get all comments for article (261ms)
    Delete
**** Call ## 86 ## Duration:  104
      ✓ should delete comment (105ms)
**** Call ## 87 ## Duration:  56 (ERR)
      ✓ only comment author should be able to delete comment (56ms)
**** Call ## 88 ## Duration:  44 (ERR)
      ✓ should disallow unauthenticated user (45ms)
**** Call ## 89 ## Duration:  60 (ERR)
      ✓ should disallow deleting unknown comment (60ms)

  User
    Create
**** Call ## 90 ## Duration:  116
      ✓ should create user (117ms)
**** Call ## 91 ## Duration:  112 (ERR)
      ✓ should disallow same username (112ms)
**** Call ## 92 ## Duration:  102 (ERR)
      ✓ should disallow same email (102ms)
**** Call ## 93 ## Duration:  78 (ERR)
**** Call ## 94 ## Duration:  81 (ERR)
**** Call ## 95 ## Duration:  85 (ERR)
**** Call ## 96 ## Duration:  80 (ERR)
      ✓ should enforce required fields (326ms)
    Login
**** Call ## 97 ## Duration:  131
      ✓ should login (132ms)
**** Call ## 98 ## Duration:  152 (ERR)
      ✓ should disallow unknown email (153ms)
**** Call ## 99 ## Duration:  104 (ERR)
      ✓ should disallow wrong password (105ms)
**** Call ## 100 ## Duration:  80 (ERR)
**** Call ## 101 ## Duration:  83 (ERR)
**** Call ## 102 ## Duration:  79 (ERR)
      ✓ should enforce required fields (244ms)
    Get
**** Call ## 103 ## Duration:  113
      ✓ should get current user (113ms)
**** Call ## 104 ## Duration:  81 (ERR)
**** Call ## 105 ## Duration:  79 (ERR)
**** Call ## 106 ## Duration:  111 (ERR)
**** Call ## 107 ## Duration:  83 (ERR)
      ✓ should disallow bad tokens (355ms)
    Profile
**** Call ## 108 ## Duration:  124
      ✓ should get profile (124ms)
**** Call ## 109 ## Duration:  119 (ERR)
      ✓ should disallow unknown username (120ms)
**** Call ## 110 ## Duration:  158
**** Call ## 111 ## Duration:  163
**** Call ## 112 ## Duration:  157
**** Call ## 113 ## Duration:  138
**** Call ## 114 ## Duration:  129
**** Call ## 115 ## Duration:  151
**** Call ## 116 ## Duration:  159
**** Call ## 117 ## Duration:  165
**** Call ## 118 ## Duration:  193
**** Call ## 119 ## Duration:  131
      ✓ should follow/unfollow user (1547ms)
**** Call ## 120 ## Duration:  80 (ERR)
      ✓ should disallow following with bad token (80ms)
    Update
**** Call ## 121 ## Duration:  144
**** Call ## 122 ## Duration:  132
**** Call ## 123 ## Duration:  123
**** Call ## 124 ## Duration:  121
      ✓ should update user (521ms)
**** Call ## 125 ## Duration:  80 (ERR)
**** Call ## 126 ## Duration:  133 (ERR)
      ✓ should disallow missing token/email in update (214ms)
**** Call ## 127 ## Duration:  162
**** Call ## 128 ## Duration:  116 (ERR)
      ✓ should disallow reusing email (278ms)

  Util
    Ping
**** Call ## 129 ## Duration:  81
      ✓ should ping (81ms)


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  208
**** Call ## 1 ## Duration:  175
**** Call ## 2 ## Duration:  160
    Create
**** Call ## 3 ## Duration:  135
      ✓ should create article (137ms)
**** Call ## 4 ## Duration:  137
      ✓ should create article with tags (139ms)
**** Call ## 5 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 6 ## Duration:  121 (ERR)
**** Call ## 7 ## Duration:  131 (ERR)
**** Call ## 8 ## Duration:  147 (ERR)
**** Call ## 9 ## Duration:  136 (ERR)
      ✓ should enforce required fields (536ms)
    Get
**** Call ## 10 ## Duration:  150
      ✓ should get article by slug (150ms)
**** Call ## 11 ## Duration:  168
      ✓ should get article with tags by slug (168ms)
**** Call ## 12 ## Duration:  127 (ERR)
      ✓ should disallow unknown slug (128ms)
    Update
**** Call ## 13 ## Duration:  210
**** Call ## 14 ## Duration:  193
**** Call ## 15 ## Duration:  222
      ✓ should update article (627ms)
**** Call ## 16 ## Duration:  81 (ERR)
      ✓ should disallow missing mutation (81ms)
**** Call ## 17 ## Duration:  115 (ERR)
      ✓ should disallow empty mutation (115ms)
**** Call ## 18 ## Duration:  117 (ERR)
      ✓ should disallow unauthenticated update (118ms)
**** Call ## 19 ## Duration:  130 (ERR)
      ✓ should disallow updating non-existent article (130ms)
**** Call ## 20 ## Duration:  125 (ERR)
      ✓ should disallow non-author from updating (125ms)
    Favorite
**** Call ## 21 ## Duration:  189
**** Call ## 22 ## Duration:  183
      ✓ should favorite article (372ms)
**** Call ## 23 ## Duration:  82 (ERR)
      ✓ should disallow favoriting by unauthenticated user (83ms)
**** Call ## 24 ## Duration:  122 (ERR)
      ✓ should disallow favoriting unknown article (123ms)
**** Call ## 25 ## Duration:  210
      ✓ should unfavorite article (210ms)
    Delete
**** Call ## 26 ## Duration:  188
**** Call ## 27 ## Duration:  129 (ERR)
      ✓ should delete article (317ms)
**** Call ## 28 ## Duration:  79 (ERR)
      ✓ should disallow deleting by unauthenticated user (80ms)
**** Call ## 29 ## Duration:  172 (ERR)
      ✓ should disallow deleting unknown article (173ms)
**** Call ## 30 ## Duration:  168 (ERR)
      ✓ should disallow deleting article by non-author (168ms)
    List
**** Call ## 31 ## Duration:  133
**** Call ## 32 ## Duration:  146
**** Call ## 33 ## Duration:  134
**** Call ## 34 ## Duration:  130
**** Call ## 35 ## Duration:  140
**** Call ## 36 ## Duration:  133
**** Call ## 37 ## Duration:  138
**** Call ## 38 ## Duration:  138
**** Call ## 39 ## Duration:  135
**** Call ## 40 ## Duration:  179
**** Call ## 41 ## Duration:  135
**** Call ## 42 ## Duration:  151
**** Call ## 43 ## Duration:  131
**** Call ## 44 ## Duration:  169
**** Call ## 45 ## Duration:  124
**** Call ## 46 ## Duration:  140
**** Call ## 47 ## Duration:  119
**** Call ## 48 ## Duration:  153
**** Call ## 49 ## Duration:  132
**** Call ## 50 ## Duration:  150
**** Call ## 51 ## Duration:  493
      ✓ should list articles (493ms)
**** Call ## 52 ## Duration:  402
**** Call ## 53 ## Duration:  479
      ✓ should list articles with tag (882ms)
**** Call ## 54 ## Duration:  297
      ✓ should list articles by author (297ms)
**** Call ## 55 ## Duration:  157
      ✓ should list articles favorited by user (157ms)
**** Call ## 56 ## Duration:  163
**** Call ## 57 ## Duration:  167
      ✓ should list articles by limit/offset (330ms)
**** Call ## 58 ## Duration:  540
      ✓ should list articles when authenticated (540ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  82 (ERR)
**** Call ## 61 ## Duration:  85 (ERR)
**** Call ## 60 ## Duration:  132 (ERR)
**** Call ## 62 ## Duration:  172
**** Call ## 63 ## Duration:  181
**** Call ## 64 ## Duration:  374
**** Call ## 65 ## Duration:  210
**** Call ## 66 ## Duration:  513
      ✓ should get feed (1452ms)
**** Call ## 67 ## Duration:  110 (ERR)
      ✓ should disallow unauthenticated feed (110ms)
    Tags
**** Call ## 68 ## Duration:  299
      ✓ should get tags (299ms)

  Comment
**** Call ## 69 ## Duration:  167
**** Call ## 70 ## Duration:  156
**** Call ## 71 ## Duration:  138
    Create
**** Call ## 72 ## Duration:  206
**** Call ## 73 ## Duration:  169
**** Call ## 74 ## Duration:  151
**** Call ## 75 ## Duration:  161
**** Call ## 76 ## Duration:  198
**** Call ## 77 ## Duration:  143
**** Call ## 78 ## Duration:  163
**** Call ## 79 ## Duration:  190
**** Call ## 80 ## Duration:  156
**** Call ## 81 ## Duration:  178
      ✓ should create comment (1718ms)
**** Call ## 82 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (79ms)
**** Call ## 83 ## Duration:  127 (ERR)
      ✓ should enforce comment body (128ms)
**** Call ## 84 ## Duration:  119 (ERR)
      ✓ should disallow non-existent article (120ms)
    Get
**** Call ## 85 ## Duration:  316
      ✓ should get all comments for article (317ms)
    Delete
**** Call ## 86 ## Duration:  188
      ✓ should delete comment (188ms)
**** Call ## 87 ## Duration:  113 (ERR)
      ✓ only comment author should be able to delete comment (113ms)
**** Call ## 88 ## Duration:  78 (ERR)
      ✓ should disallow unauthenticated user (79ms)
**** Call ## 89 ## Duration:  144 (ERR)
      ✓ should disallow deleting unknown comment (144ms)

  User
    Create
**** Call ## 90 ## Duration:  141
      ✓ should create user (142ms)
**** Call ## 91 ## Duration:  98 (ERR)
      ✓ should disallow same username (98ms)
**** Call ## 92 ## Duration:  144 (ERR)
      ✓ should disallow same email (144ms)
**** Call ## 93 ## Duration:  80 (ERR)
**** Call ## 94 ## Duration:  82 (ERR)
**** Call ## 95 ## Duration:  81 (ERR)
**** Call ## 96 ## Duration:  228 (ERR)
      ✓ should enforce required fields (473ms)
    Login
**** Call ## 97 ## Duration:  158
      ✓ should login (158ms)
**** Call ## 98 ## Duration:  125 (ERR)
      ✓ should disallow unknown email (126ms)
**** Call ## 99 ## Duration:  135 (ERR)
      ✓ should disallow wrong password (135ms)
**** Call ## 100 ## Duration:  79 (ERR)
**** Call ## 101 ## Duration:  115 (ERR)
**** Call ## 102 ## Duration:  108 (ERR)
      ✓ should enforce required fields (303ms)
    Get
**** Call ## 103 ## Duration:  102
      ✓ should get current user (102ms)
**** Call ## 104 ## Duration:  115 (ERR)
**** Call ## 105 ## Duration:  110 (ERR)
**** Call ## 106 ## Duration:  112 (ERR)
**** Call ## 107 ## Duration:  80 (ERR)
      ✓ should disallow bad tokens (418ms)
    Profile
**** Call ## 108 ## Duration:  153
      ✓ should get profile (153ms)
**** Call ## 109 ## Duration:  102 (ERR)
      ✓ should disallow unknown username (102ms)
**** Call ## 110 ## Duration:  189
**** Call ## 111 ## Duration:  230
**** Call ## 112 ## Duration:  195
**** Call ## 113 ## Duration:  159
**** Call ## 114 ## Duration:  113
**** Call ## 115 ## Duration:  200
**** Call ## 116 ## Duration:  166
**** Call ## 117 ## Duration:  205
**** Call ## 118 ## Duration:  181
**** Call ## 119 ## Duration:  216
      ✓ should follow/unfollow user (1855ms)
**** Call ## 120 ## Duration:  84 (ERR)
      ✓ should disallow following with bad token (84ms)
    Update
**** Call ## 121 ## Duration:  181
**** Call ## 122 ## Duration:  167
**** Call ## 123 ## Duration:  146
**** Call ## 124 ## Duration:  184
      ✓ should update user (678ms)
**** Call ## 125 ## Duration:  78 (ERR)
**** Call ## 126 ## Duration:  97 (ERR)
      ✓ should disallow missing token/email in update (178ms)
**** Call ## 127 ## Duration:  147
**** Call ## 128 ## Duration:  145 (ERR)
      ✓ should disallow reusing email (292ms)

  Util
    Ping
**** Call ## 129 ## Duration:  87
      ✓ should ping (87ms)


  58 passing (21s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  226
**** Call ## 1 ## Duration:  183
**** Call ## 2 ## Duration:  167
    Create
**** Call ## 3 ## Duration:  147
      ✓ should create article (149ms)
**** Call ## 4 ## Duration:  148
      ✓ should create article with tags (150ms)
**** Call ## 5 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 6 ## Duration:  129 (ERR)
**** Call ## 7 ## Duration:  102 (ERR)
**** Call ## 8 ## Duration:  106 (ERR)
**** Call ## 9 ## Duration:  161 (ERR)
      ✓ should enforce required fields (498ms)
    Get
**** Call ## 10 ## Duration:  134
      ✓ should get article by slug (134ms)
**** Call ## 11 ## Duration:  139
      ✓ should get article with tags by slug (139ms)
**** Call ## 12 ## Duration:  87 (ERR)
      ✓ should disallow unknown slug (90ms)
    Update
**** Call ## 13 ## Duration:  211
**** Call ## 14 ## Duration:  204
**** Call ## 15 ## Duration:  244
      ✓ should update article (660ms)
**** Call ## 16 ## Duration:  82 (ERR)
      ✓ should disallow missing mutation (82ms)
**** Call ## 17 ## Duration:  81 (ERR)
      ✓ should disallow empty mutation (81ms)
**** Call ## 18 ## Duration:  77 (ERR)
      ✓ should disallow unauthenticated update (77ms)
**** Call ## 19 ## Duration:  146 (ERR)
      ✓ should disallow updating non-existent article (146ms)
**** Call ## 20 ## Duration:  165 (ERR)
      ✓ should disallow non-author from updating (166ms)
    Favorite
**** Call ## 21 ## Duration:  187
**** Call ## 22 ## Duration:  183
      ✓ should favorite article (371ms)
**** Call ## 23 ## Duration:  131 (ERR)
      ✓ should disallow favoriting by unauthenticated user (131ms)
**** Call ## 24 ## Duration:  154 (ERR)
      ✓ should disallow favoriting unknown article (155ms)
**** Call ## 25 ## Duration:  190
      ✓ should unfavorite article (190ms)
    Delete
**** Call ## 26 ## Duration:  149
**** Call ## 27 ## Duration:  94 (ERR)
      ✓ should delete article (244ms)
**** Call ## 28 ## Duration:  80 (ERR)
      ✓ should disallow deleting by unauthenticated user (80ms)
**** Call ## 29 ## Duration:  145 (ERR)
      ✓ should disallow deleting unknown article (145ms)
**** Call ## 30 ## Duration:  114 (ERR)
      ✓ should disallow deleting article by non-author (114ms)
    List
**** Call ## 31 ## Duration:  134
**** Call ## 32 ## Duration:  130
**** Call ## 33 ## Duration:  142
**** Call ## 34 ## Duration:  168
**** Call ## 35 ## Duration:  81
**** Call ## 36 ## Duration:  78
**** Call ## 37 ## Duration:  66
**** Call ## 38 ## Duration:  81
**** Call ## 39 ## Duration:  106
**** Call ## 40 ## Duration:  63
**** Call ## 41 ## Duration:  68
**** Call ## 42 ## Duration:  66
**** Call ## 43 ## Duration:  72
**** Call ## 44 ## Duration:  78
**** Call ## 45 ## Duration:  129
**** Call ## 46 ## Duration:  67
**** Call ## 47 ## Duration:  68
**** Call ## 48 ## Duration:  95
**** Call ## 49 ## Duration:  103
**** Call ## 50 ## Duration:  79
**** Call ## 51 ## Duration:  432
      ✓ should list articles (432ms)
**** Call ## 52 ## Duration:  445
**** Call ## 53 ## Duration:  332
      ✓ should list articles with tag (778ms)
**** Call ## 54 ## Duration:  244
      ✓ should list articles by author (244ms)
**** Call ## 55 ## Duration:  100
      ✓ should list articles favorited by user (100ms)
**** Call ## 56 ## Duration:  92
**** Call ## 57 ## Duration:  93
      ✓ should list articles by limit/offset (185ms)
**** Call ## 58 ## Duration:  481
      ✓ should list articles when authenticated (481ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  29 (ERR)
**** Call ## 59 ## Duration:  33 (ERR)
**** Call ## 62 ## Duration:  84
**** Call ## 63 ## Duration:  114
**** Call ## 64 ## Duration:  264
**** Call ## 65 ## Duration:  100
**** Call ## 66 ## Duration:  362
      ✓ should get feed (929ms)
**** Call ## 67 ## Duration:  36 (ERR)
      ✓ should disallow unauthenticated feed (38ms)
    Tags
**** Call ## 68 ## Duration:  167
      ✓ should get tags (167ms)

  Comment
**** Call ## 69 ## Duration:  127
**** Call ## 70 ## Duration:  103
**** Call ## 71 ## Duration:  92
    Create
**** Call ## 72 ## Duration:  112
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  110
**** Call ## 75 ## Duration:  103
**** Call ## 76 ## Duration:  90
**** Call ## 77 ## Duration:  100
**** Call ## 78 ## Duration:  88
**** Call ## 79 ## Duration:  100
**** Call ## 80 ## Duration:  76
**** Call ## 81 ## Duration:  201
      ✓ should create comment (1086ms)
**** Call ## 82 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  48 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  56 (ERR)
      ✓ should disallow non-existent article (56ms)
    Get
**** Call ## 85 ## Duration:  186
      ✓ should get all comments for article (186ms)
    Delete
**** Call ## 86 ## Duration:  94
      ✓ should delete comment (95ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (58ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  73 (ERR)
      ✓ should disallow deleting unknown comment (73ms)

  User
    Create
**** Call ## 90 ## Duration:  107
      ✓ should create user (108ms)
**** Call ## 91 ## Duration:  52 (ERR)
      ✓ should disallow same username (54ms)
**** Call ## 92 ## Duration:  46 (ERR)
      ✓ should disallow same email (48ms)
**** Call ## 93 ## Duration:  35 (ERR)
**** Call ## 94 ## Duration:  30 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  26 (ERR)
      ✓ should enforce required fields (115ms)
    Login
**** Call ## 97 ## Duration:  70
      ✓ should login (70ms)
**** Call ## 98 ## Duration:  95 (ERR)
      ✓ should disallow unknown email (96ms)
**** Call ## 99 ## Duration:  42 (ERR)
      ✓ should disallow wrong password (42ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  24 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (69ms)
    Get
**** Call ## 103 ## Duration:  55
      ✓ should get current user (55ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  21 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (92ms)
    Profile
**** Call ## 108 ## Duration:  70
      ✓ should get profile (70ms)
**** Call ## 109 ## Duration:  51 (ERR)
      ✓ should disallow unknown username (53ms)
**** Call ## 110 ## Duration:  104
**** Call ## 111 ## Duration:  133
**** Call ## 112 ## Duration:  104
**** Call ## 113 ## Duration:  78
**** Call ## 114 ## Duration:  83
**** Call ## 115 ## Duration:  96
**** Call ## 116 ## Duration:  119
**** Call ## 117 ## Duration:  100
**** Call ## 118 ## Duration:  96
**** Call ## 119 ## Duration:  98
      ✓ should follow/unfollow user (1013ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  83
**** Call ## 122 ## Duration:  81
**** Call ## 123 ## Duration:  56
**** Call ## 124 ## Duration:  63
      ✓ should update user (285ms)
**** Call ## 125 ## Duration:  44 (ERR)
**** Call ## 126 ## Duration:  37 (ERR)
      ✓ should disallow missing token/email in update (81ms)
**** Call ## 127 ## Duration:  109
**** Call ## 128 ## Duration:  47 (ERR)
      ✓ should disallow reusing email (156ms)

  Util
    Ping
**** Call ## 129 ## Duration:  27
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  148
**** Call ## 1 ## Duration:  89
**** Call ## 2 ## Duration:  122
    Create
**** Call ## 3 ## Duration:  97
      ✓ should create article (99ms)
**** Call ## 4 ## Duration:  73
      ✓ should create article with tags (77ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  87 (ERR)
**** Call ## 7 ## Duration:  83 (ERR)
**** Call ## 8 ## Duration:  44 (ERR)
**** Call ## 9 ## Duration:  65 (ERR)
      ✓ should enforce required fields (282ms)
    Get
**** Call ## 10 ## Duration:  82
      ✓ should get article by slug (82ms)
**** Call ## 11 ## Duration:  73
      ✓ should get article with tags by slug (73ms)
**** Call ## 12 ## Duration:  35 (ERR)
      ✓ should disallow unknown slug
    Update
**** Call ## 13 ## Duration:  172
**** Call ## 14 ## Duration:  140
**** Call ## 15 ## Duration:  127
      ✓ should update article (443ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  74 (ERR)
      ✓ should disallow non-author from updating (74ms)
    Favorite
**** Call ## 21 ## Duration:  138
**** Call ## 22 ## Duration:  93
      ✓ should favorite article (231ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  76 (ERR)
      ✓ should disallow favoriting unknown article (76ms)
**** Call ## 25 ## Duration:  130
      ✓ should unfavorite article (130ms)
    Delete
**** Call ## 26 ## Duration:  136
**** Call ## 27 ## Duration:  48 (ERR)
      ✓ should delete article (185ms)
**** Call ## 28 ## Duration:  27 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown article (71ms)
**** Call ## 30 ## Duration:  59 (ERR)
      ✓ should disallow deleting article by non-author (59ms)
    List
**** Call ## 31 ## Duration:  92
**** Call ## 32 ## Duration:  86
**** Call ## 33 ## Duration:  79
**** Call ## 34 ## Duration:  75
**** Call ## 35 ## Duration:  85
**** Call ## 36 ## Duration:  76
**** Call ## 37 ## Duration:  72
**** Call ## 38 ## Duration:  92
**** Call ## 39 ## Duration:  81
**** Call ## 40 ## Duration:  56
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  86
**** Call ## 43 ## Duration:  74
**** Call ## 44 ## Duration:  74
**** Call ## 45 ## Duration:  75
**** Call ## 46 ## Duration:  69
**** Call ## 47 ## Duration:  59
**** Call ## 48 ## Duration:  57
**** Call ## 49 ## Duration:  88
**** Call ## 50 ## Duration:  62
**** Call ## 51 ## Duration:  380
      ✓ should list articles (380ms)
**** Call ## 52 ## Duration:  359
**** Call ## 53 ## Duration:  274
      ✓ should list articles with tag (634ms)
**** Call ## 54 ## Duration:  215
      ✓ should list articles by author (215ms)
**** Call ## 55 ## Duration:  183
      ✓ should list articles favorited by user (183ms)
**** Call ## 56 ## Duration:  95
**** Call ## 57 ## Duration:  87
      ✓ should list articles by limit/offset (182ms)
**** Call ## 58 ## Duration:  1285
      ✓ should list articles when authenticated (1285ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  30 (ERR)
**** Call ## 60 ## Duration:  32 (ERR)
**** Call ## 59 ## Duration:  48 (ERR)
**** Call ## 62 ## Duration:  94
**** Call ## 63 ## Duration:  138
**** Call ## 64 ## Duration:  308
**** Call ## 65 ## Duration:  105
**** Call ## 66 ## Duration:  313
      ✓ should get feed (961ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  188
      ✓ should get tags (188ms)

  Comment
**** Call ## 69 ## Duration:  120
**** Call ## 70 ## Duration:  117
**** Call ## 71 ## Duration:  150
    Create
**** Call ## 72 ## Duration:  97
**** Call ## 73 ## Duration:  98
**** Call ## 74 ## Duration:  78
**** Call ## 75 ## Duration:  88
**** Call ## 76 ## Duration:  88
**** Call ## 77 ## Duration:  89
**** Call ## 78 ## Duration:  123
**** Call ## 79 ## Duration:  82
**** Call ## 80 ## Duration:  99
**** Call ## 81 ## Duration:  96
      ✓ should create comment (941ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  45 (ERR)
      ✓ should enforce comment body (45ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  186
      ✓ should get all comments for article (186ms)
    Delete
**** Call ## 86 ## Duration:  108
      ✓ should delete comment (108ms)
**** Call ## 87 ## Duration:  62 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown comment (65ms)

  User
    Create
**** Call ## 90 ## Duration:  96
      ✓ should create user (97ms)
**** Call ## 91 ## Duration:  38 (ERR)
      ✓ should disallow same username (38ms)
**** Call ## 92 ## Duration:  66 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  23 (ERR)
**** Call ## 95 ## Duration:  25 (ERR)
**** Call ## 96 ## Duration:  24 (ERR)
      ✓ should enforce required fields (95ms)
    Login
**** Call ## 97 ## Duration:  70
      ✓ should login (71ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (40ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  24 (ERR)
      ✓ should enforce required fields (70ms)
    Get
**** Call ## 103 ## Duration:  68
      ✓ should get current user (68ms)
**** Call ## 104 ## Duration:  27 (ERR)
**** Call ## 105 ## Duration:  31 (ERR)
**** Call ## 106 ## Duration:  32 (ERR)
**** Call ## 107 ## Duration:  23 (ERR)
      ✓ should disallow bad tokens (115ms)
    Profile
**** Call ## 108 ## Duration:  64
      ✓ should get profile (64ms)
**** Call ## 109 ## Duration:  54 (ERR)
      ✓ should disallow unknown username (54ms)
**** Call ## 110 ## Duration:  107
**** Call ## 111 ## Duration:  138
**** Call ## 112 ## Duration:  88
**** Call ## 113 ## Duration:  84
**** Call ## 114 ## Duration:  73
**** Call ## 115 ## Duration:  183
**** Call ## 116 ## Duration:  98
**** Call ## 117 ## Duration:  125
**** Call ## 118 ## Duration:  127
**** Call ## 119 ## Duration:  85
      ✓ should follow/unfollow user (1110ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  82
**** Call ## 122 ## Duration:  54
**** Call ## 123 ## Duration:  52
**** Call ## 124 ## Duration:  55
      ✓ should update user (244ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  44 (ERR)
      ✓ should disallow missing token/email in update (66ms)
**** Call ## 127 ## Duration:  118
**** Call ## 128 ## Duration:  69 (ERR)
      ✓ should disallow reusing email (187ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  145
**** Call ## 1 ## Duration:  103
**** Call ## 2 ## Duration:  100
    Create
**** Call ## 3 ## Duration:  95
      ✓ should create article (97ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (93ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  75 (ERR)
**** Call ## 7 ## Duration:  98 (ERR)
**** Call ## 8 ## Duration:  62 (ERR)
**** Call ## 9 ## Duration:  67 (ERR)
      ✓ should enforce required fields (303ms)
    Get
**** Call ## 10 ## Duration:  79
      ✓ should get article by slug (79ms)
**** Call ## 11 ## Duration:  81
      ✓ should get article with tags by slug (81ms)
**** Call ## 12 ## Duration:  57 (ERR)
      ✓ should disallow unknown slug (57ms)
    Update
**** Call ## 13 ## Duration:  121
**** Call ## 14 ## Duration:  141
**** Call ## 15 ## Duration:  147
      ✓ should update article (412ms)
**** Call ## 16 ## Duration:  26 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  32 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  65 (ERR)
      ✓ should disallow non-author from updating (65ms)
    Favorite
**** Call ## 21 ## Duration:  168
**** Call ## 22 ## Duration:  98
      ✓ should favorite article (269ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (65ms)
**** Call ## 25 ## Duration:  142
      ✓ should unfavorite article (143ms)
    Delete
**** Call ## 26 ## Duration:  99
**** Call ## 27 ## Duration:  29 (ERR)
      ✓ should delete article (130ms)
**** Call ## 28 ## Duration:  27 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown article (72ms)
**** Call ## 30 ## Duration:  57 (ERR)
      ✓ should disallow deleting article by non-author (58ms)
    List
**** Call ## 31 ## Duration:  90
**** Call ## 32 ## Duration:  91
**** Call ## 33 ## Duration:  97
**** Call ## 34 ## Duration:  91
**** Call ## 35 ## Duration:  109
**** Call ## 36 ## Duration:  94
**** Call ## 37 ## Duration:  88
**** Call ## 38 ## Duration:  133
**** Call ## 39 ## Duration:  75
**** Call ## 40 ## Duration:  102
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  134
**** Call ## 43 ## Duration:  59
**** Call ## 44 ## Duration:  109
**** Call ## 45 ## Duration:  90
**** Call ## 46 ## Duration:  83
**** Call ## 47 ## Duration:  77
**** Call ## 48 ## Duration:  81
**** Call ## 49 ## Duration:  98
**** Call ## 50 ## Duration:  68
**** Call ## 51 ## Duration:  398
      ✓ should list articles (398ms)
**** Call ## 52 ## Duration:  389
**** Call ## 53 ## Duration:  382
      ✓ should list articles with tag (772ms)
**** Call ## 54 ## Duration:  231
      ✓ should list articles by author (231ms)
**** Call ## 55 ## Duration:  79
      ✓ should list articles favorited by user (79ms)
**** Call ## 56 ## Duration:  68
**** Call ## 57 ## Duration:  92
      ✓ should list articles by limit/offset (161ms)
**** Call ## 58 ## Duration:  502
      ✓ should list articles when authenticated (503ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  24 (ERR)
**** Call ## 61 ## Duration:  28 (ERR)
**** Call ## 60 ## Duration:  47 (ERR)
**** Call ## 62 ## Duration:  68
**** Call ## 63 ## Duration:  122
**** Call ## 64 ## Duration:  261
**** Call ## 65 ## Duration:  116
**** Call ## 66 ## Duration:  411
      ✓ should get feed (980ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  235
      ✓ should get tags (235ms)

  Comment
**** Call ## 69 ## Duration:  113
**** Call ## 70 ## Duration:  82
**** Call ## 71 ## Duration:  101
    Create
**** Call ## 72 ## Duration:  149
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  98
**** Call ## 75 ## Duration:  89
**** Call ## 76 ## Duration:  109
**** Call ## 77 ## Duration:  93
**** Call ## 78 ## Duration:  122
**** Call ## 79 ## Duration:  105
**** Call ## 80 ## Duration:  90
**** Call ## 81 ## Duration:  102
      ✓ should create comment (1064ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  70 (ERR)
      ✓ should enforce comment body (71ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (58ms)
    Get
**** Call ## 85 ## Duration:  195
      ✓ should get all comments for article (195ms)
    Delete
**** Call ## 86 ## Duration:  106
      ✓ should delete comment (106ms)
**** Call ## 87 ## Duration:  57 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  32 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  92 (ERR)
      ✓ should disallow deleting unknown comment (93ms)

  User
    Create
**** Call ## 90 ## Duration:  118
      ✓ should create user (118ms)
**** Call ## 91 ## Duration:  37 (ERR)
      ✓ should disallow same username (38ms)
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  42 (ERR)
**** Call ## 96 ## Duration:  45 (ERR)
      ✓ should enforce required fields (135ms)
    Login
**** Call ## 97 ## Duration:  78
      ✓ should login (78ms)
**** Call ## 98 ## Duration:  43 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  45 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  23 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  26 (ERR)
      ✓ should enforce required fields (75ms)
    Get
**** Call ## 103 ## Duration:  42
      ✓ should get current user (42ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  25 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  26 (ERR)
      ✓ should disallow bad tokens (99ms)
    Profile
**** Call ## 108 ## Duration:  66
      ✓ should get profile (66ms)
**** Call ## 109 ## Duration:  55 (ERR)
      ✓ should disallow unknown username (56ms)
**** Call ## 110 ## Duration:  109
**** Call ## 111 ## Duration:  116
**** Call ## 112 ## Duration:  115
**** Call ## 113 ## Duration:  80
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  115
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  98
**** Call ## 118 ## Duration:  120
**** Call ## 119 ## Duration:  114
      ✓ should follow/unfollow user (1040ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  79
**** Call ## 122 ## Duration:  48
**** Call ## 123 ## Duration:  67
**** Call ## 124 ## Duration:  63
      ✓ should update user (258ms)
**** Call ## 125 ## Duration:  29 (ERR)
**** Call ## 126 ## Duration:  55 (ERR)
      ✓ should disallow missing token/email in update (85ms)
**** Call ## 127 ## Duration:  124
**** Call ## 128 ## Duration:  49 (ERR)
      ✓ should disallow reusing email (174ms)

  Util
    Ping
**** Call ## 129 ## Duration:  27
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  266
**** Call ## 1 ## Duration:  124
**** Call ## 2 ## Duration:  108
    Create
**** Call ## 3 ## Duration:  100
      ✓ should create article (103ms)
**** Call ## 4 ## Duration:  91
      ✓ should create article with tags (94ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  60 (ERR)
**** Call ## 7 ## Duration:  64 (ERR)
**** Call ## 8 ## Duration:  73 (ERR)
**** Call ## 9 ## Duration:  66 (ERR)
      ✓ should enforce required fields (264ms)
    Get
**** Call ## 10 ## Duration:  96
      ✓ should get article by slug (97ms)
**** Call ## 11 ## Duration:  120
      ✓ should get article with tags by slug (120ms)
**** Call ## 12 ## Duration:  56 (ERR)
      ✓ should disallow unknown slug (57ms)
    Update
**** Call ## 13 ## Duration:  156
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  149
      ✓ should update article (444ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  39 (ERR)
      ✓ should disallow empty mutation (39ms)
**** Call ## 18 ## Duration:  31 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (65ms)
**** Call ## 20 ## Duration:  86 (ERR)
      ✓ should disallow non-author from updating (86ms)
    Favorite
**** Call ## 21 ## Duration:  116
**** Call ## 22 ## Duration:  102
      ✓ should favorite article (219ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  65 (ERR)
      ✓ should disallow favoriting unknown article (66ms)
**** Call ## 25 ## Duration:  126
      ✓ should unfavorite article (127ms)
    Delete
**** Call ## 26 ## Duration:  98
**** Call ## 27 ## Duration:  41 (ERR)
      ✓ should delete article (139ms)
**** Call ## 28 ## Duration:  23 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  60 (ERR)
      ✓ should disallow deleting article by non-author (61ms)
    List
**** Call ## 31 ## Duration:  98
**** Call ## 32 ## Duration:  86
**** Call ## 33 ## Duration:  89
**** Call ## 34 ## Duration:  73
**** Call ## 35 ## Duration:  85
**** Call ## 36 ## Duration:  83
**** Call ## 37 ## Duration:  79
**** Call ## 38 ## Duration:  105
**** Call ## 39 ## Duration:  87
**** Call ## 40 ## Duration:  74
**** Call ## 41 ## Duration:  67
**** Call ## 42 ## Duration:  88
**** Call ## 43 ## Duration:  54
**** Call ## 44 ## Duration:  98
**** Call ## 45 ## Duration:  74
**** Call ## 46 ## Duration:  95
**** Call ## 47 ## Duration:  73
**** Call ## 48 ## Duration:  60
**** Call ## 49 ## Duration:  80
**** Call ## 50 ## Duration:  68
**** Call ## 51 ## Duration:  359
      ✓ should list articles (359ms)
**** Call ## 52 ## Duration:  1249
**** Call ## 53 ## Duration:  298
      ✓ should list articles with tag (1549ms)
**** Call ## 54 ## Duration:  273
      ✓ should list articles by author (273ms)
**** Call ## 55 ## Duration:  96
      ✓ should list articles favorited by user (97ms)
**** Call ## 56 ## Duration:  140
**** Call ## 57 ## Duration:  141
      ✓ should list articles by limit/offset (281ms)
**** Call ## 58 ## Duration:  444
      ✓ should list articles when authenticated (444ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 59 ## Duration:  27 (ERR)
**** Call ## 61 ## Duration:  32 (ERR)
**** Call ## 62 ## Duration:  79
**** Call ## 63 ## Duration:  121
**** Call ## 64 ## Duration:  235
**** Call ## 65 ## Duration:  96
**** Call ## 66 ## Duration:  318
      ✓ should get feed (851ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  157
      ✓ should get tags (157ms)

  Comment
**** Call ## 69 ## Duration:  114
**** Call ## 70 ## Duration:  107
**** Call ## 71 ## Duration:  93
    Create
**** Call ## 72 ## Duration:  91
**** Call ## 73 ## Duration:  106
**** Call ## 74 ## Duration:  80
**** Call ## 75 ## Duration:  89
**** Call ## 76 ## Duration:  107
**** Call ## 77 ## Duration:  89
**** Call ## 78 ## Duration:  94
**** Call ## 79 ## Duration:  84
**** Call ## 80 ## Duration:  83
**** Call ## 81 ## Duration:  80
      ✓ should create comment (906ms)
**** Call ## 82 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  46 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  62 (ERR)
      ✓ should disallow non-existent article (62ms)
    Get
**** Call ## 85 ## Duration:  253
      ✓ should get all comments for article (253ms)
    Delete
**** Call ## 86 ## Duration:  109
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  66 (ERR)
      ✓ only comment author should be able to delete comment (66ms)
**** Call ## 88 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  75 (ERR)
      ✓ should disallow deleting unknown comment (77ms)

  User
    Create
**** Call ## 90 ## Duration:  96
      ✓ should create user (96ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (44ms)
**** Call ## 92 ## Duration:  49 (ERR)
      ✓ should disallow same email (50ms)
**** Call ## 93 ## Duration:  30 (ERR)
**** Call ## 94 ## Duration:  31 (ERR)
**** Call ## 95 ## Duration:  47 (ERR)
**** Call ## 96 ## Duration:  25 (ERR)
      ✓ should enforce required fields (136ms)
    Login
**** Call ## 97 ## Duration:  88
      ✓ should login (90ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (42ms)
**** Call ## 99 ## Duration:  51 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  30 (ERR)
      ✓ should enforce required fields (77ms)
    Get
**** Call ## 103 ## Duration:  41
      ✓ should get current user (41ms)
**** Call ## 104 ## Duration:  21 (ERR)
**** Call ## 105 ## Duration:  35 (ERR)
**** Call ## 106 ## Duration:  29 (ERR)
**** Call ## 107 ## Duration:  50 (ERR)
      ✓ should disallow bad tokens (138ms)
    Profile
**** Call ## 108 ## Duration:  53
      ✓ should get profile (53ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (45ms)
**** Call ## 110 ## Duration:  122
**** Call ## 111 ## Duration:  130
**** Call ## 112 ## Duration:  163
**** Call ## 113 ## Duration:  76
**** Call ## 114 ## Duration:  63
**** Call ## 115 ## Duration:  105
**** Call ## 116 ## Duration:  91
**** Call ## 117 ## Duration:  120
**** Call ## 118 ## Duration:  106
**** Call ## 119 ## Duration:  114
      ✓ should follow/unfollow user (1093ms)
**** Call ## 120 ## Duration:  20 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  85
**** Call ## 122 ## Duration:  102
**** Call ## 123 ## Duration:  63
**** Call ## 124 ## Duration:  66
      ✓ should update user (317ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  57 (ERR)
      ✓ should disallow missing token/email in update (80ms)
**** Call ## 127 ## Duration:  108
**** Call ## 128 ## Duration:  50 (ERR)
      ✓ should disallow reusing email (160ms)

  Util
    Ping
**** Call ## 129 ## Duration:  21
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  199
**** Call ## 1 ## Duration:  94
**** Call ## 2 ## Duration:  104
    Create
**** Call ## 3 ## Duration:  102
      ✓ should create article (104ms)
**** Call ## 4 ## Duration:  93
      ✓ should create article with tags (95ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  64 (ERR)
**** Call ## 7 ## Duration:  63 (ERR)
**** Call ## 8 ## Duration:  69 (ERR)
**** Call ## 9 ## Duration:  53 (ERR)
      ✓ should enforce required fields (250ms)
    Get
**** Call ## 10 ## Duration:  98
      ✓ should get article by slug (98ms)
**** Call ## 11 ## Duration:  96
      ✓ should get article with tags by slug (96ms)
**** Call ## 12 ## Duration:  44 (ERR)
      ✓ should disallow unknown slug (44ms)
    Update
**** Call ## 13 ## Duration:  153
**** Call ## 14 ## Duration:  146
**** Call ## 15 ## Duration:  139
      ✓ should update article (440ms)
**** Call ## 16 ## Duration:  23 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  29 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  144 (ERR)
      ✓ should disallow non-author from updating (145ms)
    Favorite
**** Call ## 21 ## Duration:  138
**** Call ## 22 ## Duration:  125
      ✓ should favorite article (264ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  58 (ERR)
      ✓ should disallow favoriting unknown article (58ms)
**** Call ## 25 ## Duration:  138
      ✓ should unfavorite article (139ms)
    Delete
**** Call ## 26 ## Duration:  119
**** Call ## 27 ## Duration:  32 (ERR)
      ✓ should delete article (152ms)
**** Call ## 28 ## Duration:  24 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown article (62ms)
**** Call ## 30 ## Duration:  58 (ERR)
      ✓ should disallow deleting article by non-author (59ms)
    List
**** Call ## 31 ## Duration:  86
**** Call ## 32 ## Duration:  84
**** Call ## 33 ## Duration:  62
**** Call ## 34 ## Duration:  78
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  80
**** Call ## 37 ## Duration:  107
**** Call ## 38 ## Duration:  150
**** Call ## 39 ## Duration:  93
**** Call ## 40 ## Duration:  87
**** Call ## 41 ## Duration:  95
**** Call ## 42 ## Duration:  87
**** Call ## 43 ## Duration:  75
**** Call ## 44 ## Duration:  84
**** Call ## 45 ## Duration:  148
**** Call ## 46 ## Duration:  85
**** Call ## 47 ## Duration:  67
**** Call ## 48 ## Duration:  92
**** Call ## 49 ## Duration:  77
**** Call ## 50 ## Duration:  83
**** Call ## 51 ## Duration:  410
      ✓ should list articles (410ms)
**** Call ## 52 ## Duration:  410
**** Call ## 53 ## Duration:  377
      ✓ should list articles with tag (788ms)
**** Call ## 54 ## Duration:  226
      ✓ should list articles by author (226ms)
**** Call ## 55 ## Duration:  120
      ✓ should list articles favorited by user (121ms)
**** Call ## 56 ## Duration:  85
**** Call ## 57 ## Duration:  83
      ✓ should list articles by limit/offset (168ms)
**** Call ## 58 ## Duration:  439
      ✓ should list articles when authenticated (439ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 61 ## Duration:  29 (ERR)
**** Call ## 59 ## Duration:  32 (ERR)
**** Call ## 62 ## Duration:  73
**** Call ## 63 ## Duration:  134
**** Call ## 64 ## Duration:  294
**** Call ## 65 ## Duration:  113
**** Call ## 66 ## Duration:  453
      ✓ should get feed (1067ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  205
      ✓ should get tags (205ms)

  Comment
**** Call ## 69 ## Duration:  108
**** Call ## 70 ## Duration:  107
**** Call ## 71 ## Duration:  82
    Create
**** Call ## 72 ## Duration:  91
**** Call ## 73 ## Duration:  95
**** Call ## 74 ## Duration:  93
**** Call ## 75 ## Duration:  88
**** Call ## 76 ## Duration:  98
**** Call ## 77 ## Duration:  96
**** Call ## 78 ## Duration:  108
**** Call ## 79 ## Duration:  96
**** Call ## 80 ## Duration:  89
**** Call ## 81 ## Duration:  105
      ✓ should create comment (962ms)
**** Call ## 82 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  43 (ERR)
      ✓ should enforce comment body (43ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  745
      ✓ should get all comments for article (745ms)
    Delete
**** Call ## 86 ## Duration:  120
      ✓ should delete comment (120ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (63ms)
**** Call ## 88 ## Duration:  33 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown comment (64ms)

  User
    Create
**** Call ## 90 ## Duration:  97
      ✓ should create user (97ms)
**** Call ## 91 ## Duration:  37 (ERR)
      ✓ should disallow same username (38ms)
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (65ms)
**** Call ## 93 ## Duration:  26 (ERR)
**** Call ## 94 ## Duration:  37 (ERR)
**** Call ## 95 ## Duration:  44 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (131ms)
    Login
**** Call ## 97 ## Duration:  60
      ✓ should login (61ms)
**** Call ## 98 ## Duration:  40 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  25 (ERR)
      ✓ should enforce required fields (73ms)
    Get
**** Call ## 103 ## Duration:  52
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  25 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  30 (ERR)
      ✓ should disallow bad tokens (105ms)
    Profile
**** Call ## 108 ## Duration:  65
      ✓ should get profile (65ms)
**** Call ## 109 ## Duration:  43 (ERR)
      ✓ should disallow unknown username (43ms)
**** Call ## 110 ## Duration:  115
**** Call ## 111 ## Duration:  123
**** Call ## 112 ## Duration:  113
**** Call ## 113 ## Duration:  89
**** Call ## 114 ## Duration:  54
**** Call ## 115 ## Duration:  125
**** Call ## 116 ## Duration:  121
**** Call ## 117 ## Duration:  125
**** Call ## 118 ## Duration:  124
**** Call ## 119 ## Duration:  116
      ✓ should follow/unfollow user (1108ms)
**** Call ## 120 ## Duration:  22 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  80
**** Call ## 122 ## Duration:  51
**** Call ## 123 ## Duration:  46
**** Call ## 124 ## Duration:  53
      ✓ should update user (231ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (68ms)
**** Call ## 127 ## Duration:  124
**** Call ## 128 ## Duration:  55 (ERR)
      ✓ should disallow reusing email (180ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  139
**** Call ## 1 ## Duration:  110
**** Call ## 2 ## Duration:  98
    Create
**** Call ## 3 ## Duration:  113
      ✓ should create article (115ms)
**** Call ## 4 ## Duration:  88
      ✓ should create article with tags (89ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  59 (ERR)
**** Call ## 7 ## Duration:  41 (ERR)
**** Call ## 8 ## Duration:  55 (ERR)
**** Call ## 9 ## Duration:  66 (ERR)
      ✓ should enforce required fields (222ms)
    Get
**** Call ## 10 ## Duration:  92
      ✓ should get article by slug (93ms)
**** Call ## 11 ## Duration:  83
      ✓ should get article with tags by slug (83ms)
**** Call ## 12 ## Duration:  49 (ERR)
      ✓ should disallow unknown slug (50ms)
    Update
**** Call ## 13 ## Duration:  144
**** Call ## 14 ## Duration:  171
**** Call ## 15 ## Duration:  102
      ✓ should update article (421ms)
**** Call ## 16 ## Duration:  30 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (73ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  144
**** Call ## 22 ## Duration:  107
      ✓ should favorite article (252ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  63 (ERR)
      ✓ should disallow favoriting unknown article (63ms)
**** Call ## 25 ## Duration:  135
      ✓ should unfavorite article (136ms)
    Delete
**** Call ## 26 ## Duration:  94
**** Call ## 27 ## Duration:  42 (ERR)
      ✓ should delete article (137ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  68 (ERR)
      ✓ should disallow deleting unknown article (69ms)
**** Call ## 30 ## Duration:  60 (ERR)
      ✓ should disallow deleting article by non-author (61ms)
    List
**** Call ## 31 ## Duration:  135
**** Call ## 32 ## Duration:  85
**** Call ## 33 ## Duration:  96
**** Call ## 34 ## Duration:  65
**** Call ## 35 ## Duration:  123
**** Call ## 36 ## Duration:  75
**** Call ## 37 ## Duration:  62
**** Call ## 38 ## Duration:  89
**** Call ## 39 ## Duration:  181
**** Call ## 40 ## Duration:  115
**** Call ## 41 ## Duration:  65
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  66
**** Call ## 44 ## Duration:  62
**** Call ## 45 ## Duration:  93
**** Call ## 46 ## Duration:  83
**** Call ## 47 ## Duration:  68
**** Call ## 48 ## Duration:  68
**** Call ## 49 ## Duration:  93
**** Call ## 50 ## Duration:  59
**** Call ## 51 ## Duration:  381
      ✓ should list articles (381ms)
**** Call ## 52 ## Duration:  325
**** Call ## 53 ## Duration:  265
      ✓ should list articles with tag (591ms)
**** Call ## 54 ## Duration:  246
      ✓ should list articles by author (247ms)
**** Call ## 55 ## Duration:  101
      ✓ should list articles favorited by user (101ms)
**** Call ## 56 ## Duration:  81
**** Call ## 57 ## Duration:  94
      ✓ should list articles by limit/offset (176ms)
**** Call ## 58 ## Duration:  302
      ✓ should list articles when authenticated (302ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  27 (ERR)
**** Call ## 61 ## Duration:  36 (ERR)
**** Call ## 62 ## Duration:  79
**** Call ## 63 ## Duration:  113
**** Call ## 64 ## Duration:  269
**** Call ## 65 ## Duration:  126
**** Call ## 66 ## Duration:  330
      ✓ should get feed (919ms)
**** Call ## 67 ## Duration:  45 (ERR)
      ✓ should disallow unauthenticated feed (45ms)
    Tags
**** Call ## 68 ## Duration:  157
      ✓ should get tags (157ms)

  Comment
**** Call ## 69 ## Duration:  148
**** Call ## 70 ## Duration:  100
**** Call ## 71 ## Duration:  77
    Create
**** Call ## 72 ## Duration:  102
**** Call ## 73 ## Duration:  90
**** Call ## 74 ## Duration:  144
**** Call ## 75 ## Duration:  80
**** Call ## 76 ## Duration:  104
**** Call ## 77 ## Duration:  75
**** Call ## 78 ## Duration:  95
**** Call ## 79 ## Duration:  74
**** Call ## 80 ## Duration:  76
**** Call ## 81 ## Duration:  95
      ✓ should create comment (937ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  55 (ERR)
      ✓ should enforce comment body (55ms)
**** Call ## 84 ## Duration:  63 (ERR)
      ✓ should disallow non-existent article (63ms)
    Get
**** Call ## 85 ## Duration:  213
      ✓ should get all comments for article (213ms)
    Delete
**** Call ## 86 ## Duration:  101
      ✓ should delete comment (101ms)
**** Call ## 87 ## Duration:  64 (ERR)
      ✓ only comment author should be able to delete comment (64ms)
**** Call ## 88 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  71 (ERR)
      ✓ should disallow deleting unknown comment (71ms)

  User
    Create
**** Call ## 90 ## Duration:  229
      ✓ should create user (230ms)
**** Call ## 91 ## Duration:  49 (ERR)
      ✓ should disallow same username (50ms)
**** Call ## 92 ## Duration:  60 (ERR)
      ✓ should disallow same email (60ms)
**** Call ## 93 ## Duration:  26 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  24 (ERR)
      ✓ should enforce required fields (100ms)
    Login
**** Call ## 97 ## Duration:  83
      ✓ should login (84ms)
**** Call ## 98 ## Duration:  48 (ERR)
      ✓ should disallow unknown email (48ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (50ms)
**** Call ## 100 ## Duration:  27 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  28 (ERR)
      ✓ should enforce required fields (82ms)
    Get
**** Call ## 103 ## Duration:  44
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  22 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  28 (ERR)
      ✓ should disallow bad tokens (98ms)
    Profile
**** Call ## 108 ## Duration:  60
      ✓ should get profile (61ms)
**** Call ## 109 ## Duration:  57 (ERR)
      ✓ should disallow unknown username (57ms)
**** Call ## 110 ## Duration:  104
**** Call ## 111 ## Duration:  127
**** Call ## 112 ## Duration:  104
**** Call ## 113 ## Duration:  62
**** Call ## 114 ## Duration:  151
**** Call ## 115 ## Duration:  108
**** Call ## 116 ## Duration:  104
**** Call ## 117 ## Duration:  144
**** Call ## 118 ## Duration:  91
**** Call ## 119 ## Duration:  127
      ✓ should follow/unfollow user (1125ms)
**** Call ## 120 ## Duration:  31 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  88
**** Call ## 122 ## Duration:  62
**** Call ## 123 ## Duration:  75
**** Call ## 124 ## Duration:  58
      ✓ should update user (285ms)
**** Call ## 125 ## Duration:  25 (ERR)
**** Call ## 126 ## Duration:  41 (ERR)
      ✓ should disallow missing token/email in update (67ms)
**** Call ## 127 ## Duration:  140
**** Call ## 128 ## Duration:  60 (ERR)
      ✓ should disallow reusing email (201ms)

  Util
    Ping
**** Call ## 129 ## Duration:  35
      ✓ should ping


  58 passing (12s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  134
**** Call ## 1 ## Duration:  112
**** Call ## 2 ## Duration:  101
    Create
**** Call ## 3 ## Duration:  98
      ✓ should create article (101ms)
**** Call ## 4 ## Duration:  101
      ✓ should create article with tags (102ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  54 (ERR)
**** Call ## 7 ## Duration:  60 (ERR)
**** Call ## 8 ## Duration:  58 (ERR)
**** Call ## 9 ## Duration:  58 (ERR)
      ✓ should enforce required fields (232ms)
    Get
**** Call ## 10 ## Duration:  74
      ✓ should get article by slug (74ms)
**** Call ## 11 ## Duration:  92
      ✓ should get article with tags by slug (92ms)
**** Call ## 12 ## Duration:  38 (ERR)
      ✓ should disallow unknown slug (38ms)
    Update
**** Call ## 13 ## Duration:  145
**** Call ## 14 ## Duration:  152
**** Call ## 15 ## Duration:  186
      ✓ should update article (485ms)
**** Call ## 16 ## Duration:  27 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  25 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  79 (ERR)
      ✓ should disallow updating non-existent article (80ms)
**** Call ## 20 ## Duration:  53 (ERR)
      ✓ should disallow non-author from updating (53ms)
    Favorite
**** Call ## 21 ## Duration:  129
**** Call ## 22 ## Duration:  90
      ✓ should favorite article (219ms)
**** Call ## 23 ## Duration:  27 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (72ms)
**** Call ## 25 ## Duration:  123
      ✓ should unfavorite article (123ms)
    Delete
**** Call ## 26 ## Duration:  104
**** Call ## 27 ## Duration:  45 (ERR)
      ✓ should delete article (150ms)
**** Call ## 28 ## Duration:  26 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown article (65ms)
**** Call ## 30 ## Duration:  65 (ERR)
      ✓ should disallow deleting article by non-author (65ms)
    List
**** Call ## 31 ## Duration:  73
**** Call ## 32 ## Duration:  79
**** Call ## 33 ## Duration:  99
**** Call ## 34 ## Duration:  78
**** Call ## 35 ## Duration:  71
**** Call ## 36 ## Duration:  74
**** Call ## 37 ## Duration:  91
**** Call ## 38 ## Duration:  65
**** Call ## 39 ## Duration:  68
**** Call ## 40 ## Duration:  63
**** Call ## 41 ## Duration:  79
**** Call ## 42 ## Duration:  79
**** Call ## 43 ## Duration:  72
**** Call ## 44 ## Duration:  78
**** Call ## 45 ## Duration:  130
**** Call ## 46 ## Duration:  74
**** Call ## 47 ## Duration:  86
**** Call ## 48 ## Duration:  72
**** Call ## 49 ## Duration:  85
**** Call ## 50 ## Duration:  62
**** Call ## 51 ## Duration:  453
      ✓ should list articles (453ms)
**** Call ## 52 ## Duration:  328
**** Call ## 53 ## Duration:  281
      ✓ should list articles with tag (610ms)
**** Call ## 54 ## Duration:  185
      ✓ should list articles by author (185ms)
**** Call ## 55 ## Duration:  152
      ✓ should list articles favorited by user (153ms)
**** Call ## 56 ## Duration:  83
**** Call ## 57 ## Duration:  87
      ✓ should list articles by limit/offset (171ms)
**** Call ## 58 ## Duration:  396
      ✓ should list articles when authenticated (396ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  23 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 60 ## Duration:  33 (ERR)
**** Call ## 62 ## Duration:  78
**** Call ## 63 ## Duration:  109
**** Call ## 64 ## Duration:  327
**** Call ## 65 ## Duration:  124
**** Call ## 66 ## Duration:  298
      ✓ should get feed (938ms)
**** Call ## 67 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  177
      ✓ should get tags (177ms)

  Comment
**** Call ## 69 ## Duration:  83
**** Call ## 70 ## Duration:  96
**** Call ## 71 ## Duration:  80
    Create
**** Call ## 72 ## Duration:  91
**** Call ## 73 ## Duration:  91
**** Call ## 74 ## Duration:  83
**** Call ## 75 ## Duration:  85
**** Call ## 76 ## Duration:  105
**** Call ## 77 ## Duration:  103
**** Call ## 78 ## Duration:  83
**** Call ## 79 ## Duration:  67
**** Call ## 80 ## Duration:  90
**** Call ## 81 ## Duration:  68
      ✓ should create comment (868ms)
**** Call ## 82 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (44ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (61ms)
    Get
**** Call ## 85 ## Duration:  245
      ✓ should get all comments for article (245ms)
    Delete
**** Call ## 86 ## Duration:  99
      ✓ should delete comment (100ms)
**** Call ## 87 ## Duration:  54 (ERR)
      ✓ only comment author should be able to delete comment (54ms)
**** Call ## 88 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  62 (ERR)
      ✓ should disallow deleting unknown comment (62ms)

  User
    Create
**** Call ## 90 ## Duration:  176
      ✓ should create user (176ms)
**** Call ## 91 ## Duration:  40 (ERR)
      ✓ should disallow same username (40ms)
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  27 (ERR)
**** Call ## 94 ## Duration:  24 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  28 (ERR)
      ✓ should enforce required fields (103ms)
    Login
**** Call ## 97 ## Duration:  56
      ✓ should login (56ms)
**** Call ## 98 ## Duration:  45 (ERR)
      ✓ should disallow unknown email (45ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (50ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  26 (ERR)
**** Call ## 102 ## Duration:  26 (ERR)
      ✓ should enforce required fields (77ms)
    Get
**** Call ## 103 ## Duration:  47
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  27 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  22 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (96ms)
    Profile
**** Call ## 108 ## Duration:  64
      ✓ should get profile (64ms)
**** Call ## 109 ## Duration:  39 (ERR)
      ✓ should disallow unknown username (40ms)
**** Call ## 110 ## Duration:  98
**** Call ## 111 ## Duration:  171
**** Call ## 112 ## Duration:  101
**** Call ## 113 ## Duration:  88
**** Call ## 114 ## Duration:  65
**** Call ## 115 ## Duration:  92
**** Call ## 116 ## Duration:  92
**** Call ## 117 ## Duration:  119
**** Call ## 118 ## Duration:  90
**** Call ## 119 ## Duration:  107
      ✓ should follow/unfollow user (1028ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  91
**** Call ## 122 ## Duration:  72
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  56
      ✓ should update user (289ms)
**** Call ## 125 ## Duration:  25 (ERR)
**** Call ## 126 ## Duration:  57 (ERR)
      ✓ should disallow missing token/email in update (84ms)
**** Call ## 127 ## Duration:  91
**** Call ## 128 ## Duration:  70 (ERR)
      ✓ should disallow reusing email (162ms)

  Util
    Ping
**** Call ## 129 ## Duration:  33
      ✓ should ping


  58 passing (11s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://uc8p9hoq4d.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  274
**** Call ## 1 ## Duration:  170
**** Call ## 2 ## Duration:  160
    Create
**** Call ## 3 ## Duration:  133
      ✓ should create article (135ms)
**** Call ## 4 ## Duration:  162
      ✓ should create article with tags (165ms)
**** Call ## 5 ## Duration:  117 (ERR)
      ✓ should disallow unauthenticated user (118ms)
**** Call ## 6 ## Duration:  146 (ERR)
**** Call ## 7 ## Duration:  143 (ERR)
**** Call ## 8 ## Duration:  106 (ERR)
**** Call ## 9 ## Duration:  107 (ERR)
      ✓ should enforce required fields (505ms)
    Get
**** Call ## 10 ## Duration:  176
      ✓ should get article by slug (176ms)
**** Call ## 11 ## Duration:  141
      ✓ should get article with tags by slug (141ms)
**** Call ## 12 ## Duration:  128 (ERR)
      ✓ should disallow unknown slug (129ms)
    Update
**** Call ## 13 ## Duration:  222
**** Call ## 14 ## Duration:  180
**** Call ## 15 ## Duration:  190
      ✓ should update article (595ms)
**** Call ## 16 ## Duration:  80 (ERR)
      ✓ should disallow missing mutation (80ms)
**** Call ## 17 ## Duration:  80 (ERR)
      ✓ should disallow empty mutation (80ms)
**** Call ## 18 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated update (82ms)
**** Call ## 19 ## Duration:  123 (ERR)
      ✓ should disallow updating non-existent article (123ms)
**** Call ## 20 ## Duration:  125 (ERR)
      ✓ should disallow non-author from updating (125ms)
    Favorite
**** Call ## 21 ## Duration:  192
**** Call ## 22 ## Duration:  156
      ✓ should favorite article (348ms)
**** Call ## 23 ## Duration:  81 (ERR)
      ✓ should disallow favoriting by unauthenticated user (82ms)
**** Call ## 24 ## Duration:  110 (ERR)
      ✓ should disallow favoriting unknown article (110ms)
**** Call ## 25 ## Duration:  173
      ✓ should unfavorite article (173ms)
    Delete
**** Call ## 26 ## Duration:  192
**** Call ## 27 ## Duration:  132 (ERR)
      ✓ should delete article (325ms)
**** Call ## 28 ## Duration:  79 (ERR)
      ✓ should disallow deleting by unauthenticated user (79ms)
**** Call ## 29 ## Duration:  124 (ERR)
      ✓ should disallow deleting unknown article (125ms)
**** Call ## 30 ## Duration:  115 (ERR)
      ✓ should disallow deleting article by non-author (116ms)
    List
**** Call ## 31 ## Duration:  142
**** Call ## 32 ## Duration:  134
**** Call ## 33 ## Duration:  165
**** Call ## 34 ## Duration:  152
**** Call ## 35 ## Duration:  155
**** Call ## 36 ## Duration:  127
**** Call ## 37 ## Duration:  130
**** Call ## 38 ## Duration:  138
**** Call ## 39 ## Duration:  189
**** Call ## 40 ## Duration:  151
**** Call ## 41 ## Duration:  170
**** Call ## 42 ## Duration:  137
**** Call ## 43 ## Duration:  121
**** Call ## 44 ## Duration:  139
**** Call ## 45 ## Duration:  167
**** Call ## 46 ## Duration:  135
**** Call ## 47 ## Duration:  118
**** Call ## 48 ## Duration:  166
**** Call ## 49 ## Duration:  132
**** Call ## 50 ## Duration:  127
**** Call ## 51 ## Duration:  597
      ✓ should list articles (597ms)
**** Call ## 52 ## Duration:  494
**** Call ## 53 ## Duration:  530
      ✓ should list articles with tag (1024ms)
**** Call ## 54 ## Duration:  384
      ✓ should list articles by author (384ms)
**** Call ## 55 ## Duration:  168
      ✓ should list articles favorited by user (169ms)
**** Call ## 56 ## Duration:  226
**** Call ## 57 ## Duration:  170
      ✓ should list articles by limit/offset (397ms)
**** Call ## 58 ## Duration:  660
      ✓ should list articles when authenticated (660ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  81 (ERR)
**** Call ## 60 ## Duration:  82 (ERR)
**** Call ## 59 ## Duration:  115 (ERR)
**** Call ## 62 ## Duration:  138
**** Call ## 63 ## Duration:  186
**** Call ## 64 ## Duration:  6082 (ERR)
      1) should get feed


  28 passing (17s)
  1 failing

  1) Article
       Feed
         should get feed:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:17:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:236:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)



npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2020-05-21T06_40_31_945Z-debug.log
results20200521062335/rec-res-9-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
............................................................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
