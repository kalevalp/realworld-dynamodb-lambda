Serverless: Packaging service...
Serverless: Excluding development dependencies...
Serverless: Creating Stack...
Serverless: Checking Stack create progress...
........
Serverless: Stack create finished...
Serverless: Uploading CloudFormation file to S3...
Serverless: Uploading artifacts...
Serverless: Uploading service realworld.zip file to S3 (28.6 MB)...
Serverless: Validating template...
Serverless: Updating Stack...
Serverless: Checking Stack update progress...
...............................................................................................................................................................................................................................................................................................................................................................................................................................................
Serverless: Stack update finished...
Service Information
service: realworld
stage: dev
region: eu-west-1
stack: realworld-dev
resources: 176
WARNING:
  You have 176 resources in your service.
  CloudFormation has a hard limit of 200 resources in a service.
  For advice on avoiding this limit, check out this link: http://bit.ly/2IiYB38.
api keys:
  None
endpoints:
  POST - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/users
  POST - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/users/login
  GET - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/user
  PUT - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/user
  GET - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}
  POST - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  DELETE - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/profiles/{username}/follow
  POST - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  PUT - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  DELETE - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}
  POST - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  DELETE - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/favorite
  GET - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles
  GET - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles/feed
  GET - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/tags
  POST - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  GET - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments
  DELETE - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/articles/{slug}/comments/{id}
  GET - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/ping
  DELETE - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/__TESTUTILS__/purge
  POST - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/consent
  DELETE - https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api/consent
functions:
  createUser: realworld-dev-createUser
  loginUser: realworld-dev-loginUser
  getUser: realworld-dev-getUser
  updateUser: realworld-dev-updateUser
  getProfile: realworld-dev-getProfile
  followUser: realworld-dev-followUser
  unfollowUser: realworld-dev-unfollowUser
  createArticle: realworld-dev-createArticle
  getArticle: realworld-dev-getArticle
  udpateArticle: realworld-dev-udpateArticle
  deleteArticle: realworld-dev-deleteArticle
  favoriteArticle: realworld-dev-favoriteArticle
  unfavoriteArticle: realworld-dev-unfavoriteArticle
  listArticles: realworld-dev-listArticles
  getArticlesFeed: realworld-dev-getArticlesFeed
  getTags: realworld-dev-getTags
  createComment: realworld-dev-createComment
  getComments: realworld-dev-getComments
  deleteComment: realworld-dev-deleteComment
  ping: realworld-dev-ping
  purgeData: realworld-dev-purgeData
  consent: realworld-dev-consent
  revoke: realworld-dev-revoke
  watchtower-ingestion: realworld-dev-watchtower-ingestion
  watchtower-monitor: realworld-dev-watchtower-monitor
  wt-monitor-trigger: realworld-dev-wt-monitor-trigger
layers:
  None
Serverless: Run the "serverless" command to setup monitoring, troubleshooting and testing.

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  1493
**** Call ## 1 ## Duration:  187
**** Call ## 2 ## Duration:  167
    Create
**** Call ## 3 ## Duration:  1147
      ✓ should create article (1149ms)
**** Call ## 4 ## Duration:  161
      ✓ should create article with tags (165ms)
**** Call ## 5 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 6 ## Duration:  204 (ERR)
**** Call ## 7 ## Duration:  136 (ERR)
**** Call ## 8 ## Duration:  124 (ERR)
**** Call ## 9 ## Duration:  140 (ERR)
      ✓ should enforce required fields (605ms)
    Get
**** Call ## 10 ## Duration:  1142
      ✓ should get article by slug (1143ms)
**** Call ## 11 ## Duration:  165
      ✓ should get article with tags by slug (165ms)
**** Call ## 12 ## Duration:  131 (ERR)
      ✓ should disallow unknown slug (132ms)
    Update
**** Call ## 13 ## Duration:  1322
**** Call ## 14 ## Duration:  239
**** Call ## 15 ## Duration:  217
      ✓ should update article (1779ms)
**** Call ## 16 ## Duration:  86 (ERR)
      ✓ should disallow missing mutation (87ms)
**** Call ## 17 ## Duration:  418 (ERR)
      ✓ should disallow empty mutation (418ms)
**** Call ## 18 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated update (86ms)
**** Call ## 19 ## Duration:  251 (ERR)
      ✓ should disallow updating non-existent article (252ms)
**** Call ## 20 ## Duration:  121 (ERR)
      ✓ should disallow non-author from updating (122ms)
    Favorite
**** Call ## 21 ## Duration:  1350
**** Call ## 22 ## Duration:  176
      ✓ should favorite article (1526ms)
**** Call ## 23 ## Duration:  83 (ERR)
      ✓ should disallow favoriting by unauthenticated user (84ms)
**** Call ## 24 ## Duration:  160 (ERR)
      ✓ should disallow favoriting unknown article (160ms)
**** Call ## 25 ## Duration:  1208
      ✓ should unfavorite article (1208ms)
    Delete
**** Call ## 26 ## Duration:  1205
**** Call ## 27 ## Duration:  121 (ERR)
      ✓ should delete article (1327ms)
**** Call ## 28 ## Duration:  86 (ERR)
      ✓ should disallow deleting by unauthenticated user (86ms)
**** Call ## 29 ## Duration:  218 (ERR)
      ✓ should disallow deleting unknown article (218ms)
**** Call ## 30 ## Duration:  120 (ERR)
      ✓ should disallow deleting article by non-author (120ms)
    List
**** Call ## 31 ## Duration:  189
**** Call ## 32 ## Duration:  158
**** Call ## 33 ## Duration:  191
**** Call ## 34 ## Duration:  234
**** Call ## 35 ## Duration:  152
**** Call ## 36 ## Duration:  192
**** Call ## 37 ## Duration:  150
**** Call ## 38 ## Duration:  143
**** Call ## 39 ## Duration:  201
**** Call ## 40 ## Duration:  161
**** Call ## 41 ## Duration:  154
**** Call ## 42 ## Duration:  353
**** Call ## 43 ## Duration:  158
**** Call ## 44 ## Duration:  155
**** Call ## 45 ## Duration:  182
**** Call ## 46 ## Duration:  158
**** Call ## 47 ## Duration:  127
**** Call ## 48 ## Duration:  121
**** Call ## 49 ## Duration:  130
**** Call ## 50 ## Duration:  171
**** Call ## 51 ## Duration:  2535
      ✓ should list articles (2535ms)
**** Call ## 52 ## Duration:  137
**** Call ## 53 ## Duration:  246
      ✓ should list articles with tag (384ms)
**** Call ## 54 ## Duration:  303
      ✓ should list articles by author (303ms)
**** Call ## 55 ## Duration:  109
      ✓ should list articles favorited by user (109ms)
**** Call ## 56 ## Duration:  149
**** Call ## 57 ## Duration:  190
      ✓ should list articles by limit/offset (339ms)
**** Call ## 58 ## Duration:  518
      ✓ should list articles when authenticated (519ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  83 (ERR)
**** Call ## 60 ## Duration:  88 (ERR)
**** Call ## 59 ## Duration:  132 (ERR)
**** Call ## 62 ## Duration:  1114
**** Call ## 63 ## Duration:  1234
**** Call ## 64 ## Duration:  449
**** Call ## 65 ## Duration:  200
**** Call ## 66 ## Duration:  621
      ✓ should get feed (3619ms)
**** Call ## 67 ## Duration:  125 (ERR)
      ✓ should disallow unauthenticated feed (125ms)
    Tags
**** Call ## 68 ## Duration:  1095
      ✓ should get tags (1096ms)

  Comment
**** Call ## 69 ## Duration:  238
**** Call ## 70 ## Duration:  233
**** Call ## 71 ## Duration:  218
    Create
**** Call ## 72 ## Duration:  1006
**** Call ## 73 ## Duration:  202
**** Call ## 74 ## Duration:  198
**** Call ## 75 ## Duration:  168
**** Call ## 76 ## Duration:  162
**** Call ## 77 ## Duration:  161
**** Call ## 78 ## Duration:  205
**** Call ## 79 ## Duration:  176
**** Call ## 80 ## Duration:  456
**** Call ## 81 ## Duration:  160
      ✓ should create comment (2897ms)
**** Call ## 82 ## Duration:  94 (ERR)
      ✓ should disallow unauthenticated user (95ms)
**** Call ## 83 ## Duration:  95 (ERR)
      ✓ should enforce comment body (96ms)
**** Call ## 84 ## Duration:  133 (ERR)
      ✓ should disallow non-existent article (133ms)
    Get
**** Call ## 85 ## Duration:  1295
      ✓ should get all comments for article (1295ms)
    Delete
**** Call ## 86 ## Duration:  1526
      ✓ should delete comment (1527ms)
**** Call ## 87 ## Duration:  188 (ERR)
      ✓ only comment author should be able to delete comment (189ms)
**** Call ## 88 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated user (88ms)
**** Call ## 89 ## Duration:  121 (ERR)
      ✓ should disallow deleting unknown comment (121ms)

  User
    Create
**** Call ## 90 ## Duration:  274
      ✓ should create user (275ms)
**** Call ## 91 ## Duration:  126 (ERR)
      ✓ should disallow same username (127ms)
**** Call ## 92 ## Duration:  124 (ERR)
      ✓ should disallow same email (124ms)
**** Call ## 93 ## Duration:  238 (ERR)
**** Call ## 94 ## Duration:  80 (ERR)
**** Call ## 95 ## Duration:  92 (ERR)
**** Call ## 96 ## Duration:  101 (ERR)
      ✓ should enforce required fields (513ms)
    Login
**** Call ## 97 ## Duration:  1204
      ✓ should login (1204ms)
**** Call ## 98 ## Duration:  110 (ERR)
      ✓ should disallow unknown email (110ms)
**** Call ## 99 ## Duration:  107 (ERR)
      ✓ should disallow wrong password (107ms)
**** Call ## 100 ## Duration:  140 (ERR)
**** Call ## 101 ## Duration:  80 (ERR)
**** Call ## 102 ## Duration:  82 (ERR)
      ✓ should enforce required fields (303ms)
    Get
**** Call ## 103 ## Duration:  1103
      ✓ should get current user (1103ms)
**** Call ## 104 ## Duration:  96 (ERR)
**** Call ## 105 ## Duration:  124 (ERR)
**** Call ## 106 ## Duration:  92 (ERR)
**** Call ## 107 ## Duration:  121 (ERR)
      ✓ should disallow bad tokens (433ms)
    Profile
**** Call ## 108 ## Duration:  1318
      ✓ should get profile (1318ms)
**** Call ## 109 ## Duration:  107 (ERR)
      ✓ should disallow unknown username (107ms)
**** Call ## 110 ## Duration:  169
**** Call ## 111 ## Duration:  192
**** Call ## 112 ## Duration:  189
**** Call ## 113 ## Duration:  153
**** Call ## 114 ## Duration:  140
**** Call ## 115 ## Duration:  191
**** Call ## 116 ## Duration:  196
**** Call ## 117 ## Duration:  1192
**** Call ## 118 ## Duration:  177
**** Call ## 119 ## Duration:  165
      ✓ should follow/unfollow user (2767ms)
**** Call ## 120 ## Duration:  88 (ERR)
      ✓ should disallow following with bad token (88ms)
    Update
**** Call ## 121 ## Duration:  1170
**** Call ## 122 ## Duration:  163
**** Call ## 123 ## Duration:  143
**** Call ## 124 ## Duration:  128
      ✓ should update user (1606ms)
**** Call ## 125 ## Duration:  120 (ERR)
**** Call ## 126 ## Duration:  91 (ERR)
      ✓ should disallow missing token/email in update (212ms)
**** Call ## 127 ## Duration:  182
**** Call ## 128 ## Duration:  130 (ERR)
      ✓ should disallow reusing email (312ms)

  Util
    Ping
**** Call ## 129 ## Duration:  833
      ✓ should ping (833ms)


  58 passing (44s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  230
**** Call ## 1 ## Duration:  619
**** Call ## 2 ## Duration:  175
    Create
**** Call ## 3 ## Duration:  371
      ✓ should create article (373ms)
**** Call ## 4 ## Duration:  190
      ✓ should create article with tags (192ms)
**** Call ## 5 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated user (91ms)
**** Call ## 6 ## Duration:  136 (ERR)
**** Call ## 7 ## Duration:  151 (ERR)
**** Call ## 8 ## Duration:  124 (ERR)
**** Call ## 9 ## Duration:  150 (ERR)
      ✓ should enforce required fields (562ms)
    Get
**** Call ## 10 ## Duration:  222
      ✓ should get article by slug (223ms)
**** Call ## 11 ## Duration:  153
      ✓ should get article with tags by slug (153ms)
**** Call ## 12 ## Duration:  98 (ERR)
      ✓ should disallow unknown slug (99ms)
    Update
**** Call ## 13 ## Duration:  355
**** Call ## 14 ## Duration:  232
**** Call ## 15 ## Duration:  245
      ✓ should update article (835ms)
**** Call ## 16 ## Duration:  84 (ERR)
      ✓ should disallow missing mutation (84ms)
**** Call ## 17 ## Duration:  134 (ERR)
      ✓ should disallow empty mutation (134ms)
**** Call ## 18 ## Duration:  134 (ERR)
      ✓ should disallow unauthenticated update (135ms)
**** Call ## 19 ## Duration:  165 (ERR)
      ✓ should disallow updating non-existent article (165ms)
**** Call ## 20 ## Duration:  132 (ERR)
      ✓ should disallow non-author from updating (132ms)
    Favorite
**** Call ## 21 ## Duration:  259
**** Call ## 22 ## Duration:  280
      ✓ should favorite article (539ms)
**** Call ## 23 ## Duration:  90 (ERR)
      ✓ should disallow favoriting by unauthenticated user (90ms)
**** Call ## 24 ## Duration:  198 (ERR)
      ✓ should disallow favoriting unknown article (198ms)
**** Call ## 25 ## Duration:  283
      ✓ should unfavorite article (283ms)
    Delete
**** Call ## 26 ## Duration:  251
**** Call ## 27 ## Duration:  106 (ERR)
      ✓ should delete article (359ms)
**** Call ## 28 ## Duration:  193 (ERR)
      ✓ should disallow deleting by unauthenticated user (193ms)
**** Call ## 29 ## Duration:  156 (ERR)
      ✓ should disallow deleting unknown article (156ms)
**** Call ## 30 ## Duration:  158 (ERR)
      ✓ should disallow deleting article by non-author (158ms)
    List
**** Call ## 31 ## Duration:  182
**** Call ## 32 ## Duration:  173
**** Call ## 33 ## Duration:  175
**** Call ## 34 ## Duration:  157
**** Call ## 35 ## Duration:  162
**** Call ## 36 ## Duration:  186
**** Call ## 37 ## Duration:  169
**** Call ## 38 ## Duration:  127
**** Call ## 39 ## Duration:  143
**** Call ## 40 ## Duration:  149
**** Call ## 41 ## Duration:  174
**** Call ## 42 ## Duration:  146
**** Call ## 43 ## Duration:  153
**** Call ## 44 ## Duration:  183
**** Call ## 45 ## Duration:  146
**** Call ## 46 ## Duration:  174
**** Call ## 47 ## Duration:  137
**** Call ## 48 ## Duration:  130
**** Call ## 49 ## Duration:  153
**** Call ## 50 ## Duration:  174
**** Call ## 51 ## Duration:  651
      ✓ should list articles (651ms)
**** Call ## 52 ## Duration:  157
**** Call ## 53 ## Duration:  342
      ✓ should list articles with tag (499ms)
**** Call ## 54 ## Duration:  349
      ✓ should list articles by author (350ms)
**** Call ## 55 ## Duration:  130
      ✓ should list articles favorited by user (130ms)
**** Call ## 56 ## Duration:  156
**** Call ## 57 ## Duration:  208
      ✓ should list articles by limit/offset (364ms)
**** Call ## 58 ## Duration:  548
      ✓ should list articles when authenticated (548ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  85 (ERR)
**** Call ## 61 ## Duration:  91 (ERR)
**** Call ## 60 ## Duration:  120 (ERR)
**** Call ## 62 ## Duration:  218
**** Call ## 63 ## Duration:  297
**** Call ## 64 ## Duration:  355
**** Call ## 65 ## Duration:  176
**** Call ## 66 ## Duration:  634
      ✓ should get feed (1682ms)
**** Call ## 67 ## Duration:  107 (ERR)
      ✓ should disallow unauthenticated feed (107ms)
    Tags
**** Call ## 68 ## Duration:  213
      ✓ should get tags (213ms)

  Comment
**** Call ## 69 ## Duration:  193
**** Call ## 70 ## Duration:  174
**** Call ## 71 ## Duration:  147
    Create
**** Call ## 72 ## Duration:  242
**** Call ## 73 ## Duration:  156
**** Call ## 74 ## Duration:  166
**** Call ## 75 ## Duration:  163
**** Call ## 76 ## Duration:  165
**** Call ## 77 ## Duration:  168
**** Call ## 78 ## Duration:  227
**** Call ## 79 ## Duration:  173
**** Call ## 80 ## Duration:  177
**** Call ## 81 ## Duration:  192
      ✓ should create comment (1831ms)
**** Call ## 82 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 83 ## Duration:  134 (ERR)
      ✓ should enforce comment body (135ms)
**** Call ## 84 ## Duration:  463 (ERR)
      ✓ should disallow non-existent article (464ms)
    Get
**** Call ## 85 ## Duration:  330
      ✓ should get all comments for article (330ms)
    Delete
**** Call ## 86 ## Duration:  210
      ✓ should delete comment (211ms)
**** Call ## 87 ## Duration:  117 (ERR)
      ✓ only comment author should be able to delete comment (117ms)
**** Call ## 88 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (85ms)
**** Call ## 89 ## Duration:  117 (ERR)
      ✓ should disallow deleting unknown comment (117ms)

  User
    Create
**** Call ## 90 ## Duration:  176
      ✓ should create user (176ms)
**** Call ## 91 ## Duration:  127 (ERR)
      ✓ should disallow same username (127ms)
**** Call ## 92 ## Duration:  125 (ERR)
      ✓ should disallow same email (125ms)
**** Call ## 93 ## Duration:  83 (ERR)
**** Call ## 94 ## Duration:  84 (ERR)
**** Call ## 95 ## Duration:  84 (ERR)
**** Call ## 96 ## Duration:  89 (ERR)
      ✓ should enforce required fields (341ms)
    Login
**** Call ## 97 ## Duration:  243
      ✓ should login (243ms)
**** Call ## 98 ## Duration:  228 (ERR)
      ✓ should disallow unknown email (229ms)
**** Call ## 99 ## Duration:  131 (ERR)
      ✓ should disallow wrong password (132ms)
**** Call ## 100 ## Duration:  84 (ERR)
**** Call ## 101 ## Duration:  110 (ERR)
**** Call ## 102 ## Duration:  78 (ERR)
      ✓ should enforce required fields (272ms)
    Get
**** Call ## 103 ## Duration:  119
      ✓ should get current user (120ms)
**** Call ## 104 ## Duration:  84 (ERR)
**** Call ## 105 ## Duration:  81 (ERR)
**** Call ## 106 ## Duration:  81 (ERR)
**** Call ## 107 ## Duration:  80 (ERR)
      ✓ should disallow bad tokens (326ms)
    Profile
**** Call ## 108 ## Duration:  214
      ✓ should get profile (214ms)
**** Call ## 109 ## Duration:  108 (ERR)
      ✓ should disallow unknown username (108ms)
**** Call ## 110 ## Duration:  291
**** Call ## 111 ## Duration:  252
**** Call ## 112 ## Duration:  215
**** Call ## 113 ## Duration:  190
**** Call ## 114 ## Duration:  128
**** Call ## 115 ## Duration:  221
**** Call ## 116 ## Duration:  215
**** Call ## 117 ## Duration:  216
**** Call ## 118 ## Duration:  193
**** Call ## 119 ## Duration:  273
      ✓ should follow/unfollow user (2196ms)
**** Call ## 120 ## Duration:  104 (ERR)
      ✓ should disallow following with bad token (104ms)
    Update
**** Call ## 121 ## Duration:  170
**** Call ## 122 ## Duration:  127
**** Call ## 123 ## Duration:  129
**** Call ## 124 ## Duration:  175
      ✓ should update user (602ms)
**** Call ## 125 ## Duration:  181 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (282ms)
**** Call ## 127 ## Duration:  184
**** Call ## 128 ## Duration:  175 (ERR)
      ✓ should disallow reusing email (359ms)

  Util
    Ping
**** Call ## 129 ## Duration:  87
      ✓ should ping (88ms)


  58 passing (24s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  223
**** Call ## 1 ## Duration:  196
**** Call ## 2 ## Duration:  184
    Create
**** Call ## 3 ## Duration:  145
      ✓ should create article (147ms)
**** Call ## 4 ## Duration:  134
      ✓ should create article with tags (135ms)
**** Call ## 5 ## Duration:  120 (ERR)
      ✓ should disallow unauthenticated user (121ms)
**** Call ## 6 ## Duration:  118 (ERR)
**** Call ## 7 ## Duration:  172 (ERR)
**** Call ## 8 ## Duration:  130 (ERR)
**** Call ## 9 ## Duration:  120 (ERR)
      ✓ should enforce required fields (541ms)
    Get
**** Call ## 10 ## Duration:  183
      ✓ should get article by slug (183ms)
**** Call ## 11 ## Duration:  147
      ✓ should get article with tags by slug (147ms)
**** Call ## 12 ## Duration:  98 (ERR)
      ✓ should disallow unknown slug (98ms)
    Update
**** Call ## 13 ## Duration:  241
**** Call ## 14 ## Duration:  205
**** Call ## 15 ## Duration:  171
      ✓ should update article (619ms)
**** Call ## 16 ## Duration:  81 (ERR)
      ✓ should disallow missing mutation (82ms)
**** Call ## 17 ## Duration:  117 (ERR)
      ✓ should disallow empty mutation (118ms)
**** Call ## 18 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated update (85ms)
**** Call ## 19 ## Duration:  122 (ERR)
      ✓ should disallow updating non-existent article (122ms)
**** Call ## 20 ## Duration:  169 (ERR)
      ✓ should disallow non-author from updating (169ms)
    Favorite
**** Call ## 21 ## Duration:  289
**** Call ## 22 ## Duration:  164
      ✓ should favorite article (453ms)
**** Call ## 23 ## Duration:  115 (ERR)
      ✓ should disallow favoriting by unauthenticated user (115ms)
**** Call ## 24 ## Duration:  126 (ERR)
      ✓ should disallow favoriting unknown article (127ms)
**** Call ## 25 ## Duration:  303
      ✓ should unfavorite article (303ms)
    Delete
**** Call ## 26 ## Duration:  217
**** Call ## 27 ## Duration:  103 (ERR)
      ✓ should delete article (321ms)
**** Call ## 28 ## Duration:  126 (ERR)
      ✓ should disallow deleting by unauthenticated user (126ms)
**** Call ## 29 ## Duration:  166 (ERR)
      ✓ should disallow deleting unknown article (168ms)
**** Call ## 30 ## Duration:  160 (ERR)
      ✓ should disallow deleting article by non-author (160ms)
    List
**** Call ## 31 ## Duration:  248
**** Call ## 32 ## Duration:  256
**** Call ## 33 ## Duration:  146
**** Call ## 34 ## Duration:  147
**** Call ## 35 ## Duration:  451
**** Call ## 36 ## Duration:  134
**** Call ## 37 ## Duration:  155
**** Call ## 38 ## Duration:  148
**** Call ## 39 ## Duration:  188
**** Call ## 40 ## Duration:  160
**** Call ## 41 ## Duration:  150
**** Call ## 42 ## Duration:  212
**** Call ## 43 ## Duration:  164
**** Call ## 44 ## Duration:  162
**** Call ## 45 ## Duration:  140
**** Call ## 46 ## Duration:  148
**** Call ## 47 ## Duration:  176
**** Call ## 48 ## Duration:  150
**** Call ## 49 ## Duration:  165
**** Call ## 50 ## Duration:  142
**** Call ## 51 ## Duration:  623
      ✓ should list articles (623ms)
**** Call ## 52 ## Duration:  179
**** Call ## 53 ## Duration:  524
      ✓ should list articles with tag (703ms)
**** Call ## 54 ## Duration:  343
      ✓ should list articles by author (343ms)
**** Call ## 55 ## Duration:  111
      ✓ should list articles favorited by user (111ms)
**** Call ## 56 ## Duration:  220
**** Call ## 57 ## Duration:  243
      ✓ should list articles by limit/offset (464ms)
**** Call ## 58 ## Duration:  665
      ✓ should list articles when authenticated (665ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  92 (ERR)
**** Call ## 60 ## Duration:  93 (ERR)
**** Call ## 61 ## Duration:  139 (ERR)
**** Call ## 62 ## Duration:  209
**** Call ## 63 ## Duration:  187
**** Call ## 64 ## Duration:  431
**** Call ## 65 ## Duration:  241
**** Call ## 66 ## Duration:  558
      ✓ should get feed (1626ms)
**** Call ## 67 ## Duration:  150 (ERR)
      ✓ should disallow unauthenticated feed (151ms)
    Tags
**** Call ## 68 ## Duration:  200
      ✓ should get tags (200ms)

  Comment
**** Call ## 69 ## Duration:  188
**** Call ## 70 ## Duration:  179
**** Call ## 71 ## Duration:  138
    Create
**** Call ## 72 ## Duration:  155
**** Call ## 73 ## Duration:  154
**** Call ## 74 ## Duration:  171
**** Call ## 75 ## Duration:  192
**** Call ## 76 ## Duration:  163
**** Call ## 77 ## Duration:  147
**** Call ## 78 ## Duration:  160
**** Call ## 79 ## Duration:  158
**** Call ## 80 ## Duration:  267
**** Call ## 81 ## Duration:  148
      ✓ should create comment (1715ms)
**** Call ## 82 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 83 ## Duration:  125 (ERR)
      ✓ should enforce comment body (126ms)
**** Call ## 84 ## Duration:  100 (ERR)
      ✓ should disallow non-existent article (101ms)
    Get
**** Call ## 85 ## Duration:  345
      ✓ should get all comments for article (346ms)
    Delete
**** Call ## 86 ## Duration:  165
      ✓ should delete comment (165ms)
**** Call ## 87 ## Duration:  123 (ERR)
      ✓ only comment author should be able to delete comment (123ms)
**** Call ## 88 ## Duration:  117 (ERR)
      ✓ should disallow unauthenticated user (117ms)
**** Call ## 89 ## Duration:  157 (ERR)
      ✓ should disallow deleting unknown comment (158ms)

  User
    Create
**** Call ## 90 ## Duration:  158
      ✓ should create user (160ms)
**** Call ## 91 ## Duration:  104 (ERR)
      ✓ should disallow same username (104ms)
**** Call ## 92 ## Duration:  129 (ERR)
      ✓ should disallow same email (131ms)
**** Call ## 93 ## Duration:  83 (ERR)
**** Call ## 94 ## Duration:  239 (ERR)
**** Call ## 95 ## Duration:  82 (ERR)
**** Call ## 96 ## Duration:  92 (ERR)
      ✓ should enforce required fields (497ms)
    Login
**** Call ## 97 ## Duration:  170
      ✓ should login (170ms)
**** Call ## 98 ## Duration:  98 (ERR)
      ✓ should disallow unknown email (99ms)
**** Call ## 99 ## Duration:  109 (ERR)
      ✓ should disallow wrong password (109ms)
**** Call ## 100 ## Duration:  80 (ERR)
**** Call ## 101 ## Duration:  83 (ERR)
**** Call ## 102 ## Duration:  131 (ERR)
      ✓ should enforce required fields (294ms)
    Get
**** Call ## 103 ## Duration:  186
      ✓ should get current user (186ms)
**** Call ## 104 ## Duration:  93 (ERR)
**** Call ## 105 ## Duration:  84 (ERR)
**** Call ## 106 ## Duration:  109 (ERR)
**** Call ## 107 ## Duration:  88 (ERR)
      ✓ should disallow bad tokens (375ms)
    Profile
**** Call ## 108 ## Duration:  126
      ✓ should get profile (126ms)
**** Call ## 109 ## Duration:  99 (ERR)
      ✓ should disallow unknown username (99ms)
**** Call ## 110 ## Duration:  212
**** Call ## 111 ## Duration:  293
**** Call ## 112 ## Duration:  204
**** Call ## 113 ## Duration:  143
**** Call ## 114 ## Duration:  147
**** Call ## 115 ## Duration:  446
**** Call ## 116 ## Duration:  230
**** Call ## 117 ## Duration:  231
**** Call ## 118 ## Duration:  161
**** Call ## 119 ## Duration:  211
      ✓ should follow/unfollow user (2280ms)
**** Call ## 120 ## Duration:  93 (ERR)
      ✓ should disallow following with bad token (93ms)
    Update
**** Call ## 121 ## Duration:  215
**** Call ## 122 ## Duration:  114
**** Call ## 123 ## Duration:  139
**** Call ## 124 ## Duration:  107
      ✓ should update user (577ms)
**** Call ## 125 ## Duration:  85 (ERR)
**** Call ## 126 ## Duration:  119 (ERR)
      ✓ should disallow missing token/email in update (205ms)
**** Call ## 127 ## Duration:  173
**** Call ## 128 ## Duration:  73 (ERR)
      ✓ should disallow reusing email (247ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (23s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  179
**** Call ## 1 ## Duration:  122
**** Call ## 2 ## Duration:  202
    Create
**** Call ## 3 ## Duration:  104
      ✓ should create article (106ms)
**** Call ## 4 ## Duration:  100
      ✓ should create article with tags (102ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  90 (ERR)
**** Call ## 7 ## Duration:  62 (ERR)
**** Call ## 8 ## Duration:  70 (ERR)
**** Call ## 9 ## Duration:  66 (ERR)
      ✓ should enforce required fields (289ms)
    Get
**** Call ## 10 ## Duration:  103
      ✓ should get article by slug (103ms)
**** Call ## 11 ## Duration:  91
      ✓ should get article with tags by slug (92ms)
**** Call ## 12 ## Duration:  112 (ERR)
      ✓ should disallow unknown slug (112ms)
    Update
**** Call ## 13 ## Duration:  149
**** Call ## 14 ## Duration:  146
**** Call ## 15 ## Duration:  158
      ✓ should update article (456ms)
**** Call ## 16 ## Duration:  29 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  42 (ERR)
      ✓ should disallow empty mutation (42ms)
**** Call ## 18 ## Duration:  804 (ERR)
      ✓ should disallow unauthenticated update (805ms)
**** Call ## 19 ## Duration:  174 (ERR)
      ✓ should disallow updating non-existent article (174ms)
**** Call ## 20 ## Duration:  74 (ERR)
      ✓ should disallow non-author from updating (74ms)
    Favorite
**** Call ## 21 ## Duration:  149
**** Call ## 22 ## Duration:  135
      ✓ should favorite article (286ms)
**** Call ## 23 ## Duration:  27 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  82 (ERR)
      ✓ should disallow favoriting unknown article (83ms)
**** Call ## 25 ## Duration:  127
      ✓ should unfavorite article (128ms)
    Delete
**** Call ## 26 ## Duration:  119
**** Call ## 27 ## Duration:  47 (ERR)
      ✓ should delete article (167ms)
**** Call ## 28 ## Duration:  25 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  87 (ERR)
      ✓ should disallow deleting unknown article (87ms)
**** Call ## 30 ## Duration:  74 (ERR)
      ✓ should disallow deleting article by non-author (74ms)
    List
**** Call ## 31 ## Duration:  78
**** Call ## 32 ## Duration:  77
**** Call ## 33 ## Duration:  67
**** Call ## 34 ## Duration:  81
**** Call ## 35 ## Duration:  75
**** Call ## 36 ## Duration:  52
**** Call ## 37 ## Duration:  113
**** Call ## 38 ## Duration:  84
**** Call ## 39 ## Duration:  81
**** Call ## 40 ## Duration:  85
**** Call ## 41 ## Duration:  70
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  67
**** Call ## 44 ## Duration:  73
**** Call ## 45 ## Duration:  78
**** Call ## 46 ## Duration:  74
**** Call ## 47 ## Duration:  68
**** Call ## 48 ## Duration:  74
**** Call ## 49 ## Duration:  74
**** Call ## 50 ## Duration:  85
**** Call ## 51 ## Duration:  400
      ✓ should list articles (400ms)
**** Call ## 52 ## Duration:  123
**** Call ## 53 ## Duration:  323
      ✓ should list articles with tag (446ms)
**** Call ## 54 ## Duration:  194
      ✓ should list articles by author (194ms)
**** Call ## 55 ## Duration:  39
      ✓ should list articles favorited by user (40ms)
**** Call ## 56 ## Duration:  191
**** Call ## 57 ## Duration:  95
      ✓ should list articles by limit/offset (286ms)
**** Call ## 58 ## Duration:  463
      ✓ should list articles when authenticated (464ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 59 ## Duration:  30 (ERR)
**** Call ## 60 ## Duration:  37 (ERR)
**** Call ## 62 ## Duration:  96
**** Call ## 63 ## Duration:  127
**** Call ## 64 ## Duration:  265
**** Call ## 65 ## Duration:  142
**** Call ## 66 ## Duration:  449
      ✓ should get feed (1081ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  79
      ✓ should get tags (79ms)

  Comment
**** Call ## 69 ## Duration:  114
**** Call ## 70 ## Duration:  102
**** Call ## 71 ## Duration:  133
    Create
**** Call ## 72 ## Duration:  105
**** Call ## 73 ## Duration:  151
**** Call ## 74 ## Duration:  141
**** Call ## 75 ## Duration:  94
**** Call ## 76 ## Duration:  99
**** Call ## 77 ## Duration:  113
**** Call ## 78 ## Duration:  72
**** Call ## 79 ## Duration:  95
**** Call ## 80 ## Duration:  80
**** Call ## 81 ## Duration:  65
      ✓ should create comment (1018ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  59 (ERR)
      ✓ should enforce comment body (59ms)
**** Call ## 84 ## Duration:  850 (ERR)
      ✓ should disallow non-existent article (850ms)
    Get
**** Call ## 85 ## Duration:  310
      ✓ should get all comments for article (310ms)
    Delete
**** Call ## 86 ## Duration:  159
      ✓ should delete comment (160ms)
**** Call ## 87 ## Duration:  70 (ERR)
      ✓ only comment author should be able to delete comment (70ms)
**** Call ## 88 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  77 (ERR)
      ✓ should disallow deleting unknown comment (77ms)

  User
    Create
**** Call ## 90 ## Duration:  111
      ✓ should create user (112ms)
**** Call ## 91 ## Duration:  37 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  83 (ERR)
      ✓ should disallow same email (83ms)
**** Call ## 93 ## Duration:  33 (ERR)
**** Call ## 94 ## Duration:  825 (ERR)
**** Call ## 95 ## Duration:  31 (ERR)
**** Call ## 96 ## Duration:  22 (ERR)
      ✓ should enforce required fields (913ms)
    Login
**** Call ## 97 ## Duration:  96
      ✓ should login (96ms)
**** Call ## 98 ## Duration:  46 (ERR)
      ✓ should disallow unknown email (46ms)
**** Call ## 99 ## Duration:  47 (ERR)
      ✓ should disallow wrong password (47ms)
**** Call ## 100 ## Duration:  30 (ERR)
**** Call ## 101 ## Duration:  896 (ERR)
**** Call ## 102 ## Duration:  40 (ERR)
      ✓ should enforce required fields (966ms)
    Get
**** Call ## 103 ## Duration:  98
      ✓ should get current user (98ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  42 (ERR)
**** Call ## 106 ## Duration:  48 (ERR)
**** Call ## 107 ## Duration:  758 (ERR)
      ✓ should disallow bad tokens (874ms)
    Profile
**** Call ## 108 ## Duration:  71
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  314
**** Call ## 111 ## Duration:  138
**** Call ## 112 ## Duration:  125
**** Call ## 113 ## Duration:  95
**** Call ## 114 ## Duration:  79
**** Call ## 115 ## Duration:  345
**** Call ## 116 ## Duration:  133
**** Call ## 117 ## Duration:  159
**** Call ## 118 ## Duration:  125
**** Call ## 119 ## Duration:  144
      ✓ should follow/unfollow user (1659ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  122
**** Call ## 122 ## Duration:  70
**** Call ## 123 ## Duration:  98
**** Call ## 124 ## Duration:  69
      ✓ should update user (360ms)
**** Call ## 125 ## Duration:  36 (ERR)
**** Call ## 126 ## Duration:  76 (ERR)
      ✓ should disallow missing token/email in update (112ms)
**** Call ## 127 ## Duration:  123
**** Call ## 128 ## Duration:  56 (ERR)
      ✓ should disallow reusing email (180ms)

  Util
    Ping
**** Call ## 129 ## Duration:  29
      ✓ should ping


  58 passing (17s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  217
**** Call ## 1 ## Duration:  129
**** Call ## 2 ## Duration:  108
    Create
**** Call ## 3 ## Duration:  101
      ✓ should create article (104ms)
**** Call ## 4 ## Duration:  86
      ✓ should create article with tags (87ms)
**** Call ## 5 ## Duration:  33 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  186 (ERR)
**** Call ## 7 ## Duration:  68 (ERR)
**** Call ## 8 ## Duration:  72 (ERR)
**** Call ## 9 ## Duration:  65 (ERR)
      ✓ should enforce required fields (393ms)
    Get
**** Call ## 10 ## Duration:  90
      ✓ should get article by slug (90ms)
**** Call ## 11 ## Duration:  79
      ✓ should get article with tags by slug (80ms)
**** Call ## 12 ## Duration:  41 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  227
**** Call ## 14 ## Duration:  125
**** Call ## 15 ## Duration:  119
      ✓ should update article (472ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  26 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  73 (ERR)
      ✓ should disallow updating non-existent article (74ms)
**** Call ## 20 ## Duration:  86 (ERR)
      ✓ should disallow non-author from updating (86ms)
    Favorite
**** Call ## 21 ## Duration:  139
**** Call ## 22 ## Duration:  140
      ✓ should favorite article (279ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (73ms)
**** Call ## 25 ## Duration:  129
      ✓ should unfavorite article (129ms)
    Delete
**** Call ## 26 ## Duration:  111
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (154ms)
**** Call ## 28 ## Duration:  22 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  75 (ERR)
      ✓ should disallow deleting unknown article (75ms)
**** Call ## 30 ## Duration:  72 (ERR)
      ✓ should disallow deleting article by non-author (73ms)
    List
**** Call ## 31 ## Duration:  226
**** Call ## 32 ## Duration:  100
**** Call ## 33 ## Duration:  92
**** Call ## 34 ## Duration:  180
**** Call ## 35 ## Duration:  83
**** Call ## 36 ## Duration:  86
**** Call ## 37 ## Duration:  76
**** Call ## 38 ## Duration:  79
**** Call ## 39 ## Duration:  80
**** Call ## 40 ## Duration:  86
**** Call ## 41 ## Duration:  92
**** Call ## 42 ## Duration:  74
**** Call ## 43 ## Duration:  79
**** Call ## 44 ## Duration:  81
**** Call ## 45 ## Duration:  67
**** Call ## 46 ## Duration:  83
**** Call ## 47 ## Duration:  93
**** Call ## 48 ## Duration:  70
**** Call ## 49 ## Duration:  106
**** Call ## 50 ## Duration:  159
**** Call ## 51 ## Duration:  458
      ✓ should list articles (458ms)
**** Call ## 52 ## Duration:  130
**** Call ## 53 ## Duration:  486
      ✓ should list articles with tag (616ms)
**** Call ## 54 ## Duration:  199
      ✓ should list articles by author (199ms)
**** Call ## 55 ## Duration:  46
      ✓ should list articles favorited by user (47ms)
**** Call ## 56 ## Duration:  264
**** Call ## 57 ## Duration:  116
      ✓ should list articles by limit/offset (381ms)
**** Call ## 58 ## Duration:  542
      ✓ should list articles when authenticated (543ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  27 (ERR)
**** Call ## 59 ## Duration:  27 (ERR)
**** Call ## 60 ## Duration:  29 (ERR)
**** Call ## 62 ## Duration:  90
**** Call ## 63 ## Duration:  153
**** Call ## 64 ## Duration:  247
**** Call ## 65 ## Duration:  181
**** Call ## 66 ## Duration:  347
      ✓ should get feed (1020ms)
**** Call ## 67 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  98
      ✓ should get tags (99ms)

  Comment
**** Call ## 69 ## Duration:  152
**** Call ## 70 ## Duration:  123
**** Call ## 71 ## Duration:  83
    Create
**** Call ## 72 ## Duration:  112
**** Call ## 73 ## Duration:  83
**** Call ## 74 ## Duration:  112
**** Call ## 75 ## Duration:  100
**** Call ## 76 ## Duration:  98
**** Call ## 77 ## Duration:  87
**** Call ## 78 ## Duration:  89
**** Call ## 79 ## Duration:  83
**** Call ## 80 ## Duration:  141
**** Call ## 81 ## Duration:  77
      ✓ should create comment (985ms)
**** Call ## 82 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (49ms)
**** Call ## 84 ## Duration:  58 (ERR)
      ✓ should disallow non-existent article (59ms)
    Get
**** Call ## 85 ## Duration:  274
      ✓ should get all comments for article (275ms)
    Delete
**** Call ## 86 ## Duration:  152
      ✓ should delete comment (153ms)
**** Call ## 87 ## Duration:  52 (ERR)
      ✓ only comment author should be able to delete comment (52ms)
**** Call ## 88 ## Duration:  20 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  140 (ERR)
      ✓ should disallow deleting unknown comment (140ms)

  User
    Create
**** Call ## 90 ## Duration:  113
      ✓ should create user (114ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (41ms)
**** Call ## 92 ## Duration:  65 (ERR)
      ✓ should disallow same email (66ms)
**** Call ## 93 ## Duration:  23 (ERR)
**** Call ## 94 ## Duration:  29 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  30 (ERR)
      ✓ should enforce required fields (107ms)
    Login
**** Call ## 97 ## Duration:  290
      ✓ should login (291ms)
**** Call ## 98 ## Duration:  41 (ERR)
      ✓ should disallow unknown email (41ms)
**** Call ## 99 ## Duration:  44 (ERR)
      ✓ should disallow wrong password (45ms)
**** Call ## 100 ## Duration:  43 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (86ms)
    Get
**** Call ## 103 ## Duration:  153
      ✓ should get current user (154ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  32 (ERR)
**** Call ## 106 ## Duration:  27 (ERR)
**** Call ## 107 ## Duration:  38 (ERR)
      ✓ should disallow bad tokens (121ms)
    Profile
**** Call ## 108 ## Duration:  59
      ✓ should get profile (60ms)
**** Call ## 109 ## Duration:  36 (ERR)
      ✓ should disallow unknown username
**** Call ## 110 ## Duration:  134
**** Call ## 111 ## Duration:  125
**** Call ## 112 ## Duration:  110
**** Call ## 113 ## Duration:  65
**** Call ## 114 ## Duration:  58
**** Call ## 115 ## Duration:  123
**** Call ## 116 ## Duration:  101
**** Call ## 117 ## Duration:  127
**** Call ## 118 ## Duration:  102
**** Call ## 119 ## Duration:  128
      ✓ should follow/unfollow user (1075ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  84
**** Call ## 122 ## Duration:  71
**** Call ## 123 ## Duration:  49
**** Call ## 124 ## Duration:  69
      ✓ should update user (274ms)
**** Call ## 125 ## Duration:  132 (ERR)
**** Call ## 126 ## Duration:  109 (ERR)
      ✓ should disallow missing token/email in update (241ms)
**** Call ## 127 ## Duration:  199
**** Call ## 128 ## Duration:  157 (ERR)
      ✓ should disallow reusing email (357ms)

  Util
    Ping
**** Call ## 129 ## Duration:  89
      ✓ should ping (89ms)


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  369
**** Call ## 1 ## Duration:  155
**** Call ## 2 ## Duration:  209
    Create
**** Call ## 3 ## Duration:  225
      ✓ should create article (227ms)
**** Call ## 4 ## Duration:  128
      ✓ should create article with tags (131ms)
**** Call ## 5 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated user (88ms)
**** Call ## 6 ## Duration:  150 (ERR)
**** Call ## 7 ## Duration:  117 (ERR)
**** Call ## 8 ## Duration:  122 (ERR)
**** Call ## 9 ## Duration:  116 (ERR)
      ✓ should enforce required fields (506ms)
    Get
**** Call ## 10 ## Duration:  167
      ✓ should get article by slug (167ms)
**** Call ## 11 ## Duration:  247
      ✓ should get article with tags by slug (247ms)
**** Call ## 12 ## Duration:  101 (ERR)
      ✓ should disallow unknown slug (101ms)
    Update
**** Call ## 13 ## Duration:  248
**** Call ## 14 ## Duration:  274
**** Call ## 15 ## Duration:  218
      ✓ should update article (742ms)
**** Call ## 16 ## Duration:  81 (ERR)
      ✓ should disallow missing mutation (82ms)
**** Call ## 17 ## Duration:  98 (ERR)
      ✓ should disallow empty mutation (99ms)
**** Call ## 18 ## Duration:  116 (ERR)
      ✓ should disallow unauthenticated update (117ms)
**** Call ## 19 ## Duration:  135 (ERR)
      ✓ should disallow updating non-existent article (136ms)
**** Call ## 20 ## Duration:  134 (ERR)
      ✓ should disallow non-author from updating (134ms)
    Favorite
**** Call ## 21 ## Duration:  193
**** Call ## 22 ## Duration:  192
      ✓ should favorite article (385ms)
**** Call ## 23 ## Duration:  82 (ERR)
      ✓ should disallow favoriting by unauthenticated user (82ms)
**** Call ## 24 ## Duration:  167 (ERR)
      ✓ should disallow favoriting unknown article (167ms)
**** Call ## 25 ## Duration:  240
      ✓ should unfavorite article (240ms)
    Delete
**** Call ## 26 ## Duration:  180
**** Call ## 27 ## Duration:  145 (ERR)
      ✓ should delete article (325ms)
**** Call ## 28 ## Duration:  90 (ERR)
      ✓ should disallow deleting by unauthenticated user (90ms)
**** Call ## 29 ## Duration:  115 (ERR)
      ✓ should disallow deleting unknown article (115ms)
**** Call ## 30 ## Duration:  134 (ERR)
      ✓ should disallow deleting article by non-author (136ms)
    List
**** Call ## 31 ## Duration:  187
**** Call ## 32 ## Duration:  148
**** Call ## 33 ## Duration:  161
**** Call ## 34 ## Duration:  130
**** Call ## 35 ## Duration:  144
**** Call ## 36 ## Duration:  190
**** Call ## 37 ## Duration:  215
**** Call ## 38 ## Duration:  130
**** Call ## 39 ## Duration:  153
**** Call ## 40 ## Duration:  137
**** Call ## 41 ## Duration:  169
**** Call ## 42 ## Duration:  144
**** Call ## 43 ## Duration:  172
**** Call ## 44 ## Duration:  141
**** Call ## 45 ## Duration:  163
**** Call ## 46 ## Duration:  148
**** Call ## 47 ## Duration:  169
**** Call ## 48 ## Duration:  159
**** Call ## 49 ## Duration:  142
**** Call ## 50 ## Duration:  168
**** Call ## 51 ## Duration:  681
      ✓ should list articles (681ms)
**** Call ## 52 ## Duration:  267
**** Call ## 53 ## Duration:  512
      ✓ should list articles with tag (780ms)
**** Call ## 54 ## Duration:  415
      ✓ should list articles by author (417ms)
**** Call ## 55 ## Duration:  160
      ✓ should list articles favorited by user (160ms)
**** Call ## 56 ## Duration:  160
**** Call ## 57 ## Duration:  194
      ✓ should list articles by limit/offset (355ms)
**** Call ## 58 ## Duration:  712
      ✓ should list articles when authenticated (712ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  81 (ERR)
**** Call ## 61 ## Duration:  96 (ERR)
**** Call ## 59 ## Duration:  126 (ERR)
**** Call ## 62 ## Duration:  191
**** Call ## 63 ## Duration:  230
**** Call ## 64 ## Duration:  317
**** Call ## 65 ## Duration:  321
**** Call ## 66 ## Duration:  490
      ✓ should get feed (1551ms)
**** Call ## 67 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated feed (81ms)
    Tags
**** Call ## 68 ## Duration:  155
      ✓ should get tags (155ms)

  Comment
**** Call ## 69 ## Duration:  251
**** Call ## 70 ## Duration:  167
**** Call ## 71 ## Duration:  155
    Create
**** Call ## 72 ## Duration:  205
**** Call ## 73 ## Duration:  174
**** Call ## 74 ## Duration:  199
**** Call ## 75 ## Duration:  171
**** Call ## 76 ## Duration:  195
**** Call ## 77 ## Duration:  189
**** Call ## 78 ## Duration:  150
**** Call ## 79 ## Duration:  137
**** Call ## 80 ## Duration:  156
**** Call ## 81 ## Duration:  256
      ✓ should create comment (1835ms)
**** Call ## 82 ## Duration:  136 (ERR)
      ✓ should disallow unauthenticated user (136ms)
**** Call ## 83 ## Duration:  141 (ERR)
      ✓ should enforce comment body (141ms)
**** Call ## 84 ## Duration:  123 (ERR)
      ✓ should disallow non-existent article (123ms)
    Get
**** Call ## 85 ## Duration:  264
      ✓ should get all comments for article (264ms)
    Delete
**** Call ## 86 ## Duration:  161
      ✓ should delete comment (162ms)
**** Call ## 87 ## Duration:  127 (ERR)
      ✓ only comment author should be able to delete comment (127ms)
**** Call ## 88 ## Duration:  117 (ERR)
      ✓ should disallow unauthenticated user (118ms)
**** Call ## 89 ## Duration:  144 (ERR)
      ✓ should disallow deleting unknown comment (145ms)

  User
    Create
**** Call ## 90 ## Duration:  172
      ✓ should create user (173ms)
**** Call ## 91 ## Duration:  113 (ERR)
      ✓ should disallow same username (113ms)
**** Call ## 92 ## Duration:  156 (ERR)
      ✓ should disallow same email (156ms)
**** Call ## 93 ## Duration:  101 (ERR)
**** Call ## 94 ## Duration:  81 (ERR)
**** Call ## 95 ## Duration:  79 (ERR)
**** Call ## 96 ## Duration:  87 (ERR)
      ✓ should enforce required fields (350ms)
    Login
**** Call ## 97 ## Duration:  191
      ✓ should login (191ms)
**** Call ## 98 ## Duration:  101 (ERR)
      ✓ should disallow unknown email (101ms)
**** Call ## 99 ## Duration:  103 (ERR)
      ✓ should disallow wrong password (104ms)
**** Call ## 100 ## Duration:  80 (ERR)
**** Call ## 101 ## Duration:  122 (ERR)
**** Call ## 102 ## Duration:  91 (ERR)
      ✓ should enforce required fields (293ms)
    Get
**** Call ## 103 ## Duration:  172
      ✓ should get current user (172ms)
**** Call ## 104 ## Duration:  164 (ERR)
**** Call ## 105 ## Duration:  90 (ERR)
**** Call ## 106 ## Duration:  120 (ERR)
**** Call ## 107 ## Duration:  85 (ERR)
      ✓ should disallow bad tokens (460ms)
    Profile
**** Call ## 108 ## Duration:  132
      ✓ should get profile (132ms)
**** Call ## 109 ## Duration:  115 (ERR)
      ✓ should disallow unknown username (115ms)
**** Call ## 110 ## Duration:  171
**** Call ## 111 ## Duration:  214
**** Call ## 112 ## Duration:  179
**** Call ## 113 ## Duration:  160
**** Call ## 114 ## Duration:  99
**** Call ## 115 ## Duration:  192
**** Call ## 116 ## Duration:  187
**** Call ## 117 ## Duration:  218
**** Call ## 118 ## Duration:  184
**** Call ## 119 ## Duration:  189
      ✓ should follow/unfollow user (1794ms)
**** Call ## 120 ## Duration:  98 (ERR)
      ✓ should disallow following with bad token (98ms)
    Update
**** Call ## 121 ## Duration:  143
**** Call ## 122 ## Duration:  124
**** Call ## 123 ## Duration:  120
**** Call ## 124 ## Duration:  129
      ✓ should update user (518ms)
**** Call ## 125 ## Duration:  79 (ERR)
**** Call ## 126 ## Duration:  136 (ERR)
      ✓ should disallow missing token/email in update (215ms)
**** Call ## 127 ## Duration:  675
**** Call ## 128 ## Duration:  115 (ERR)
      ✓ should disallow reusing email (790ms)

  Util
    Ping
**** Call ## 129 ## Duration:  129
      ✓ should ping (129ms)


  58 passing (23s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  237
**** Call ## 1 ## Duration:  191
**** Call ## 2 ## Duration:  168
    Create
**** Call ## 3 ## Duration:  280
      ✓ should create article (282ms)
**** Call ## 4 ## Duration:  267
      ✓ should create article with tags (269ms)
**** Call ## 5 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated user (86ms)
**** Call ## 6 ## Duration:  132 (ERR)
**** Call ## 7 ## Duration:  142 (ERR)
**** Call ## 8 ## Duration:  114 (ERR)
**** Call ## 9 ## Duration:  165 (ERR)
      ✓ should enforce required fields (556ms)
    Get
**** Call ## 10 ## Duration:  161
      ✓ should get article by slug (162ms)
**** Call ## 11 ## Duration:  151
      ✓ should get article with tags by slug (151ms)
**** Call ## 12 ## Duration:  103 (ERR)
      ✓ should disallow unknown slug (103ms)
    Update
**** Call ## 13 ## Duration:  205
**** Call ## 14 ## Duration:  240
**** Call ## 15 ## Duration:  198
      ✓ should update article (644ms)
**** Call ## 16 ## Duration:  80 (ERR)
      ✓ should disallow missing mutation (81ms)
**** Call ## 17 ## Duration:  123 (ERR)
      ✓ should disallow empty mutation (124ms)
**** Call ## 18 ## Duration:  91 (ERR)
      ✓ should disallow unauthenticated update (91ms)
**** Call ## 19 ## Duration:  124 (ERR)
      ✓ should disallow updating non-existent article (126ms)
**** Call ## 20 ## Duration:  134 (ERR)
      ✓ should disallow non-author from updating (134ms)
    Favorite
**** Call ## 21 ## Duration:  242
**** Call ## 22 ## Duration:  222
      ✓ should favorite article (464ms)
**** Call ## 23 ## Duration:  82 (ERR)
      ✓ should disallow favoriting by unauthenticated user (82ms)
**** Call ## 24 ## Duration:  135 (ERR)
      ✓ should disallow favoriting unknown article (135ms)
**** Call ## 25 ## Duration:  191
      ✓ should unfavorite article (191ms)
    Delete
**** Call ## 26 ## Duration:  328
**** Call ## 27 ## Duration:  98 (ERR)
      ✓ should delete article (426ms)
**** Call ## 28 ## Duration:  77 (ERR)
      ✓ should disallow deleting by unauthenticated user (78ms)
**** Call ## 29 ## Duration:  131 (ERR)
      ✓ should disallow deleting unknown article (131ms)
**** Call ## 30 ## Duration:  128 (ERR)
      ✓ should disallow deleting article by non-author (129ms)
    List
**** Call ## 31 ## Duration:  174
**** Call ## 32 ## Duration:  162
**** Call ## 33 ## Duration:  143
**** Call ## 34 ## Duration:  185
**** Call ## 35 ## Duration:  182
**** Call ## 36 ## Duration:  96
**** Call ## 37 ## Duration:  74
**** Call ## 38 ## Duration:  86
**** Call ## 39 ## Duration:  79
**** Call ## 40 ## Duration:  91
**** Call ## 41 ## Duration:  116
**** Call ## 42 ## Duration:  83
**** Call ## 43 ## Duration:  73
**** Call ## 44 ## Duration:  81
**** Call ## 45 ## Duration:  79
**** Call ## 46 ## Duration:  181
**** Call ## 47 ## Duration:  113
**** Call ## 48 ## Duration:  70
**** Call ## 49 ## Duration:  90
**** Call ## 50 ## Duration:  77
**** Call ## 51 ## Duration:  470
      ✓ should list articles (470ms)
**** Call ## 52 ## Duration:  179
**** Call ## 53 ## Duration:  366
      ✓ should list articles with tag (545ms)
**** Call ## 54 ## Duration:  217
      ✓ should list articles by author (217ms)
**** Call ## 55 ## Duration:  62
      ✓ should list articles favorited by user (62ms)
**** Call ## 56 ## Duration:  147
**** Call ## 57 ## Duration:  119
      ✓ should list articles by limit/offset (266ms)
**** Call ## 58 ## Duration:  513
      ✓ should list articles when authenticated (513ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 61 ## Duration:  29 (ERR)
**** Call ## 59 ## Duration:  36 (ERR)
**** Call ## 62 ## Duration:  78
**** Call ## 63 ## Duration:  134
**** Call ## 64 ## Duration:  304
**** Call ## 65 ## Duration:  108
**** Call ## 66 ## Duration:  405
      ✓ should get feed (1031ms)
**** Call ## 67 ## Duration:  33 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  102
      ✓ should get tags (102ms)

  Comment
**** Call ## 69 ## Duration:  127
**** Call ## 70 ## Duration:  110
**** Call ## 71 ## Duration:  80
    Create
**** Call ## 72 ## Duration:  113
**** Call ## 73 ## Duration:  92
**** Call ## 74 ## Duration:  97
**** Call ## 75 ## Duration:  205
**** Call ## 76 ## Duration:  149
**** Call ## 77 ## Duration:  139
**** Call ## 78 ## Duration:  110
**** Call ## 79 ## Duration:  85
**** Call ## 80 ## Duration:  94
**** Call ## 81 ## Duration:  77
      ✓ should create comment (1162ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  114 (ERR)
      ✓ should enforce comment body (114ms)
**** Call ## 84 ## Duration:  73 (ERR)
      ✓ should disallow non-existent article (74ms)
    Get
**** Call ## 85 ## Duration:  188
      ✓ should get all comments for article (188ms)
    Delete
**** Call ## 86 ## Duration:  110
      ✓ should delete comment (111ms)
**** Call ## 87 ## Duration:  61 (ERR)
      ✓ only comment author should be able to delete comment (62ms)
**** Call ## 88 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  132 (ERR)
      ✓ should disallow deleting unknown comment (132ms)

  User
    Create
**** Call ## 90 ## Duration:  119
      ✓ should create user (119ms)
**** Call ## 91 ## Duration:  34 (ERR)
      ✓ should disallow same username
**** Call ## 92 ## Duration:  71 (ERR)
      ✓ should disallow same email (73ms)
**** Call ## 93 ## Duration:  25 (ERR)
**** Call ## 94 ## Duration:  31 (ERR)
**** Call ## 95 ## Duration:  25 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (105ms)
    Login
**** Call ## 97 ## Duration:  116
      ✓ should login (116ms)
**** Call ## 98 ## Duration:  32 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  62 (ERR)
      ✓ should disallow wrong password (62ms)
**** Call ## 100 ## Duration:  21 (ERR)
**** Call ## 101 ## Duration:  31 (ERR)
**** Call ## 102 ## Duration:  21 (ERR)
      ✓ should enforce required fields (74ms)
    Get
**** Call ## 103 ## Duration:  72
      ✓ should get current user (72ms)
**** Call ## 104 ## Duration:  28 (ERR)
**** Call ## 105 ## Duration:  26 (ERR)
**** Call ## 106 ## Duration:  24 (ERR)
**** Call ## 107 ## Duration:  28 (ERR)
      ✓ should disallow bad tokens (108ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  45 (ERR)
      ✓ should disallow unknown username (46ms)
**** Call ## 110 ## Duration:  106
**** Call ## 111 ## Duration:  141
**** Call ## 112 ## Duration:  129
**** Call ## 113 ## Duration:  71
**** Call ## 114 ## Duration:  51
**** Call ## 115 ## Duration:  101
**** Call ## 116 ## Duration:  128
**** Call ## 117 ## Duration:  140
**** Call ## 118 ## Duration:  170
**** Call ## 119 ## Duration:  92
      ✓ should follow/unfollow user (1132ms)
**** Call ## 120 ## Duration:  33 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  85
**** Call ## 122 ## Duration:  54
**** Call ## 123 ## Duration:  66
**** Call ## 124 ## Duration:  53
      ✓ should update user (261ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  119 (ERR)
      ✓ should disallow missing token/email in update (142ms)
**** Call ## 127 ## Duration:  121
**** Call ## 128 ## Duration:  78 (ERR)
      ✓ should disallow reusing email (199ms)

  Util
    Ping
**** Call ## 129 ## Duration:  27
      ✓ should ping


  58 passing (16s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  166
**** Call ## 1 ## Duration:  108
**** Call ## 2 ## Duration:  106
    Create
**** Call ## 3 ## Duration:  82
      ✓ should create article (83ms)
**** Call ## 4 ## Duration:  100
      ✓ should create article with tags (101ms)
**** Call ## 5 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  87 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  67 (ERR)
**** Call ## 9 ## Duration:  71 (ERR)
      ✓ should enforce required fields (297ms)
    Get
**** Call ## 10 ## Duration:  96
      ✓ should get article by slug (96ms)
**** Call ## 11 ## Duration:  80
      ✓ should get article with tags by slug (80ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (40ms)
    Update
**** Call ## 13 ## Duration:  165
**** Call ## 14 ## Duration:  169
**** Call ## 15 ## Duration:  151
      ✓ should update article (493ms)
**** Call ## 16 ## Duration:  32 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  39 (ERR)
      ✓ should disallow empty mutation (39ms)
**** Call ## 18 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  72 (ERR)
      ✓ should disallow updating non-existent article (72ms)
**** Call ## 20 ## Duration:  69 (ERR)
      ✓ should disallow non-author from updating (69ms)
    Favorite
**** Call ## 21 ## Duration:  236
**** Call ## 22 ## Duration:  124
      ✓ should favorite article (362ms)
**** Call ## 23 ## Duration:  24 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  72 (ERR)
      ✓ should disallow favoriting unknown article (73ms)
**** Call ## 25 ## Duration:  132
      ✓ should unfavorite article (132ms)
    Delete
**** Call ## 26 ## Duration:  104
**** Call ## 27 ## Duration:  37 (ERR)
      ✓ should delete article (142ms)
**** Call ## 28 ## Duration:  26 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  64 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  58 (ERR)
      ✓ should disallow deleting article by non-author (59ms)
    List
**** Call ## 31 ## Duration:  81
**** Call ## 32 ## Duration:  79
**** Call ## 33 ## Duration:  73
**** Call ## 34 ## Duration:  128
**** Call ## 35 ## Duration:  88
**** Call ## 36 ## Duration:  83
**** Call ## 37 ## Duration:  99
**** Call ## 38 ## Duration:  128
**** Call ## 39 ## Duration:  81
**** Call ## 40 ## Duration:  127
**** Call ## 41 ## Duration:  107
**** Call ## 42 ## Duration:  101
**** Call ## 43 ## Duration:  85
**** Call ## 44 ## Duration:  80
**** Call ## 45 ## Duration:  80
**** Call ## 46 ## Duration:  78
**** Call ## 47 ## Duration:  72
**** Call ## 48 ## Duration:  78
**** Call ## 49 ## Duration:  80
**** Call ## 50 ## Duration:  83
**** Call ## 51 ## Duration:  474
      ✓ should list articles (474ms)
**** Call ## 52 ## Duration:  150
**** Call ## 53 ## Duration:  440
      ✓ should list articles with tag (591ms)
**** Call ## 54 ## Duration:  188
      ✓ should list articles by author (188ms)
**** Call ## 55 ## Duration:  46
      ✓ should list articles favorited by user (46ms)
**** Call ## 56 ## Duration:  75
**** Call ## 57 ## Duration:  88
      ✓ should list articles by limit/offset (164ms)
**** Call ## 58 ## Duration:  459
      ✓ should list articles when authenticated (460ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 61 ## Duration:  26 (ERR)
**** Call ## 59 ## Duration:  27 (ERR)
**** Call ## 62 ## Duration:  171
**** Call ## 63 ## Duration:  133
**** Call ## 64 ## Duration:  317
**** Call ## 65 ## Duration:  135
**** Call ## 66 ## Duration:  569
      ✓ should get feed (1327ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  106
      ✓ should get tags (106ms)

  Comment
**** Call ## 69 ## Duration:  91
**** Call ## 70 ## Duration:  178
**** Call ## 71 ## Duration:  90
    Create
**** Call ## 72 ## Duration:  147
**** Call ## 73 ## Duration:  97
**** Call ## 74 ## Duration:  115
**** Call ## 75 ## Duration:  113
**** Call ## 76 ## Duration:  98
**** Call ## 77 ## Duration:  122
**** Call ## 78 ## Duration:  90
**** Call ## 79 ## Duration:  96
**** Call ## 80 ## Duration:  92
**** Call ## 81 ## Duration:  109
      ✓ should create comment (1081ms)
**** Call ## 82 ## Duration:  30 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  52 (ERR)
      ✓ should enforce comment body (52ms)
**** Call ## 84 ## Duration:  54 (ERR)
      ✓ should disallow non-existent article (54ms)
    Get
**** Call ## 85 ## Duration:  201
      ✓ should get all comments for article (201ms)
    Delete
**** Call ## 86 ## Duration:  140
      ✓ should delete comment (140ms)
**** Call ## 87 ## Duration:  55 (ERR)
      ✓ only comment author should be able to delete comment (57ms)
**** Call ## 88 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown comment (65ms)

  User
    Create
**** Call ## 90 ## Duration:  110
      ✓ should create user (110ms)
**** Call ## 91 ## Duration:  44 (ERR)
      ✓ should disallow same username (45ms)
**** Call ## 92 ## Duration:  61 (ERR)
      ✓ should disallow same email (63ms)
**** Call ## 93 ## Duration:  28 (ERR)
**** Call ## 94 ## Duration:  27 (ERR)
**** Call ## 95 ## Duration:  39 (ERR)
**** Call ## 96 ## Duration:  66 (ERR)
      ✓ should enforce required fields (161ms)
    Login
**** Call ## 97 ## Duration:  73
      ✓ should login (73ms)
**** Call ## 98 ## Duration:  42 (ERR)
      ✓ should disallow unknown email (43ms)
**** Call ## 99 ## Duration:  60 (ERR)
      ✓ should disallow wrong password (60ms)
**** Call ## 100 ## Duration:  22 (ERR)
**** Call ## 101 ## Duration:  22 (ERR)
**** Call ## 102 ## Duration:  26 (ERR)
      ✓ should enforce required fields (71ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (46ms)
**** Call ## 104 ## Duration:  23 (ERR)
**** Call ## 105 ## Duration:  30 (ERR)
**** Call ## 106 ## Duration:  28 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (104ms)
    Profile
**** Call ## 108 ## Duration:  67
      ✓ should get profile (67ms)
**** Call ## 109 ## Duration:  44 (ERR)
      ✓ should disallow unknown username (44ms)
**** Call ## 110 ## Duration:  89
**** Call ## 111 ## Duration:  131
**** Call ## 112 ## Duration:  153
**** Call ## 113 ## Duration:  110
**** Call ## 114 ## Duration:  76
**** Call ## 115 ## Duration:  111
**** Call ## 116 ## Duration:  105
**** Call ## 117 ## Duration:  156
**** Call ## 118 ## Duration:  117
**** Call ## 119 ## Duration:  197
      ✓ should follow/unfollow user (1249ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  125
**** Call ## 122 ## Duration:  115
**** Call ## 123 ## Duration:  69
**** Call ## 124 ## Duration:  70
      ✓ should update user (379ms)
**** Call ## 125 ## Duration:  23 (ERR)
**** Call ## 126 ## Duration:  49 (ERR)
      ✓ should disallow missing token/email in update (72ms)
**** Call ## 127 ## Duration:  110
**** Call ## 128 ## Duration:  69 (ERR)
      ✓ should disallow reusing email (180ms)

  Util
    Ping
**** Call ## 129 ## Duration:  26
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  164
**** Call ## 1 ## Duration:  132
**** Call ## 2 ## Duration:  169
    Create
**** Call ## 3 ## Duration:  87
      ✓ should create article (89ms)
**** Call ## 4 ## Duration:  82
      ✓ should create article with tags (84ms)
**** Call ## 5 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  74 (ERR)
**** Call ## 7 ## Duration:  91 (ERR)
**** Call ## 8 ## Duration:  61 (ERR)
**** Call ## 9 ## Duration:  76 (ERR)
      ✓ should enforce required fields (304ms)
    Get
**** Call ## 10 ## Duration:  80
      ✓ should get article by slug (80ms)
**** Call ## 11 ## Duration:  87
      ✓ should get article with tags by slug (87ms)
**** Call ## 12 ## Duration:  48 (ERR)
      ✓ should disallow unknown slug (48ms)
    Update
**** Call ## 13 ## Duration:  146
**** Call ## 14 ## Duration:  139
**** Call ## 15 ## Duration:  158
      ✓ should update article (446ms)
**** Call ## 16 ## Duration:  35 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  34 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  39 (ERR)
      ✓ should disallow unauthenticated update (39ms)
**** Call ## 19 ## Duration:  87 (ERR)
      ✓ should disallow updating non-existent article (88ms)
**** Call ## 20 ## Duration:  64 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  115
**** Call ## 22 ## Duration:  88
      ✓ should favorite article (204ms)
**** Call ## 23 ## Duration:  22 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  73 (ERR)
      ✓ should disallow favoriting unknown article (73ms)
**** Call ## 25 ## Duration:  105
      ✓ should unfavorite article (105ms)
    Delete
**** Call ## 26 ## Duration:  106
**** Call ## 27 ## Duration:  46 (ERR)
      ✓ should delete article (152ms)
**** Call ## 28 ## Duration:  21 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (66ms)
**** Call ## 30 ## Duration:  56 (ERR)
      ✓ should disallow deleting article by non-author (57ms)
    List
**** Call ## 31 ## Duration:  105
**** Call ## 32 ## Duration:  115
**** Call ## 33 ## Duration:  97
**** Call ## 34 ## Duration:  93
**** Call ## 35 ## Duration:  85
**** Call ## 36 ## Duration:  84
**** Call ## 37 ## Duration:  81
**** Call ## 38 ## Duration:  71
**** Call ## 39 ## Duration:  70
**** Call ## 40 ## Duration:  88
**** Call ## 41 ## Duration:  82
**** Call ## 42 ## Duration:  75
**** Call ## 43 ## Duration:  98
**** Call ## 44 ## Duration:  95
**** Call ## 45 ## Duration:  77
**** Call ## 46 ## Duration:  74
**** Call ## 47 ## Duration:  82
**** Call ## 48 ## Duration:  78
**** Call ## 49 ## Duration:  87
**** Call ## 50 ## Duration:  91
**** Call ## 51 ## Duration:  425
      ✓ should list articles (425ms)
**** Call ## 52 ## Duration:  185
**** Call ## 53 ## Duration:  363
      ✓ should list articles with tag (548ms)
**** Call ## 54 ## Duration:  187
      ✓ should list articles by author (187ms)
**** Call ## 55 ## Duration:  56
      ✓ should list articles favorited by user (56ms)
**** Call ## 56 ## Duration:  99
**** Call ## 57 ## Duration:  86
      ✓ should list articles by limit/offset (185ms)
**** Call ## 58 ## Duration:  473
      ✓ should list articles when authenticated (473ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  25 (ERR)
**** Call ## 61 ## Duration:  29 (ERR)
**** Call ## 59 ## Duration:  33 (ERR)
**** Call ## 62 ## Duration:  86
**** Call ## 63 ## Duration:  112
**** Call ## 64 ## Duration:  213
**** Call ## 65 ## Duration:  106
**** Call ## 66 ## Duration:  387
      ✓ should get feed (908ms)
**** Call ## 67 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  86
      ✓ should get tags (87ms)

  Comment
**** Call ## 69 ## Duration:  117
**** Call ## 70 ## Duration:  139
**** Call ## 71 ## Duration:  172
    Create
**** Call ## 72 ## Duration:  169
**** Call ## 73 ## Duration:  149
**** Call ## 74 ## Duration:  154
**** Call ## 75 ## Duration:  152
**** Call ## 76 ## Duration:  175
**** Call ## 77 ## Duration:  149
**** Call ## 78 ## Duration:  202
**** Call ## 79 ## Duration:  181
**** Call ## 80 ## Duration:  155
**** Call ## 81 ## Duration:  136
      ✓ should create comment (1622ms)
**** Call ## 82 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 83 ## Duration:  122 (ERR)
      ✓ should enforce comment body (123ms)
**** Call ## 84 ## Duration:  131 (ERR)
      ✓ should disallow non-existent article (131ms)
    Get
**** Call ## 85 ## Duration:  269
      ✓ should get all comments for article (269ms)
    Delete
**** Call ## 86 ## Duration:  212
      ✓ should delete comment (213ms)
**** Call ## 87 ## Duration:  121 (ERR)
      ✓ only comment author should be able to delete comment (121ms)
**** Call ## 88 ## Duration:  114 (ERR)
      ✓ should disallow unauthenticated user (114ms)
**** Call ## 89 ## Duration:  114 (ERR)
      ✓ should disallow deleting unknown comment (115ms)

  User
    Create
**** Call ## 90 ## Duration:  219
      ✓ should create user (220ms)
**** Call ## 91 ## Duration:  91 (ERR)
      ✓ should disallow same username (91ms)
**** Call ## 92 ## Duration:  148 (ERR)
      ✓ should disallow same email (148ms)
**** Call ## 93 ## Duration:  86 (ERR)
**** Call ## 94 ## Duration:  112 (ERR)
**** Call ## 95 ## Duration:  106 (ERR)
**** Call ## 96 ## Duration:  81 (ERR)
      ✓ should enforce required fields (385ms)
    Login
**** Call ## 97 ## Duration:  151
      ✓ should login (151ms)
**** Call ## 98 ## Duration:  111 (ERR)
      ✓ should disallow unknown email (111ms)
**** Call ## 99 ## Duration:  106 (ERR)
      ✓ should disallow wrong password (106ms)
**** Call ## 100 ## Duration:  133 (ERR)
**** Call ## 101 ## Duration:  122 (ERR)
**** Call ## 102 ## Duration:  114 (ERR)
      ✓ should enforce required fields (369ms)
    Get
**** Call ## 103 ## Duration:  107
      ✓ should get current user (107ms)
**** Call ## 104 ## Duration:  86 (ERR)
**** Call ## 105 ## Duration:  114 (ERR)
**** Call ## 106 ## Duration:  118 (ERR)
**** Call ## 107 ## Duration:  103 (ERR)
      ✓ should disallow bad tokens (423ms)
    Profile
**** Call ## 108 ## Duration:  128
      ✓ should get profile (128ms)
**** Call ## 109 ## Duration:  131 (ERR)
      ✓ should disallow unknown username (132ms)
**** Call ## 110 ## Duration:  209
**** Call ## 111 ## Duration:  209
**** Call ## 112 ## Duration:  191
**** Call ## 113 ## Duration:  173
**** Call ## 114 ## Duration:  154
**** Call ## 115 ## Duration:  226
**** Call ## 116 ## Duration:  181
**** Call ## 117 ## Duration:  161
**** Call ## 118 ## Duration:  197
**** Call ## 119 ## Duration:  233
      ✓ should follow/unfollow user (1936ms)
**** Call ## 120 ## Duration:  83 (ERR)
      ✓ should disallow following with bad token (84ms)
    Update
**** Call ## 121 ## Duration:  149
**** Call ## 122 ## Duration:  195
**** Call ## 123 ## Duration:  152
**** Call ## 124 ## Duration:  152
      ✓ should update user (649ms)
**** Call ## 125 ## Duration:  89 (ERR)
**** Call ## 126 ## Duration:  105 (ERR)
      ✓ should disallow missing token/email in update (195ms)
**** Call ## 127 ## Duration:  188
**** Call ## 128 ## Duration:  113 (ERR)
      ✓ should disallow reusing email (301ms)

  Util
    Ping
**** Call ## 129 ## Duration:  82
      ✓ should ping (82ms)


  58 passing (16s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  225
**** Call ## 1 ## Duration:  216
**** Call ## 2 ## Duration:  167
    Create
**** Call ## 3 ## Duration:  149
      ✓ should create article (152ms)
**** Call ## 4 ## Duration:  182
      ✓ should create article with tags (185ms)
**** Call ## 5 ## Duration:  114 (ERR)
      ✓ should disallow unauthenticated user (114ms)
**** Call ## 6 ## Duration:  153 (ERR)
**** Call ## 7 ## Duration:  122 (ERR)
**** Call ## 8 ## Duration:  154 (ERR)
**** Call ## 9 ## Duration:  134 (ERR)
      ✓ should enforce required fields (565ms)
    Get
**** Call ## 10 ## Duration:  138
      ✓ should get article by slug (139ms)
**** Call ## 11 ## Duration:  126
      ✓ should get article with tags by slug (126ms)
**** Call ## 12 ## Duration:  91 (ERR)
      ✓ should disallow unknown slug (91ms)
    Update
**** Call ## 13 ## Duration:  224
**** Call ## 14 ## Duration:  206
**** Call ## 15 ## Duration:  235
      ✓ should update article (669ms)
**** Call ## 16 ## Duration:  83 (ERR)
      ✓ should disallow missing mutation (83ms)
**** Call ## 17 ## Duration:  83 (ERR)
      ✓ should disallow empty mutation (84ms)
**** Call ## 18 ## Duration:  106 (ERR)
      ✓ should disallow unauthenticated update (107ms)
**** Call ## 19 ## Duration:  127 (ERR)
      ✓ should disallow updating non-existent article (128ms)
**** Call ## 20 ## Duration:  122 (ERR)
      ✓ should disallow non-author from updating (123ms)
    Favorite
**** Call ## 21 ## Duration:  245
**** Call ## 22 ## Duration:  167
      ✓ should favorite article (412ms)
**** Call ## 23 ## Duration:  86 (ERR)
      ✓ should disallow favoriting by unauthenticated user (86ms)
**** Call ## 24 ## Duration:  117 (ERR)
      ✓ should disallow favoriting unknown article (117ms)
**** Call ## 25 ## Duration:  229
      ✓ should unfavorite article (229ms)
    Delete
**** Call ## 26 ## Duration:  190
**** Call ## 27 ## Duration:  109 (ERR)
      ✓ should delete article (299ms)
**** Call ## 28 ## Duration:  93 (ERR)
      ✓ should disallow deleting by unauthenticated user (94ms)
**** Call ## 29 ## Duration:  148 (ERR)
      ✓ should disallow deleting unknown article (148ms)
**** Call ## 30 ## Duration:  151 (ERR)
      ✓ should disallow deleting article by non-author (152ms)
    List
**** Call ## 31 ## Duration:  150
**** Call ## 32 ## Duration:  156
**** Call ## 33 ## Duration:  143
**** Call ## 34 ## Duration:  197
**** Call ## 35 ## Duration:  180
**** Call ## 36 ## Duration:  168
**** Call ## 37 ## Duration:  188
**** Call ## 38 ## Duration:  155
**** Call ## 39 ## Duration:  143
**** Call ## 40 ## Duration:  121
**** Call ## 41 ## Duration:  160
**** Call ## 42 ## Duration:  156
**** Call ## 43 ## Duration:  168
**** Call ## 44 ## Duration:  134
**** Call ## 45 ## Duration:  146
**** Call ## 46 ## Duration:  133
**** Call ## 47 ## Duration:  165
**** Call ## 48 ## Duration:  123
**** Call ## 49 ## Duration:  149
**** Call ## 50 ## Duration:  143
**** Call ## 51 ## Duration:  623
      ✓ should list articles (623ms)
**** Call ## 52 ## Duration:  337
**** Call ## 53 ## Duration:  465
      ✓ should list articles with tag (802ms)
**** Call ## 54 ## Duration:  1291
      ✓ should list articles by author (1291ms)
**** Call ## 55 ## Duration:  138
      ✓ should list articles favorited by user (138ms)
**** Call ## 56 ## Duration:  163
**** Call ## 57 ## Duration:  139
      ✓ should list articles by limit/offset (302ms)
**** Call ## 58 ## Duration:  575
      ✓ should list articles when authenticated (575ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  87 (ERR)
**** Call ## 60 ## Duration:  90 (ERR)
**** Call ## 61 ## Duration:  115 (ERR)
**** Call ## 62 ## Duration:  156
**** Call ## 63 ## Duration:  170
**** Call ## 64 ## Duration:  360
**** Call ## 65 ## Duration:  231
**** Call ## 66 ## Duration:  525
      ✓ should get feed (1444ms)
**** Call ## 67 ## Duration:  94 (ERR)
      ✓ should disallow unauthenticated feed (94ms)
    Tags
**** Call ## 68 ## Duration:  221
      ✓ should get tags (222ms)

  Comment
**** Call ## 69 ## Duration:  194
**** Call ## 70 ## Duration:  211
**** Call ## 71 ## Duration:  191
    Create
**** Call ## 72 ## Duration:  164
**** Call ## 73 ## Duration:  151
**** Call ## 74 ## Duration:  157
**** Call ## 75 ## Duration:  184
**** Call ## 76 ## Duration:  150
**** Call ## 77 ## Duration:  147
**** Call ## 78 ## Duration:  187
**** Call ## 79 ## Duration:  168
**** Call ## 80 ## Duration:  213
**** Call ## 81 ## Duration:  140
      ✓ should create comment (1664ms)
**** Call ## 82 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated user (82ms)
**** Call ## 83 ## Duration:  126 (ERR)
      ✓ should enforce comment body (127ms)
**** Call ## 84 ## Duration:  113 (ERR)
      ✓ should disallow non-existent article (114ms)
    Get
**** Call ## 85 ## Duration:  277
      ✓ should get all comments for article (277ms)
    Delete
**** Call ## 86 ## Duration:  199
      ✓ should delete comment (199ms)
**** Call ## 87 ## Duration:  197 (ERR)
      ✓ only comment author should be able to delete comment (197ms)
**** Call ## 88 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 89 ## Duration:  167 (ERR)
      ✓ should disallow deleting unknown comment (168ms)

  User
    Create
**** Call ## 90 ## Duration:  193
      ✓ should create user (193ms)
**** Call ## 91 ## Duration:  107 (ERR)
      ✓ should disallow same username (107ms)
**** Call ## 92 ## Duration:  132 (ERR)
      ✓ should disallow same email (133ms)
**** Call ## 93 ## Duration:  112 (ERR)
**** Call ## 94 ## Duration:  83 (ERR)
**** Call ## 95 ## Duration:  111 (ERR)
**** Call ## 96 ## Duration:  79 (ERR)
      ✓ should enforce required fields (387ms)
    Login
**** Call ## 97 ## Duration:  131
      ✓ should login (131ms)
**** Call ## 98 ## Duration:  163 (ERR)
      ✓ should disallow unknown email (163ms)
**** Call ## 99 ## Duration:  119 (ERR)
      ✓ should disallow wrong password (120ms)
**** Call ## 100 ## Duration:  80 (ERR)
**** Call ## 101 ## Duration:  79 (ERR)
**** Call ## 102 ## Duration:  100 (ERR)
      ✓ should enforce required fields (260ms)
    Get
**** Call ## 103 ## Duration:  137
      ✓ should get current user (137ms)
**** Call ## 104 ## Duration:  83 (ERR)
**** Call ## 105 ## Duration:  116 (ERR)
**** Call ## 106 ## Duration:  126 (ERR)
**** Call ## 107 ## Duration:  101 (ERR)
      ✓ should disallow bad tokens (426ms)
    Profile
**** Call ## 108 ## Duration:  152
      ✓ should get profile (152ms)
**** Call ## 109 ## Duration:  108 (ERR)
      ✓ should disallow unknown username (108ms)
**** Call ## 110 ## Duration:  170
**** Call ## 111 ## Duration:  175
**** Call ## 112 ## Duration:  177
**** Call ## 113 ## Duration:  199
**** Call ## 114 ## Duration:  145
**** Call ## 115 ## Duration:  209
**** Call ## 116 ## Duration:  190
**** Call ## 117 ## Duration:  206
**** Call ## 118 ## Duration:  179
**** Call ## 119 ## Duration:  178
      ✓ should follow/unfollow user (1830ms)
**** Call ## 120 ## Duration:  77 (ERR)
      ✓ should disallow following with bad token (77ms)
    Update
**** Call ## 121 ## Duration:  247
**** Call ## 122 ## Duration:  148
**** Call ## 123 ## Duration:  123
**** Call ## 124 ## Duration:  121
      ✓ should update user (639ms)
**** Call ## 125 ## Duration:  84 (ERR)
**** Call ## 126 ## Duration:  132 (ERR)
      ✓ should disallow missing token/email in update (216ms)
**** Call ## 127 ## Duration:  187
**** Call ## 128 ## Duration:  166 (ERR)
      ✓ should disallow reusing email (354ms)

  Util
    Ping
**** Call ## 129 ## Duration:  82
      ✓ should ping (83ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  248
**** Call ## 1 ## Duration:  220
**** Call ## 2 ## Duration:  260
    Create
**** Call ## 3 ## Duration:  203
      ✓ should create article (206ms)
**** Call ## 4 ## Duration:  197
      ✓ should create article with tags (199ms)
**** Call ## 5 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (79ms)
**** Call ## 6 ## Duration:  123 (ERR)
**** Call ## 7 ## Duration:  136 (ERR)
**** Call ## 8 ## Duration:  150 (ERR)
**** Call ## 9 ## Duration:  122 (ERR)
      ✓ should enforce required fields (532ms)
    Get
**** Call ## 10 ## Duration:  164
      ✓ should get article by slug (165ms)
**** Call ## 11 ## Duration:  171
      ✓ should get article with tags by slug (172ms)
**** Call ## 12 ## Duration:  109 (ERR)
      ✓ should disallow unknown slug (109ms)
    Update
**** Call ## 13 ## Duration:  209
**** Call ## 14 ## Duration:  222
**** Call ## 15 ## Duration:  193
      ✓ should update article (626ms)
**** Call ## 16 ## Duration:  89 (ERR)
      ✓ should disallow missing mutation (89ms)
**** Call ## 17 ## Duration:  82 (ERR)
      ✓ should disallow empty mutation (83ms)
**** Call ## 18 ## Duration:  115 (ERR)
      ✓ should disallow unauthenticated update (115ms)
**** Call ## 19 ## Duration:  128 (ERR)
      ✓ should disallow updating non-existent article (128ms)
**** Call ## 20 ## Duration:  185 (ERR)
      ✓ should disallow non-author from updating (186ms)
    Favorite
**** Call ## 21 ## Duration:  230
**** Call ## 22 ## Duration:  280
      ✓ should favorite article (510ms)
**** Call ## 23 ## Duration:  108 (ERR)
      ✓ should disallow favoriting by unauthenticated user (108ms)
**** Call ## 24 ## Duration:  153 (ERR)
      ✓ should disallow favoriting unknown article (153ms)
**** Call ## 25 ## Duration:  186
      ✓ should unfavorite article (186ms)
    Delete
**** Call ## 26 ## Duration:  219
**** Call ## 27 ## Duration:  118 (ERR)
      ✓ should delete article (338ms)
**** Call ## 28 ## Duration:  89 (ERR)
      ✓ should disallow deleting by unauthenticated user (90ms)
**** Call ## 29 ## Duration:  138 (ERR)
      ✓ should disallow deleting unknown article (138ms)
**** Call ## 30 ## Duration:  131 (ERR)
      ✓ should disallow deleting article by non-author (131ms)
    List
**** Call ## 31 ## Duration:  152
**** Call ## 32 ## Duration:  170
**** Call ## 33 ## Duration:  140
**** Call ## 34 ## Duration:  146
**** Call ## 35 ## Duration:  169
**** Call ## 36 ## Duration:  147
**** Call ## 37 ## Duration:  136
**** Call ## 38 ## Duration:  139
**** Call ## 39 ## Duration:  147
**** Call ## 40 ## Duration:  143
**** Call ## 41 ## Duration:  134
**** Call ## 42 ## Duration:  145
**** Call ## 43 ## Duration:  141
**** Call ## 44 ## Duration:  161
**** Call ## 45 ## Duration:  149
**** Call ## 46 ## Duration:  120
**** Call ## 47 ## Duration:  128
**** Call ## 48 ## Duration:  127
**** Call ## 49 ## Duration:  155
**** Call ## 50 ## Duration:  120
**** Call ## 51 ## Duration:  584
      ✓ should list articles (584ms)
**** Call ## 52 ## Duration:  397
**** Call ## 53 ## Duration:  509
      ✓ should list articles with tag (906ms)
**** Call ## 54 ## Duration:  452
      ✓ should list articles by author (452ms)
**** Call ## 55 ## Duration:  124
      ✓ should list articles favorited by user (124ms)
**** Call ## 56 ## Duration:  237
**** Call ## 57 ## Duration:  147
      ✓ should list articles by limit/offset (384ms)
**** Call ## 58 ## Duration:  603
      ✓ should list articles when authenticated (603ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 60 ## Duration:  83 (ERR)
**** Call ## 59 ## Duration:  118 (ERR)
**** Call ## 61 ## Duration:  131 (ERR)
**** Call ## 62 ## Duration:  198
**** Call ## 63 ## Duration:  187
**** Call ## 64 ## Duration:  383
**** Call ## 65 ## Duration:  170
**** Call ## 66 ## Duration:  442
      ✓ should get feed (1385ms)
**** Call ## 67 ## Duration:  89 (ERR)
      ✓ should disallow unauthenticated feed (90ms)
    Tags
**** Call ## 68 ## Duration:  171
      ✓ should get tags (172ms)

  Comment
**** Call ## 69 ## Duration:  164
**** Call ## 70 ## Duration:  212
**** Call ## 71 ## Duration:  278
    Create
**** Call ## 72 ## Duration:  171
**** Call ## 73 ## Duration:  164
**** Call ## 74 ## Duration:  145
**** Call ## 75 ## Duration:  147
**** Call ## 76 ## Duration:  166
**** Call ## 77 ## Duration:  166
**** Call ## 78 ## Duration:  137
**** Call ## 79 ## Duration:  142
**** Call ## 80 ## Duration:  153
**** Call ## 81 ## Duration:  122
      ✓ should create comment (1514ms)
**** Call ## 82 ## Duration:  92 (ERR)
      ✓ should disallow unauthenticated user (93ms)
**** Call ## 83 ## Duration:  104 (ERR)
      ✓ should enforce comment body (104ms)
**** Call ## 84 ## Duration:  128 (ERR)
      ✓ should disallow non-existent article (128ms)
    Get
**** Call ## 85 ## Duration:  350
      ✓ should get all comments for article (350ms)
    Delete
**** Call ## 86 ## Duration:  239
      ✓ should delete comment (241ms)
**** Call ## 87 ## Duration:  121 (ERR)
      ✓ only comment author should be able to delete comment (121ms)
**** Call ## 88 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (83ms)
**** Call ## 89 ## Duration:  126 (ERR)
      ✓ should disallow deleting unknown comment (126ms)

  User
    Create
**** Call ## 90 ## Duration:  174
      ✓ should create user (174ms)
**** Call ## 91 ## Duration:  102 (ERR)
      ✓ should disallow same username (102ms)
**** Call ## 92 ## Duration:  124 (ERR)
      ✓ should disallow same email (124ms)
**** Call ## 93 ## Duration:  124 (ERR)
**** Call ## 94 ## Duration:  79 (ERR)
**** Call ## 95 ## Duration:  84 (ERR)
**** Call ## 96 ## Duration:  79 (ERR)
      ✓ should enforce required fields (367ms)
    Login
**** Call ## 97 ## Duration:  126
      ✓ should login (126ms)
**** Call ## 98 ## Duration:  161 (ERR)
      ✓ should disallow unknown email (162ms)
**** Call ## 99 ## Duration:  137 (ERR)
      ✓ should disallow wrong password (137ms)
**** Call ## 100 ## Duration:  122 (ERR)
**** Call ## 101 ## Duration:  78 (ERR)
**** Call ## 102 ## Duration:  83 (ERR)
      ✓ should enforce required fields (285ms)
    Get
**** Call ## 103 ## Duration:  166
      ✓ should get current user (167ms)
**** Call ## 104 ## Duration:  286 (ERR)
**** Call ## 105 ## Duration:  86 (ERR)
**** Call ## 106 ## Duration:  82 (ERR)
**** Call ## 107 ## Duration:  91 (ERR)
      ✓ should disallow bad tokens (546ms)
    Profile
**** Call ## 108 ## Duration:  173
      ✓ should get profile (173ms)
**** Call ## 109 ## Duration:  106 (ERR)
      ✓ should disallow unknown username (107ms)
**** Call ## 110 ## Duration:  158
**** Call ## 111 ## Duration:  208
**** Call ## 112 ## Duration:  195
**** Call ## 113 ## Duration:  139
**** Call ## 114 ## Duration:  125
**** Call ## 115 ## Duration:  161
**** Call ## 116 ## Duration:  180
**** Call ## 117 ## Duration:  173
**** Call ## 118 ## Duration:  147
**** Call ## 119 ## Duration:  242
      ✓ should follow/unfollow user (1728ms)
**** Call ## 120 ## Duration:  110 (ERR)
      ✓ should disallow following with bad token (111ms)
    Update
**** Call ## 121 ## Duration:  147
**** Call ## 122 ## Duration:  198
**** Call ## 123 ## Duration:  140
**** Call ## 124 ## Duration:  126
      ✓ should update user (612ms)
**** Call ## 125 ## Duration:  108 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (208ms)
**** Call ## 127 ## Duration:  183
**** Call ## 128 ## Duration:  139 (ERR)
      ✓ should disallow reusing email (322ms)

  Util
    Ping
**** Call ## 129 ## Duration:  86
      ✓ should ping (87ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  226
**** Call ## 1 ## Duration:  178
**** Call ## 2 ## Duration:  171
    Create
**** Call ## 3 ## Duration:  167
      ✓ should create article (169ms)
**** Call ## 4 ## Duration:  147
      ✓ should create article with tags (148ms)
**** Call ## 5 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 6 ## Duration:  123 (ERR)
**** Call ## 7 ## Duration:  117 (ERR)
**** Call ## 8 ## Duration:  208 (ERR)
**** Call ## 9 ## Duration:  122 (ERR)
      ✓ should enforce required fields (572ms)
    Get
**** Call ## 10 ## Duration:  143
      ✓ should get article by slug (144ms)
**** Call ## 11 ## Duration:  146
      ✓ should get article with tags by slug (147ms)
**** Call ## 12 ## Duration:  94 (ERR)
      ✓ should disallow unknown slug (95ms)
    Update
**** Call ## 13 ## Duration:  234
**** Call ## 14 ## Duration:  227
**** Call ## 15 ## Duration:  165
      ✓ should update article (630ms)
**** Call ## 16 ## Duration:  121 (ERR)
      ✓ should disallow missing mutation (122ms)
**** Call ## 17 ## Duration:  115 (ERR)
      ✓ should disallow empty mutation (115ms)
**** Call ## 18 ## Duration:  110 (ERR)
      ✓ should disallow unauthenticated update (112ms)
**** Call ## 19 ## Duration:  168 (ERR)
      ✓ should disallow updating non-existent article (168ms)
**** Call ## 20 ## Duration:  109 (ERR)
      ✓ should disallow non-author from updating (110ms)
    Favorite
**** Call ## 21 ## Duration:  192
**** Call ## 22 ## Duration:  285
      ✓ should favorite article (477ms)
**** Call ## 23 ## Duration:  85 (ERR)
      ✓ should disallow favoriting by unauthenticated user (86ms)
**** Call ## 24 ## Duration:  154 (ERR)
      ✓ should disallow favoriting unknown article (154ms)
**** Call ## 25 ## Duration:  182
      ✓ should unfavorite article (184ms)
    Delete
**** Call ## 26 ## Duration:  180
**** Call ## 27 ## Duration:  97 (ERR)
      ✓ should delete article (277ms)
**** Call ## 28 ## Duration:  80 (ERR)
      ✓ should disallow deleting by unauthenticated user (80ms)
**** Call ## 29 ## Duration:  165 (ERR)
      ✓ should disallow deleting unknown article (165ms)
**** Call ## 30 ## Duration:  132 (ERR)
      ✓ should disallow deleting article by non-author (132ms)
    List
**** Call ## 31 ## Duration:  136
**** Call ## 32 ## Duration:  129
**** Call ## 33 ## Duration:  143
**** Call ## 34 ## Duration:  160
**** Call ## 35 ## Duration:  292
**** Call ## 36 ## Duration:  137
**** Call ## 37 ## Duration:  199
**** Call ## 38 ## Duration:  187
**** Call ## 39 ## Duration:  144
**** Call ## 40 ## Duration:  235
**** Call ## 41 ## Duration:  203
**** Call ## 42 ## Duration:  242
**** Call ## 43 ## Duration:  168
**** Call ## 44 ## Duration:  160
**** Call ## 45 ## Duration:  206
**** Call ## 46 ## Duration:  150
**** Call ## 47 ## Duration:  152
**** Call ## 48 ## Duration:  156
**** Call ## 49 ## Duration:  188
**** Call ## 50 ## Duration:  143
**** Call ## 51 ## Duration:  501
      ✓ should list articles (501ms)
**** Call ## 52 ## Duration:  392
**** Call ## 53 ## Duration:  434
      ✓ should list articles with tag (828ms)
**** Call ## 54 ## Duration:  304
      ✓ should list articles by author (304ms)
**** Call ## 55 ## Duration:  123
      ✓ should list articles favorited by user (124ms)
**** Call ## 56 ## Duration:  144
**** Call ## 57 ## Duration:  215
      ✓ should list articles by limit/offset (360ms)
**** Call ## 58 ## Duration:  568
      ✓ should list articles when authenticated (568ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  82 (ERR)
**** Call ## 60 ## Duration:  85 (ERR)
**** Call ## 59 ## Duration:  87 (ERR)
**** Call ## 62 ## Duration:  182
**** Call ## 63 ## Duration:  178
**** Call ## 64 ## Duration:  350
**** Call ## 65 ## Duration:  184
**** Call ## 66 ## Duration:  441
      ✓ should get feed (1340ms)
**** Call ## 67 ## Duration:  81 (ERR)
      ✓ should disallow unauthenticated feed (81ms)
    Tags
**** Call ## 68 ## Duration:  219
      ✓ should get tags (220ms)

  Comment
**** Call ## 69 ## Duration:  194
**** Call ## 70 ## Duration:  245
**** Call ## 71 ## Duration:  135
    Create
**** Call ## 72 ## Duration:  185
**** Call ## 73 ## Duration:  143
**** Call ## 74 ## Duration:  184
**** Call ## 75 ## Duration:  258
**** Call ## 76 ## Duration:  177
**** Call ## 77 ## Duration:  145
**** Call ## 78 ## Duration:  204
**** Call ## 79 ## Duration:  174
**** Call ## 80 ## Duration:  177
**** Call ## 81 ## Duration:  154
      ✓ should create comment (1803ms)
**** Call ## 82 ## Duration:  152 (ERR)
      ✓ should disallow unauthenticated user (152ms)
**** Call ## 83 ## Duration:  150 (ERR)
      ✓ should enforce comment body (150ms)
**** Call ## 84 ## Duration:  143 (ERR)
      ✓ should disallow non-existent article (144ms)
    Get
**** Call ## 85 ## Duration:  321
      ✓ should get all comments for article (321ms)
    Delete
**** Call ## 86 ## Duration:  187
      ✓ should delete comment (187ms)
**** Call ## 87 ## Duration:  120 (ERR)
      ✓ only comment author should be able to delete comment (120ms)
**** Call ## 88 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated user (91ms)
**** Call ## 89 ## Duration:  181 (ERR)
      ✓ should disallow deleting unknown comment (181ms)

  User
    Create
**** Call ## 90 ## Duration:  160
      ✓ should create user (161ms)
**** Call ## 91 ## Duration:  97 (ERR)
      ✓ should disallow same username (97ms)
**** Call ## 92 ## Duration:  116 (ERR)
      ✓ should disallow same email (117ms)
**** Call ## 93 ## Duration:  86 (ERR)
**** Call ## 94 ## Duration:  124 (ERR)
**** Call ## 95 ## Duration:  89 (ERR)
**** Call ## 96 ## Duration:  86 (ERR)
      ✓ should enforce required fields (387ms)
    Login
**** Call ## 97 ## Duration:  198
      ✓ should login (198ms)
**** Call ## 98 ## Duration:  110 (ERR)
      ✓ should disallow unknown email (110ms)
**** Call ## 99 ## Duration:  142 (ERR)
      ✓ should disallow wrong password (142ms)
**** Call ## 100 ## Duration:  82 (ERR)
**** Call ## 101 ## Duration:  79 (ERR)
**** Call ## 102 ## Duration:  111 (ERR)
      ✓ should enforce required fields (274ms)
    Get
**** Call ## 103 ## Duration:  139
      ✓ should get current user (139ms)
**** Call ## 104 ## Duration:  112 (ERR)
**** Call ## 105 ## Duration:  117 (ERR)
**** Call ## 106 ## Duration:  83 (ERR)
**** Call ## 107 ## Duration:  87 (ERR)
      ✓ should disallow bad tokens (399ms)
    Profile
**** Call ## 108 ## Duration:  131
      ✓ should get profile (131ms)
**** Call ## 109 ## Duration:  128 (ERR)
      ✓ should disallow unknown username (128ms)
**** Call ## 110 ## Duration:  182
**** Call ## 111 ## Duration:  195
**** Call ## 112 ## Duration:  183
**** Call ## 113 ## Duration:  136
**** Call ## 114 ## Duration:  122
**** Call ## 115 ## Duration:  170
**** Call ## 116 ## Duration:  185
**** Call ## 117 ## Duration:  182
**** Call ## 118 ## Duration:  170
**** Call ## 119 ## Duration:  340
      ✓ should follow/unfollow user (1867ms)
**** Call ## 120 ## Duration:  140 (ERR)
      ✓ should disallow following with bad token (140ms)
    Update
**** Call ## 121 ## Duration:  172
**** Call ## 122 ## Duration:  130
**** Call ## 123 ## Duration:  117
**** Call ## 124 ## Duration:  145
      ✓ should update user (565ms)
**** Call ## 125 ## Duration:  90 (ERR)
**** Call ## 126 ## Duration:  100 (ERR)
      ✓ should disallow missing token/email in update (191ms)
**** Call ## 127 ## Duration:  166
**** Call ## 128 ## Duration:  130 (ERR)
      ✓ should disallow reusing email (296ms)

  Util
    Ping
**** Call ## 129 ## Duration:  85
      ✓ should ping (85ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  213
**** Call ## 1 ## Duration:  210
**** Call ## 2 ## Duration:  174
    Create
**** Call ## 3 ## Duration:  155
      ✓ should create article (157ms)
**** Call ## 4 ## Duration:  134
      ✓ should create article with tags (136ms)
**** Call ## 5 ## Duration:  94 (ERR)
      ✓ should disallow unauthenticated user (94ms)
**** Call ## 6 ## Duration:  129 (ERR)
**** Call ## 7 ## Duration:  127 (ERR)
**** Call ## 8 ## Duration:  109 (ERR)
**** Call ## 9 ## Duration:  130 (ERR)
      ✓ should enforce required fields (497ms)
    Get
**** Call ## 10 ## Duration:  191
      ✓ should get article by slug (191ms)
**** Call ## 11 ## Duration:  139
      ✓ should get article with tags by slug (139ms)
**** Call ## 12 ## Duration:  108 (ERR)
      ✓ should disallow unknown slug (108ms)
    Update
**** Call ## 13 ## Duration:  225
**** Call ## 14 ## Duration:  236
**** Call ## 15 ## Duration:  238
      ✓ should update article (700ms)
**** Call ## 16 ## Duration:  84 (ERR)
      ✓ should disallow missing mutation (84ms)
**** Call ## 17 ## Duration:  98 (ERR)
      ✓ should disallow empty mutation (99ms)
**** Call ## 18 ## Duration:  114 (ERR)
      ✓ should disallow unauthenticated update (114ms)
**** Call ## 19 ## Duration:  124 (ERR)
      ✓ should disallow updating non-existent article (124ms)
**** Call ## 20 ## Duration:  146 (ERR)
      ✓ should disallow non-author from updating (146ms)
    Favorite
**** Call ## 21 ## Duration:  201
**** Call ## 22 ## Duration:  454
      ✓ should favorite article (656ms)
**** Call ## 23 ## Duration:  99 (ERR)
      ✓ should disallow favoriting by unauthenticated user (100ms)
**** Call ## 24 ## Duration:  176 (ERR)
      ✓ should disallow favoriting unknown article (176ms)
**** Call ## 25 ## Duration:  203
      ✓ should unfavorite article (203ms)
    Delete
**** Call ## 26 ## Duration:  294
**** Call ## 27 ## Duration:  122 (ERR)
      ✓ should delete article (416ms)
**** Call ## 28 ## Duration:  87 (ERR)
      ✓ should disallow deleting by unauthenticated user (87ms)
**** Call ## 29 ## Duration:  146 (ERR)
      ✓ should disallow deleting unknown article (146ms)
**** Call ## 30 ## Duration:  122 (ERR)
      ✓ should disallow deleting article by non-author (122ms)
    List
**** Call ## 31 ## Duration:  163
**** Call ## 32 ## Duration:  156
**** Call ## 33 ## Duration:  135
**** Call ## 34 ## Duration:  143
**** Call ## 35 ## Duration:  135
**** Call ## 36 ## Duration:  141
**** Call ## 37 ## Duration:  170
**** Call ## 38 ## Duration:  136
**** Call ## 39 ## Duration:  151
**** Call ## 40 ## Duration:  133
**** Call ## 41 ## Duration:  132
**** Call ## 42 ## Duration:  166
**** Call ## 43 ## Duration:  167
**** Call ## 44 ## Duration:  142
**** Call ## 45 ## Duration:  132
**** Call ## 46 ## Duration:  679
**** Call ## 47 ## Duration:  136
**** Call ## 48 ## Duration:  1126
**** Call ## 49 ## Duration:  140
**** Call ## 50 ## Duration:  136
**** Call ## 51 ## Duration:  1455
      ✓ should list articles (1456ms)
**** Call ## 52 ## Duration:  411
**** Call ## 53 ## Duration:  434
      ✓ should list articles with tag (846ms)
**** Call ## 54 ## Duration:  335
      ✓ should list articles by author (335ms)
**** Call ## 55 ## Duration:  171
      ✓ should list articles favorited by user (172ms)
**** Call ## 56 ## Duration:  187
**** Call ## 57 ## Duration:  196
      ✓ should list articles by limit/offset (384ms)
**** Call ## 58 ## Duration:  631
      ✓ should list articles when authenticated (631ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  83 (ERR)
**** Call ## 61 ## Duration:  84 (ERR)
**** Call ## 60 ## Duration:  109 (ERR)
**** Call ## 62 ## Duration:  146
**** Call ## 63 ## Duration:  183
**** Call ## 64 ## Duration:  1316
**** Call ## 65 ## Duration:  215
**** Call ## 66 ## Duration:  522
      ✓ should get feed (2386ms)
**** Call ## 67 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated feed (80ms)
    Tags
**** Call ## 68 ## Duration:  175
      ✓ should get tags (175ms)

  Comment
**** Call ## 69 ## Duration:  168
**** Call ## 70 ## Duration:  165
**** Call ## 71 ## Duration:  136
    Create
**** Call ## 72 ## Duration:  177
**** Call ## 73 ## Duration:  176
**** Call ## 74 ## Duration:  152
**** Call ## 75 ## Duration:  147
**** Call ## 76 ## Duration:  158
**** Call ## 77 ## Duration:  171
**** Call ## 78 ## Duration:  283
**** Call ## 79 ## Duration:  165
**** Call ## 80 ## Duration:  193
**** Call ## 81 ## Duration:  169
      ✓ should create comment (1796ms)
**** Call ## 82 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 83 ## Duration:  96 (ERR)
      ✓ should enforce comment body (97ms)
**** Call ## 84 ## Duration:  99 (ERR)
      ✓ should disallow non-existent article (99ms)
    Get
**** Call ## 85 ## Duration:  268
      ✓ should get all comments for article (268ms)
    Delete
**** Call ## 86 ## Duration:  174
      ✓ should delete comment (174ms)
**** Call ## 87 ## Duration:  115 (ERR)
      ✓ only comment author should be able to delete comment (115ms)
**** Call ## 88 ## Duration:  121 (ERR)
      ✓ should disallow unauthenticated user (122ms)
**** Call ## 89 ## Duration:  134 (ERR)
      ✓ should disallow deleting unknown comment (135ms)

  User
    Create
**** Call ## 90 ## Duration:  169
      ✓ should create user (169ms)
**** Call ## 91 ## Duration:  105 (ERR)
      ✓ should disallow same username (107ms)
**** Call ## 92 ## Duration:  109 (ERR)
      ✓ should disallow same email (110ms)
**** Call ## 93 ## Duration:  109 (ERR)
**** Call ## 94 ## Duration:  83 (ERR)
**** Call ## 95 ## Duration:  85 (ERR)
**** Call ## 96 ## Duration:  80 (ERR)
      ✓ should enforce required fields (358ms)
    Login
**** Call ## 97 ## Duration:  141
      ✓ should login (141ms)
**** Call ## 98 ## Duration:  99 (ERR)
      ✓ should disallow unknown email (99ms)
**** Call ## 99 ## Duration:  131 (ERR)
      ✓ should disallow wrong password (131ms)
**** Call ## 100 ## Duration:  82 (ERR)
**** Call ## 101 ## Duration:  90 (ERR)
**** Call ## 102 ## Duration:  88 (ERR)
      ✓ should enforce required fields (261ms)
    Get
**** Call ## 103 ## Duration:  107
      ✓ should get current user (107ms)
**** Call ## 104 ## Duration:  85 (ERR)
**** Call ## 105 ## Duration:  84 (ERR)
**** Call ## 106 ## Duration:  89 (ERR)
**** Call ## 107 ## Duration:  88 (ERR)
      ✓ should disallow bad tokens (347ms)
    Profile
**** Call ## 108 ## Duration:  126
      ✓ should get profile (126ms)
**** Call ## 109 ## Duration:  109 (ERR)
      ✓ should disallow unknown username (109ms)
**** Call ## 110 ## Duration:  165
**** Call ## 111 ## Duration:  189
**** Call ## 112 ## Duration:  163
**** Call ## 113 ## Duration:  170
**** Call ## 114 ## Duration:  118
**** Call ## 115 ## Duration:  185
**** Call ## 116 ## Duration:  189
**** Call ## 117 ## Duration:  190
**** Call ## 118 ## Duration:  171
**** Call ## 119 ## Duration:  218
      ✓ should follow/unfollow user (1761ms)
**** Call ## 120 ## Duration:  205 (ERR)
      ✓ should disallow following with bad token (205ms)
    Update
**** Call ## 121 ## Duration:  143
**** Call ## 122 ## Duration:  131
**** Call ## 123 ## Duration:  139
**** Call ## 124 ## Duration:  516
      ✓ should update user (931ms)
**** Call ## 125 ## Duration:  204 (ERR)
**** Call ## 126 ## Duration:  97 (ERR)
      ✓ should disallow missing token/email in update (303ms)
**** Call ## 127 ## Duration:  200
**** Call ## 128 ## Duration:  135 (ERR)
      ✓ should disallow reusing email (336ms)

  Util
    Ping
**** Call ## 129 ## Duration:  85
      ✓ should ping (87ms)


  58 passing (25s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  209
**** Call ## 1 ## Duration:  187
**** Call ## 2 ## Duration:  201
    Create
**** Call ## 3 ## Duration:  147
      ✓ should create article (149ms)
**** Call ## 4 ## Duration:  197
      ✓ should create article with tags (198ms)
**** Call ## 5 ## Duration:  140 (ERR)
      ✓ should disallow unauthenticated user (141ms)
**** Call ## 6 ## Duration:  190 (ERR)
**** Call ## 7 ## Duration:  119 (ERR)
**** Call ## 8 ## Duration:  130 (ERR)
**** Call ## 9 ## Duration:  112 (ERR)
      ✓ should enforce required fields (552ms)
    Get
**** Call ## 10 ## Duration:  152
      ✓ should get article by slug (152ms)
**** Call ## 11 ## Duration:  123
      ✓ should get article with tags by slug (123ms)
**** Call ## 12 ## Duration:  94 (ERR)
      ✓ should disallow unknown slug (95ms)
    Update
**** Call ## 13 ## Duration:  228
**** Call ## 14 ## Duration:  777
**** Call ## 15 ## Duration:  222
      ✓ should update article (1229ms)
**** Call ## 16 ## Duration:  133 (ERR)
      ✓ should disallow missing mutation (134ms)
**** Call ## 17 ## Duration:  89 (ERR)
      ✓ should disallow empty mutation (89ms)
**** Call ## 18 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated update (86ms)
**** Call ## 19 ## Duration:  135 (ERR)
      ✓ should disallow updating non-existent article (135ms)
**** Call ## 20 ## Duration:  120 (ERR)
      ✓ should disallow non-author from updating (121ms)
    Favorite
**** Call ## 21 ## Duration:  176
**** Call ## 22 ## Duration:  216
      ✓ should favorite article (392ms)
**** Call ## 23 ## Duration:  86 (ERR)
      ✓ should disallow favoriting by unauthenticated user (87ms)
**** Call ## 24 ## Duration:  109 (ERR)
      ✓ should disallow favoriting unknown article (109ms)
**** Call ## 25 ## Duration:  208
      ✓ should unfavorite article (208ms)
    Delete
**** Call ## 26 ## Duration:  198
**** Call ## 27 ## Duration:  110 (ERR)
      ✓ should delete article (308ms)
**** Call ## 28 ## Duration:  92 (ERR)
      ✓ should disallow deleting by unauthenticated user (92ms)
**** Call ## 29 ## Duration:  124 (ERR)
      ✓ should disallow deleting unknown article (126ms)
**** Call ## 30 ## Duration:  136 (ERR)
      ✓ should disallow deleting article by non-author (136ms)
    List
**** Call ## 31 ## Duration:  176
**** Call ## 32 ## Duration:  267
**** Call ## 33 ## Duration:  139
**** Call ## 34 ## Duration:  143
**** Call ## 35 ## Duration:  209
**** Call ## 36 ## Duration:  151
**** Call ## 37 ## Duration:  198
**** Call ## 38 ## Duration:  151
**** Call ## 39 ## Duration:  162
**** Call ## 40 ## Duration:  143
**** Call ## 41 ## Duration:  196
**** Call ## 42 ## Duration:  201
**** Call ## 43 ## Duration:  174
**** Call ## 44 ## Duration:  144
**** Call ## 45 ## Duration:  134
**** Call ## 46 ## Duration:  143
**** Call ## 47 ## Duration:  148
**** Call ## 48 ## Duration:  137
**** Call ## 49 ## Duration:  169
**** Call ## 50 ## Duration:  162
**** Call ## 51 ## Duration:  1484
      ✓ should list articles (1484ms)
**** Call ## 52 ## Duration:  383
**** Call ## 53 ## Duration:  538
      ✓ should list articles with tag (921ms)
**** Call ## 54 ## Duration:  284
      ✓ should list articles by author (285ms)
**** Call ## 55 ## Duration:  150
      ✓ should list articles favorited by user (150ms)
**** Call ## 56 ## Duration:  155
**** Call ## 57 ## Duration:  168
      ✓ should list articles by limit/offset (324ms)
**** Call ## 58 ## Duration:  539
      ✓ should list articles when authenticated (540ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  100 (ERR)
**** Call ## 61 ## Duration:  118 (ERR)
**** Call ## 60 ## Duration:  118 (ERR)
**** Call ## 62 ## Duration:  182
**** Call ## 63 ## Duration:  213
**** Call ## 64 ## Duration:  379
**** Call ## 65 ## Duration:  186
**** Call ## 66 ## Duration:  426
      ✓ should get feed (1389ms)
**** Call ## 67 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated feed (82ms)
    Tags
**** Call ## 68 ## Duration:  169
      ✓ should get tags (169ms)

  Comment
**** Call ## 69 ## Duration:  197
**** Call ## 70 ## Duration:  170
**** Call ## 71 ## Duration:  166
    Create
**** Call ## 72 ## Duration:  158
**** Call ## 73 ## Duration:  147
**** Call ## 74 ## Duration:  185
**** Call ## 75 ## Duration:  190
**** Call ## 76 ## Duration:  157
**** Call ## 77 ## Duration:  136
**** Call ## 78 ## Duration:  178
**** Call ## 79 ## Duration:  130
**** Call ## 80 ## Duration:  138
**** Call ## 81 ## Duration:  143
      ✓ should create comment (1562ms)
**** Call ## 82 ## Duration:  114 (ERR)
      ✓ should disallow unauthenticated user (114ms)
**** Call ## 83 ## Duration:  148 (ERR)
      ✓ should enforce comment body (148ms)
**** Call ## 84 ## Duration:  162 (ERR)
      ✓ should disallow non-existent article (163ms)
    Get
**** Call ## 85 ## Duration:  274
      ✓ should get all comments for article (274ms)
    Delete
**** Call ## 86 ## Duration:  200
      ✓ should delete comment (200ms)
**** Call ## 87 ## Duration:  139 (ERR)
      ✓ only comment author should be able to delete comment (139ms)
**** Call ## 88 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 89 ## Duration:  127 (ERR)
      ✓ should disallow deleting unknown comment (127ms)

  User
    Create
**** Call ## 90 ## Duration:  183
      ✓ should create user (184ms)
**** Call ## 91 ## Duration:  100 (ERR)
      ✓ should disallow same username (100ms)
**** Call ## 92 ## Duration:  139 (ERR)
      ✓ should disallow same email (139ms)
**** Call ## 93 ## Duration:  82 (ERR)
**** Call ## 94 ## Duration:  80 (ERR)
**** Call ## 95 ## Duration:  93 (ERR)
**** Call ## 96 ## Duration:  82 (ERR)
      ✓ should enforce required fields (339ms)
    Login
**** Call ## 97 ## Duration:  143
      ✓ should login (143ms)
**** Call ## 98 ## Duration:  97 (ERR)
      ✓ should disallow unknown email (98ms)
**** Call ## 99 ## Duration:  109 (ERR)
      ✓ should disallow wrong password (109ms)
**** Call ## 100 ## Duration:  79 (ERR)
**** Call ## 101 ## Duration:  79 (ERR)
**** Call ## 102 ## Duration:  77 (ERR)
      ✓ should enforce required fields (236ms)
    Get
**** Call ## 103 ## Duration:  107
      ✓ should get current user (107ms)
**** Call ## 104 ## Duration:  78 (ERR)
**** Call ## 105 ## Duration:  90 (ERR)
**** Call ## 106 ## Duration:  85 (ERR)
**** Call ## 107 ## Duration:  84 (ERR)
      ✓ should disallow bad tokens (337ms)
    Profile
**** Call ## 108 ## Duration:  148
      ✓ should get profile (150ms)
**** Call ## 109 ## Duration:  105 (ERR)
      ✓ should disallow unknown username (106ms)
**** Call ## 110 ## Duration:  163
**** Call ## 111 ## Duration:  180
**** Call ## 112 ## Duration:  151
**** Call ## 113 ## Duration:  148
**** Call ## 114 ## Duration:  117
**** Call ## 115 ## Duration:  149
**** Call ## 116 ## Duration:  208
**** Call ## 117 ## Duration:  217
**** Call ## 118 ## Duration:  192
**** Call ## 119 ## Duration:  176
      ✓ should follow/unfollow user (1702ms)
**** Call ## 120 ## Duration:  108 (ERR)
      ✓ should disallow following with bad token (108ms)
    Update
**** Call ## 121 ## Duration:  138
**** Call ## 122 ## Duration:  137
**** Call ## 123 ## Duration:  149
**** Call ## 124 ## Duration:  158
      ✓ should update user (584ms)
**** Call ## 125 ## Duration:  113 (ERR)
**** Call ## 126 ## Duration:  84 (ERR)
      ✓ should disallow missing token/email in update (199ms)
**** Call ## 127 ## Duration:  190
**** Call ## 128 ## Duration:  120 (ERR)
      ✓ should disallow reusing email (310ms)

  Util
    Ping
**** Call ## 129 ## Duration:  84
      ✓ should ping (84ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  212
**** Call ## 1 ## Duration:  147
**** Call ## 2 ## Duration:  158
    Create
**** Call ## 3 ## Duration:  177
      ✓ should create article (178ms)
**** Call ## 4 ## Duration:  198
      ✓ should create article with tags (200ms)
**** Call ## 5 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated user (88ms)
**** Call ## 6 ## Duration:  115 (ERR)
**** Call ## 7 ## Duration:  163 (ERR)
**** Call ## 8 ## Duration:  145 (ERR)
**** Call ## 9 ## Duration:  143 (ERR)
      ✓ should enforce required fields (568ms)
    Get
**** Call ## 10 ## Duration:  143
      ✓ should get article by slug (144ms)
**** Call ## 11 ## Duration:  200
      ✓ should get article with tags by slug (200ms)
**** Call ## 12 ## Duration:  128 (ERR)
      ✓ should disallow unknown slug (128ms)
    Update
**** Call ## 13 ## Duration:  203
**** Call ## 14 ## Duration:  223
**** Call ## 15 ## Duration:  249
      ✓ should update article (679ms)
**** Call ## 16 ## Duration:  87 (ERR)
      ✓ should disallow missing mutation (87ms)
**** Call ## 17 ## Duration:  94 (ERR)
      ✓ should disallow empty mutation (94ms)
**** Call ## 18 ## Duration:  87 (ERR)
      ✓ should disallow unauthenticated update (87ms)
**** Call ## 19 ## Duration:  119 (ERR)
      ✓ should disallow updating non-existent article (119ms)
**** Call ## 20 ## Duration:  1160 (ERR)
      ✓ should disallow non-author from updating (1162ms)
    Favorite
**** Call ## 21 ## Duration:  204
**** Call ## 22 ## Duration:  194
      ✓ should favorite article (398ms)
**** Call ## 23 ## Duration:  100 (ERR)
      ✓ should disallow favoriting by unauthenticated user (102ms)
**** Call ## 24 ## Duration:  129 (ERR)
      ✓ should disallow favoriting unknown article (130ms)
**** Call ## 25 ## Duration:  171
      ✓ should unfavorite article (171ms)
    Delete
**** Call ## 26 ## Duration:  163
**** Call ## 27 ## Duration:  93 (ERR)
      ✓ should delete article (256ms)
**** Call ## 28 ## Duration:  173 (ERR)
      ✓ should disallow deleting by unauthenticated user (173ms)
**** Call ## 29 ## Duration:  119 (ERR)
      ✓ should disallow deleting unknown article (119ms)
**** Call ## 30 ## Duration:  130 (ERR)
      ✓ should disallow deleting article by non-author (130ms)
    List
**** Call ## 31 ## Duration:  188
**** Call ## 32 ## Duration:  136
**** Call ## 33 ## Duration:  136
**** Call ## 34 ## Duration:  147
**** Call ## 35 ## Duration:  178
**** Call ## 36 ## Duration:  187
**** Call ## 37 ## Duration:  132
**** Call ## 38 ## Duration:  140
**** Call ## 39 ## Duration:  236
**** Call ## 40 ## Duration:  155
**** Call ## 41 ## Duration:  140
**** Call ## 42 ## Duration:  135
**** Call ## 43 ## Duration:  136
**** Call ## 44 ## Duration:  141
**** Call ## 45 ## Duration:  165
**** Call ## 46 ## Duration:  143
**** Call ## 47 ## Duration:  430
**** Call ## 48 ## Duration:  135
**** Call ## 49 ## Duration:  327
**** Call ## 50 ## Duration:  454
**** Call ## 51 ## Duration:  645
      ✓ should list articles (647ms)
**** Call ## 52 ## Duration:  371
**** Call ## 53 ## Duration:  578
      ✓ should list articles with tag (949ms)
**** Call ## 54 ## Duration:  324
      ✓ should list articles by author (324ms)
**** Call ## 55 ## Duration:  165
      ✓ should list articles favorited by user (165ms)
**** Call ## 56 ## Duration:  187
**** Call ## 57 ## Duration:  194
      ✓ should list articles by limit/offset (381ms)
**** Call ## 58 ## Duration:  531
      ✓ should list articles when authenticated (531ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  83 (ERR)
**** Call ## 59 ## Duration:  89 (ERR)
**** Call ## 60 ## Duration:  117 (ERR)
**** Call ## 62 ## Duration:  141
**** Call ## 63 ## Duration:  175
**** Call ## 64 ## Duration:  361
**** Call ## 65 ## Duration:  183
**** Call ## 66 ## Duration:  552
      ✓ should get feed (1415ms)
**** Call ## 67 ## Duration:  82 (ERR)
      ✓ should disallow unauthenticated feed (82ms)
    Tags
**** Call ## 68 ## Duration:  277
      ✓ should get tags (277ms)

  Comment
**** Call ## 69 ## Duration:  162
**** Call ## 70 ## Duration:  186
**** Call ## 71 ## Duration:  342
    Create
**** Call ## 72 ## Duration:  195
**** Call ## 73 ## Duration:  187
**** Call ## 74 ## Duration:  168
**** Call ## 75 ## Duration:  154
**** Call ## 76 ## Duration:  208
**** Call ## 77 ## Duration:  163
**** Call ## 78 ## Duration:  188
**** Call ## 79 ## Duration:  157
**** Call ## 80 ## Duration:  172
**** Call ## 81 ## Duration:  151
      ✓ should create comment (1744ms)
**** Call ## 82 ## Duration:  77 (ERR)
      ✓ should disallow unauthenticated user (78ms)
**** Call ## 83 ## Duration:  94 (ERR)
      ✓ should enforce comment body (94ms)
**** Call ## 84 ## Duration:  98 (ERR)
      ✓ should disallow non-existent article (98ms)
    Get
**** Call ## 85 ## Duration:  299
      ✓ should get all comments for article (299ms)
    Delete
**** Call ## 86 ## Duration:  166
      ✓ should delete comment (167ms)
**** Call ## 87 ## Duration:  128 (ERR)
      ✓ only comment author should be able to delete comment (128ms)
**** Call ## 88 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated user (90ms)
**** Call ## 89 ## Duration:  125 (ERR)
      ✓ should disallow deleting unknown comment (126ms)

  User
    Create
**** Call ## 90 ## Duration:  201
      ✓ should create user (201ms)
**** Call ## 91 ## Duration:  93 (ERR)
      ✓ should disallow same username (93ms)
**** Call ## 92 ## Duration:  117 (ERR)
      ✓ should disallow same email (117ms)
**** Call ## 93 ## Duration:  206 (ERR)
**** Call ## 94 ## Duration:  88 (ERR)
**** Call ## 95 ## Duration:  80 (ERR)
**** Call ## 96 ## Duration:  96 (ERR)
      ✓ should enforce required fields (471ms)
    Login
**** Call ## 97 ## Duration:  134
      ✓ should login (134ms)
**** Call ## 98 ## Duration:  97 (ERR)
      ✓ should disallow unknown email (97ms)
**** Call ## 99 ## Duration:  106 (ERR)
      ✓ should disallow wrong password (106ms)
**** Call ## 100 ## Duration:  183 (ERR)
**** Call ## 101 ## Duration:  82 (ERR)
**** Call ## 102 ## Duration:  83 (ERR)
      ✓ should enforce required fields (350ms)
    Get
**** Call ## 103 ## Duration:  136
      ✓ should get current user (136ms)
**** Call ## 104 ## Duration:  82 (ERR)
**** Call ## 105 ## Duration:  80 (ERR)
**** Call ## 106 ## Duration:  77 (ERR)
**** Call ## 107 ## Duration:  187 (ERR)
      ✓ should disallow bad tokens (428ms)
    Profile
**** Call ## 108 ## Duration:  159
      ✓ should get profile (159ms)
**** Call ## 109 ## Duration:  149 (ERR)
      ✓ should disallow unknown username (149ms)
**** Call ## 110 ## Duration:  195
**** Call ## 111 ## Duration:  207
**** Call ## 112 ## Duration:  278
**** Call ## 113 ## Duration:  127
**** Call ## 114 ## Duration:  140
**** Call ## 115 ## Duration:  268
**** Call ## 116 ## Duration:  159
**** Call ## 117 ## Duration:  238
**** Call ## 118 ## Duration:  164
**** Call ## 119 ## Duration:  147
      ✓ should follow/unfollow user (1924ms)
**** Call ## 120 ## Duration:  85 (ERR)
      ✓ should disallow following with bad token (85ms)
    Update
**** Call ## 121 ## Duration:  149
**** Call ## 122 ## Duration:  126
**** Call ## 123 ## Duration:  147
**** Call ## 124 ## Duration:  128
      ✓ should update user (552ms)
**** Call ## 125 ## Duration:  89 (ERR)
**** Call ## 126 ## Duration:  94 (ERR)
      ✓ should disallow missing token/email in update (184ms)
**** Call ## 127 ## Duration:  216
**** Call ## 128 ## Duration:  151 (ERR)
      ✓ should disallow reusing email (367ms)

  Util
    Ping
**** Call ## 129 ## Duration:  98
      ✓ should ping (98ms)


  58 passing (24s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  241
**** Call ## 1 ## Duration:  154
**** Call ## 2 ## Duration:  156
    Create
**** Call ## 3 ## Duration:  140
      ✓ should create article (143ms)
**** Call ## 4 ## Duration:  138
      ✓ should create article with tags (141ms)
**** Call ## 5 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 6 ## Duration:  128 (ERR)
**** Call ## 7 ## Duration:  214 (ERR)
**** Call ## 8 ## Duration:  122 (ERR)
**** Call ## 9 ## Duration:  142 (ERR)
      ✓ should enforce required fields (607ms)
    Get
**** Call ## 10 ## Duration:  142
      ✓ should get article by slug (142ms)
**** Call ## 11 ## Duration:  149
      ✓ should get article with tags by slug (149ms)
**** Call ## 12 ## Duration:  107 (ERR)
      ✓ should disallow unknown slug (108ms)
    Update
**** Call ## 13 ## Duration:  223
**** Call ## 14 ## Duration:  201
**** Call ## 15 ## Duration:  183
      ✓ should update article (611ms)
**** Call ## 16 ## Duration:  90 (ERR)
      ✓ should disallow missing mutation (90ms)
**** Call ## 17 ## Duration:  132 (ERR)
      ✓ should disallow empty mutation (133ms)
**** Call ## 18 ## Duration:  112 (ERR)
      ✓ should disallow unauthenticated update (113ms)
**** Call ## 19 ## Duration:  128 (ERR)
      ✓ should disallow updating non-existent article (128ms)
**** Call ## 20 ## Duration:  126 (ERR)
      ✓ should disallow non-author from updating (126ms)
    Favorite
**** Call ## 21 ## Duration:  203
**** Call ## 22 ## Duration:  170
      ✓ should favorite article (374ms)
**** Call ## 23 ## Duration:  84 (ERR)
      ✓ should disallow favoriting by unauthenticated user (84ms)
**** Call ## 24 ## Duration:  123 (ERR)
      ✓ should disallow favoriting unknown article (123ms)
**** Call ## 25 ## Duration:  227
      ✓ should unfavorite article (227ms)
    Delete
**** Call ## 26 ## Duration:  171
**** Call ## 27 ## Duration:  108 (ERR)
      ✓ should delete article (280ms)
**** Call ## 28 ## Duration:  141 (ERR)
      ✓ should disallow deleting by unauthenticated user (142ms)
**** Call ## 29 ## Duration:  131 (ERR)
      ✓ should disallow deleting unknown article (131ms)
**** Call ## 30 ## Duration:  165 (ERR)
      ✓ should disallow deleting article by non-author (165ms)
    List
**** Call ## 31 ## Duration:  156
**** Call ## 32 ## Duration:  134
**** Call ## 33 ## Duration:  145
**** Call ## 34 ## Duration:  137
**** Call ## 35 ## Duration:  117
**** Call ## 36 ## Duration:  232
**** Call ## 37 ## Duration:  143
**** Call ## 38 ## Duration:  137
**** Call ## 39 ## Duration:  136
**** Call ## 40 ## Duration:  178
**** Call ## 41 ## Duration:  173
**** Call ## 42 ## Duration:  169
**** Call ## 43 ## Duration:  128
**** Call ## 44 ## Duration:  130
**** Call ## 45 ## Duration:  147
**** Call ## 46 ## Duration:  160
**** Call ## 47 ## Duration:  137
**** Call ## 48 ## Duration:  125
**** Call ## 49 ## Duration:  141
**** Call ## 50 ## Duration:  117
**** Call ## 51 ## Duration:  558
      ✓ should list articles (558ms)
**** Call ## 52 ## Duration:  294 (ERR)
      1) should list articles with tag


  22 passing (8s)
  1 failing

  1) Article
       List
         should list articles with tag:
     Error: Request failed with status code 502
      at createError (node_modules/axios/lib/core/createError.js:16:15)
      at settle (node_modules/axios/lib/core/settle.js:17:12)
      at IncomingMessage.handleStreamEnd (node_modules/axios/lib/adapters/http.js:236:11)
      at endReadableNT (_stream_readable.js:1064:12)
      at _combinedTickCallback (internal/process/next_tick.js:138:11)
      at process._tickCallback (internal/process/next_tick.js:180:9)



npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! realworld-dynamodb-lambda@1.0.0 test:deployed: `API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the realworld-dynamodb-lambda@1.0.0 test:deployed script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ubuntu/.npm/_logs/2020-05-20T20_56_54_563Z-debug.log

> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  331
**** Call ## 1 ## Duration:  174
**** Call ## 2 ## Duration:  182
    Create
**** Call ## 3 ## Duration:  138
      ✓ should create article (140ms)
**** Call ## 4 ## Duration:  125
      ✓ should create article with tags (126ms)
**** Call ## 5 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 6 ## Duration:  112 (ERR)
**** Call ## 7 ## Duration:  135 (ERR)
**** Call ## 8 ## Duration:  125 (ERR)
**** Call ## 9 ## Duration:  113 (ERR)
      ✓ should enforce required fields (487ms)
    Get
**** Call ## 10 ## Duration:  157
      ✓ should get article by slug (158ms)
**** Call ## 11 ## Duration:  132
      ✓ should get article with tags by slug (132ms)
**** Call ## 12 ## Duration:  111 (ERR)
      ✓ should disallow unknown slug (111ms)
    Update
**** Call ## 13 ## Duration:  205
**** Call ## 14 ## Duration:  219
**** Call ## 15 ## Duration:  200
      ✓ should update article (627ms)
**** Call ## 16 ## Duration:  250 (ERR)
      ✓ should disallow missing mutation (251ms)
**** Call ## 17 ## Duration:  84 (ERR)
      ✓ should disallow empty mutation (84ms)
**** Call ## 18 ## Duration:  92 (ERR)
      ✓ should disallow unauthenticated update (93ms)
**** Call ## 19 ## Duration:  163 (ERR)
      ✓ should disallow updating non-existent article (163ms)
**** Call ## 20 ## Duration:  173 (ERR)
      ✓ should disallow non-author from updating (174ms)
    Favorite
**** Call ## 21 ## Duration:  188
**** Call ## 22 ## Duration:  193
      ✓ should favorite article (382ms)
**** Call ## 23 ## Duration:  84 (ERR)
      ✓ should disallow favoriting by unauthenticated user (85ms)
**** Call ## 24 ## Duration:  120 (ERR)
      ✓ should disallow favoriting unknown article (121ms)
**** Call ## 25 ## Duration:  195
      ✓ should unfavorite article (195ms)
    Delete
**** Call ## 26 ## Duration:  181
**** Call ## 27 ## Duration:  89 (ERR)
      ✓ should delete article (270ms)
**** Call ## 28 ## Duration:  82 (ERR)
      ✓ should disallow deleting by unauthenticated user (83ms)
**** Call ## 29 ## Duration:  114 (ERR)
      ✓ should disallow deleting unknown article (114ms)
**** Call ## 30 ## Duration:  141 (ERR)
      ✓ should disallow deleting article by non-author (141ms)
    List
**** Call ## 31 ## Duration:  139
**** Call ## 32 ## Duration:  136
**** Call ## 33 ## Duration:  191
**** Call ## 34 ## Duration:  149
**** Call ## 35 ## Duration:  170
**** Call ## 36 ## Duration:  138
**** Call ## 37 ## Duration:  127
**** Call ## 38 ## Duration:  138
**** Call ## 39 ## Duration:  132
**** Call ## 40 ## Duration:  232
**** Call ## 41 ## Duration:  238
**** Call ## 42 ## Duration:  140
**** Call ## 43 ## Duration:  139
**** Call ## 44 ## Duration:  129
**** Call ## 45 ## Duration:  129
**** Call ## 46 ## Duration:  149
**** Call ## 47 ## Duration:  147
**** Call ## 48 ## Duration:  138
**** Call ## 49 ## Duration:  138
**** Call ## 50 ## Duration:  151
**** Call ## 51 ## Duration:  685
      ✓ should list articles (685ms)
**** Call ## 52 ## Duration:  540
**** Call ## 53 ## Duration:  497
      ✓ should list articles with tag (1038ms)
**** Call ## 54 ## Duration:  449
      ✓ should list articles by author (450ms)
**** Call ## 55 ## Duration:  153
      ✓ should list articles favorited by user (153ms)
**** Call ## 56 ## Duration:  540
**** Call ## 57 ## Duration:  189
      ✓ should list articles by limit/offset (729ms)
**** Call ## 58 ## Duration:  637
      ✓ should list articles when authenticated (638ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  90 (ERR)
**** Call ## 61 ## Duration:  93 (ERR)
**** Call ## 60 ## Duration:  116 (ERR)
**** Call ## 62 ## Duration:  153
**** Call ## 63 ## Duration:  181
**** Call ## 64 ## Duration:  393
**** Call ## 65 ## Duration:  177
**** Call ## 66 ## Duration:  539
      ✓ should get feed (1446ms)
**** Call ## 67 ## Duration:  111 (ERR)
      ✓ should disallow unauthenticated feed (111ms)
    Tags
**** Call ## 68 ## Duration:  188
      ✓ should get tags (188ms)

  Comment
**** Call ## 69 ## Duration:  167
**** Call ## 70 ## Duration:  186
**** Call ## 71 ## Duration:  142
    Create
**** Call ## 72 ## Duration:  187
**** Call ## 73 ## Duration:  131
**** Call ## 74 ## Duration:  141
**** Call ## 75 ## Duration:  186
**** Call ## 76 ## Duration:  142
**** Call ## 77 ## Duration:  158
**** Call ## 78 ## Duration:  171
**** Call ## 79 ## Duration:  138
**** Call ## 80 ## Duration:  140
**** Call ## 81 ## Duration:  164
      ✓ should create comment (1559ms)
**** Call ## 82 ## Duration:  107 (ERR)
      ✓ should disallow unauthenticated user (108ms)
**** Call ## 83 ## Duration:  93 (ERR)
      ✓ should enforce comment body (93ms)
**** Call ## 84 ## Duration:  141 (ERR)
      ✓ should disallow non-existent article (141ms)
    Get
**** Call ## 85 ## Duration:  300
      ✓ should get all comments for article (300ms)
    Delete
**** Call ## 86 ## Duration:  159
      ✓ should delete comment (160ms)
**** Call ## 87 ## Duration:  152 (ERR)
      ✓ only comment author should be able to delete comment (152ms)
**** Call ## 88 ## Duration:  224 (ERR)
      ✓ should disallow unauthenticated user (225ms)
**** Call ## 89 ## Duration:  148 (ERR)
      ✓ should disallow deleting unknown comment (149ms)

  User
    Create
**** Call ## 90 ## Duration:  232
      ✓ should create user (233ms)
**** Call ## 91 ## Duration:  98 (ERR)
      ✓ should disallow same username (98ms)
**** Call ## 92 ## Duration:  115 (ERR)
      ✓ should disallow same email (115ms)
**** Call ## 93 ## Duration:  80 (ERR)
**** Call ## 94 ## Duration:  116 (ERR)
**** Call ## 95 ## Duration:  84 (ERR)
**** Call ## 96 ## Duration:  144 (ERR)
      ✓ should enforce required fields (426ms)
    Login
**** Call ## 97 ## Duration:  570
      ✓ should login (570ms)
**** Call ## 98 ## Duration:  96 (ERR)
      ✓ should disallow unknown email (96ms)
**** Call ## 99 ## Duration:  119 (ERR)
      ✓ should disallow wrong password (121ms)
**** Call ## 100 ## Duration:  104 (ERR)
**** Call ## 101 ## Duration:  82 (ERR)
**** Call ## 102 ## Duration:  113 (ERR)
      ✓ should enforce required fields (300ms)
    Get
**** Call ## 103 ## Duration:  111
      ✓ should get current user (112ms)
**** Call ## 104 ## Duration:  80 (ERR)
**** Call ## 105 ## Duration:  81 (ERR)
**** Call ## 106 ## Duration:  81 (ERR)
**** Call ## 107 ## Duration:  85 (ERR)
      ✓ should disallow bad tokens (327ms)
    Profile
**** Call ## 108 ## Duration:  126
      ✓ should get profile (126ms)
**** Call ## 109 ## Duration:  101 (ERR)
      ✓ should disallow unknown username (102ms)
**** Call ## 110 ## Duration:  259
**** Call ## 111 ## Duration:  193
**** Call ## 112 ## Duration:  206
**** Call ## 113 ## Duration:  174
**** Call ## 114 ## Duration:  287
**** Call ## 115 ## Duration:  192
**** Call ## 116 ## Duration:  212
**** Call ## 117 ## Duration:  230
**** Call ## 118 ## Duration:  162
**** Call ## 119 ## Duration:  156
      ✓ should follow/unfollow user (2073ms)
**** Call ## 120 ## Duration:  134 (ERR)
      ✓ should disallow following with bad token (134ms)
    Update
**** Call ## 121 ## Duration:  147
**** Call ## 122 ## Duration:  130
**** Call ## 123 ## Duration:  130
**** Call ## 124 ## Duration:  121
      ✓ should update user (529ms)
**** Call ## 125 ## Duration:  79 (ERR)
**** Call ## 126 ## Duration:  95 (ERR)
      ✓ should disallow missing token/email in update (176ms)
**** Call ## 127 ## Duration:  168
**** Call ## 128 ## Duration:  118 (ERR)
      ✓ should disallow reusing email (287ms)

  Util
    Ping
**** Call ## 129 ## Duration:  116
      ✓ should ping (116ms)


  58 passing (23s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  217
**** Call ## 1 ## Duration:  187
**** Call ## 2 ## Duration:  164
    Create
**** Call ## 3 ## Duration:  154
      ✓ should create article (157ms)
**** Call ## 4 ## Duration:  147
      ✓ should create article with tags (151ms)
**** Call ## 5 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 6 ## Duration:  188 (ERR)
**** Call ## 7 ## Duration:  112 (ERR)
**** Call ## 8 ## Duration:  125 (ERR)
**** Call ## 9 ## Duration:  123 (ERR)
      ✓ should enforce required fields (548ms)
    Get
**** Call ## 10 ## Duration:  136
      ✓ should get article by slug (137ms)
**** Call ## 11 ## Duration:  160
      ✓ should get article with tags by slug (160ms)
**** Call ## 12 ## Duration:  108 (ERR)
      ✓ should disallow unknown slug (108ms)
    Update
**** Call ## 13 ## Duration:  202
**** Call ## 14 ## Duration:  234
**** Call ## 15 ## Duration:  207
      ✓ should update article (645ms)
**** Call ## 16 ## Duration:  87 (ERR)
      ✓ should disallow missing mutation (87ms)
**** Call ## 17 ## Duration:  100 (ERR)
      ✓ should disallow empty mutation (101ms)
**** Call ## 18 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated update (85ms)
**** Call ## 19 ## Duration:  117 (ERR)
      ✓ should disallow updating non-existent article (118ms)
**** Call ## 20 ## Duration:  120 (ERR)
      ✓ should disallow non-author from updating (120ms)
    Favorite
**** Call ## 21 ## Duration:  195
**** Call ## 22 ## Duration:  153
      ✓ should favorite article (348ms)
**** Call ## 23 ## Duration:  85 (ERR)
      ✓ should disallow favoriting by unauthenticated user (85ms)
**** Call ## 24 ## Duration:  145 (ERR)
      ✓ should disallow favoriting unknown article (145ms)
**** Call ## 25 ## Duration:  232
      ✓ should unfavorite article (232ms)
    Delete
**** Call ## 26 ## Duration:  185
**** Call ## 27 ## Duration:  96 (ERR)
      ✓ should delete article (281ms)
**** Call ## 28 ## Duration:  84 (ERR)
      ✓ should disallow deleting by unauthenticated user (84ms)
**** Call ## 29 ## Duration:  138 (ERR)
      ✓ should disallow deleting unknown article (138ms)
**** Call ## 30 ## Duration:  152 (ERR)
      ✓ should disallow deleting article by non-author (152ms)
    List
**** Call ## 31 ## Duration:  163
**** Call ## 32 ## Duration:  120
**** Call ## 33 ## Duration:  164
**** Call ## 34 ## Duration:  139
**** Call ## 35 ## Duration:  155
**** Call ## 36 ## Duration:  142
**** Call ## 37 ## Duration:  133
**** Call ## 38 ## Duration:  127
**** Call ## 39 ## Duration:  144
**** Call ## 40 ## Duration:  135
**** Call ## 41 ## Duration:  141
**** Call ## 42 ## Duration:  159
**** Call ## 43 ## Duration:  139
**** Call ## 44 ## Duration:  156
**** Call ## 45 ## Duration:  162
**** Call ## 46 ## Duration:  178
**** Call ## 47 ## Duration:  130
**** Call ## 48 ## Duration:  137
**** Call ## 49 ## Duration:  152
**** Call ## 50 ## Duration:  147
**** Call ## 51 ## Duration:  577
      ✓ should list articles (577ms)
**** Call ## 52 ## Duration:  494
**** Call ## 53 ## Duration:  436
      ✓ should list articles with tag (930ms)
**** Call ## 54 ## Duration:  358
      ✓ should list articles by author (359ms)
**** Call ## 55 ## Duration:  156
      ✓ should list articles favorited by user (157ms)
**** Call ## 56 ## Duration:  151
**** Call ## 57 ## Duration:  150
      ✓ should list articles by limit/offset (301ms)
**** Call ## 58 ## Duration:  581
      ✓ should list articles when authenticated (581ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  82 (ERR)
**** Call ## 59 ## Duration:  83 (ERR)
**** Call ## 60 ## Duration:  86 (ERR)
**** Call ## 62 ## Duration:  145
**** Call ## 63 ## Duration:  204
**** Call ## 64 ## Duration:  479
**** Call ## 65 ## Duration:  174
**** Call ## 66 ## Duration:  519
      ✓ should get feed (1523ms)
**** Call ## 67 ## Duration:  113 (ERR)
      ✓ should disallow unauthenticated feed (113ms)
    Tags
**** Call ## 68 ## Duration:  266
      ✓ should get tags (267ms)

  Comment
**** Call ## 69 ## Duration:  199
**** Call ## 70 ## Duration:  208
**** Call ## 71 ## Duration:  242
    Create
**** Call ## 72 ## Duration:  213
**** Call ## 73 ## Duration:  326
**** Call ## 74 ## Duration:  171
**** Call ## 75 ## Duration:  149
**** Call ## 76 ## Duration:  203
**** Call ## 77 ## Duration:  146
**** Call ## 78 ## Duration:  160
**** Call ## 79 ## Duration:  157
**** Call ## 80 ## Duration:  155
**** Call ## 81 ## Duration:  212
      ✓ should create comment (1895ms)
**** Call ## 82 ## Duration:  206 (ERR)
      ✓ should disallow unauthenticated user (207ms)
**** Call ## 83 ## Duration:  141 (ERR)
      ✓ should enforce comment body (141ms)
**** Call ## 84 ## Duration:  143 (ERR)
      ✓ should disallow non-existent article (145ms)
    Get
**** Call ## 85 ## Duration:  215
      ✓ should get all comments for article (216ms)
    Delete
**** Call ## 86 ## Duration:  238
      ✓ should delete comment (238ms)
**** Call ## 87 ## Duration:  115 (ERR)
      ✓ only comment author should be able to delete comment (115ms)
**** Call ## 88 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 89 ## Duration:  125 (ERR)
      ✓ should disallow deleting unknown comment (126ms)

  User
    Create
**** Call ## 90 ## Duration:  207
      ✓ should create user (208ms)
**** Call ## 91 ## Duration:  149 (ERR)
      ✓ should disallow same username (149ms)
**** Call ## 92 ## Duration:  123 (ERR)
      ✓ should disallow same email (123ms)
**** Call ## 93 ## Duration:  88 (ERR)
**** Call ## 94 ## Duration:  86 (ERR)
**** Call ## 95 ## Duration:  84 (ERR)
**** Call ## 96 ## Duration:  150 (ERR)
      ✓ should enforce required fields (409ms)
    Login
**** Call ## 97 ## Duration:  123
      ✓ should login (123ms)
**** Call ## 98 ## Duration:  117 (ERR)
      ✓ should disallow unknown email (118ms)
**** Call ## 99 ## Duration:  108 (ERR)
      ✓ should disallow wrong password (109ms)
**** Call ## 100 ## Duration:  82 (ERR)
**** Call ## 101 ## Duration:  84 (ERR)
**** Call ## 102 ## Duration:  114 (ERR)
      ✓ should enforce required fields (282ms)
    Get
**** Call ## 103 ## Duration:  106
      ✓ should get current user (106ms)
**** Call ## 104 ## Duration:  126 (ERR)
**** Call ## 105 ## Duration:  101 (ERR)
**** Call ## 106 ## Duration:  113 (ERR)
**** Call ## 107 ## Duration:  82 (ERR)
      ✓ should disallow bad tokens (424ms)
    Profile
**** Call ## 108 ## Duration:  161
      ✓ should get profile (161ms)
**** Call ## 109 ## Duration:  138 (ERR)
      ✓ should disallow unknown username (139ms)
**** Call ## 110 ## Duration:  205
**** Call ## 111 ## Duration:  178
**** Call ## 112 ## Duration:  211
**** Call ## 113 ## Duration:  120
**** Call ## 114 ## Duration:  122
**** Call ## 115 ## Duration:  205
**** Call ## 116 ## Duration:  196
**** Call ## 117 ## Duration:  199
**** Call ## 118 ## Duration:  162
**** Call ## 119 ## Duration:  189
      ✓ should follow/unfollow user (1788ms)
**** Call ## 120 ## Duration:  84 (ERR)
      ✓ should disallow following with bad token (84ms)
    Update
**** Call ## 121 ## Duration:  211
**** Call ## 122 ## Duration:  163
**** Call ## 123 ## Duration:  120
**** Call ## 124 ## Duration:  132
      ✓ should update user (627ms)
**** Call ## 125 ## Duration:  103 (ERR)
**** Call ## 126 ## Duration:  88 (ERR)
      ✓ should disallow missing token/email in update (193ms)
**** Call ## 127 ## Duration:  169
**** Call ## 128 ## Duration:  111 (ERR)
      ✓ should disallow reusing email (280ms)

  Util
    Ping
**** Call ## 129 ## Duration:  107
      ✓ should ping (108ms)


  58 passing (22s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  222
**** Call ## 1 ## Duration:  177
**** Call ## 2 ## Duration:  171
    Create
**** Call ## 3 ## Duration:  147
      ✓ should create article (149ms)
**** Call ## 4 ## Duration:  139
      ✓ should create article with tags (140ms)
**** Call ## 5 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated user (81ms)
**** Call ## 6 ## Duration:  164 (ERR)
**** Call ## 7 ## Duration:  121 (ERR)
**** Call ## 8 ## Duration:  151 (ERR)
**** Call ## 9 ## Duration:  140 (ERR)
      ✓ should enforce required fields (577ms)
    Get
**** Call ## 10 ## Duration:  149
      ✓ should get article by slug (149ms)
**** Call ## 11 ## Duration:  163
      ✓ should get article with tags by slug (163ms)
**** Call ## 12 ## Duration:  105 (ERR)
      ✓ should disallow unknown slug (105ms)
    Update
**** Call ## 13 ## Duration:  229
**** Call ## 14 ## Duration:  202
**** Call ## 15 ## Duration:  192
      ✓ should update article (624ms)
**** Call ## 16 ## Duration:  105 (ERR)
      ✓ should disallow missing mutation (105ms)
**** Call ## 17 ## Duration:  82 (ERR)
      ✓ should disallow empty mutation (82ms)
**** Call ## 18 ## Duration:  83 (ERR)
      ✓ should disallow unauthenticated update (84ms)
**** Call ## 19 ## Duration:  120 (ERR)
      ✓ should disallow updating non-existent article (120ms)
**** Call ## 20 ## Duration:  142 (ERR)
      ✓ should disallow non-author from updating (142ms)
    Favorite
**** Call ## 21 ## Duration:  194
**** Call ## 22 ## Duration:  151
      ✓ should favorite article (345ms)
**** Call ## 23 ## Duration:  101 (ERR)
      ✓ should disallow favoriting by unauthenticated user (101ms)
**** Call ## 24 ## Duration:  166 (ERR)
      ✓ should disallow favoriting unknown article (166ms)
**** Call ## 25 ## Duration:  206
      ✓ should unfavorite article (206ms)
    Delete
**** Call ## 26 ## Duration:  164
**** Call ## 27 ## Duration:  106 (ERR)
      ✓ should delete article (270ms)
**** Call ## 28 ## Duration:  289 (ERR)
      ✓ should disallow deleting by unauthenticated user (290ms)
**** Call ## 29 ## Duration:  116 (ERR)
      ✓ should disallow deleting unknown article (116ms)
**** Call ## 30 ## Duration:  127 (ERR)
      ✓ should disallow deleting article by non-author (128ms)
    List
**** Call ## 31 ## Duration:  158
**** Call ## 32 ## Duration:  175
**** Call ## 33 ## Duration:  133
**** Call ## 34 ## Duration:  128
**** Call ## 35 ## Duration:  1164
**** Call ## 36 ## Duration:  150
**** Call ## 37 ## Duration:  135
**** Call ## 38 ## Duration:  175
**** Call ## 39 ## Duration:  186
**** Call ## 40 ## Duration:  179
**** Call ## 41 ## Duration:  141
**** Call ## 42 ## Duration:  145
**** Call ## 43 ## Duration:  131
**** Call ## 44 ## Duration:  184
**** Call ## 45 ## Duration:  164
**** Call ## 46 ## Duration:  118
**** Call ## 47 ## Duration:  196
**** Call ## 48 ## Duration:  146
**** Call ## 49 ## Duration:  168
**** Call ## 50 ## Duration:  179
**** Call ## 51 ## Duration:  682
      ✓ should list articles (682ms)
**** Call ## 52 ## Duration:  514
**** Call ## 53 ## Duration:  439
      ✓ should list articles with tag (954ms)
**** Call ## 54 ## Duration:  325
      ✓ should list articles by author (325ms)
**** Call ## 55 ## Duration:  211
      ✓ should list articles favorited by user (211ms)
**** Call ## 56 ## Duration:  209
**** Call ## 57 ## Duration:  156
      ✓ should list articles by limit/offset (366ms)
**** Call ## 58 ## Duration:  573
      ✓ should list articles when authenticated (573ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  89 (ERR)
**** Call ## 59 ## Duration:  99 (ERR)
**** Call ## 60 ## Duration:  111 (ERR)
**** Call ## 62 ## Duration:  167
**** Call ## 63 ## Duration:  186
**** Call ## 64 ## Duration:  316
**** Call ## 65 ## Duration:  217
**** Call ## 66 ## Duration:  432
      ✓ should get feed (1322ms)
**** Call ## 67 ## Duration:  96 (ERR)
      ✓ should disallow unauthenticated feed (97ms)
    Tags
**** Call ## 68 ## Duration:  278
      ✓ should get tags (278ms)

  Comment
**** Call ## 69 ## Duration:  189
**** Call ## 70 ## Duration:  145
**** Call ## 71 ## Duration:  153
    Create
**** Call ## 72 ## Duration:  211
**** Call ## 73 ## Duration:  150
**** Call ## 74 ## Duration:  308
**** Call ## 75 ## Duration:  191
**** Call ## 76 ## Duration:  190
**** Call ## 77 ## Duration:  189
**** Call ## 78 ## Duration:  155
**** Call ## 79 ## Duration:  144
**** Call ## 80 ## Duration:  160
**** Call ## 81 ## Duration:  184
      ✓ should create comment (1886ms)
**** Call ## 82 ## Duration:  120 (ERR)
      ✓ should disallow unauthenticated user (121ms)
**** Call ## 83 ## Duration:  128 (ERR)
      ✓ should enforce comment body (128ms)
**** Call ## 84 ## Duration:  172 (ERR)
      ✓ should disallow non-existent article (172ms)
    Get
**** Call ## 85 ## Duration:  348
      ✓ should get all comments for article (348ms)
    Delete
**** Call ## 86 ## Duration:  177
      ✓ should delete comment (177ms)
**** Call ## 87 ## Duration:  123 (ERR)
      ✓ only comment author should be able to delete comment (123ms)
**** Call ## 88 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 89 ## Duration:  121 (ERR)
      ✓ should disallow deleting unknown comment (121ms)

  User
    Create
**** Call ## 90 ## Duration:  168
      ✓ should create user (168ms)
**** Call ## 91 ## Duration:  577 (ERR)
      ✓ should disallow same username (578ms)
**** Call ## 92 ## Duration:  114 (ERR)
      ✓ should disallow same email (114ms)
**** Call ## 93 ## Duration:  113 (ERR)
**** Call ## 94 ## Duration:  85 (ERR)
**** Call ## 95 ## Duration:  136 (ERR)
**** Call ## 96 ## Duration:  79 (ERR)
      ✓ should enforce required fields (413ms)
    Login
**** Call ## 97 ## Duration:  127
      ✓ should login (127ms)
**** Call ## 98 ## Duration:  96 (ERR)
      ✓ should disallow unknown email (97ms)
**** Call ## 99 ## Duration:  111 (ERR)
      ✓ should disallow wrong password (111ms)
**** Call ## 100 ## Duration:  84 (ERR)
**** Call ## 101 ## Duration:  147 (ERR)
**** Call ## 102 ## Duration:  120 (ERR)
      ✓ should enforce required fields (352ms)
    Get
**** Call ## 103 ## Duration:  152
      ✓ should get current user (153ms)
**** Call ## 104 ## Duration:  109 (ERR)
**** Call ## 105 ## Duration:  84 (ERR)
**** Call ## 106 ## Duration:  83 (ERR)
**** Call ## 107 ## Duration:  93 (ERR)
      ✓ should disallow bad tokens (371ms)
    Profile
**** Call ## 108 ## Duration:  128
      ✓ should get profile (128ms)
**** Call ## 109 ## Duration:  118 (ERR)
      ✓ should disallow unknown username (119ms)
**** Call ## 110 ## Duration:  139
**** Call ## 111 ## Duration:  174
**** Call ## 112 ## Duration:  167
**** Call ## 113 ## Duration:  163
**** Call ## 114 ## Duration:  109
**** Call ## 115 ## Duration:  172
**** Call ## 116 ## Duration:  209
**** Call ## 117 ## Duration:  219
**** Call ## 118 ## Duration:  171
**** Call ## 119 ## Duration:  270
      ✓ should follow/unfollow user (1796ms)
**** Call ## 120 ## Duration:  83 (ERR)
      ✓ should disallow following with bad token (83ms)
    Update
**** Call ## 121 ## Duration:  175
**** Call ## 122 ## Duration:  135
**** Call ## 123 ## Duration:  127
**** Call ## 124 ## Duration:  284
      ✓ should update user (722ms)
**** Call ## 125 ## Duration:  111 (ERR)
**** Call ## 126 ## Duration:  105 (ERR)
      ✓ should disallow missing token/email in update (216ms)
**** Call ## 127 ## Duration:  173
**** Call ## 128 ## Duration:  159 (ERR)
      ✓ should disallow reusing email (334ms)

  Util
    Ping
**** Call ## 129 ## Duration:  88
      ✓ should ping (89ms)


  58 passing (23s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  133
**** Call ## 1 ## Duration:  101
**** Call ## 2 ## Duration:  92
    Create
**** Call ## 3 ## Duration:  81
      ✓ should create article (83ms)
**** Call ## 4 ## Duration:  86
      ✓ should create article with tags (89ms)
**** Call ## 5 ## Duration:  35 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  73 (ERR)
**** Call ## 7 ## Duration:  69 (ERR)
**** Call ## 8 ## Duration:  64 (ERR)
**** Call ## 9 ## Duration:  51 (ERR)
      ✓ should enforce required fields (259ms)
    Get
**** Call ## 10 ## Duration:  105
      ✓ should get article by slug (105ms)
**** Call ## 11 ## Duration:  92
      ✓ should get article with tags by slug (92ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (42ms)
    Update
**** Call ## 13 ## Duration:  168
**** Call ## 14 ## Duration:  136
**** Call ## 15 ## Duration:  139
      ✓ should update article (446ms)
**** Call ## 16 ## Duration:  26 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  35 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  97 (ERR)
      ✓ should disallow updating non-existent article (97ms)
**** Call ## 20 ## Duration:  63 (ERR)
      ✓ should disallow non-author from updating (63ms)
    Favorite
**** Call ## 21 ## Duration:  147
**** Call ## 22 ## Duration:  102
      ✓ should favorite article (250ms)
**** Call ## 23 ## Duration:  38 (ERR)
      ✓ should disallow favoriting by unauthenticated user (38ms)
**** Call ## 24 ## Duration:  59 (ERR)
      ✓ should disallow favoriting unknown article (59ms)
**** Call ## 25 ## Duration:  143
      ✓ should unfavorite article (143ms)
    Delete
**** Call ## 26 ## Duration:  203
**** Call ## 27 ## Duration:  39 (ERR)
      ✓ should delete article (243ms)
**** Call ## 28 ## Duration:  24 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  66 (ERR)
      ✓ should disallow deleting unknown article (67ms)
**** Call ## 30 ## Duration:  72 (ERR)
      ✓ should disallow deleting article by non-author (73ms)
    List
**** Call ## 31 ## Duration:  94
**** Call ## 32 ## Duration:  92
**** Call ## 33 ## Duration:  81
**** Call ## 34 ## Duration:  82
**** Call ## 35 ## Duration:  93
**** Call ## 36 ## Duration:  79
**** Call ## 37 ## Duration:  82
**** Call ## 38 ## Duration:  76
**** Call ## 39 ## Duration:  63
**** Call ## 40 ## Duration:  82
**** Call ## 41 ## Duration:  72
**** Call ## 42 ## Duration:  70
**** Call ## 43 ## Duration:  77
**** Call ## 44 ## Duration:  95
**** Call ## 45 ## Duration:  100
**** Call ## 46 ## Duration:  55
**** Call ## 47 ## Duration:  70
**** Call ## 48 ## Duration:  68
**** Call ## 49 ## Duration:  129
**** Call ## 50 ## Duration:  67
**** Call ## 51 ## Duration:  378
      ✓ should list articles (378ms)
**** Call ## 52 ## Duration:  320
**** Call ## 53 ## Duration:  336
      ✓ should list articles with tag (656ms)
**** Call ## 54 ## Duration:  313
      ✓ should list articles by author (313ms)
**** Call ## 55 ## Duration:  97
      ✓ should list articles favorited by user (97ms)
**** Call ## 56 ## Duration:  1121
**** Call ## 57 ## Duration:  97
      ✓ should list articles by limit/offset (1219ms)
**** Call ## 58 ## Duration:  431
      ✓ should list articles when authenticated (431ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  36 (ERR)
**** Call ## 60 ## Duration:  38 (ERR)
**** Call ## 61 ## Duration:  47 (ERR)
**** Call ## 62 ## Duration:  91
**** Call ## 63 ## Duration:  527
**** Call ## 64 ## Duration:  293
**** Call ## 65 ## Duration:  104
**** Call ## 66 ## Duration:  507
      ✓ should get feed (1524ms)
**** Call ## 67 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  171
      ✓ should get tags (172ms)

  Comment
**** Call ## 69 ## Duration:  121
**** Call ## 70 ## Duration:  121
**** Call ## 71 ## Duration:  88
    Create
**** Call ## 72 ## Duration:  110
**** Call ## 73 ## Duration:  104
**** Call ## 74 ## Duration:  94
**** Call ## 75 ## Duration:  84
**** Call ## 76 ## Duration:  83
**** Call ## 77 ## Duration:  85
**** Call ## 78 ## Duration:  87
**** Call ## 79 ## Duration:  92
**** Call ## 80 ## Duration:  82
**** Call ## 81 ## Duration:  80
      ✓ should create comment (903ms)
**** Call ## 82 ## Duration:  32 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  86 (ERR)
      ✓ should enforce comment body (86ms)
**** Call ## 84 ## Duration:  76 (ERR)
      ✓ should disallow non-existent article (77ms)
    Get
**** Call ## 85 ## Duration:  232
      ✓ should get all comments for article (232ms)
    Delete
**** Call ## 86 ## Duration:  88
      ✓ should delete comment (89ms)
**** Call ## 87 ## Duration:  88 (ERR)
      ✓ only comment author should be able to delete comment (89ms)
**** Call ## 88 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown comment (58ms)

  User
    Create
**** Call ## 90 ## Duration:  129
      ✓ should create user (131ms)
**** Call ## 91 ## Duration:  63 (ERR)
      ✓ should disallow same username (64ms)
**** Call ## 92 ## Duration:  69 (ERR)
      ✓ should disallow same email (69ms)
**** Call ## 93 ## Duration:  21 (ERR)
**** Call ## 94 ## Duration:  36 (ERR)
**** Call ## 95 ## Duration:  22 (ERR)
**** Call ## 96 ## Duration:  28 (ERR)
      ✓ should enforce required fields (109ms)
    Login
**** Call ## 97 ## Duration:  83
      ✓ should login (84ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  49 (ERR)
      ✓ should disallow wrong password (49ms)
**** Call ## 100 ## Duration:  26 (ERR)
**** Call ## 101 ## Duration:  21 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (70ms)
    Get
**** Call ## 103 ## Duration:  66
      ✓ should get current user (67ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  31 (ERR)
**** Call ## 106 ## Duration:  23 (ERR)
**** Call ## 107 ## Duration:  25 (ERR)
      ✓ should disallow bad tokens (104ms)
    Profile
**** Call ## 108 ## Duration:  71
      ✓ should get profile (71ms)
**** Call ## 109 ## Duration:  48 (ERR)
      ✓ should disallow unknown username (49ms)
**** Call ## 110 ## Duration:  145
**** Call ## 111 ## Duration:  123
**** Call ## 112 ## Duration:  189
**** Call ## 113 ## Duration:  79
**** Call ## 114 ## Duration:  80
**** Call ## 115 ## Duration:  91
**** Call ## 116 ## Duration:  119
**** Call ## 117 ## Duration:  122
**** Call ## 118 ## Duration:  113
**** Call ## 119 ## Duration:  118
      ✓ should follow/unfollow user (1183ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  92
**** Call ## 122 ## Duration:  64
**** Call ## 123 ## Duration:  70
**** Call ## 124 ## Duration:  71
      ✓ should update user (298ms)
**** Call ## 125 ## Duration:  24 (ERR)
**** Call ## 126 ## Duration:  127 (ERR)
      ✓ should disallow missing token/email in update (152ms)
**** Call ## 127 ## Duration:  147
**** Call ## 128 ## Duration:  70 (ERR)
      ✓ should disallow reusing email (218ms)

  Util
    Ping
**** Call ## 129 ## Duration:  24
      ✓ should ping


  58 passing (14s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  147
**** Call ## 1 ## Duration:  106
**** Call ## 2 ## Duration:  107
    Create
**** Call ## 3 ## Duration:  88
      ✓ should create article (90ms)
**** Call ## 4 ## Duration:  86
      ✓ should create article with tags (87ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  58 (ERR)
**** Call ## 7 ## Duration:  62 (ERR)
**** Call ## 8 ## Duration:  82 (ERR)
**** Call ## 9 ## Duration:  59 (ERR)
      ✓ should enforce required fields (262ms)
    Get
**** Call ## 10 ## Duration:  83
      ✓ should get article by slug (84ms)
**** Call ## 11 ## Duration:  85
      ✓ should get article with tags by slug (85ms)
**** Call ## 12 ## Duration:  40 (ERR)
      ✓ should disallow unknown slug (41ms)
    Update
**** Call ## 13 ## Duration:  168
**** Call ## 14 ## Duration:  140
**** Call ## 15 ## Duration:  115
      ✓ should update article (426ms)
**** Call ## 16 ## Duration:  29 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  30 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  64 (ERR)
      ✓ should disallow updating non-existent article (64ms)
**** Call ## 20 ## Duration:  62 (ERR)
      ✓ should disallow non-author from updating (64ms)
    Favorite
**** Call ## 21 ## Duration:  128
**** Call ## 22 ## Duration:  86
      ✓ should favorite article (214ms)
**** Call ## 23 ## Duration:  23 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  67 (ERR)
      ✓ should disallow favoriting unknown article (68ms)
**** Call ## 25 ## Duration:  128
      ✓ should unfavorite article (128ms)
    Delete
**** Call ## 26 ## Duration:  100
**** Call ## 27 ## Duration:  37 (ERR)
      ✓ should delete article (138ms)
**** Call ## 28 ## Duration:  27 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown article (57ms)
**** Call ## 30 ## Duration:  177 (ERR)
      ✓ should disallow deleting article by non-author (178ms)
    List
**** Call ## 31 ## Duration:  126
**** Call ## 32 ## Duration:  76
**** Call ## 33 ## Duration:  135
**** Call ## 34 ## Duration:  71
**** Call ## 35 ## Duration:  78
**** Call ## 36 ## Duration:  85
**** Call ## 37 ## Duration:  70
**** Call ## 38 ## Duration:  74
**** Call ## 39 ## Duration:  68
**** Call ## 40 ## Duration:  92
**** Call ## 41 ## Duration:  82
**** Call ## 42 ## Duration:  85
**** Call ## 43 ## Duration:  82
**** Call ## 44 ## Duration:  116
**** Call ## 45 ## Duration:  88
**** Call ## 46 ## Duration:  70
**** Call ## 47 ## Duration:  64
**** Call ## 48 ## Duration:  66
**** Call ## 49 ## Duration:  77
**** Call ## 50 ## Duration:  70
**** Call ## 51 ## Duration:  332
      ✓ should list articles (332ms)
**** Call ## 52 ## Duration:  1300
**** Call ## 53 ## Duration:  265
      ✓ should list articles with tag (1565ms)
**** Call ## 54 ## Duration:  187
      ✓ should list articles by author (187ms)
**** Call ## 55 ## Duration:  130
      ✓ should list articles favorited by user (131ms)
**** Call ## 56 ## Duration:  125
**** Call ## 57 ## Duration:  204
      ✓ should list articles by limit/offset (329ms)
**** Call ## 58 ## Duration:  520
      ✓ should list articles when authenticated (521ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  30 (ERR)
**** Call ## 59 ## Duration:  31 (ERR)
**** Call ## 62 ## Duration:  85
**** Call ## 63 ## Duration:  145
**** Call ## 64 ## Duration:  266
**** Call ## 65 ## Duration:  103
**** Call ## 66 ## Duration:  283
      ✓ should get feed (885ms)
**** Call ## 67 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  164
      ✓ should get tags (164ms)

  Comment
**** Call ## 69 ## Duration:  97
**** Call ## 70 ## Duration:  96
**** Call ## 71 ## Duration:  77
    Create
**** Call ## 72 ## Duration:  102
**** Call ## 73 ## Duration:  113
**** Call ## 74 ## Duration:  105
**** Call ## 75 ## Duration:  96
**** Call ## 76 ## Duration:  99
**** Call ## 77 ## Duration:  113
**** Call ## 78 ## Duration:  177
**** Call ## 79 ## Duration:  81
**** Call ## 80 ## Duration:  87
**** Call ## 81 ## Duration:  108
      ✓ should create comment (1083ms)
**** Call ## 82 ## Duration:  21 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  116 (ERR)
      ✓ should enforce comment body (116ms)
**** Call ## 84 ## Duration:  85 (ERR)
      ✓ should disallow non-existent article (86ms)
    Get
**** Call ## 85 ## Duration:  185
      ✓ should get all comments for article (187ms)
    Delete
**** Call ## 86 ## Duration:  106
      ✓ should delete comment (106ms)
**** Call ## 87 ## Duration:  59 (ERR)
      ✓ only comment author should be able to delete comment (60ms)
**** Call ## 88 ## Duration:  27 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  65 (ERR)
      ✓ should disallow deleting unknown comment (67ms)

  User
    Create
**** Call ## 90 ## Duration:  118
      ✓ should create user (118ms)
**** Call ## 91 ## Duration:  43 (ERR)
      ✓ should disallow same username (43ms)
**** Call ## 92 ## Duration:  58 (ERR)
      ✓ should disallow same email (59ms)
**** Call ## 93 ## Duration:  29 (ERR)
**** Call ## 94 ## Duration:  28 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (105ms)
    Login
**** Call ## 97 ## Duration:  89
      ✓ should login (90ms)
**** Call ## 98 ## Duration:  48 (ERR)
      ✓ should disallow unknown email (48ms)
**** Call ## 99 ## Duration:  46 (ERR)
      ✓ should disallow wrong password (46ms)
**** Call ## 100 ## Duration:  26 (ERR)
**** Call ## 101 ## Duration:  23 (ERR)
**** Call ## 102 ## Duration:  27 (ERR)
      ✓ should enforce required fields (78ms)
    Get
**** Call ## 103 ## Duration:  45
      ✓ should get current user (45ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  31 (ERR)
**** Call ## 106 ## Duration:  42 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (120ms)
    Profile
**** Call ## 108 ## Duration:  67
      ✓ should get profile (67ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  104
**** Call ## 111 ## Duration:  136
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  80
**** Call ## 114 ## Duration:  71
**** Call ## 115 ## Duration:  95
**** Call ## 116 ## Duration:  121
**** Call ## 117 ## Duration:  122
**** Call ## 118 ## Duration:  102
**** Call ## 119 ## Duration:  100
      ✓ should follow/unfollow user (1040ms)
**** Call ## 120 ## Duration:  25 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  144
**** Call ## 122 ## Duration:  54
**** Call ## 123 ## Duration:  50
**** Call ## 124 ## Duration:  72
      ✓ should update user (322ms)
**** Call ## 125 ## Duration:  22 (ERR)
**** Call ## 126 ## Duration:  51 (ERR)
      ✓ should disallow missing token/email in update (75ms)
**** Call ## 127 ## Duration:  98
**** Call ## 128 ## Duration:  63 (ERR)
      ✓ should disallow reusing email (162ms)

  Util
    Ping
**** Call ## 129 ## Duration:  41
      ✓ should ping (41ms)


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  147
**** Call ## 1 ## Duration:  139
**** Call ## 2 ## Duration:  93
    Create
**** Call ## 3 ## Duration:  86
      ✓ should create article (88ms)
**** Call ## 4 ## Duration:  92
      ✓ should create article with tags (94ms)
**** Call ## 5 ## Duration:  25 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  93 (ERR)
**** Call ## 7 ## Duration:  70 (ERR)
**** Call ## 8 ## Duration:  54 (ERR)
**** Call ## 9 ## Duration:  54 (ERR)
      ✓ should enforce required fields (274ms)
    Get
**** Call ## 10 ## Duration:  123
      ✓ should get article by slug (123ms)
**** Call ## 11 ## Duration:  303
      ✓ should get article with tags by slug (303ms)
**** Call ## 12 ## Duration:  137 (ERR)
      ✓ should disallow unknown slug (138ms)
    Update
**** Call ## 13 ## Duration:  268
**** Call ## 14 ## Duration:  218
**** Call ## 15 ## Duration:  197
      ✓ should update article (686ms)
**** Call ## 16 ## Duration:  85 (ERR)
      ✓ should disallow missing mutation (85ms)
**** Call ## 17 ## Duration:  101 (ERR)
      ✓ should disallow empty mutation (103ms)
**** Call ## 18 ## Duration:  92 (ERR)
      ✓ should disallow unauthenticated update (92ms)
**** Call ## 19 ## Duration:  153 (ERR)
      ✓ should disallow updating non-existent article (153ms)
**** Call ## 20 ## Duration:  114 (ERR)
      ✓ should disallow non-author from updating (115ms)
    Favorite
**** Call ## 21 ## Duration:  184
**** Call ## 22 ## Duration:  172
      ✓ should favorite article (356ms)
**** Call ## 23 ## Duration:  83 (ERR)
      ✓ should disallow favoriting by unauthenticated user (83ms)
**** Call ## 24 ## Duration:  119 (ERR)
      ✓ should disallow favoriting unknown article (119ms)
**** Call ## 25 ## Duration:  227
      ✓ should unfavorite article (228ms)
    Delete
**** Call ## 26 ## Duration:  167
**** Call ## 27 ## Duration:  113 (ERR)
      ✓ should delete article (281ms)
**** Call ## 28 ## Duration:  86 (ERR)
      ✓ should disallow deleting by unauthenticated user (86ms)
**** Call ## 29 ## Duration:  162 (ERR)
      ✓ should disallow deleting unknown article (162ms)
**** Call ## 30 ## Duration:  137 (ERR)
      ✓ should disallow deleting article by non-author (138ms)
    List
**** Call ## 31 ## Duration:  145
**** Call ## 32 ## Duration:  153
**** Call ## 33 ## Duration:  159
**** Call ## 34 ## Duration:  174
**** Call ## 35 ## Duration:  145
**** Call ## 36 ## Duration:  148
**** Call ## 37 ## Duration:  165
**** Call ## 38 ## Duration:  282
**** Call ## 39 ## Duration:  173
**** Call ## 40 ## Duration:  133
**** Call ## 41 ## Duration:  203
**** Call ## 42 ## Duration:  165
**** Call ## 43 ## Duration:  141
**** Call ## 44 ## Duration:  257
**** Call ## 45 ## Duration:  134
**** Call ## 46 ## Duration:  138
**** Call ## 47 ## Duration:  128
**** Call ## 48 ## Duration:  135
**** Call ## 49 ## Duration:  171
**** Call ## 50 ## Duration:  152
**** Call ## 51 ## Duration:  495
      ✓ should list articles (495ms)
**** Call ## 52 ## Duration:  528
**** Call ## 53 ## Duration:  540
      ✓ should list articles with tag (1069ms)
**** Call ## 54 ## Duration:  358
      ✓ should list articles by author (358ms)
**** Call ## 55 ## Duration:  164
      ✓ should list articles favorited by user (164ms)
**** Call ## 56 ## Duration:  212
**** Call ## 57 ## Duration:  138
      ✓ should list articles by limit/offset (351ms)
**** Call ## 58 ## Duration:  615
      ✓ should list articles when authenticated (615ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  87 (ERR)
**** Call ## 59 ## Duration:  87 (ERR)
**** Call ## 60 ## Duration:  89 (ERR)
**** Call ## 62 ## Duration:  161
**** Call ## 63 ## Duration:  170
**** Call ## 64 ## Duration:  405
**** Call ## 65 ## Duration:  182
**** Call ## 66 ## Duration:  440
      ✓ should get feed (1363ms)
**** Call ## 67 ## Duration:  208 (ERR)
      ✓ should disallow unauthenticated feed (209ms)
    Tags
**** Call ## 68 ## Duration:  434
      ✓ should get tags (435ms)

  Comment
**** Call ## 69 ## Duration:  149
**** Call ## 70 ## Duration:  152
**** Call ## 71 ## Duration:  137
    Create
**** Call ## 72 ## Duration:  169
**** Call ## 73 ## Duration:  154
**** Call ## 74 ## Duration:  149
**** Call ## 75 ## Duration:  186
**** Call ## 76 ## Duration:  153
**** Call ## 77 ## Duration:  164
**** Call ## 78 ## Duration:  160
**** Call ## 79 ## Duration:  152
**** Call ## 80 ## Duration:  167
**** Call ## 81 ## Duration:  154
      ✓ should create comment (1611ms)
**** Call ## 82 ## Duration:  88 (ERR)
      ✓ should disallow unauthenticated user (88ms)
**** Call ## 83 ## Duration:  119 (ERR)
      ✓ should enforce comment body (120ms)
**** Call ## 84 ## Duration:  118 (ERR)
      ✓ should disallow non-existent article (119ms)
    Get
**** Call ## 85 ## Duration:  238
      ✓ should get all comments for article (239ms)
    Delete
**** Call ## 86 ## Duration:  200
      ✓ should delete comment (200ms)
**** Call ## 87 ## Duration:  120 (ERR)
      ✓ only comment author should be able to delete comment (120ms)
**** Call ## 88 ## Duration:  79 (ERR)
      ✓ should disallow unauthenticated user (80ms)
**** Call ## 89 ## Duration:  179 (ERR)
      ✓ should disallow deleting unknown comment (179ms)

  User
    Create
**** Call ## 90 ## Duration:  169
      ✓ should create user (170ms)
**** Call ## 91 ## Duration:  107 (ERR)
      ✓ should disallow same username (108ms)
**** Call ## 92 ## Duration:  122 (ERR)
      ✓ should disallow same email (122ms)
**** Call ## 93 ## Duration:  108 (ERR)
**** Call ## 94 ## Duration:  163 (ERR)
**** Call ## 95 ## Duration:  85 (ERR)
**** Call ## 96 ## Duration:  110 (ERR)
      ✓ should enforce required fields (467ms)
    Login
**** Call ## 97 ## Duration:  187
      ✓ should login (188ms)
**** Call ## 98 ## Duration:  104 (ERR)
      ✓ should disallow unknown email (104ms)
**** Call ## 99 ## Duration:  139 (ERR)
      ✓ should disallow wrong password (139ms)
**** Call ## 100 ## Duration:  145 (ERR)
**** Call ## 101 ## Duration:  82 (ERR)
**** Call ## 102 ## Duration:  88 (ERR)
      ✓ should enforce required fields (315ms)
    Get
**** Call ## 103 ## Duration:  110
      ✓ should get current user (110ms)
**** Call ## 104 ## Duration:  130 (ERR)
**** Call ## 105 ## Duration:  78 (ERR)
**** Call ## 106 ## Duration:  81 (ERR)
**** Call ## 107 ## Duration:  83 (ERR)
      ✓ should disallow bad tokens (375ms)
    Profile
**** Call ## 108 ## Duration:  153
      ✓ should get profile (153ms)
**** Call ## 109 ## Duration:  126 (ERR)
      ✓ should disallow unknown username (127ms)
**** Call ## 110 ## Duration:  282
**** Call ## 111 ## Duration:  199
**** Call ## 112 ## Duration:  191
**** Call ## 113 ## Duration:  183
**** Call ## 114 ## Duration:  121
**** Call ## 115 ## Duration:  207
**** Call ## 116 ## Duration:  169
**** Call ## 117 ## Duration:  7941
**** Call ## 118 ## Duration:  219
**** Call ## 119 ## Duration:  180
      ✓ should follow/unfollow user (9694ms)
**** Call ## 120 ## Duration:  80 (ERR)
      ✓ should disallow following with bad token (81ms)
    Update
**** Call ## 121 ## Duration:  158
**** Call ## 122 ## Duration:  256
**** Call ## 123 ## Duration:  146
**** Call ## 124 ## Duration:  123
      ✓ should update user (683ms)
**** Call ## 125 ## Duration:  80 (ERR)
**** Call ## 126 ## Duration:  90 (ERR)
      ✓ should disallow missing token/email in update (170ms)
**** Call ## 127 ## Duration:  168
**** Call ## 128 ## Duration:  131 (ERR)
      ✓ should disallow reusing email (300ms)

  Util
    Ping
**** Call ## 129 ## Duration:  86
      ✓ should ping (87ms)


  58 passing (29s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  296
**** Call ## 1 ## Duration:  162
**** Call ## 2 ## Duration:  161
    Create
**** Call ## 3 ## Duration:  171
      ✓ should create article (172ms)
**** Call ## 4 ## Duration:  135
      ✓ should create article with tags (136ms)
**** Call ## 5 ## Duration:  86 (ERR)
      ✓ should disallow unauthenticated user (87ms)
**** Call ## 6 ## Duration:  120 (ERR)
**** Call ## 7 ## Duration:  114 (ERR)
**** Call ## 8 ## Duration:  117 (ERR)
**** Call ## 9 ## Duration:  123 (ERR)
      ✓ should enforce required fields (476ms)
    Get
**** Call ## 10 ## Duration:  171
      ✓ should get article by slug (172ms)
**** Call ## 11 ## Duration:  148
      ✓ should get article with tags by slug (148ms)
**** Call ## 12 ## Duration:  133 (ERR)
      ✓ should disallow unknown slug (134ms)
    Update
**** Call ## 13 ## Duration:  250
**** Call ## 14 ## Duration:  208
**** Call ## 15 ## Duration:  221
      ✓ should update article (682ms)
**** Call ## 16 ## Duration:  80 (ERR)
      ✓ should disallow missing mutation (81ms)
**** Call ## 17 ## Duration:  79 (ERR)
      ✓ should disallow empty mutation (79ms)
**** Call ## 18 ## Duration:  80 (ERR)
      ✓ should disallow unauthenticated update (80ms)
**** Call ## 19 ## Duration:  134 (ERR)
      ✓ should disallow updating non-existent article (134ms)
**** Call ## 20 ## Duration:  188 (ERR)
      ✓ should disallow non-author from updating (188ms)
    Favorite
**** Call ## 21 ## Duration:  185
**** Call ## 22 ## Duration:  167
      ✓ should favorite article (353ms)
**** Call ## 23 ## Duration:  84 (ERR)
      ✓ should disallow favoriting by unauthenticated user (84ms)
**** Call ## 24 ## Duration:  146 (ERR)
      ✓ should disallow favoriting unknown article (146ms)
**** Call ## 25 ## Duration:  184
      ✓ should unfavorite article (185ms)
    Delete
**** Call ## 26 ## Duration:  168
**** Call ## 27 ## Duration:  110 (ERR)
      ✓ should delete article (278ms)
**** Call ## 28 ## Duration:  85 (ERR)
      ✓ should disallow deleting by unauthenticated user (85ms)
**** Call ## 29 ## Duration:  117 (ERR)
      ✓ should disallow deleting unknown article (118ms)
**** Call ## 30 ## Duration:  128 (ERR)
      ✓ should disallow deleting article by non-author (128ms)
    List
**** Call ## 31 ## Duration:  145
**** Call ## 32 ## Duration:  170
**** Call ## 33 ## Duration:  184
**** Call ## 34 ## Duration:  135
**** Call ## 35 ## Duration:  141
**** Call ## 36 ## Duration:  128
**** Call ## 37 ## Duration:  140
**** Call ## 38 ## Duration:  144
**** Call ## 39 ## Duration:  195
**** Call ## 40 ## Duration:  188
**** Call ## 41 ## Duration:  186
**** Call ## 42 ## Duration:  456
**** Call ## 43 ## Duration:  157
**** Call ## 44 ## Duration:  135
**** Call ## 45 ## Duration:  279
**** Call ## 46 ## Duration:  166
**** Call ## 47 ## Duration:  146
**** Call ## 48 ## Duration:  149
**** Call ## 49 ## Duration:  133
**** Call ## 50 ## Duration:  183
**** Call ## 51 ## Duration:  474
      ✓ should list articles (474ms)
**** Call ## 52 ## Duration:  512
**** Call ## 53 ## Duration:  511
      ✓ should list articles with tag (1023ms)
**** Call ## 54 ## Duration:  287
      ✓ should list articles by author (287ms)
**** Call ## 55 ## Duration:  195
      ✓ should list articles favorited by user (195ms)
**** Call ## 56 ## Duration:  153
**** Call ## 57 ## Duration:  142
      ✓ should list articles by limit/offset (295ms)
**** Call ## 58 ## Duration:  549
      ✓ should list articles when authenticated (549ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  92 (ERR)
**** Call ## 60 ## Duration:  108 (ERR)
**** Call ## 59 ## Duration:  115 (ERR)
**** Call ## 62 ## Duration:  165
**** Call ## 63 ## Duration:  160
**** Call ## 64 ## Duration:  365
**** Call ## 65 ## Duration:  189
**** Call ## 66 ## Duration:  427
      ✓ should get feed (1311ms)
**** Call ## 67 ## Duration:  85 (ERR)
      ✓ should disallow unauthenticated feed (85ms)
    Tags
**** Call ## 68 ## Duration:  298
      ✓ should get tags (299ms)

  Comment
**** Call ## 69 ## Duration:  154
**** Call ## 70 ## Duration:  161
**** Call ## 71 ## Duration:  146
    Create
**** Call ## 72 ## Duration:  168
**** Call ## 73 ## Duration:  167
**** Call ## 74 ## Duration:  152
**** Call ## 75 ## Duration:  158
**** Call ## 76 ## Duration:  171
**** Call ## 77 ## Duration:  156
**** Call ## 78 ## Duration:  140
**** Call ## 79 ## Duration:  179
**** Call ## 80 ## Duration:  156
**** Call ## 81 ## Duration:  121
      ✓ should create comment (1573ms)
**** Call ## 82 ## Duration:  84 (ERR)
      ✓ should disallow unauthenticated user (84ms)
**** Call ## 83 ## Duration:  149 (ERR)
      ✓ should enforce comment body (150ms)
**** Call ## 84 ## Duration:  151 (ERR)
      ✓ should disallow non-existent article (151ms)
    Get
**** Call ## 85 ## Duration:  279
      ✓ should get all comments for article (279ms)
    Delete
**** Call ## 86 ## Duration:  188
      ✓ should delete comment (189ms)
**** Call ## 87 ## Duration:  119 (ERR)
      ✓ only comment author should be able to delete comment (120ms)
**** Call ## 88 ## Duration:  90 (ERR)
      ✓ should disallow unauthenticated user (91ms)
**** Call ## 89 ## Duration:  111 (ERR)
      ✓ should disallow deleting unknown comment (111ms)

  User
    Create
**** Call ## 90 ## Duration:  167
      ✓ should create user (167ms)
**** Call ## 91 ## Duration:  117 (ERR)
      ✓ should disallow same username (118ms)
**** Call ## 92 ## Duration:  100 (ERR)
      ✓ should disallow same email (101ms)
**** Call ## 93 ## Duration:  85 (ERR)
**** Call ## 94 ## Duration:  122 (ERR)
**** Call ## 95 ## Duration:  109 (ERR)
**** Call ## 96 ## Duration:  79 (ERR)
      ✓ should enforce required fields (396ms)
    Login
**** Call ## 97 ## Duration:  98
      ✓ should login (98ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (39ms)
**** Call ## 99 ## Duration:  138 (ERR)
      ✓ should disallow wrong password (139ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  53 (ERR)
**** Call ## 102 ## Duration:  23 (ERR)
      ✓ should enforce required fields (101ms)
    Get
**** Call ## 103 ## Duration:  41
      ✓ should get current user (41ms)
**** Call ## 104 ## Duration:  25 (ERR)
**** Call ## 105 ## Duration:  27 (ERR)
**** Call ## 106 ## Duration:  25 (ERR)
**** Call ## 107 ## Duration:  2092 (ERR)
      ✓ should disallow bad tokens (2169ms)
    Profile
**** Call ## 108 ## Duration:  66
      ✓ should get profile (66ms)
**** Call ## 109 ## Duration:  57 (ERR)
      ✓ should disallow unknown username (57ms)
**** Call ## 110 ## Duration:  137
**** Call ## 111 ## Duration:  1997
**** Call ## 112 ## Duration:  141
**** Call ## 113 ## Duration:  79
**** Call ## 114 ## Duration:  70
**** Call ## 115 ## Duration:  112
**** Call ## 116 ## Duration:  135
**** Call ## 117 ## Duration:  161
**** Call ## 118 ## Duration:  97
**** Call ## 119 ## Duration:  92
      ✓ should follow/unfollow user (3022ms)
**** Call ## 120 ## Duration:  21 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  104
**** Call ## 122 ## Duration:  64
**** Call ## 123 ## Duration:  57
**** Call ## 124 ## Duration:  50
      ✓ should update user (275ms)
**** Call ## 125 ## Duration:  58 (ERR)
**** Call ## 126 ## Duration:  37 (ERR)
      ✓ should disallow missing token/email in update (96ms)
**** Call ## 127 ## Duration:  109
**** Call ## 128 ## Duration:  52 (ERR)
      ✓ should disallow reusing email (162ms)

  Util
    Ping
**** Call ## 129 ## Duration:  30
      ✓ should ping


  58 passing (23s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  158
**** Call ## 1 ## Duration:  114
**** Call ## 2 ## Duration:  118
    Create
**** Call ## 3 ## Duration:  82
      ✓ should create article (84ms)
**** Call ## 4 ## Duration:  94
      ✓ should create article with tags (96ms)
**** Call ## 5 ## Duration:  22 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  75 (ERR)
**** Call ## 7 ## Duration:  57 (ERR)
**** Call ## 8 ## Duration:  66 (ERR)
**** Call ## 9 ## Duration:  49 (ERR)
      ✓ should enforce required fields (250ms)
    Get
**** Call ## 10 ## Duration:  80
      ✓ should get article by slug (80ms)
**** Call ## 11 ## Duration:  73
      ✓ should get article with tags by slug (73ms)
**** Call ## 12 ## Duration:  42 (ERR)
      ✓ should disallow unknown slug (43ms)
    Update
**** Call ## 13 ## Duration:  175
**** Call ## 14 ## Duration:  143
**** Call ## 15 ## Duration:  128
      ✓ should update article (448ms)
**** Call ## 16 ## Duration:  21 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  29 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  76 (ERR)
      ✓ should disallow updating non-existent article (76ms)
**** Call ## 20 ## Duration:  74 (ERR)
      ✓ should disallow non-author from updating (74ms)
    Favorite
**** Call ## 21 ## Duration:  136
**** Call ## 22 ## Duration:  145
      ✓ should favorite article (282ms)
**** Call ## 23 ## Duration:  25 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  357 (ERR)
      ✓ should disallow favoriting unknown article (357ms)
**** Call ## 25 ## Duration:  138
      ✓ should unfavorite article (138ms)
    Delete
**** Call ## 26 ## Duration:  116
**** Call ## 27 ## Duration:  172 (ERR)
      ✓ should delete article (288ms)
**** Call ## 28 ## Duration:  43 (ERR)
      ✓ should disallow deleting by unauthenticated user (43ms)
**** Call ## 29 ## Duration:  58 (ERR)
      ✓ should disallow deleting unknown article (60ms)
**** Call ## 30 ## Duration:  66 (ERR)
      ✓ should disallow deleting article by non-author (66ms)
    List
**** Call ## 31 ## Duration:  93
**** Call ## 32 ## Duration:  154
**** Call ## 33 ## Duration:  86
**** Call ## 34 ## Duration:  75
**** Call ## 35 ## Duration:  74
**** Call ## 36 ## Duration:  91
**** Call ## 37 ## Duration:  83
**** Call ## 38 ## Duration:  69
**** Call ## 39 ## Duration:  69
**** Call ## 40 ## Duration:  83
**** Call ## 41 ## Duration:  76
**** Call ## 42 ## Duration:  60
**** Call ## 43 ## Duration:  81
**** Call ## 44 ## Duration:  114
**** Call ## 45 ## Duration:  114
**** Call ## 46 ## Duration:  64
**** Call ## 47 ## Duration:  75
**** Call ## 48 ## Duration:  64
**** Call ## 49 ## Duration:  72
**** Call ## 50 ## Duration:  87
**** Call ## 51 ## Duration:  456
      ✓ should list articles (456ms)
**** Call ## 52 ## Duration:  534
**** Call ## 53 ## Duration:  302
      ✓ should list articles with tag (836ms)
**** Call ## 54 ## Duration:  233
      ✓ should list articles by author (233ms)
**** Call ## 55 ## Duration:  96
      ✓ should list articles favorited by user (96ms)
**** Call ## 56 ## Duration:  73
**** Call ## 57 ## Duration:  86
      ✓ should list articles by limit/offset (159ms)
**** Call ## 58 ## Duration:  474
      ✓ should list articles when authenticated (475ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 61 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  26 (ERR)
**** Call ## 59 ## Duration:  33 (ERR)
**** Call ## 62 ## Duration:  72
**** Call ## 63 ## Duration:  117
**** Call ## 64 ## Duration:  305
**** Call ## 65 ## Duration:  110
**** Call ## 66 ## Duration:  375
      ✓ should get feed (982ms)
**** Call ## 67 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  198
      ✓ should get tags (198ms)

  Comment
**** Call ## 69 ## Duration:  128
**** Call ## 70 ## Duration:  99
**** Call ## 71 ## Duration:  84
    Create
**** Call ## 72 ## Duration:  97
**** Call ## 73 ## Duration:  127
**** Call ## 74 ## Duration:  89
**** Call ## 75 ## Duration:  97
**** Call ## 76 ## Duration:  84
**** Call ## 77 ## Duration:  94
**** Call ## 78 ## Duration:  88
**** Call ## 79 ## Duration:  101
**** Call ## 80 ## Duration:  90
**** Call ## 81 ## Duration:  79
      ✓ should create comment (947ms)
**** Call ## 82 ## Duration:  23 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  49 (ERR)
      ✓ should enforce comment body (50ms)
**** Call ## 84 ## Duration:  71 (ERR)
      ✓ should disallow non-existent article (71ms)
    Get
**** Call ## 85 ## Duration:  220
      ✓ should get all comments for article (221ms)
    Delete
**** Call ## 86 ## Duration:  111
      ✓ should delete comment (111ms)
**** Call ## 87 ## Duration:  152 (ERR)
      ✓ only comment author should be able to delete comment (152ms)
**** Call ## 88 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  70 (ERR)
      ✓ should disallow deleting unknown comment (70ms)

  User
    Create
**** Call ## 90 ## Duration:  133
      ✓ should create user (133ms)
**** Call ## 91 ## Duration:  41 (ERR)
      ✓ should disallow same username (42ms)
**** Call ## 92 ## Duration:  63 (ERR)
      ✓ should disallow same email (64ms)
**** Call ## 93 ## Duration:  25 (ERR)
**** Call ## 94 ## Duration:  27 (ERR)
**** Call ## 95 ## Duration:  24 (ERR)
**** Call ## 96 ## Duration:  23 (ERR)
      ✓ should enforce required fields (99ms)
    Login
**** Call ## 97 ## Duration:  71
      ✓ should login (71ms)
**** Call ## 98 ## Duration:  38 (ERR)
      ✓ should disallow unknown email (38ms)
**** Call ## 99 ## Duration:  52 (ERR)
      ✓ should disallow wrong password (53ms)
**** Call ## 100 ## Duration:  25 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  22 (ERR)
      ✓ should enforce required fields (72ms)
    Get
**** Call ## 103 ## Duration:  46
      ✓ should get current user (47ms)
**** Call ## 104 ## Duration:  30 (ERR)
**** Call ## 105 ## Duration:  23 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  24 (ERR)
      ✓ should disallow bad tokens (98ms)
    Profile
**** Call ## 108 ## Duration:  72
      ✓ should get profile (72ms)
**** Call ## 109 ## Duration:  41 (ERR)
      ✓ should disallow unknown username (42ms)
**** Call ## 110 ## Duration:  91
**** Call ## 111 ## Duration:  139
**** Call ## 112 ## Duration:  107
**** Call ## 113 ## Duration:  74
**** Call ## 114 ## Duration:  57
**** Call ## 115 ## Duration:  108
**** Call ## 116 ## Duration:  107
**** Call ## 117 ## Duration:  123
**** Call ## 118 ## Duration:  117
**** Call ## 119 ## Duration:  98
      ✓ should follow/unfollow user (1025ms)
**** Call ## 120 ## Duration:  23 (ERR)
      ✓ should disallow following with bad token
    Update
**** Call ## 121 ## Duration:  84
**** Call ## 122 ## Duration:  67
**** Call ## 123 ## Duration:  53
**** Call ## 124 ## Duration:  60
      ✓ should update user (264ms)
**** Call ## 125 ## Duration:  25 (ERR)
**** Call ## 126 ## Duration:  150 (ERR)
      ✓ should disallow missing token/email in update (175ms)
**** Call ## 127 ## Duration:  90
**** Call ## 128 ## Duration:  62 (ERR)
      ✓ should disallow reusing email (152ms)

  Util
    Ping
**** Call ## 129 ## Duration:  25
      ✓ should ping


  58 passing (13s)


> realworld-dynamodb-lambda@1.0.0 test:deployed /home/ubuntu/realworld-dynamodb-lambda
> API_URL=`serverless info --verbose | grep '^ServiceEndpoint:' | grep -o 'https://.*'`; API_URL=$API_URL/api mocha



Testing API_URL: [https://mlptvb996a.execute-api.eu-west-1.amazonaws.com/dev/api]
Done!

  Article
**** Call ## 0 ## Duration:  141
**** Call ## 1 ## Duration:  1127
**** Call ## 2 ## Duration:  103
    Create
**** Call ## 3 ## Duration:  95
      ✓ should create article (97ms)
**** Call ## 4 ## Duration:  78
      ✓ should create article with tags (81ms)
**** Call ## 5 ## Duration:  28 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 6 ## Duration:  75 (ERR)
**** Call ## 7 ## Duration:  66 (ERR)
**** Call ## 8 ## Duration:  58 (ERR)
**** Call ## 9 ## Duration:  64 (ERR)
      ✓ should enforce required fields (264ms)
    Get
**** Call ## 10 ## Duration:  95
      ✓ should get article by slug (95ms)
**** Call ## 11 ## Duration:  129
      ✓ should get article with tags by slug (130ms)
**** Call ## 12 ## Duration:  45 (ERR)
      ✓ should disallow unknown slug (46ms)
    Update
**** Call ## 13 ## Duration:  155
**** Call ## 14 ## Duration:  131
**** Call ## 15 ## Duration:  133
      ✓ should update article (420ms)
**** Call ## 16 ## Duration:  24 (ERR)
      ✓ should disallow missing mutation
**** Call ## 17 ## Duration:  21 (ERR)
      ✓ should disallow empty mutation
**** Call ## 18 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated update
**** Call ## 19 ## Duration:  67 (ERR)
      ✓ should disallow updating non-existent article (67ms)
**** Call ## 20 ## Duration:  60 (ERR)
      ✓ should disallow non-author from updating (61ms)
    Favorite
**** Call ## 21 ## Duration:  117
**** Call ## 22 ## Duration:  104
      ✓ should favorite article (221ms)
**** Call ## 23 ## Duration:  28 (ERR)
      ✓ should disallow favoriting by unauthenticated user
**** Call ## 24 ## Duration:  49 (ERR)
      ✓ should disallow favoriting unknown article (50ms)
**** Call ## 25 ## Duration:  118
      ✓ should unfavorite article (118ms)
    Delete
**** Call ## 26 ## Duration:  107
**** Call ## 27 ## Duration:  43 (ERR)
      ✓ should delete article (151ms)
**** Call ## 28 ## Duration:  25 (ERR)
      ✓ should disallow deleting by unauthenticated user
**** Call ## 29 ## Duration:  63 (ERR)
      ✓ should disallow deleting unknown article (64ms)
**** Call ## 30 ## Duration:  63 (ERR)
      ✓ should disallow deleting article by non-author (63ms)
    List
**** Call ## 31 ## Duration:  75
**** Call ## 32 ## Duration:  95
**** Call ## 33 ## Duration:  88
**** Call ## 34 ## Duration:  77
**** Call ## 35 ## Duration:  85
**** Call ## 36 ## Duration:  61
**** Call ## 37 ## Duration:  86
**** Call ## 38 ## Duration:  82
**** Call ## 39 ## Duration:  82
**** Call ## 40 ## Duration:  71
**** Call ## 41 ## Duration:  87
**** Call ## 42 ## Duration:  67
**** Call ## 43 ## Duration:  71
**** Call ## 44 ## Duration:  65
**** Call ## 45 ## Duration:  103
**** Call ## 46 ## Duration:  71
**** Call ## 47 ## Duration:  54
**** Call ## 48 ## Duration:  64
**** Call ## 49 ## Duration:  62
**** Call ## 50 ## Duration:  56
**** Call ## 51 ## Duration:  374
      ✓ should list articles (375ms)
**** Call ## 52 ## Duration:  338
**** Call ## 53 ## Duration:  286
      ✓ should list articles with tag (624ms)
**** Call ## 54 ## Duration:  266
      ✓ should list articles by author (267ms)
**** Call ## 55 ## Duration:  160
      ✓ should list articles favorited by user (160ms)
**** Call ## 56 ## Duration:  85
**** Call ## 57 ## Duration:  119
      ✓ should list articles by limit/offset (205ms)
**** Call ## 58 ## Duration:  495
      ✓ should list articles when authenticated (495ms)
      ✓ should disallow multiple of author/tag/favorited
    Feed
**** Call ## 59 ## Duration:  25 (ERR)
**** Call ## 60 ## Duration:  28 (ERR)
**** Call ## 61 ## Duration:  41 (ERR)
**** Call ## 62 ## Duration:  107
**** Call ## 63 ## Duration:  117
**** Call ## 64 ## Duration:  256
**** Call ## 65 ## Duration:  109
**** Call ## 66 ## Duration:  319
      ✓ should get feed (913ms)
**** Call ## 67 ## Duration:  26 (ERR)
      ✓ should disallow unauthenticated feed
    Tags
**** Call ## 68 ## Duration:  235
      ✓ should get tags (235ms)

  Comment
**** Call ## 69 ## Duration:  106
**** Call ## 70 ## Duration:  101
**** Call ## 71 ## Duration:  76
    Create
**** Call ## 72 ## Duration:  109
**** Call ## 73 ## Duration:  102
**** Call ## 74 ## Duration:  98
**** Call ## 75 ## Duration:  95
**** Call ## 76 ## Duration:  103
**** Call ## 77 ## Duration:  98
**** Call ## 78 ## Duration:  121
**** Call ## 79 ## Duration:  92
**** Call ## 80 ## Duration:  113
**** Call ## 81 ## Duration:  102
      ✓ should create comment (1036ms)
**** Call ## 82 ## Duration:  32 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 83 ## Duration:  44 (ERR)
      ✓ should enforce comment body (46ms)
**** Call ## 84 ## Duration:  60 (ERR)
      ✓ should disallow non-existent article (60ms)
    Get
**** Call ## 85 ## Duration:  226
      ✓ should get all comments for article (227ms)
    Delete
**** Call ## 86 ## Duration:  109
      ✓ should delete comment (109ms)
**** Call ## 87 ## Duration:  68 (ERR)
      ✓ only comment author should be able to delete comment (69ms)
**** Call ## 88 ## Duration:  24 (ERR)
      ✓ should disallow unauthenticated user
**** Call ## 89 ## Duration:  57 (ERR)
      ✓ should disallow deleting unknown comment (59ms)

  User
    Create
**** Call ## 90 ## Duration:  108
      ✓ should create user (108ms)
**** Call ## 91 ## Duration:  46 (ERR)
      ✓ should disallow same username (46ms)
**** Call ## 92 ## Duration:  55 (ERR)
      ✓ should disallow same email (56ms)
**** Call ## 93 ## Duration:  25 (ERR)
**** Call ## 94 ## Duration:  27 (ERR)
**** Call ## 95 ## Duration:  23 (ERR)
**** Call ## 96 ## Duration:  28 (ERR)
      ✓ should enforce required fields (104ms)
    Login
**** Call ## 97 ## Duration:  71
      ✓ should login (71ms)
**** Call ## 98 ## Duration:  31 (ERR)
      ✓ should disallow unknown email
**** Call ## 99 ## Duration:  50 (ERR)
      ✓ should disallow wrong password (51ms)
**** Call ## 100 ## Duration:  24 (ERR)
**** Call ## 101 ## Duration:  25 (ERR)
**** Call ## 102 ## Duration:  24 (ERR)
      ✓ should enforce required fields (73ms)
    Get
**** Call ## 103 ## Duration:  51
      ✓ should get current user (52ms)
**** Call ## 104 ## Duration:  24 (ERR)
**** Call ## 105 ## Duration:  32 (ERR)
**** Call ## 106 ## Duration:  21 (ERR)
**** Call ## 107 ## Duration:  22 (ERR)
      ✓ should disallow bad tokens (99ms)
    Profile
**** Call ## 108 ## Duration:  65
      ✓ should get profile (65ms)
**** Call ## 109 ## Duration:  52 (ERR)
      ✓ should disallow unknown username (53ms)
**** Call ## 110 ## Duration:  119
**** Call ## 111 ## Duration:  116
**** Call ## 112 ## Duration:  120
**** Call ## 113 ## Duration:  140
**** Call ## 114 ## Duration:  179
**** Call ## 115 ## Duration:  167
**** Call ## 116 ## Duration:  176
**** Call ## 117 ## Duration:  241
**** Call ## 118 ## Duration:  175
**** Call ## 119 ## Duration:  173
      ✓ should follow/unfollow user (1609ms)
**** Call ## 120 ## Duration:  82 (ERR)
      ✓ should disallow following with bad token (82ms)
    Update
**** Call ## 121 ## Duration:  167
**** Call ## 122 ## Duration:  128
**** Call ## 123 ## Duration:  111
**** Call ## 124 ## Duration:  107
      ✓ should update user (514ms)
**** Call ## 125 ## Duration:  113 (ERR)
**** Call ## 126 ## Duration:  93 (ERR)
      ✓ should disallow missing token/email in update (206ms)
**** Call ## 127 ## Duration:  166
**** Call ## 128 ## Duration:  145 (ERR)
      ✓ should disallow reusing email (311ms)

  Util
    Ping
**** Call ## 129 ## Duration:  91
      ✓ should ping (92ms)


  58 passing (14s)

results20200520204243/rec-res-9-props/
Serverless: Getting all objects in S3 bucket...
Serverless: Removing objects in S3 bucket...
Serverless: Removing Stack...
Serverless: Checking Stack removal progress...
...................................................................................................................................................................................................................................................................................................................................
Serverless: Stack removal finished...
